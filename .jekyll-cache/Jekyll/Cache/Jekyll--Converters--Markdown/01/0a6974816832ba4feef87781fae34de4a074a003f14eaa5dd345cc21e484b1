I"˜<p>We (<a href="http://ropensci.org/">rOpenSci</a>) started a repo to wrap the API for <a href="http://vertnet.org/index.php">VertNet</a>, an open access online database of vertebrate specimen records across many collection holders. Find the open source code <a href="https://github.com/ropensci/rvertnet">here</a> - please contribute if you are so inclined.  We had a great Google Summer of Code student, <a href="http://vijaybarve.wordpress.com/">Vijay Barve</a> contributing to the repo this summer, so it is getting close to being CRAN-able.</p>

<p>Most of the functions in the repo get you the raw data, but there were no functions to visualize the data.  Since much of the data records of latitude and longitude data, maps are a natural visualization to use.</p>

<p>What follows is a quick example of using the basic <code class="highlighter-rouge">vertmap</code> function.</p>

<h3 id="first-lets-install-rvertnet">First, letâ€™s install <code class="highlighter-rouge">rvertnet</code></h3>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
3
</pre></td><td class="code"><pre><span class="c1"># install_github('rvertnet', 'ropensci') # uncomment if not installed</span><span class="w">
</span><span class="c1"># already</span><span class="w">
</span><span class="n">library</span><span class="p">(</span><span class="n">rvertnet</span><span class="p">)</span>
</pre></td></tr></tbody></table></code></pre></figure>

<h3 id="first-lets-get-some-data-using-vertoccurrence">First, letâ€™s get some data using <code class="highlighter-rouge">vertoccurrence</code></h3>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
2
</pre></td><td class="code"><pre><span class="n">out</span><span class="w"> </span><span class="o">&lt;-</span><span class="w"> </span><span class="n">vertoccurrence</span><span class="p">(</span><span class="n">q</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="s2">"larva"</span><span class="p">,</span><span class="w"> </span><span class="n">num</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="m">100</span><span class="p">)</span><span class="w">  </span><span class="c1"># get records on keyword 'larva', limit to 100</span><span class="w">
</span><span class="n">nrow</span><span class="p">(</span><span class="n">out</span><span class="p">)</span><span class="w">  </span><span class="c1"># how many rows?</span>
</pre></td></tr></tbody></table></code></pre></figure>

<figure class="highlight"><pre><code class="language-text" data-lang="text">[1] 100</code></pre></figure>

<h3 id="now-map-it-using-vertmap--this-is-a-very-basic-function-it-simply-cleans-up-the-input-dataframe-removing-rows-without-latlong-data-and-providing-warnings-when-the-input-dataframe-is-not-in-the-correct-format--vertmap-uses-the-ggplot2-framework-for-the-map--if-you-want-to-make-you-own-map-please-do-so----this-is-just-a-simple-fxn-to-get-you-started-if-you-want-to-take-a-quick-look-at-the-data">Now map it using <code class="highlighter-rouge">vertmap</code>.  This is a very basic function: it simply cleans up the input data.frame, removing rows without lat/long data, and providing warnings when the input data.frame is not in the correct format.  <code class="highlighter-rouge">vertmap</code> uses the <code class="highlighter-rouge">ggplot2</code> framework for the map.  If you want to make you own map please do so -  this is just a simple fxn to get you started if you want to take a quick look at the data.</h3>

<figure class="highlight"><pre><code class="language-r" data-lang="r"><table class="rouge-table"><tbody><tr><td class="gutter gl"><pre class="lineno">1
</pre></td><td class="code"><pre><span class="n">vertmap</span><span class="p">(</span><span class="n">input</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">out</span><span class="p">)</span><span class="w">  </span><span class="c1"># make a map using vertmap</span>
</pre></td></tr></tbody></table></code></pre></figure>

<p><img src="/public/img/vertmap.png" alt="center" /></p>

<hr />
<h4 id="get-the-rmd-file-used-to-create-this-post-at-my-github-account---or-md-file">Get the .Rmd file used to create this post <a href="https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-09-19-rvertnet.Rmd">at my github account</a> - or <a href="https://github.com/sckott/sckott.github.com/tree/master/_posts/2012-09-19-rvertnet.md">.md file</a>.</h4>

<h4 id="written-in-markdown-with-help-from-knitr-and-nice-knitr-highlightingetc-in-in-rstudio">Written in <a href="http://daringfireball.net/projects/markdown/">Markdown</a>, with help from <a href="http://yihui.name/knitr/">knitr</a>, and nice knitr highlighting/etc. in in <a href="http://rstudio.org/">RStudio</a>.</h4>
:ET