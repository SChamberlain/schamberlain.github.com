<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Richard Huang - Richard Huang's Website</title>
    <meta name="author" content="Richard Huang" />
    <meta name="google-site-verification" content="KDVRO6hdZ0Vww31dac2Yomyd7xjmMMFEZw2Fzq5acuY" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/screen.css">
    <link href="http://feeds.feedburner.com/richard-huang" rel="alternate" title="RSS" type="application/rss+xml" />
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="/javascripts/jquery.github_v2.js"></script>
  </head>

  <body>
    <div id="header" class="section">
      <div class="wrapper">
        <strong id="blog-title">
          <a href="/" rel="home">Richard Huang's Website</a>
        </strong>
        <p id="blog-description"></p>
        <div id="navigation">
          <ul class="nav clearfix">
            <li class="first-child"><a href="/blog.html">Blog</a></li>
            <li><a href="/projects.html">Projects</a></li>
            <li><a href="/about.html">About</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div id="main" class="section">
      <div class="wrapper">
        <div id="content">
          <!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
  <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
  <a class="addthis_button_tweet"></a>
  <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
  <a class="addthis_counter addthis_pill_style"></a>
</div>
<script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=flyerhzm"></script>
<!-- AddThis Button END -->

  <div class="full">
    <h1 class="entry-title">
      <a href="/2008/11/20/trim-method-for-javascript/" title="javascript的trim方法" rel="bookmark">javascript的trim方法</a>
    </h1>
    <div class="entry-content full-content">
      <p>javascript的String类是没有trim方法的，不过我们可以通过String的replace方法来模拟</p>

<div class="highlight"><pre><code class="javascript"><span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">trim</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^\s+/g</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">).</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\s+$/g</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">ltrim</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
   <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/^\s+/g</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">);</span>
<span class="p">}</span>
<span class="nb">String</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">rtrim</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
   <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">replace</span><span class="p">(</span><span class="sr">/\s+$/g</span><span class="p">,</span><span class="s2">&quot;&quot;</span><span class="p">);</span>
<span class="p">}</span>
</code></pre>
</div>




      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/javascript" title="javascript" rel="category tag">javascript</a>
      
    </p>
    <p class="comments-link">
      <a href='/2008/11/20/trim-method-for-javascript/#disqus_thread'>Comments</a>
    </p>
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="Thu Nov 20 00:00:00 -0800 2008">20 Nov 2008</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>

  <div class="full">
    <h1 class="entry-title">
      <a href="/2008/11/17/php-returns-n-random-non-repetition-number/" title="php返回N个不重复的随机数" rel="bookmark">php返回N个不重复的随机数</a>
    </h1>
    <div class="entry-content full-content">
      <p>应用场景：需要从数据库中随机查询多条数据，mysql反对使用order by rand()，因为效率太差。也看到通过子查询来模拟的，不过还是麻烦。最简单的方法，就是读取数据表中的max(id)，然后在程序中生成N个随机数，然后应用where id in (?)来获取数据。</p>

<p>php程序生成N个随机数的思想就是定义一个N大小的数组用来存放随机数，每次生成一个随机数都遍历一遍数组，如果已经存在就丢弃，如果不存在就插入到数组中，直到数组的随机数已满。</p>

<p>程序如下：</p>

<div class="highlight"><pre><code class="php"><span class="x">/**</span>
<span class="x"> * 获取$num个不重复的随机数数组</span>
<span class="x"> *</span>
<span class="x"> * @param $min integer 随机数的最小值</span>
<span class="x"> * @param $max integer 随机数的最大值</span>
<span class="x"> * @param $num integer 随机数的数量</span>
<span class="x"> * @return array $num个随机数</span>
<span class="x"> */</span>
<span class="x">function random_numbers($min, $max, $num) {</span>
<span class="x">    if ($num &gt; $max - $min + 1  $num  1) {</span>
<span class="x">        return null;</span>
<span class="x">    }</span>

<span class="x">    $numbers = array();</span>
<span class="x">    $numbers[] = rand($min, $max);</span>
<span class="x">    $tempnum = 1;</span>

<span class="x">    while ($tempnum  $num) {</span>
<span class="x">        $new_num = rand($min, $max);</span>
<span class="x">        $is_repeat = false;</span>
<span class="x">        foreach ($numbers as $number) {</span>
<span class="x">            if ($number == $new_num) {</span>
<span class="x">                $is_repeat = true;</span>
<span class="x">                break;</span>
<span class="x">            }</span>
<span class="x">        }</span>
<span class="x">        if (!$is_repeat) {</span>
<span class="x">            $tempnum++;</span>
<span class="x">            $numbers[] = $new_num;</span>
<span class="x">        }</span>
<span class="x">    }</span>
<span class="x">    return $numbers;</span>
<span class="x">}</span>
</code></pre>
</div>


<p>其他语言的实现方式也类似。</p>

      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/php" title="php" rel="category tag">php</a>
      
    </p>
    <p class="comments-link">
      <a href='/2008/11/17/php-returns-n-random-non-repetition-number/#disqus_thread'>Comments</a>
    </p>
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="Mon Nov 17 00:00:00 -0800 2008">17 Nov 2008</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>

  <div class="full">
    <h1 class="entry-title">
      <a href="/2008/11/13/stringbuffer-class-for-javascript/" title="javascript的StringBuffer类" rel="bookmark">javascript的StringBuffer类</a>
    </h1>
    <div class="entry-content full-content">
      <p>javacript的字符串拼接和java一样是很低效的，不同的是javascript的类库中并没有java中的StringBuffer或StringBuilder。不过我们还是可以通过数组来模拟StringBuffer类：</p>

<div class="highlight"><pre><code class="javascript"><span class="kd">function</span> <span class="nx">StringBuffer</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_objArray</span> <span class="o">=</span> <span class="p">[];</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_undoFlag</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">StringBuffer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">toString</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_objArray</span><span class="p">.</span><span class="nx">length</span><span class="o">==</span><span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">return</span> <span class="s1">&#39;&#39;</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kd">var</span> <span class="nx">str</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_objArray</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_objArray</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">clear</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_undoFlag</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="k">return</span> <span class="nx">str</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">StringBuffer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">append</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">object</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_objArray</span><span class="p">[</span><span class="k">this</span><span class="p">.</span><span class="nx">_objArray</span><span class="p">.</span><span class="nx">length</span><span class="p">]</span> <span class="o">=</span> <span class="nx">object</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_undoFlag</span> <span class="o">=</span> <span class="kc">true</span><span class="p">;</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">StringBuffer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">clear</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_objArray</span><span class="p">.</span><span class="nx">length</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_undoFlag</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">StringBuffer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">undoLastAppend</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_undoFlag</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_objArray</span><span class="p">.</span><span class="nx">length</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_objArray</span><span class="p">.</span><span class="nx">length</span> <span class="o">-</span><span class="mi">1</span><span class="p">;</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">_undoFlag</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
    <span class="p">}</span>
<span class="p">};</span>

<span class="nx">StringBuffer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">setSize</span> <span class="o">=</span> <span class="kd">function</span><span class="p">(</span><span class="nx">size</span><span class="p">)</span> <span class="p">{</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">size</span><span class="o">==</span><span class="kc">null</span> <span class="o">||</span> <span class="nx">size</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">clear</span><span class="p">();</span>
        <span class="k">return</span><span class="p">;</span>
    <span class="p">}</span>
    <span class="kd">var</span> <span class="nx">str</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">_objArray</span><span class="p">.</span><span class="nx">join</span><span class="p">(</span><span class="s1">&#39;&#39;</span><span class="p">);</span>
    <span class="k">if</span><span class="p">(</span><span class="nx">size</span>  <span class="nx">str</span><span class="p">.</span><span class="nx">length</span><span class="p">)</span> <span class="p">{</span>
        <span class="nx">str</span> <span class="o">=</span> <span class="nx">str</span><span class="p">.</span><span class="nx">substring</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="nx">size</span><span class="p">);</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">clear</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
    <span class="p">}</span> <span class="k">else</span> <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">_objArray</span><span class="p">.</span><span class="nx">length</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">)</span> <span class="p">{</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">clear</span><span class="p">();</span>
        <span class="k">this</span><span class="p">.</span><span class="nx">append</span><span class="p">(</span><span class="nx">str</span><span class="p">);</span>
    <span class="p">}</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">_undoFlag</span> <span class="o">=</span> <span class="kc">false</span><span class="p">;</span>
<span class="p">};</span>

<span class="nx">StringBuffer</span><span class="p">.</span><span class="nx">prototype</span><span class="p">.</span><span class="nx">getSize</span> <span class="o">=</span> <span class="kd">function</span><span class="p">()</span> <span class="p">{</span>
    <span class="kd">var</span> <span class="nx">str</span> <span class="o">=</span> <span class="k">this</span><span class="p">.</span><span class="nx">toString</span><span class="p">();</span>
    <span class="k">return</span> <span class="nx">str</span><span class="p">.</span><span class="nx">length</span><span class="p">;</span>
<span class="p">};</span>
</code></pre>
</div>


<p>用法也和java中的StringBuffer一样，很不错吧<sup>_^</sup></p>

      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/javascript" title="javascript" rel="category tag">javascript</a>
      
    </p>
    <p class="comments-link">
      <a href='/2008/11/13/stringbuffer-class-for-javascript/#disqus_thread'>Comments</a>
    </p>
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="Thu Nov 13 00:00:00 -0800 2008">13 Nov 2008</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>

  <div class="full">
    <h1 class="entry-title">
      <a href="/2008/08/31/the-first-10-km-running/" title="人生第一个10公里" rel="bookmark">人生第一个10公里</a>
    </h1>
    <div class="entry-content full-content">
      <p>上在世纪公园参加了Nike举办的10公里健身跑，1小时1分钟，创下了个人最好成绩（呵呵，第一次跑），挺有成就感的！</p>

<p>据说全世界有数百万人一起跑这10公里，不过时间倒是改了又改，从下午的6点集合，到4点半集合，再到最后的早上6点半，这个有点不爽。早上5点15就已经起床了，赶早上的二号线去世纪公园，路上看到越来越多的活动参加者穿着统一服装进入车厢，等到了目的地，已是茫茫多的人了。</p>

<p>首先是去领了一个Nike健身背囊，把随身的东西都塞进去了，然后就跟着大部队去起跑区等待。开跑之前被一场突如其来的阵雨浇得浑身湿透，还好背囊是防水的，不过还是把手机关掉了。周围的人大多很兴奋，丝毫没有受到这场雨的影响，还在队伍中看到一些老爷爷老太太呢。</p>

<p>7点30正式开始，慢慢开始走向起跑线，等到踩上起跑线上的计时地毯时，就开始大踏步地向前跑起来了。第一次参加这样的活动，跑起来还是有点紧，可能和平时跑惯了塑胶跑道，跑马路不习惯的关系吧。一路上雨下下停停，感觉还是比较凉爽的。一开始是绕着世纪公园的外面跑一圈，超过不少人，也被不少人超过，马路边上时不时会有饮料区，拿起一杯佳得乐，喝上一两口，然后扔掉。全身完全湿透，混杂着雨水、汗水还有饮料水，呵呵。</p>

<p>前五公里还是比较轻松，跑得比较快的，两个腿稍微有点酸，不过没什么问题，后五公里进入世纪公园内跑一圈，就有点累了，两腿慢慢感觉有点沉，速度也有点下降了。还被忽悠了一下，一个工作人员在我们刚进世纪公园，喊了一句&ldquo;还有两公里，加油&rdquo;，一阵兴奋，感觉就快到了，结果跑了没多久发现了跑过7公里的指示牌，那个郁闷啊。</p>

<p>路上还看到不少牛人，7公里的地方，一位高举&ldquo;饮水思源&rdquo;大旗的男生从我身边飞似地跑过去了，看到交大的人很亲切，想跟着他跑，不过这仁兄实在太快；8公里处有位老爷爷开始喊&ldquo;121&rdquo;的口号，真是佩服佩服。路上一直和几位老爷爷跑在一起，好几次看到他们从我身边超越，却没发现我是什么时候超越他们的，不过他们在终点的时候还是跑在了我的前面。听说头几名的专业选手半个多小时就跑完了呢，厉害啊。</p>

<p>一路上始终没有停下来，一路跑着，虽然有段时间两腿很沉很沉，不过还是坚持下来了，冲过终点线的时候，看着计时牌显示1小时5分钟，很兴奋，比想象中跑得要快，虽然也比想象中要累一点。走了一段路之后，去领取了一件完赛的Nike T-shirt，嘴里咸咸的，赶紧拿起一瓶佳得乐狂喝。</p>

<p>跑完在雨中漫步，感觉很舒畅，很爽。</p>

      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/Life" title="Life" rel="category tag">Life</a>
      
    </p>
    <p class="comments-link">
      <a href='/2008/08/31/the-first-10-km-running/#disqus_thread'>Comments</a>
    </p>
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="Sun Aug 31 00:00:00 -0700 2008">31 Aug 2008</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>

  <div class="full">
    <h1 class="entry-title">
      <a href="/2008/08/21/truncate-string-with-css/" title="用css截取字符串" rel="bookmark">用css截取字符串</a>
    </h1>
    <div class="entry-content full-content">
      <p>一般网页上显示字符串有两种方式，一是通过程序语言，如php, java来截取，二是通过css来截取。前者的缺点是页面上字符缺失，不利于SEO，而且遇到中英文混合时，往往造成截取长度不同；css的缺点是有可能在页面上看到截取一半的字。不过总体还是css的优点占优。</p>

<p>下面是css截取字符串的代码：</p>

<div class="highlight"><pre><code class="css"><span class="nt">div</span> <span class="p">{</span>
  <span class="k">width</span><span class="o">:</span><span class="m">300px</span><span class="p">;</span>
  <span class="k">white-space</span><span class="o">:</span><span class="k">nowrap</span><span class="p">;</span>
  <span class="k">overflow</span><span class="o">:</span><span class="k">hidden</span><span class="p">;</span>
  <span class="k">float</span><span class="o">:</span><span class="k">left</span><span class="p">;</span>
  <span class="o">-</span><span class="err">o</span><span class="o">-</span><span class="k">text</span><span class="o">-</span><span class="k">overflow</span><span class="o">:</span><span class="k">clip</span><span class="p">;</span>     <span class="c">/* for Opera */</span>
  <span class="k">text</span><span class="o">-</span><span class="k">overflow</span><span class="o">:</span><span class="k">clip</span><span class="p">;</span>        <span class="c">/* for IE */</span>
<span class="p">}</span>
</code></pre>
</div>


<p>如果你想在截取字符串之后加上...可以用以下的代码：</p>

<div class="highlight"><pre><code class="css"><span class="nt">div</span> <span class="p">{</span>
  <span class="k">width</span><span class="o">:</span><span class="m">300px</span><span class="p">;</span>
  <span class="k">white-space</span><span class="o">:</span><span class="k">nowrap</span><span class="p">;</span>
  <span class="k">overflow</span><span class="o">:</span><span class="k">hidden</span><span class="p">;</span>
  <span class="k">float</span><span class="o">:</span><span class="k">left</span><span class="p">;</span>
  <span class="o">-</span><span class="err">o</span><span class="o">-</span><span class="k">text</span><span class="o">-</span><span class="k">overflow</span><span class="o">:</span><span class="n">ellipsis</span><span class="p">;</span>     <span class="c">/* for Opera */</span>
  <span class="k">text</span><span class="o">-</span><span class="k">overflow</span><span class="o">:</span><span class="n">ellipsis</span><span class="p">;</span>        <span class="c">/* for IE */</span>
<span class="p">}</span>
<span class="nt">div</span><span class="nd">:after</span> <span class="p">{</span>
  <span class="k">content</span><span class="o">:</span><span class="s2">&quot;...&quot;</span><span class="p">;</span>   <span class="c">/* for Firefox */</span>
<span class="p">}</span>
</code></pre>
</div>




      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/css" title="css" rel="category tag">css</a>
      
    </p>
    <p class="comments-link">
      <a href='/2008/08/21/truncate-string-with-css/#disqus_thread'>Comments</a>
    </p>
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="Thu Aug 21 00:00:00 -0700 2008">21 Aug 2008</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>


<div class="pagination">
  <span class="previous">
    
      
      <a href="/page25/" title="Previous Page">&laquo; Previous</a>
      
    
  </span>
  <span class="next">
    
    <a href="/page27/" title="Next Page">Next &raquo;</a>
    
  </span>
</div>
<script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=flyerhzm"></script>

        </div>
        <div id="sidebar">
          <div id="carrington-subscribe" class="widget">
            <h2 class="widget-title">Subscribe</h2>
            <a class="feed alignright" title="RSS 2.0 feed for posts" rel="alternate" href="http://feeds.feedburner.com/richard-huang">
              <img src="/images/rss-button.gif" alt="latest posts" title="latest posts">
            </a>
          </div>
          <div id="carrington-about" class="widget">
            <div class="about">
              <h2 class="widget-title">About</h2>
              <p>My name is Richard Huang, a Rubyist and open source advocate.</p>
              <a class="more" href="/about.html">more →</a>
            </div>
          </div>
          <div id="carrington-speaker" class="widget">
            <img src="/images/160x160speaker.png">
          </div>
          <div id="primary-sidebar">
            <div class="widget">
              <h2 class="widget-title">Categories</h2>
              <ul>
                
                <li><a href="/categories/jekyll">jekyll (1)</a></li>
                
                <li><a href="/categories/mongodb">mongodb (2)</a></li>
                
                <li><a href="/categories/GAE">GAE (1)</a></li>
                
                <li><a href="/categories/Linux">Linux (4)</a></li>
                
                <li><a href="/categories/html">html (2)</a></li>
                
                <li><a href="/categories/Java Web">Java Web (3)</a></li>
                
                <li><a href="/categories/Resque">Resque (1)</a></li>
                
                <li><a href="/categories/Rack">Rack (1)</a></li>
                
                <li><a href="/categories/RubyGems">RubyGems (7)</a></li>
                
                <li><a href="/categories/rake">rake (1)</a></li>
                
                <li><a href="/categories/php">php (2)</a></li>
                
                <li><a href="/categories/disqus">disqus (1)</a></li>
                
                <li><a href="/categories/Less">Less (1)</a></li>
                
                <li><a href="/categories/ActiveRecord">ActiveRecord (5)</a></li>
                
                <li><a href="/categories/Rails">Rails (35)</a></li>
                
                <li><a href="/categories/css">css (9)</a></li>
                
                <li><a href="/categories/sql">sql (1)</a></li>
                
                <li><a href="/categories/maven">maven (1)</a></li>
                
                <li><a href="/categories/Vim">Vim (1)</a></li>
                
                <li><a href="/categories/Ruby">Ruby (33)</a></li>
                
                <li><a href="/categories/Presentation">Presentation (7)</a></li>
                
                <li><a href="/categories/contact-list">contact-list (6)</a></li>
                
                <li><a href="/categories/Java">Java (9)</a></li>
                
                <li><a href="/categories/Github">Github (1)</a></li>
                
                <li><a href="/categories/flex">flex (4)</a></li>
                
                <li><a href="/categories/Rails Plugins">Rails Plugins (12)</a></li>
                
                <li><a href="/categories/passenger">passenger (1)</a></li>
                
                <li><a href="/categories/Sinatra">Sinatra (1)</a></li>
                
                <li><a href="/categories/Nginx">Nginx (2)</a></li>
                
                <li><a href="/categories/Facebook">Facebook (2)</a></li>
                
                <li><a href="/categories/Android">Android (2)</a></li>
                
                <li><a href="/categories/Rspec">Rspec (3)</a></li>
                
                <li><a href="/categories/javascript">javascript (4)</a></li>
                
                <li><a href="/categories/Life">Life (19)</a></li>
                
                <li><a href="/categories/git">git (1)</a></li>
                
                <li><a href="/categories/Seo">Seo (1)</a></li>
                
                <li><a href="/categories/Git">Git (4)</a></li>
                
                <li><a href="/categories/Ldap">Ldap (1)</a></li>
                
                <li><a href="/categories/mongoid">mongoid (7)</a></li>
                
                <li><a href="/categories/webrick">webrick (3)</a></li>
                
                <li><a href="/categories/msn">msn (1)</a></li>
                
                <li><a href="/categories/Capistrano">Capistrano (3)</a></li>
                
                <li><a href="/categories/redis">redis (1)</a></li>
                
                <li><a href="/categories/uml">uml (1)</a></li>
                
                <li><a href="/categories/Hostmonster">Hostmonster (5)</a></li>
                
                <li><a href="/categories/jquery">jquery (1)</a></li>
                
                <li><a href="/categories/Twitter">Twitter (2)</a></li>
                
                <li><a href="/categories/HTTP">HTTP (4)</a></li>
                
              </ul>
            </div>
          </div>
          <div id="secondary-sidebar">
            <div class="widget">
              <h2 class="widget-title">Recent Posts</h2>
              <ul>
                
                <li>
                  <a href="/2011/12/13/rake-arguments/" title="rake arguments" rel="bookmark">rake arguments</a>
                </li>
                
                <li>
                  <a href="/2011/12/12/passenger-with-redis/" title="passenger with redis" rel="bookmark">passenger with redis</a>
                </li>
                
                <li>
                  <a href="/2011/11/14/avoid-committing-git-conflicts/" title="avoid committing git conflicts" rel="bookmark">avoid committing git conflicts</a>
                </li>
                
                <li>
                  <a href="/2011/11/06/after_commit/" title="after_commit" rel="bookmark">after_commit</a>
                </li>
                
                <li>
                  <a href="/2011/10/31/reset_counter-in-rails/" title="reset_counter in rails" rel="bookmark">reset_counter in rails</a>
                </li>
                
                <li>
                  <a href="/2011/10/21/rspec-filter/" title="use rspec filter to speed up tests" rel="bookmark">use rspec filter to speed up tests</a>
                </li>
                
                <li>
                  <a href="/2011/07/17/rubykaigi-presentation/" title="rubykaigi presentation" rel="bookmark">rubykaigi presentation</a>
                </li>
                
                <li>
                  <a href="/2011/03/27/beijing-ruby-event/" title="beijing ruby线下活动" rel="bookmark">beijing ruby线下活动</a>
                </li>
                
                <li>
                  <a href="/2011/03/22/upgrade-mongoid-multiple-database/" title="Upgrade Mongoid - Multiple databases" rel="bookmark">Upgrade Mongoid - Multiple databases</a>
                </li>
                
                <li>
                  <a href="/2011/03/21/upgrade-mongoid-update_attribute/" title="Upgrade Mongoid - update_attribute" rel="bookmark">Upgrade Mongoid - update_attribute</a>
                </li>
                
              </ul>
              <div class="clear"></div>
            </div>
            <div class="widget">
              <h2 class="widget-title">Archives</h2>
              <ul>
                
                <li>
                  <a href="/2011/12">December 2011</a> (2 posts)
                </li>
                
                <li>
                  <a href="/2011/11">November 2011</a> (2 posts)
                </li>
                
                <li>
                  <a href="/2011/10">October 2011</a> (2 posts)
                </li>
                
                <li>
                  <a href="/2011/07">July 2011</a> (1 posts)
                </li>
                
                <li>
                  <a href="/2011/03">March 2011</a> (5 posts)
                </li>
                
                <li>
                  <a href="/2011/01">January 2011</a> (6 posts)
                </li>
                
                <li>
                  <a href="/2010/12">December 2010</a> (1 posts)
                </li>
                
                <li>
                  <a href="/2010/08">August 2010</a> (1 posts)
                </li>
                
                <li>
                  <a href="/2010/07">July 2010</a> (1 posts)
                </li>
                
                <li>
                  <a href="/2010/06">June 2010</a> (4 posts)
                </li>
                
                <li>
                  <a href="/2010/05">May 2010</a> (4 posts)
                </li>
                
                <li>
                  <a href="/2010/04">April 2010</a> (4 posts)
                </li>
                
                <li>
                  <a href="/2010/03">March 2010</a> (6 posts)
                </li>
                
                <li>
                  <a href="/2010/02">February 2010</a> (4 posts)
                </li>
                
                <li>
                  <a href="/2010/01">January 2010</a> (5 posts)
                </li>
                
                <li>
                  <a href="/2009/12">December 2009</a> (7 posts)
                </li>
                
                <li>
                  <a href="/2009/11">November 2009</a> (5 posts)
                </li>
                
                <li>
                  <a href="/2009/10">October 2009</a> (4 posts)
                </li>
                
                <li>
                  <a href="/2009/09">September 2009</a> (11 posts)
                </li>
                
                <li>
                  <a href="/2009/08">August 2009</a> (13 posts)
                </li>
                
                <li>
                  <a href="/2009/07">July 2009</a> (8 posts)
                </li>
                
                <li>
                  <a href="/2009/06">June 2009</a> (9 posts)
                </li>
                
                <li>
                  <a href="/2009/05">May 2009</a> (7 posts)
                </li>
                
                <li>
                  <a href="/2009/04">April 2009</a> (7 posts)
                </li>
                
                <li>
                  <a href="/2009/01">January 2009</a> (2 posts)
                </li>
                
                <li>
                  <a href="/2008/12">December 2008</a> (3 posts)
                </li>
                
                <li>
                  <a href="/2008/11">November 2008</a> (4 posts)
                </li>
                
                <li>
                  <a href="/2008/08">August 2008</a> (5 posts)
                </li>
                
                <li>
                  <a href="/2008/07">July 2008</a> (1 posts)
                </li>
                
                <li>
                  <a href="/2008/06">June 2008</a> (1 posts)
                </li>
                
                <li>
                  <a href="/2008/04">April 2008</a> (1 posts)
                </li>
                
                <li>
                  <a href="/2008/03">March 2008</a> (6 posts)
                </li>
                
                <li>
                  <a href="/2008/02">February 2008</a> (2 posts)
                </li>
                
              </ul>
              <div class="clear"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="footer" class="section">
      <div class="wrapper">
        <a id="generator-link">
          Proudly powered by
          <a href="https://github.com/mojombo/jekyll" rel="generator">Jekyll</a>
          and
          <a href="http://carringtontheme.com" title="Carrington theme for WordPress">Carrington</a>
      </div>
      <div id="developer-link">
      </div>
    </div>
    <a href="http://github.com/flyerhzm"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://assets2.github.com/img/e6bef7a091f5f3138b8cd40bc3e114258dd68ddf?repo=&url=http%3A%2F%2Fs3.amazonaws.com%2Fgithub%2Fribbons%2Fforkme_right_red_aa0000.png&path=" alt="Fork me on GitHub"></a>
    <script type="text/javascript">
      var disqus_shortname = 'richard-huang';

      (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
      }());
    </script>
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      try {
        var pageTracker = _gat._getTracker("UA-8561975-1");
        pageTracker._trackPageview();
      } catch(err) {}
    </script>
  </body>
</html>
