<!DOCTYPE html>

<html>
  <head>

    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">

    <title>Recology: An exploration of using R for ecology, evolution, and open science.</title>

    <script type="text/javascript" src="http://use.typekit.com/jjw2jrj.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

    <link type="text/css" rel="stylesheet" href="/stylesheets/reset.css">
    <link type="text/css" rel="stylesheet" href="/stylesheets/screen.css">
    <link type="text/css" rel="stylesheet" href="/stylesheets/code.css">
    <link rel="alternate" type="application/atom+xml"
      title="User Obsessed Feed" href="http://feeds.feedburner.com/userobsessed" />

    <link rel="apple-touch-icon" href="/images/iOS-114.png" />
    <link rel="apple-touch-icon-precomposed" href="/images/iOS-57.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" media="screen and (resolution: 132dpi)" href="/images/iOS-72.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" media="screen and (resolution: 326dpi)" href="/images/iOS-114.png" />

    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" />



  </head>
  <body class="default">

    <section id="main">

      <section id="masthead" class="group">
        <header class="group">
          <p><a href="/">Recology</a></p>
          <h1>An exploration of using R for ecology, evolution, and open science.</h1>
          <img src="/images/uo-logo.png">
        </header>
      </section>

      <section id="focus" class="group">

        <section id="content" class="group">
          <section id="posts">
  <ol>
    
    <li>
      <article class="instapaper_body">
  <header>
    <h2 class="instapaper_title"><a href="/2011/10/13/phylogenetic-community-structure-pglmms/">Phylogenetic community structure: PGLMMs</a></h2>
  </header>
  
    So, <a href="http://r-ecology.blogspot.com/2011/01/new-approach-to-analysis-of.html">I've blogged about this topic before</a>, way back on 5 Jan this year.<br /><br />Matt Helmus, a postdoc in the <a href="http://woottonlab.uchicago.edu/">Wootton lab at the University of Chicago</a>, published a paper with Anthony Ives in Ecological Monographs this year (<a href="http://www.esajournals.org/doi/abs/10.1890/10-1264.1">abstract here</a>). &nbsp;The paper addressed a new statistical approach to phylogenetic community structure. <br /><br />As I said in the original post, part of the power of the PGLMM (phylogenetic generalized linear mixed models) approach is that you don't have to conduct quite so many separate statistical tests as with the previous null model/randomization approach. <br /><br />Their original code was written in Matlab. &nbsp;Here I provide the R code that Matt has so graciously shared with me. &nbsp;There are four functions and a fifth file has an example use case. &nbsp;The example and output are shown below. <br /><br />Look for the inclusion of Matt's PGLMM to the picante R package in the future.<br /><br /><u>Here are links to the files as GitHub gists:&nbsp;</u><br />PGLMM.data.R: &nbsp;<a href="https://gist.github.com/1278205">https://gist.github.com/1278205</a><br />PGLMM.fit.R: &nbsp;<a href="https://gist.github.com/1284284">https://gist.github.com/1284284</a><br />PGLMM.reml.R: &nbsp;<a href="https://gist.github.com/1284287">https://gist.github.com/1284287</a><br />PGLMM.sim.R: &nbsp;<a href="https://gist.github.com/1284288">https://gist.github.com/1284288</a><br />PGLMM_example.R: &nbsp;<a href="https://gist.github.com/1284442">https://gist.github.com/1284442</a><br /><br />Enjoy!<br /><br /><br /><b><u>The example</u></b><br /><script src="https://gist.github.com/1284477.js?file=PGLMM_exampleoutput.R"></script><br /><br /><br />..and the figures...<br /><div class="separator" style="clear: both; text-align: center;"><a href="http://3.bp.blogspot.com/-ODHXaozYSFY/Tpb9qSXbbHI/AAAAAAAAFDg/hLHlGDiYRSw/s1600/plot1.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="315" src="http://3.bp.blogspot.com/-ODHXaozYSFY/Tpb9qSXbbHI/AAAAAAAAFDg/hLHlGDiYRSw/s320/plot1.png" width="320" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://2.bp.blogspot.com/-tQYXCZWIMYs/Tpb9q5zF4EI/AAAAAAAAFDo/_iOxMYf5DsI/s1600/plot2.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="307" src="http://2.bp.blogspot.com/-tQYXCZWIMYs/Tpb9q5zF4EI/AAAAAAAAFDo/_iOxMYf5DsI/s320/plot2.png" width="320" /></a></div><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/-fowoTDI0chc/Tpb9rMAlswI/AAAAAAAAFDw/7pvqZ-jpECk/s1600/plot3.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="320" src="http://1.bp.blogspot.com/-fowoTDI0chc/Tpb9rMAlswI/AAAAAAAAFDw/7pvqZ-jpECk/s320/plot3.png" width="316" /></a></div><br />

  
  <footer class="group">
    <p>
      
      
      
        
      
      <time pubdate datetime="2011-10-13T12:00:00-07:00">Thursday, October 13</time>
      
      <a class="icon" href="http://www.instapaper.com/hello2?u=http%3A%2F%2Fschamberlain.github.com%2F%2F2011%2F10%2F13%2Fphylogenetic-community-structure-pglmms%2F&amp;title=Phylogenetic%20community%20structure%3A%20PGLMMs" rel="alternate" title="Save to Instapaper">Read Later</a>
      
    </p>
  </footer>
</article>


    </li>
    
    <li>
      <article class="instapaper_body">
  <header>
    <h2 class="instapaper_title"><a href="/2011/10/06/r-talk-on-regular-expressions-regex-/">R talk on regular expressions (regex)</a></h2>
  </header>
  
    Regular expressions are a powerful in any language to manipulate, search, etc. data. <br /><br />For example:<br /><br /><div style="overflow: auto;"><div class="geshifilter"><pre class="r geshifilter-R" style="font-family: monospace;">&gt; fruit &lt;- <a href="http://inside-r.org/r-doc/base/c"><span style="color: #003399; font-weight: bold;">c</span></a><span style="color: #009900;">(</span><span style="color: blue;">"apple"</span><span style="color: #339933;">,</span> <span style="color: blue;">"banana"</span><span style="color: #339933;">,</span> <span style="color: blue;">"pear"</span><span style="color: #339933;">,</span> <span style="color: blue;">"pineapple"</span><span style="color: #009900;">)</span><br />&gt; fruit<br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: blue;">"apple"</span>     <span style="color: blue;">"banana"</span>    <span style="color: blue;">"pear"</span>      <span style="color: blue;">"pineapple"</span></pre><pre class="r geshifilter-R" style="font-family: monospace;">&gt; <a href="http://inside-r.org/r-doc/base/grep"><span style="color: #003399; font-weight: bold;">grep</span></a><span style="color: #009900;">(</span><span style="color: blue;">"a"</span><span style="color: #339933;">,</span> fruit<span style="color: #009900;">) # there is an "a" in each of the words</span><br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: #cc66cc;">1</span> <span style="color: #cc66cc;">2</span> <span style="color: #cc66cc;">3</span> <span style="color: #cc66cc;">4</span><br />&gt; <br />&gt; <a href="http://inside-r.org/r-doc/base/strsplit"><span style="color: #003399; font-weight: bold;">strsplit</span></a><span style="color: #009900;">(</span><span style="color: blue;">"a string"</span><span style="color: #339933;">,</span> <span style="color: blue;">"s"</span><span style="color: #009900;">) # strsplit splits the string on the "s"</span><br /><span style="color: #009900;">[</span><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span><span style="color: #009900;">]</span><br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: blue;">"a "</span>    <span style="color: blue;">"tring"</span></pre></div></div><br /><br />R base has many functions for regular expressions, see slide 9 of Ed's talk below. &nbsp;The package <a href="http://cran.r-project.org/web/packages/stringr/index.html">stringr</a>, created by Hadley Wickham, is a nice alternative that wraps the base regex functions for easier use. I highly recommend stringr.<br /><br /><br />Ed Goodwin, the coordinator of the <a href="http://www.meetup.com/houstonr/">Houston R Users group</a>, gave a presentation to the group last night on regular expressions in R. It was a great talk, and he is allowing me to post his talk here.<br /><br />Enjoy! &nbsp;And thanks for sharing Ed!<br /><br /><br /><br /><div id="__ss_9576621" style="width: 425px;"><strong style="display: block; margin: 12px 0 4px;"><a href="http://www.slideshare.net/schamber/regexpresentationedgoodwin" title="regex-presentation_ed_goodwin">regex-presentation_ed_goodwin</a></strong><object height="355" id="__sse9576621" width="425"><param name="movie" value="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=eag-201110-hrugregexpresentation-111006104128-phpapp02&stripped_title=regexpresentationedgoodwin&userName=schamber" /><param name="allowFullScreen" value="true"/><param name="allowScriptAccess" value="always"/><embed name="__sse9576621" src="http://static.slidesharecdn.com/swf/ssplayer2.swf?doc=eag-201110-hrugregexpresentation-111006104128-phpapp02&stripped_title=regexpresentationedgoodwin&userName=schamber" type="application/x-shockwave-flash" allowscriptaccess="always" allowfullscreen="true" width="425" height="355"></embed></object><br /><div style="padding: 5px 0 12px;">View more <a href="http://www.slideshare.net/">presentations</a> from <a href="http://www.slideshare.net/schamber">schamber</a>.</div></div>

  
  <footer class="group">
    <p>
      
      
      
        
      
      <time pubdate datetime="2011-10-06T12:00:00-07:00">Thursday, October  6</time>
      
      <a class="icon" href="http://www.instapaper.com/hello2?u=http%3A%2F%2Fschamberlain.github.com%2F%2F2011%2F10%2F06%2Fr-talk-on-regular-expressions-regex-%2F&amp;title=R%20talk%20on%20regular%20expressions%20(regex)" rel="alternate" title="Save to Instapaper">Read Later</a>
      
    </p>
  </footer>
</article>


    </li>
    
    <li>
      <article class="instapaper_body">
  <header>
    <h2 class="instapaper_title"><a href="/2011/09/30/r-tutorial-on-visualizations-graphics/">R tutorial on visualizations/graphics</a></h2>
  </header>
  
    Rolf Lohaus, a Huxley postdoctoral fellow here in the EEB dept at Rice University, gave our R course a talk on basic visualizations in R this morning.<br /><br />Enjoy!<br /><br /><br /><script src="https://gist.github.com/1254174.js?file=visualizations_tutorial.R"></script>

  
  <footer class="group">
    <p>
      
      
      
        
      
      <time pubdate datetime="2011-09-30T12:00:00-07:00">Friday, September 30</time>
      
      <a class="icon" href="http://www.instapaper.com/hello2?u=http%3A%2F%2Fschamberlain.github.com%2F%2F2011%2F09%2F30%2Fr-tutorial-on-visualizations-graphics%2F&amp;title=R%20tutorial%20on%20visualizations%2Fgraphics" rel="alternate" title="Save to Instapaper">Read Later</a>
      
    </p>
  </footer>
</article>


    </li>
    
  </ol>

  
  <nav id="pagination">
    <ol>
      
        
      
      
      <li>
        <a href="/pagelayoutdefaulturl/page6/index.htmlcontent<section id="posts">
  <ol>
    {% for post in paginator.posts %}
    <li>
      {% include post.html %}
    </li>
    {% endfor %}
  </ol>

  {% if paginator.total_pages > 1 %}
  <nav id="pagination">
    <ol>
      {% if paginator.previous_page > 1 %}
        {% capture page_url %}page{{ page }}{% endcapture%}
      {% endif %}
      {% if paginator.previous_page %}
      <li>
        <a href="/{{ page_url }}" title="Go to previous page">
          &laquo;
        </a>
      </li>
      {% endif %}
      <li>
      {% for page in (1..paginator.total_pages) %}
      <li>
        {% if page > 1 %}
          {% capture page_url %}page{{ page }}{% endcapture%}
        {% endif %}
        {% if page == paginator.page %}
          {{ page }}
        {% else %}
          <a href="/{{ page_url }}">{{ page }}</a>
        {% endif %}
      </li>
      {% endfor %}
      {% if paginator.next_page %}
      <li>
        <a href="/page{{ paginator.next_page }}" title="Go to next page">
          &raquo;
        </a>
      </li>
      {% endif %}
    </ol>
  </nav>
  {% endif %}
</section>
" title="Go to previous page">
          &laquo;
        </a>
      </li>
      
      <li>
      
      <li>
        
        
          <a href="/pagelayoutdefaulturl/page6/index.htmlcontent<section id="posts">
  <ol>
    {% for post in paginator.posts %}
    <li>
      {% include post.html %}
    </li>
    {% endfor %}
  </ol>

  {% if paginator.total_pages > 1 %}
  <nav id="pagination">
    <ol>
      {% if paginator.previous_page > 1 %}
        {% capture page_url %}page{{ page }}{% endcapture%}
      {% endif %}
      {% if paginator.previous_page %}
      <li>
        <a href="/{{ page_url }}" title="Go to previous page">
          &laquo;
        </a>
      </li>
      {% endif %}
      <li>
      {% for page in (1..paginator.total_pages) %}
      <li>
        {% if page > 1 %}
          {% capture page_url %}page{{ page }}{% endcapture%}
        {% endif %}
        {% if page == paginator.page %}
          {{ page }}
        {% else %}
          <a href="/{{ page_url }}">{{ page }}</a>
        {% endif %}
      </li>
      {% endfor %}
      {% if paginator.next_page %}
      <li>
        <a href="/page{{ paginator.next_page }}" title="Go to next page">
          &raquo;
        </a>
      </li>
      {% endif %}
    </ol>
  </nav>
  {% endif %}
</section>
">1</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page2">2</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page3">3</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page4">4</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page5">5</a>
        
      </li>
      
      <li>
        
          
        
        
          6
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page7">7</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page8">8</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page9">9</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page10">10</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page11">11</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page12">12</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page13">13</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page14">14</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page15">15</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page16">16</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page17">17</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page18">18</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page19">19</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page20">20</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page21">21</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page22">22</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page23">23</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page24">24</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page25">25</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page26">26</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page27">27</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page28">28</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page29">29</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page30">30</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page31">31</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page32">32</a>
        
      </li>
      
      
      <li>
        <a href="/page7" title="Go to next page">
          &raquo;
        </a>
      </li>
      
    </ol>
  </nav>
  
</section>

        </section>

        <section id="sidebar">

          <section id="meta-col1" class="meta group">
            <aside id="about">
              <header>
                <h3>About</h3>
              </header>
              <p>
                Recology is a blog that explores using R for ecology, evolution, and open science. <a href="/about">See more.</a>
              </p>
            </aside>

            <aside>
              <header>
                <h3>Stay up to date</h3>
              </header>
              <nav>
                <ul>
                  <li class="icon rss"><a href="http://feeds.feedburner.com/XX">RSS</a></li>
                  <li class="icon twitter"><a href="http://twitter.com/recology_">Twitter</a></li>
                  <li class="icon"><a href="/subscribe">More</a></li>
                </ul>
              </nav>
            </aside>

          </section>

          <section id="meta-col2" class="meta group">

            <aside id="bio">
              <header>
                <h3>The Author</h3>
              </header>
              <p>
              My name is Scott Chamberlain. I am a graduate student in ecology and evolution at <a href="http://www.rice.edu/">Rice University</a>, in the <a href="http://eeb.rice.edu/">EEB department</a>. 
              </p>
            </aside>

            <aside>
              <nav id="extra">
                <ul>
                  <li><a href="/colophon">Colophon</a></li>
                  <li><a href="/contact">Contact</a></li>
                </ul>
              </nav>
            </aside>

          </section>

        </section>

      </section>

      <section id="footer" class="group">
        <footer class="group">
          <nav id="site">
            <ul>
              <li><a href="/">Home</a></li>
              <li><a href="/about">About</a></li>
              <li><a href="/research">Research</a></li>
              <li><a href="/publications">Publications</a></li>
              <li><a href="/contact">Contact</a></li>
              <li><a href="/subscribe">Subscribe</a></li>
              <li><a href="/colophon">Colophon</a></li>
            </ul>
          </nav>
          <p class="copyright">
            &copy;2011 &ndash; Scott Chamberlain
          </p>
        </footer>
      </section>

    </section>

    <script type="text/javascript">

      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-23094691-1']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();

    </script>

  </body>
</html>
