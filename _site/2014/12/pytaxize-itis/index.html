<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <link href="http://gmpg.org/xfn/11" rel="profile">

  <title>
    pytaxize - low level ITIS functions &middot; 
    Recology, R/etc.
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300,400italic,400,600,700|Abril+Fatface">

  <link rel="stylesheet" href="/public/css/bootstrap/css/bootstrap.css">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/favicon.ico">
  <link rel="shortcut icon" href="/public/favicon.ico">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.css" rel="stylesheet">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-0f layout-reverse">

    <header class="masthead">
      <div class="masthead-inner">
        <h1>Recology</h1>
        <!-- <h1> <a href="http://recology.info/">Recology</a></h1> -->
        <p class="lead">R/etc.</p>

        <div class="colophon">
          <ul class="colophon-links">
            <li>
              <a href="/"><i class="fa fa-home fa-lg"></i></a>&nbsp;
              <a href="/about"><i class="fa fa-info-circle fa-lg"></i></a>&nbsp;
              <a href="/archives"><i class="fa fa-archive fa-lg"></i></a>&nbsp;
              <a href="/rresources"><i class="fa fa-book fa-lg"></i></a>&nbsp;
              <a href="http://rforcats.net/" rel><i class="fa fa-graduation-cap fa-lg"></i></a>&nbsp;
              <a href="/feed.xml"><i class="fa fa-rss fa-lg"></i></a>&nbsp;
              <a href="https://twitter.com/sckottie"><i class="fa fa-twitter fa-lg"></i></a>&nbsp;
              <a href="/fork"><i class="fa fa-spinner fa-lg"></i></a>
            </li>
          </ul>
          <!-- <small><a href="https://github.com/mdo/hyde">Hyde</a> from <a href="https://twitter.com/mdo" target="_blank">@mdo</a>.</small> -->
        </div>
      </div>
    </header>

    <div class="content container">
      <div class="post">
  <h1>pytaxize - low level ITIS functions</h1><a style="float:right;" href="/archives"><i class="fa fa-archive fa-lg"></i></a>&nbsp;<a style="float:right;" href="/tags"><i class="fa fa-tags fa-lg"></i></a>
  <span class="post-date">26 Dec 2014</span>
  <i class="fa fa-tags fa-large"></i>&nbsp;
     <a href="/tags/python" class="badge" rel="tooltip" data-placement="bottom" title="View posts tagged with &quot;python&quot;"><span class="blog_tag">python</span></a>   <a href="/tags/taxonomy" class="badge" rel="tooltip" data-placement="bottom" title="View posts tagged with &quot;taxonomy&quot;"><span class="blog_tag">taxonomy</span></a>   <br>
  <!-- <i class="fa fa-code fa-large"></i>&nbsp;Source: <a href="https://github.com/sckott/sckott.github.com/tree/master/_drafts/2014-12-26-pytaxize-itis.Rmd">.Rmd</a> -->
  <i class="fa fa-code fa-large"></i>&nbsp;Source: <a href="https://github.com/sckott/sckott.github.com/tree/master/_drafts/2014-12-24-pytaxize-itis.md">.Rmd/.md</a>
  <br><br>
  <p>I’ve been working on a Python port of the R package <code>taxize</code> that I maintain. It’s still early days with this Python library, I’d love to know what people think. For example, I’m giving back Pandas DataFrame’s from most functions. Does this make sense?</p>

<h2 id="installation">Installation</h2>

<pre><code>sudo pip install git+git://github.com/sckott/pytaxize.git#egg=pytaxize
</code></pre>

<p>Or <code>git clone</code> the repo down, and <code>python setup.py build &amp;&amp; python setup.py install</code></p>

<h2 id="load-library">Load library</h2>

<pre><code class="language-python">import pytaxize
</code></pre>

<h2 id="itis-ping">ITIS ping</h2>

<pre><code class="language-python">pytaxize.itis_ping()
</code></pre>

<pre><code class="language-python">'This is the ITIS Web Service, providing access to the data behind www.itis.gov. The database contains 665,266 scientific names (501,207 of them valid/accepted) and 122,735 common names.'
</code></pre>

<h2 id="get-hierarchy-down-from-tsn">Get hierarchy down from tsn</h2>

<pre><code class="language-python">pytaxize.gethierarchydownfromtsn(tsn = 161030)
</code></pre>

<pre><code class="language-python">      tsn rankName       taxonName    parentName parentTsn
0  161048    Class   Sarcopterygii  Osteichthyes    161030
1  161061    Class  Actinopterygii  Osteichthyes    161030
</code></pre>

<h2 id="get-hierarchy-up-from-tsn">Get hierarchy up from tsn</h2>

<pre><code class="language-python">pytaxize.gethierarchyupfromtsn(tsn = 37906)
</code></pre>

<pre><code class="language-python">               author  parentName parentTsn rankName taxonName    tsn
0  Gaertn. ex Schreb.  Asteraceae     35420    Genus   Liatris  37906
</code></pre>

<h2 id="get-rank-names">Get rank names</h2>

<pre><code class="language-python">pytaxize.getranknames()
</code></pre>

<pre><code class="language-python">    kingdomname rankid      rankname
0      Bacteria     10       Kingdom
1      Bacteria     20    Subkingdom
2      Bacteria     30        Phylum
3      Bacteria     40     Subphylum
4      Bacteria     50    Superclass
5      Bacteria     60         Class
6      Bacteria     70      Subclass
7      Bacteria     80    Infraclass
8      Bacteria     90    Superorder
9      Bacteria    100         Order
10     Bacteria    110      Suborder
11     Bacteria    120    Infraorder
12     Bacteria    130   Superfamily
13     Bacteria    140        Family
14     Bacteria    150     Subfamily
15     Bacteria    160         Tribe
16     Bacteria    170      Subtribe
17     Bacteria    180         Genus
18     Bacteria    190      Subgenus
19     Bacteria    220       Species
20     Bacteria    230    Subspecies
21     Protozoa     10       Kingdom
22     Protozoa     20    Subkingdom
23     Protozoa     25  Infrakingdom
24     Protozoa     30        Phylum
25     Protozoa     40     Subphylum
26     Protozoa     45   Infraphylum
27     Protozoa     47    Parvphylum
28     Protozoa     50    Superclass
29     Protozoa     60         Class
..          ...    ...           ...
150   Chromista    190      Subgenus
151   Chromista    200       Section
152   Chromista    210    Subsection
153   Chromista    220       Species
154   Chromista    230    Subspecies
155   Chromista    240       Variety
156   Chromista    250    Subvariety
157   Chromista    260          Form
158   Chromista    270       Subform
159     Archaea     10       Kingdom
160     Archaea     20    Subkingdom
161     Archaea     30        Phylum
162     Archaea     40     Subphylum
163     Archaea     50    Superclass
164     Archaea     60         Class
165     Archaea     70      Subclass
166     Archaea     80    Infraclass
167     Archaea     90    Superorder
168     Archaea    100         Order
169     Archaea    110      Suborder
170     Archaea    120    Infraorder
171     Archaea    130   Superfamily
172     Archaea    140        Family
173     Archaea    150     Subfamily
174     Archaea    160         Tribe
175     Archaea    170      Subtribe
176     Archaea    180         Genus
177     Archaea    190      Subgenus
178     Archaea    220       Species
179     Archaea    230    Subspecies
</code></pre>

<h2 id="search-by-scientific-name">Search by scientific name</h2>

<pre><code class="language-python">pytaxize.searchbyscientificname(x="Tardigrada")
</code></pre>

<pre><code class="language-python">           combinedname     tsn
0    Rotaria tardigrada   58274
1  Notommata tardigrada   58898
2   Pilargis tardigrada   65562
3            Tardigrada  155166
4      Heterotardigrada  155167
5      Arthrotardigrada  155168
6        Mesotardigrada  155358
7          Eutardigrada  155362
8   Scytodes tardigrada  866744
</code></pre>

<h2 id="get-accepted-names-from-tsn">Get accepted names from tsn</h2>

<pre><code class="language-python">pytaxize.getacceptednamesfromtsn('208527')
</code></pre>

<p>If accepted, returns the same id</p>

<pre><code class="language-python">'208527'
</code></pre>

<h2 id="more">More</h2>

<p>For the other functions see https://github.com/sckott/pytaxize/blob/master/pytaxize/itis.py</p>

</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'coffeehaus'; // required: replace example with your forum shortname

    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>

<!-- <div class="related">
  <h2>Related Posts</h2>
  <ul class="related-posts">
    
      <li>
        <h3>
          <a href="/2016/03/scrubr/">
            scrubr - clean species occurrence records
            <small>04 Mar 2016</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2016/01/request-hello-world/">
            request - a high level HTTP client for R
            <small>05 Jan 2016</small>
          </a>
        </h3>
      </li>
    
      <li>
        <h3>
          <a href="/2015/12/binomen-taxonomy-tools/">
            binomen - Tools for slicing and dicing taxonomic names
            <small>08 Dec 2015</small>
          </a>
        </h3>
      </li>
    
  </ul>
</div>
 -->

    </div>

    <!-- for bootstrap tooltips -->
    <script type="text/javascript">
      $("[data-toggle=\"tooltip\"]").tooltip();
    </script>

  </body>

  <footer>
  <!-- Disqus code -->
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'recology'; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function () {
          var s = document.createElement('script'); s.async = true;
          s.type = 'text/javascript';
          s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
          (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
      }());
  </script>

  <!-- google analytics -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-63197374-1', 'auto');
    ga('send', 'pageview');
  </script>
</footer>

</html>
