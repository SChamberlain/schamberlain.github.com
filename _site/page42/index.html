<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <link href="http://gmpg.org/xfn/11" rel="profile">

  <title>
    
    Recology, R/etc.
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300,400italic,400,600,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/favicon.ico">
  <link rel="shortcut icon" href="/public/favicon.ico">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.css" rel="stylesheet">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-0f layout-reverse">

    <header class="masthead">
      <div class="masthead-inner">
        <h1>Recology</h1>
        <!-- <h1> <a href="http://recology.info/">Recology</a></h1> -->
        <p class="lead">R/etc.</p>

        <div class="colophon">
          <ul class="colophon-links">
            <li>
              <a href="/"><i class="fa fa-home fa-lg"></i></a>&nbsp;
              <a href="/about"><i class="fa fa-info-circle fa-lg"></i></a>&nbsp;
              <a href="/archives"><i class="fa fa-archive fa-lg"></i></a>&nbsp;
              <a href="/rresources"><i class="fa fa-book fa-lg"></i></a>&nbsp;
              <a href="http://rforcats.net/" rel><i class="fa fa-graduation-cap fa-lg"></i></a>&nbsp;
              <a href="feed.xml"><i class="fa fa-rss fa-lg"></i></a>&nbsp;
              <a href="https://twitter.com/recology_"><i class="fa fa-twitter fa-lg"></i></a>&nbsp;
              <a href="/fork"><i class="fa fa-spinner fa-lg"></i></a>
            </li>
          </ul>
          <!-- <small><a href="https://github.com/mdo/hyde">Hyde</a> from <a href="https://twitter.com/mdo" target="_blank">@mdo</a>.</small> -->
        </div>
      </div>
    </header>

    <div class="content container">
      <div class="posts">
  <a style="float:right;" href="/archives" data-toggle="tooltip" data-placement="bottom" title="Archives"><i class="fa fa-archive fa-lg"></i></a>
  <a style="float:right;" href="/tags"><i class="fa fa-tags fa-lg"></i></a>&nbsp;
  
  <div class="post">
    <h1>
      <a href="/2011/06/openstates-from-r-via-api-watch-your-elected-representatives/">
        OpenStates from R via API: watch your elected representatives
      </a>
    </h1>

    <span class="post-date">10 Jun 2011</span>

    <p>I am writing some functions to acquire data from the <a href="http://openstates.sunlightlabs.com/">OpenStates project,</a>&nbsp;via <a href="http://openstates.sunlightlabs.com/api/">their API</a>. They have <a href="http://groups.google.com/group/fifty-state-project">a great support community</a> at Google Groups as well.<br /><br />On its face this post is not obviously about ecology or evolution, but well, our elected representatives do, so to speak, hold our environment in a noose, ready to let the Earth hang any day.<br /><br />Code <a href="https://SChamberlain@github.com/SChamberlain/ropstates.git">I am developing is over at Github</a>.<br /><br />Here is an example of its use in R, in this case using the Bill Search option (billsearch.R on my Github site), and in this case you do not provide your API key in the function call, but instead put it in your .Rprofile file, which is called when you open R. We are searching here for the term &#39;agriculture&#39; in Texas (&#39;tx&#39;), in the &#39;upper&#39; chamber.<br /><br /><div style="overflow: auto;"><div class="geshifilter"><pre class="r geshifilter-R" style="font-family: monospace;">&gt; temp &lt;- billsearch<span style="color: #009900;">(</span><span style="color: blue;">&#39;agriculture&#39;</span><span style="color: #339933;">,</span> <a href="http://inside-r.org/r-doc/datasets/state"><span style="color: #003399; font-weight: bold;">state</span></a> = <span style="color: blue;">&#39;tx&#39;</span><span style="color: #339933;">,</span> chamber = <span style="color: blue;">&#39;upper&#39;</span><span style="color: #009900;">)</span><br />&nbsp;<br />&gt; <a href="http://inside-r.org/r-doc/base/length"><span style="color: #003399; font-weight: bold;">length</span></a><span style="color: #009900;">(</span>temp<span style="color: #009900;">)</span><br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: #cc66cc;">21</span><br />&nbsp;<br />&gt; temp<span style="color: #009900;">[</span><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span><span style="color: #009900;">]</span><br />$title<br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: blue;">&quot;Congratulating John C. Padalino of El Paso for being appointed to the United States Department of Agriculture.&quot;</span><br />&nbsp;<br />$created<em>at<br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: blue;">&quot;2010-08-11 07:59:46&quot;</span><br />&nbsp;<br />$updated</em>at<br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: blue;">&quot;2010-09-02 03:34:39&quot;</span><br />&nbsp;<br />$chamber<br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: blue;">&quot;upper&quot;</span><br />&nbsp;<br />$state<br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: blue;">&quot;tx&quot;</span><br />&nbsp;<br />$session<br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: blue;">&quot;81&quot;</span><br />&nbsp;<br />$type<br />$type<span style="color: #009900;">[</span><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span><span style="color: #009900;">]</span><br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: blue;">&quot;resolution&quot;</span><br />&nbsp;<br />&nbsp;<br />$subjects<br />$subjects<span style="color: #009900;">[</span><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span><span style="color: #009900;">]</span><br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: blue;">&quot;Resolutions&quot;</span><br />&nbsp;<br />$subjects<span style="color: #009900;">[</span><span style="color: #009900;">[</span><span style="color: #cc66cc;">2</span><span style="color: #009900;">]</span><span style="color: #009900;">]</span><br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: blue;">&quot;Other&quot;</span><br />&nbsp;<br />&nbsp;<br />$bill<em>id<br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: blue;">&quot;SR 1042&quot;</span></pre></div></div><a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org">Created by Pretty R at inside-R.org</a><br /><br /><br />Apparently, the first bill (SR 2042, see $bill</em>id at the bottom of the list output) that came up was to congratulate John Paladino for being appointed to the USDA.<br /><br />The other function I have ready is getting basic metadata on a state, called statemetasearch.<br /><br />I plan to develop more functions for all the possible API calls to the OpenStates project.</p>

  </div>
  
  <div class="post">
    <h1>
      <a href="/2011/06/just-turned-on-mobile-template-for-this-blog-let-me-know-if-it-works/">
        Just turned on 'mobile template' for this blog, let me know if it works
      </a>
    </h1>

    <span class="post-date">09 Jun 2011</span>

    <div class="separator" style="clear: both; text-align: center;"><a href="http://f.cl.ly/items/0V2S0T1k3X3G2p0W2p1e/Screen%20shot%202011-06-09%20at%2012.49.15%20PM.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="161" src="http://f.cl.ly/items/0V2S0T1k3X3G2p0W2p1e/Screen%20shot%202011-06-09%20at%2012.49.15%20PM.png" width="400" /></a></div>

  </div>
  
  <div class="post">
    <h1>
      <a href="/2011/06/10000-visits-to-my-recology/">
        > 10,000 visits to Recology!!!!
      </a>
    </h1>

    <span class="post-date">09 Jun 2011</span>

    <p>Thanks so much everyone for stopping by!<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://f.cl.ly/items/3m2g3b3r2o1b1k1b3x27/Screen%20shot%202011-06-09%20at%2012.07.33%20PM.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="337" src="http://f.cl.ly/items/3m2g3b3r2o1b1k1b3x27/Screen%20shot%202011-06-09%20at%2012.07.33%20PM.png" width="400" /></a></div></p>

  </div>
  
</div>

<!-- Pagination links -->
<div class="pagination">
  
    <a href="/page43" class="older">Older</a>
  
  
    
      <a href="/page41" class="newer">Newer</a>
    
  
</div>

    </div>

    <!-- for bootstrap tooltips -->
    <script type="text/javascript">
      $("[data-toggle=\"tooltip\"]").tooltip();
    </script>

  </body>

  <footer>
  <!-- Disqus code -->
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'recology'; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function () {
          var s = document.createElement('script'); s.async = true;
          s.type = 'text/javascript';
          s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
          (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
      }());
  </script>

  <!-- Gaug.es Analytics -->
  <script type="text/javascript">
    var _gauges = _gauges || [];
    (function() {
      var t   = document.createElement('script');
      t.type  = 'text/javascript';
      t.async = true;
      t.id    = 'gauges-tracker';
      t.setAttribute('data-site-id', '4efd83a6f5a1f5158a000004');
      t.src = '//secure.gaug.es/track.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(t, s);
    })();
  </script>
</footer>

</html>
