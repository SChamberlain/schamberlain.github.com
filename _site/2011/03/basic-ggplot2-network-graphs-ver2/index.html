<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>basic ggplot2 network graphs - ver2</title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <link href="/css/bootstrap.css" rel="stylesheet">
    <link href="/css/bootstrap-responsive.css" rel="stylesheet">
    <link href="/css/docs.css" rel="stylesheet">
    <link href="/js/google-code-prettify/prettify.css" rel="stylesheet">	
	<link rel="shortcut icon" href="/favicon.ico">    
  </head>
  <body data-spy="scroll" data-target=".subnav" data-offset="50">
	<div class="navbar navbar-fixed-top">
  <div class="navbar-inner">
	<div class="container">
	  <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
		<span class="icon-bar"></span>
		<span class="icon-bar"></span>
		<span class="icon-bar"></span>
	  </a>
	  <a class="brand" href="http://schamberlain.github.com">Recology</a>
	  <div class="nav-collapse">
		<ul class="nav">		  
		  <li class="">
			<a href="http://schamberlain.github.com">Home</a>
		  </li>
		  <li class="divider-vertical"></li>
		  <li class="">
			<a href="/about.html">About</a>
		  </li>
		  <li class="divider-vertical"></li>
		  <li class="">
			<a href="/R-esources.html">R-esources</a>
		  </li>
		  <li class="divider-vertical"></li>
		  <li class="">
			<a href="http://feeds.feedburner.com/github/wpna" title="Go to feedburner" target="_blank">RSS</a> 
		  </li>	
		  <li class="divider-vertical"></li>
		  <li class="dropdown">
			<a href="#" class="dropdown-toggle" data-toggle="dropdown">Projects<b class="caret"></b></a>
				<ul class="dropdown-menu">					
					<li class=""><a href="https://github.com/ropensci" title="Go to rOpenSci on GitHub" target="_blank">rOpenSci</a></li>	
				</ul>
		  </li>		  

			<form class="navbar-search pull-right" method=get action="http://google.com/search">
				<input type=hidden name=q value=site:schamberlain.github.com>
				<input type=text class=search-query name=q>
				<button type=submit class="btn btn-inverse">Search</button>
			</form>
		  <li class="divider-vertical"></li>
		</ul>		
	  </div>
	</div>
  </div>
</div>  
	<div class="container">	
		<div class="marketing">
		<div class="content">    
	
<div class="row">
	<p><h1>basic ggplot2 network graphs - ver2</h1></p>	
	<div class="span4 column">
		<h4><strong>March 23, 2011 <small> <a href="http://schamberlain.github.com/2011/03/basic-ggplot2-network-graphs-ver2/#disqus_thread">Comments</a></small></strong>
		<br/><small>Tags:  <a href="/tags/ggplot2" title="View posts tagged with &quot;ggplot2&quot;"><u>ggplot2</u></a>     <a href="/tags/bipartite" title="View posts tagged with &quot;bipartite&quot;"><u>bipartite</u></a>     <a href="/tags/Networks" title="View posts tagged with &quot;Networks&quot;"><u>Networks</u></a>     <a href="/tags/igraph" title="View posts tagged with &quot;igraph&quot;"><u>igraph</u></a>     <a href="/tags/R" title="View posts tagged with &quot;R&quot;"><u>R</u></a>    </small></h4>
	</div>		
	<div class="span8 column">
		<p class="pull-right"> <a href="/2011/03/basic-ggplot2-network-graphs/" title="Previous Post: basic ggplot2 network graphs"><i class="icon-chevron-left"></i></a> 	    	<a href="/2011/03/bio-oracle/" title="Next Post: Bio-ORACLE"><i class="icon-chevron-right"></i></a> 	 </p> 
	</div>
</div>

<div class="row">
	<div class="span12 column">
		<hr>
	</div>
</div>

    <p>I posted last week a <a href="http://r-ecology.blogspot.com/2011/03/basic-ggplot2-network-graphs.html">simple function to plot networks using ggplot2 package</a>. Here is version 2. I still need to work on figuring out efficient vertex placement.<br /><br /><u>Changes in version 2:</u><br />-You have one of three options: use an igraph object, a matrix, or a dataframe (matrices will be converted to data frames within the function)<br /><br />-If you have data on food webs similar to that provided in the Takapoto dataset provided in the NetIndices package, you can set trophic = "TRUE", and gggraph will use the function TrophInd to assign trophic levels (the y axis value) to each vertex/node. You have to provide additional information along with this option such as what the imports and exports are, see NetIndices documentation.<br /><br />-I added some simple error checking.<br /><br />-if using method="df" and trophic="FALSE", x axis placement of vertices is now done using the function&nbsp;degreex (see inside the fxn), which sorts vertices according to their degree (so the least connected species are on the left of the graph; note that species with the same degree are not stacked on the y-axis because e.g., two vertices of degree=5 would get x=3 then x=4).<br /><br /><br /><br /><div style="overflow: auto;"><div class="geshifilter"><pre class="r geshifilter-R" style="font-family: monospace;"><span style="color: #666666; font-style: italic;">######### ggraph version 2</span><br /><a href="http://inside-r.org/r-doc/base/require"><span style="color: #003399; font-weight: bold;">require</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/packages/cran/bipartite">bipartite</a><span style="color: #009900;">)</span><br /><a href="http://inside-r.org/r-doc/base/require"><span style="color: #003399; font-weight: bold;">require</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/packages/cran/igraph">igraph</a><span style="color: #009900;">)</span><br /><a href="http://inside-r.org/r-doc/base/require"><span style="color: #003399; font-weight: bold;">require</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/packages/cran/ggplot2">ggplot2</a><span style="color: #009900;">)</span> <br /><a href="http://inside-r.org/r-doc/base/require"><span style="color: #003399; font-weight: bold;">require</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/packages/cran/NetIndices">NetIndices</a><span style="color: #009900;">)</span><br />&nbsp;<br /><span style="color: #666666; font-style: italic;"># gggraph, version 2</span><br /><span style="color: #666666; font-style: italic;"># g = an igraph graph object, a matrix, or data frame</span><br /><span style="color: #666666; font-style: italic;"># vplace = type of vertex placement assignment, one of rnorm, runif, etc.</span><br /><span style="color: #666666; font-style: italic;"># method = one of 'df' for data frame, "mat' for matrix or "igraph" for an igraph graph object</span><br /><span style="color: #666666; font-style: italic;"># trophic = TRUE or FALSE for using Netindices function TrophInd to determine trophic level (y value in graph)</span><br /><span style="color: #666666; font-style: italic;"># trophinames = columns in matrix or dataframe to use for calculating trophic level</span><br /><span style="color: #666666; font-style: italic;"># import = named or refereced by col# columns of matrix or dataframe to use for import argument of TrophInd</span><br /><span style="color: #666666; font-style: italic;"># export = named or refereced by col# columns of matrix or dataframe to use for export argument of TrophInd</span><br /><span style="color: #666666; font-style: italic;"># dead = named or refereced by col# columns of matrix or dataframe to use for dead argument of TrophInd</span><br />&nbsp;<br />gggraph &lt;- <a href="http://inside-r.org/r-doc/base/function"><span style="color: #003399; font-weight: bold;">function</span></a><span style="color: #009900;">(</span>g<span style="color: #339933;">,</span> vplace = <a href="http://inside-r.org/r-doc/stats/rnorm"><span style="color: #003399; font-weight: bold;">rnorm</span></a><span style="color: #339933;">,</span> method<span style="color: #339933;">,</span> trophic = <span style="color: blue;">"FALSE"</span><span style="color: #339933;">,</span> <br />     trophinames<span style="color: #339933;">,</span> import<span style="color: #339933;">,</span> export<span style="color: #009900;">)</span> <br /><span style="color: #009900;">{</span><br />degreex  &lt;- <a href="http://inside-r.org/r-doc/base/function"><span style="color: #003399; font-weight: bold;">function</span></a><span style="color: #009900;">(</span>x<span style="color: #009900;">)</span> <span style="color: #009900;">{</span><br />  degreecol &lt;- <a href="http://inside-r.org/r-doc/base/apply"><span style="color: #003399; font-weight: bold;">apply</span></a><span style="color: #009900;">(</span>x<span style="color: #339933;">,</span> <span style="color: #cc66cc;">2</span><span style="color: #339933;">,</span> <a href="http://inside-r.org/r-doc/base/function"><span style="color: #003399; font-weight: bold;">function</span></a><span style="color: #009900;">(</span>y<span style="color: #009900;">)</span> <a href="http://inside-r.org/r-doc/base/length"><span style="color: #003399; font-weight: bold;">length</span></a><span style="color: #009900;">(</span>y<span style="color: #009900;">[</span>y&gt;<span style="color: #cc66cc;">0</span><span style="color: #009900;">]</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span><br />  degreerow &lt;- <a href="http://inside-r.org/r-doc/base/apply"><span style="color: #003399; font-weight: bold;">apply</span></a><span style="color: #009900;">(</span>x<span style="color: #339933;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #339933;">,</span> <a href="http://inside-r.org/r-doc/base/function"><span style="color: #003399; font-weight: bold;">function</span></a><span style="color: #009900;">(</span>y<span style="color: #009900;">)</span> <a href="http://inside-r.org/r-doc/base/length"><span style="color: #003399; font-weight: bold;">length</span></a><span style="color: #009900;">(</span>y<span style="color: #009900;">[</span>y&gt;<span style="color: #cc66cc;">0</span><span style="color: #009900;">]</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span><br />  degrees &lt;- <a href="http://inside-r.org/r-doc/base/sort"><span style="color: #003399; font-weight: bold;">sort</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/base/c"><span style="color: #003399; font-weight: bold;">c</span></a><span style="color: #009900;">(</span>degreecol<span style="color: #339933;">,</span> degreerow<span style="color: #009900;">)</span><span style="color: #009900;">)</span><br />  <a href="http://inside-r.org/r-doc/stats/df"><span style="color: #003399; font-weight: bold;">df</span></a> &lt;- <a href="http://inside-r.org/r-doc/base/data.frame"><span style="color: #003399; font-weight: bold;">data.frame</span></a><span style="color: #009900;">(</span>degrees<span style="color: #339933;">,</span> x = <a href="http://inside-r.org/r-doc/base/seq"><span style="color: #003399; font-weight: bold;">seq</span></a><span style="color: #009900;">(</span><span style="color: #cc66cc;">1</span><span style="color: #339933;">,</span> <a href="http://inside-r.org/r-doc/base/length"><span style="color: #003399; font-weight: bold;">length</span></a><span style="color: #009900;">(</span>degrees<span style="color: #009900;">)</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span><br />  <a href="http://inside-r.org/r-doc/stats/df"><span style="color: #003399; font-weight: bold;">df</span></a>$value &lt;- <a href="http://inside-r.org/r-doc/base/rownames"><span style="color: #003399; font-weight: bold;">rownames</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/stats/df"><span style="color: #003399; font-weight: bold;">df</span></a><span style="color: #009900;">)</span><br />  <a href="http://inside-r.org/r-doc/stats/df"><span style="color: #003399; font-weight: bold;">df</span></a><br /> <span style="color: #009900;">}</span><br />  <span style="color: #666666; font-style: italic;"># require igraph</span><br /> <span style="color: black; font-weight: bold;">if</span><span style="color: #009900;">(</span>!<a href="http://inside-r.org/r-doc/base/require"><span style="color: #003399; font-weight: bold;">require</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/packages/cran/igraph">igraph</a><span style="color: #009900;">)</span><span style="color: #009900;">)</span> <a href="http://inside-r.org/r-doc/base/stop"><span style="color: #003399; font-weight: bold;">stop</span></a><span style="color: #009900;">(</span><span style="color: blue;">"must first install 'igraph' package."</span><span style="color: #009900;">)</span> <br />   <span style="color: #666666; font-style: italic;"># require ggplot2</span><br /> <span style="color: black; font-weight: bold;">if</span><span style="color: #009900;">(</span>!<a href="http://inside-r.org/r-doc/base/require"><span style="color: #003399; font-weight: bold;">require</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/packages/cran/ggplot2">ggplot2</a><span style="color: #009900;">)</span><span style="color: #009900;">)</span> <a href="http://inside-r.org/r-doc/base/stop"><span style="color: #003399; font-weight: bold;">stop</span></a><span style="color: #009900;">(</span><span style="color: blue;">"must first install 'ggplot2' package."</span><span style="color: #009900;">)</span><br />&nbsp;<br /><span style="color: black; font-weight: bold;">if</span><span style="color: #009900;">(</span>method==<span style="color: blue;">"df"</span><span style="color: #009900;">)</span><span style="color: #009900;">{</span><br />  <span style="color: black; font-weight: bold;">if</span><span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/base/class"><span style="color: #003399; font-weight: bold;">class</span></a><span style="color: #009900;">(</span>g<span style="color: #009900;">)</span>==<span style="color: blue;">"matrix"</span><span style="color: #009900;">)</span><span style="color: #009900;">{</span> g &lt;- <a href="http://inside-r.org/r-doc/base/as.data.frame"><span style="color: #003399; font-weight: bold;">as.data.frame</span></a><span style="color: #009900;">(</span>g<span style="color: #009900;">)</span> <span style="color: #009900;">}</span><br />  <span style="color: black; font-weight: bold;">if</span><span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/base/class"><span style="color: #003399; font-weight: bold;">class</span></a><span style="color: #009900;">(</span>g<span style="color: #009900;">)</span>!=<span style="color: blue;">"data.frame"</span><span style="color: #009900;">)</span> <a href="http://inside-r.org/r-doc/base/stop"><span style="color: #003399; font-weight: bold;">stop</span></a><span style="color: #009900;">(</span><span style="color: blue;">"object must be of class 'data.frame.'"</span><span style="color: #009900;">)</span><br /><span style="color: black; font-weight: bold;">if</span><span style="color: #009900;">(</span>trophic==<span style="color: blue;">"FALSE"</span><span style="color: #009900;">)</span><span style="color: #009900;">{</span><br /> <span style="color: #666666; font-style: italic;"># data preparation from adjacency matrix</span><br /> temp &lt;- <a href="http://inside-r.org/r-doc/base/data.frame"><span style="color: #003399; font-weight: bold;">data.frame</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/base/expand.grid"><span style="color: #003399; font-weight: bold;">expand.grid</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/base/dimnames"><span style="color: #003399; font-weight: bold;">dimnames</span></a><span style="color: #009900;">(</span>g<span style="color: #009900;">)</span><span style="color: #009900;">)</span><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span>:<span style="color: #cc66cc;">2</span><span style="color: #009900;">]</span><span style="color: #339933;">,</span> <a href="http://inside-r.org/r-doc/base/as.vector"><span style="color: #003399; font-weight: bold;">as.vector</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/base/as.matrix"><span style="color: #003399; font-weight: bold;">as.matrix</span></a><span style="color: #009900;">(</span>g<span style="color: #009900;">)</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span><br /> temp &lt;- temp<span style="color: #009900;">[</span><span style="color: #009900;">(</span>temp<span style="color: #009900;">[</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">3</span><span style="color: #009900;">]</span> &gt; <span style="color: #cc66cc;">0</span><span style="color: #009900;">)</span> &amp; !<a href="http://inside-r.org/r-doc/base/is.na"><span style="color: #003399; font-weight: bold;">is.na</span></a><span style="color: #009900;">(</span>temp<span style="color: #009900;">[</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">3</span><span style="color: #009900;">]</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span> <span style="color: #009900;">]</span><br /> temp &lt;- temp<span style="color: #009900;">[</span><a href="http://inside-r.org/r-doc/base/sort.list"><span style="color: #003399; font-weight: bold;">sort.list</span></a><span style="color: #009900;">(</span>temp<span style="color: #009900;">[</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span> <span style="color: #009900;">]</span><br /> g_df &lt;- <a href="http://inside-r.org/r-doc/base/data.frame"><span style="color: #003399; font-weight: bold;">data.frame</span></a><span style="color: #009900;">(</span>rows = temp<span style="color: #009900;">[</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span><span style="color: #339933;">,</span> cols = temp<span style="color: #009900;">[</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">2</span><span style="color: #009900;">]</span><span style="color: #339933;">,</span> freqint = temp<span style="color: #009900;">[</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">3</span><span style="color: #009900;">]</span><span style="color: #009900;">)</span><br />&nbsp;<br /> g_df$id &lt;- <span style="color: #cc66cc;">1</span>:<a href="http://inside-r.org/r-doc/base/length"><span style="color: #003399; font-weight: bold;">length</span></a><span style="color: #009900;">(</span>g_df<span style="color: #009900;">[</span><span style="color: #339933;">,</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span><span style="color: #009900;">)</span><br /> g_df &lt;- <a href="http://inside-r.org/r-doc/base/data.frame"><span style="color: #003399; font-weight: bold;">data.frame</span></a><span style="color: #009900;">(</span>id=g_df<span style="color: #009900;">[</span><span style="color: #339933;">,</span><span style="color: #cc66cc;">4</span><span style="color: #009900;">]</span><span style="color: #339933;">,</span> rows=g_df<span style="color: #009900;">[</span><span style="color: #339933;">,</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span><span style="color: #339933;">,</span> cols=g_df<span style="color: #009900;">[</span><span style="color: #339933;">,</span><span style="color: #cc66cc;">2</span><span style="color: #009900;">]</span><span style="color: #339933;">,</span> freqint=g_df<span style="color: #009900;">[</span><span style="color: #339933;">,</span><span style="color: #cc66cc;">3</span><span style="color: #009900;">]</span><span style="color: #009900;">)</span><br /> g_df<em> &lt;- melt<span style="color: #009900;">(</span>g_df<span style="color: #339933;">,</span> id=<a href="http://inside-r.org/r-doc/base/c"><span style="color: #003399; font-weight: bold;">c</span></a><span style="color: #009900;">(</span><span style="color: #cc66cc;">1</span><span style="color: #339933;">,</span><span style="color: #cc66cc;">4</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span><br />&nbsp;<br /> xy_s &lt;- <a href="http://inside-r.org/r-doc/base/data.frame"><span style="color: #003399; font-weight: bold;">data.frame</span></a><span style="color: #009900;">(</span>degreex<span style="color: #009900;">(</span>g<span style="color: #009900;">)</span><span style="color: #339933;">,</span> y = <a href="http://inside-r.org/r-doc/stats/rnorm"><span style="color: #003399; font-weight: bold;">rnorm</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/base/length"><span style="color: #003399; font-weight: bold;">length</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/base/unique"><span style="color: #003399; font-weight: bold;">unique</span></a><span style="color: #009900;">(</span>g_df</em>$value<span style="color: #009900;">)</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span> <br /> g_df_2 &lt;- <a href="http://inside-r.org/r-doc/base/merge"><span style="color: #003399; font-weight: bold;">merge</span></a><span style="color: #009900;">(</span>g_df<em><span style="color: #339933;">,</span> xy_s<span style="color: #339933;">,</span> <a href="http://inside-r.org/r-doc/base/by"><span style="color: #003399; font-weight: bold;">by</span></a> = <span style="color: blue;">"value"</span><span style="color: #009900;">)</span><br /> <span style="color: #009900;">}</span> <span style="color: black; font-weight: bold;">else</span> <span style="color: black; font-weight: bold;">if</span><span style="color: #009900;">(</span>trophic==<span style="color: blue;">"TRUE"</span><span style="color: #009900;">)</span> <span style="color: #009900;">{</span><br />   <span style="color: #666666; font-style: italic;"># require NetIndices</span><br />  <span style="color: black; font-weight: bold;">if</span><span style="color: #009900;">(</span>!<a href="http://inside-r.org/r-doc/base/require"><span style="color: #003399; font-weight: bold;">require</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/packages/cran/NetIndices">NetIndices</a><span style="color: #009900;">)</span><span style="color: #009900;">)</span> <a href="http://inside-r.org/r-doc/base/stop"><span style="color: #003399; font-weight: bold;">stop</span></a><span style="color: #009900;">(</span><span style="color: blue;">"must first install 'NetIndices' package."</span><span style="color: #009900;">)</span><br /> <span style="color: #666666; font-style: italic;"># data preparation from adjacency matrix</span><br /> temp &lt;- <a href="http://inside-r.org/r-doc/base/data.frame"><span style="color: #003399; font-weight: bold;">data.frame</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/base/expand.grid"><span style="color: #003399; font-weight: bold;">expand.grid</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/base/dimnames"><span style="color: #003399; font-weight: bold;">dimnames</span></a><span style="color: #009900;">(</span>g<span style="color: #009900;">[</span>-trophinames<span style="color: #339933;">,</span> -trophinames<span style="color: #009900;">]</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span>:<span style="color: #cc66cc;">2</span><span style="color: #009900;">]</span><span style="color: #339933;">,</span> <br />   <a href="http://inside-r.org/r-doc/base/as.vector"><span style="color: #003399; font-weight: bold;">as.vector</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/base/as.matrix"><span style="color: #003399; font-weight: bold;">as.matrix</span></a><span style="color: #009900;">(</span>g<span style="color: #009900;">[</span>-trophinames<span style="color: #339933;">,</span> -trophinames<span style="color: #009900;">]</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span><br /> temp &lt;- temp<span style="color: #009900;">[</span><span style="color: #009900;">(</span>temp<span style="color: #009900;">[</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">3</span><span style="color: #009900;">]</span> &gt; <span style="color: #cc66cc;">0</span><span style="color: #009900;">)</span> &amp; !<a href="http://inside-r.org/r-doc/base/is.na"><span style="color: #003399; font-weight: bold;">is.na</span></a><span style="color: #009900;">(</span>temp<span style="color: #009900;">[</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">3</span><span style="color: #009900;">]</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span> <span style="color: #009900;">]</span><br /> temp &lt;- temp<span style="color: #009900;">[</span><a href="http://inside-r.org/r-doc/base/sort.list"><span style="color: #003399; font-weight: bold;">sort.list</span></a><span style="color: #009900;">(</span>temp<span style="color: #009900;">[</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span> <span style="color: #009900;">]</span><br /> g_df &lt;- <a href="http://inside-r.org/r-doc/base/data.frame"><span style="color: #003399; font-weight: bold;">data.frame</span></a><span style="color: #009900;">(</span>rows = temp<span style="color: #009900;">[</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span><span style="color: #339933;">,</span> cols = temp<span style="color: #009900;">[</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">2</span><span style="color: #009900;">]</span><span style="color: #339933;">,</span> freqint = temp<span style="color: #009900;">[</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">3</span><span style="color: #009900;">]</span><span style="color: #009900;">)</span><br />&nbsp;<br /> g_df$id &lt;- <span style="color: #cc66cc;">1</span>:<a href="http://inside-r.org/r-doc/base/length"><span style="color: #003399; font-weight: bold;">length</span></a><span style="color: #009900;">(</span>g_df<span style="color: #009900;">[</span><span style="color: #339933;">,</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span><span style="color: #009900;">)</span><br /> g_df &lt;- <a href="http://inside-r.org/r-doc/base/data.frame"><span style="color: #003399; font-weight: bold;">data.frame</span></a><span style="color: #009900;">(</span>id=g_df<span style="color: #009900;">[</span><span style="color: #339933;">,</span><span style="color: #cc66cc;">4</span><span style="color: #009900;">]</span><span style="color: #339933;">,</span> rows=g_df<span style="color: #009900;">[</span><span style="color: #339933;">,</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span><span style="color: #339933;">,</span> <br />      cols=g_df<span style="color: #009900;">[</span><span style="color: #339933;">,</span><span style="color: #cc66cc;">2</span><span style="color: #009900;">]</span><span style="color: #339933;">,</span> freqint=g_df<span style="color: #009900;">[</span><span style="color: #339933;">,</span><span style="color: #cc66cc;">3</span><span style="color: #009900;">]</span><span style="color: #009900;">)</span><br /> g_df</em> &lt;- melt<span style="color: #009900;">(</span>g_df<span style="color: #339933;">,</span> id=<a href="http://inside-r.org/r-doc/base/c"><span style="color: #003399; font-weight: bold;">c</span></a><span style="color: #009900;">(</span><span style="color: #cc66cc;">1</span><span style="color: #339933;">,</span><span style="color: #cc66cc;">4</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span><br />&nbsp;<br /> xy_s &lt;- <a href="http://inside-r.org/r-doc/base/data.frame"><span style="color: #003399; font-weight: bold;">data.frame</span></a><span style="color: #009900;">(</span>value = <a href="http://inside-r.org/r-doc/base/unique"><span style="color: #003399; font-weight: bold;">unique</span></a><span style="color: #009900;">(</span>g_df<em>$value<span style="color: #009900;">)</span><span style="color: #339933;">,</span> <br />  x = <a href="http://inside-r.org/r-doc/stats/rnorm"><span style="color: #003399; font-weight: bold;">rnorm</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/base/length"><span style="color: #003399; font-weight: bold;">length</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/base/unique"><span style="color: #003399; font-weight: bold;">unique</span></a><span style="color: #009900;">(</span>g_df</em>$value<span style="color: #009900;">)</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span> <br />  y = TrophInd<span style="color: #009900;">(</span>g<span style="color: #339933;">,</span> Import=import<span style="color: #339933;">,</span> Export=export<span style="color: #009900;">)</span><span style="color: #009900;">[</span><span style="color: #339933;">,</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span><span style="color: #009900;">)</span><br /> g_df_2 &lt;- <a href="http://inside-r.org/r-doc/base/merge"><span style="color: #003399; font-weight: bold;">merge</span></a><span style="color: #009900;">(</span>g_df<em><span style="color: #339933;">,</span> xy_s<span style="color: #339933;">,</span> <a href="http://inside-r.org/r-doc/base/by"><span style="color: #003399; font-weight: bold;">by</span></a> = <span style="color: blue;">"value"</span><span style="color: #009900;">)</span> <br /> <span style="color: #009900;">}</span><br /> <span style="color: #666666; font-style: italic;"># plotting</span><br /> p &lt;- <a href="http://inside-r.org/packages/cran/ggplot">ggplot</a><span style="color: #009900;">(</span>g_df_2<span style="color: #339933;">,</span> aes<span style="color: #009900;">(</span>x<span style="color: #339933;">,</span> y<span style="color: #009900;">)</span><span style="color: #009900;">)</span> +<br />  geom_point<span style="color: #009900;">(</span>size = <span style="color: #cc66cc;">5</span><span style="color: #009900;">)</span> +<br />  geom_line<span style="color: #009900;">(</span>aes<span style="color: #009900;">(</span>size = freqint<span style="color: #339933;">,</span> <a href="http://inside-r.org/r-doc/grDevices/group"><span style="color: #003399; font-weight: bold;">group</span></a> = id<span style="color: #009900;">)</span><span style="color: #009900;">)</span> +<br />  geom_text<span style="color: #009900;">(</span>size = <span style="color: #cc66cc;">3</span><span style="color: #339933;">,</span> hjust = <span style="color: #cc66cc;">1.5</span><span style="color: #339933;">,</span> aes<span style="color: #009900;">(</span>label = value<span style="color: #009900;">)</span><span style="color: #009900;">)</span> +<br />  theme_bw<span style="color: #009900;">(</span><span style="color: #009900;">)</span> + <br />  opts<span style="color: #009900;">(</span>panel.grid.major=theme_blank<span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span> <br />   panel.grid.minor=theme_blank<span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span> <br />   axis.text.x=theme_blank<span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span><br />   axis.text.y=theme_blank<span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span><br />   axis.title.x=theme_blank<span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span><br />   axis.title.y=theme_blank<span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span><br />   axis.ticks=theme_blank<span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span><br />   panel.border=theme_blank<span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span><br />   legend.position=<span style="color: blue;">"none"</span><span style="color: #009900;">)</span><br />&nbsp;<br /> p <span style="color: #666666; font-style: italic;"># return graph</span><br /><span style="color: #009900;">}</span> <span style="color: black; font-weight: bold;">else</span> <span style="color: black; font-weight: bold;">if</span><span style="color: #009900;">(</span>method==<span style="color: blue;">"igraph"</span><span style="color: #009900;">)</span> <span style="color: #009900;">{</span><br />  <span style="color: black; font-weight: bold;">if</span><span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/base/class"><span style="color: #003399; font-weight: bold;">class</span></a><span style="color: #009900;">(</span>g<span style="color: #009900;">)</span>!=<span style="color: blue;">"igraph"</span><span style="color: #009900;">)</span> <a href="http://inside-r.org/r-doc/base/stop"><span style="color: #003399; font-weight: bold;">stop</span></a><span style="color: #009900;">(</span><span style="color: blue;">"object must be of class 'igraph.'"</span><span style="color: #009900;">)</span><br /> <span style="color: #666666; font-style: italic;"># data preparation from igraph object</span><br /> g</em> &lt;- get.edgelist<span style="color: #009900;">(</span>g<span style="color: #009900;">)</span><br /> g_df &lt;- <a href="http://inside-r.org/r-doc/base/as.data.frame"><span style="color: #003399; font-weight: bold;">as.data.frame</span></a><span style="color: #009900;">(</span>g_<span style="color: #009900;">)</span><br /> g_df$id &lt;- <span style="color: #cc66cc;">1</span>:<a href="http://inside-r.org/r-doc/base/length"><span style="color: #003399; font-weight: bold;">length</span></a><span style="color: #009900;">(</span>g_df<span style="color: #009900;">[</span><span style="color: #339933;">,</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span><span style="color: #009900;">)</span><br /> g_df &lt;- melt<span style="color: #009900;">(</span>g_df<span style="color: #339933;">,</span> id=<span style="color: #cc66cc;">3</span><span style="color: #009900;">)</span><br /> xy_s &lt;- <a href="http://inside-r.org/r-doc/base/data.frame"><span style="color: #003399; font-weight: bold;">data.frame</span></a><span style="color: #009900;">(</span>value = <a href="http://inside-r.org/r-doc/base/unique"><span style="color: #003399; font-weight: bold;">unique</span></a><span style="color: #009900;">(</span>g_df$value<span style="color: #009900;">)</span><span style="color: #339933;">,</span> <br />  x = vplace<span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/base/length"><span style="color: #003399; font-weight: bold;">length</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/base/unique"><span style="color: #003399; font-weight: bold;">unique</span></a><span style="color: #009900;">(</span>g_df$value<span style="color: #009900;">)</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span> <br />  y = vplace<span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/base/length"><span style="color: #003399; font-weight: bold;">length</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/base/unique"><span style="color: #003399; font-weight: bold;">unique</span></a><span style="color: #009900;">(</span>g_df$value<span style="color: #009900;">)</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span><br /> g_df2 &lt;- <a href="http://inside-r.org/r-doc/base/merge"><span style="color: #003399; font-weight: bold;">merge</span></a><span style="color: #009900;">(</span>g_df<span style="color: #339933;">,</span> xy_s<span style="color: #339933;">,</span> <a href="http://inside-r.org/r-doc/base/by"><span style="color: #003399; font-weight: bold;">by</span></a> = <span style="color: blue;">"value"</span><span style="color: #009900;">)</span> <br />&nbsp;<br /> <span style="color: #666666; font-style: italic;"># plotting</span><br /> p &lt;- <a href="http://inside-r.org/packages/cran/ggplot">ggplot</a><span style="color: #009900;">(</span>g_df2<span style="color: #339933;">,</span> aes<span style="color: #009900;">(</span>x<span style="color: #339933;">,</span> y<span style="color: #009900;">)</span><span style="color: #009900;">)</span> +<br />  geom_point<span style="color: #009900;">(</span>size = <span style="color: #cc66cc;">2</span><span style="color: #009900;">)</span> +<br />  geom_line<span style="color: #009900;">(</span>size = <span style="color: #cc66cc;">0.3</span><span style="color: #339933;">,</span> aes<span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/grDevices/group"><span style="color: #003399; font-weight: bold;">group</span></a> = id<span style="color: #339933;">,</span> linetype = id<span style="color: #009900;">)</span><span style="color: #009900;">)</span> +<br />  geom_text<span style="color: #009900;">(</span>size = <span style="color: #cc66cc;">3</span><span style="color: #339933;">,</span> hjust = <span style="color: #cc66cc;">1.5</span><span style="color: #339933;">,</span> aes<span style="color: #009900;">(</span>label = value<span style="color: #009900;">)</span><span style="color: #009900;">)</span> +<br />  theme_bw<span style="color: #009900;">(</span><span style="color: #009900;">)</span> + <br />  opts<span style="color: #009900;">(</span>panel.grid.major=theme_blank<span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span> <br />   panel.grid.minor=theme_blank<span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span> <br />   axis.text.x=theme_blank<span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span><br />   axis.text.y=theme_blank<span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span><br />   axis.title.x=theme_blank<span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span><br />   axis.title.y=theme_blank<span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span><br />   axis.ticks=theme_blank<span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span><br />   panel.border=theme_blank<span style="color: #009900;">(</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span><br />   legend.position=<span style="color: blue;">"none"</span><span style="color: #009900;">)</span><br />&nbsp;<br /> p <span style="color: #666666; font-style: italic;"># return graph</span><br /><span style="color: #009900;">}</span> <span style="color: black; font-weight: bold;">else</span> <br /> <a href="http://inside-r.org/r-doc/base/stop"><span style="color: #003399; font-weight: bold;">stop</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/base/paste"><span style="color: #003399; font-weight: bold;">paste</span></a><span style="color: #009900;">(</span><span style="color: blue;">"do not recognize method = <span style="color: #000099; font-weight: bold;">\"</span>"</span><span style="color: #339933;">,</span>method<span style="color: #339933;">,</span><span style="color: blue;">"<span style="color: #000099; font-weight: bold;">\"</span>; <br />  methods are <span style="color: #000099; font-weight: bold;">\"</span>df<span style="color: #000099; font-weight: bold;">\"</span> and <span style="color: #000099; font-weight: bold;">\"</span>igraph<span style="color: #000099; font-weight: bold;">\"</span>"</span><span style="color: #339933;">,</span>sep=<span style="color: blue;">""</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span><br /><span style="color: #009900;">}</span></pre></div></div><br /><span style="color: #666666; font-style: italic;">############### Eg</span><br /><a href="http://inside-r.org/r-doc/utils/data"><span style="color: #003399; font-weight: bold;">data</span></a><span style="color: #009900;">(</span>Takapoto<span style="color: #009900;">)</span><br />gggraph<span style="color: #009900;">(</span>Takapoto<span style="color: #339933;">,</span> vplace = <a href="http://inside-r.org/r-doc/stats/rnorm"><span style="color: #003399; font-weight: bold;">rnorm</span></a><span style="color: #339933;">,</span> method = <span style="color: blue;">"df"</span><span style="color: #339933;">,</span> trophic = <span style="color: blue;">"TRUE"</span><span style="color: #339933;">,</span> trophinames = <a href="http://inside-r.org/r-doc/base/c"><span style="color: #003399; font-weight: bold;">c</span></a><span style="color: #009900;">(</span><span style="color: #cc66cc;">8</span>:<span style="color: #cc66cc;">10</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span> <br />import = <span style="color: blue;">"CO2"</span><span style="color: #339933;">,</span> export = <a href="http://inside-r.org/r-doc/base/c"><span style="color: #003399; font-weight: bold;">c</span></a><span style="color: #009900;">(</span><span style="color: blue;">"CO2"</span><span style="color: #339933;">,</span> <span style="color: blue;">"Sedimentation"</span><span style="color: #339933;">,</span> <span style="color: blue;">"Grazing"</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span><br /><div class="separator" style="clear: both; text-align: center;"><br /></div><br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="https://lh3.googleusercontent.com/-LAeWjCzUxzU/TYpCkoo2BwI/AAAAAAAAEbQ/5v5696gOia8/s1600/gggraph_trophic.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="400" src="https://lh3.googleusercontent.com/-LAeWjCzUxzU/TYpCkoo2BwI/AAAAAAAAEbQ/5v5696gOia8/s400/gggraph_trophic.jpeg" width="400" /></a></div><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;">&nbsp;<br /></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;">plants &lt;- <a href="http://inside-r.org/r-doc/base/round"><span style="color: #003399; font-weight: bold;">round</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/stats/rlnorm"><span style="color: #003399; font-weight: bold;">rlnorm</span></a><span style="color: #009900;">(</span>n=<span style="color: #cc66cc;">5</span><span style="color: #339933;">,</span> meanlog=<span style="color: #cc66cc;">2</span><span style="color: #339933;">,</span> sdlog=<span style="color: #cc66cc;">1</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span><br /><a href="http://inside-r.org/r-doc/cluster/animals"><span style="color: #003399; font-weight: bold;">animals</span></a> &lt;- <a href="http://inside-r.org/r-doc/base/round"><span style="color: #003399; font-weight: bold;">round</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/stats/rlnorm"><span style="color: #003399; font-weight: bold;">rlnorm</span></a><span style="color: #009900;">(</span>n=<span style="color: #cc66cc;">5</span><span style="color: #339933;">,</span> meanlog=<span style="color: #cc66cc;">2</span><span style="color: #339933;">,</span> sdlog=<span style="color: #cc66cc;">1</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span><br />plants &lt;- plants<em><span style="color: #009900;">(</span><span style="color: #cc66cc;">100</span>/sum<span style="color: #009900;">(</span>plants<span style="color: #009900;">)</span><span style="color: #009900;">)</span><br /><a href="http://inside-r.org/r-doc/cluster/animals"><span style="color: #003399; font-weight: bold;">animals</span></a> &lt;- <a href="http://inside-r.org/r-doc/cluster/animals"><span style="color: #003399; font-weight: bold;">animals</span></a></em><span style="color: #009900;">(</span><span style="color: #cc66cc;">100</span>/sum<span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/cluster/animals"><span style="color: #003399; font-weight: bold;">animals</span></a><span style="color: #009900;">)</span><span style="color: #009900;">)</span><br />z &lt;- <a href="http://inside-r.org/r-doc/stats/r2dtable"><span style="color: #003399; font-weight: bold;">r2dtable</span></a><span style="color: #009900;">(</span><span style="color: #cc66cc;">1</span><span style="color: #339933;">,</span><a href="http://inside-r.org/r-doc/cluster/animals"><span style="color: #003399; font-weight: bold;">animals</span></a><span style="color: #339933;">,</span>plants<span style="color: #009900;">)</span>  <span style="color: #666666; font-style: italic;"># if you get errors on this step just rerun again until no error</span><br />z &lt;- <a href="http://inside-r.org/r-doc/base/as.data.frame"><span style="color: #003399; font-weight: bold;">as.data.frame</span></a><span style="color: #009900;">(</span>z<span style="color: #009900;">[</span><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span><span style="color: #009900;">]</span><span style="color: #009900;">)</span><br /><a href="http://inside-r.org/r-doc/base/rownames"><span style="color: #003399; font-weight: bold;">rownames</span></a><span style="color: #009900;">(</span>z<span style="color: #009900;">)</span> &lt;- <a href="http://inside-r.org/r-doc/base/c"><span style="color: #003399; font-weight: bold;">c</span></a><span style="color: #009900;">(</span><span style="color: blue;">"a"</span><span style="color: #339933;">,</span><span style="color: blue;">"b"</span><span style="color: #339933;">,</span><span style="color: blue;">"c"</span><span style="color: #339933;">,</span><span style="color: blue;">"d"</span><span style="color: #339933;">,</span><span style="color: blue;">"e"</span><span style="color: #009900;">)</span><br />gggraph<span style="color: #009900;">(</span>z<span style="color: #339933;">,</span> vplace = <a href="http://inside-r.org/r-doc/stats/rnorm"><span style="color: #003399; font-weight: bold;">rnorm</span></a><span style="color: #339933;">,</span> method = <span style="color: blue;">"df"</span><span style="color: #339933;">,</span> trophic = <span style="color: blue;">"FALSE"</span><span style="color: #009900;">)</span><br /></pre><div class="separator" style="clear: both; text-align: center;"><a href="https://lh6.googleusercontent.com/-FSpM2FmvOeE/TYpCkQySuAI/AAAAAAAAEbM/TSSrg2HkoBU/s1600/gggraph_matrixdf.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="400" src="https://lh6.googleusercontent.com/-FSpM2FmvOeE/TYpCkQySuAI/AAAAAAAAEbM/TSSrg2HkoBU/s400/gggraph_matrixdf.jpeg" width="400" /></a></div><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;">&nbsp;<br /></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;">g &lt;- grg.game<span style="color: #009900;">(</span><span style="color: #cc66cc;">20</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">0.45</span><span style="color: #339933;">,</span> torus=<span style="color: black; font-weight: bold;">FALSE</span><span style="color: #009900;">)</span><br />gggraph<span style="color: #009900;">(</span>g<span style="color: #339933;">,</span> vplace = <a href="http://inside-r.org/r-doc/stats/rnorm"><span style="color: #003399; font-weight: bold;">rnorm</span></a><span style="color: #339933;">,</span> method = <span style="color: blue;">"igraph"</span><span style="color: #339933;">,</span> trophic = <span style="color: blue;">"FALSE"</span><span style="color: #009900;">)</span></pre><pre class="r geshifilter-R" style="font-family: monospace;"><span style="color: #009900;"><br /></span></pre><div class="separator" style="clear: both; text-align: center;"><a href="https://lh5.googleusercontent.com/-VSD2Xdt7Ukk/TYpCj8hbNsI/AAAAAAAAEbI/-YbX6s0I2QY/s1600/gggraph_igraph.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="400" src="https://lh5.googleusercontent.com/-VSD2Xdt7Ukk/TYpCj8hbNsI/AAAAAAAAEbI/-YbX6s0I2QY/s400/gggraph_igraph.jpeg" width="400" /></a></div><pre class="r geshifilter-R" style="font-family: monospace;"><span style="color: #009900;"><span class="Apple-style-span" style="color: black; font-family: Times; white-space: normal;"></span></span></pre><pre class="r geshifilter-R" style="font-family: monospace;"><span style="color: #009900;"><br /></span></pre><a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org">Created by Pretty R at inside-R.org</a></p>
		
</div>
    

		</div>
		 <footer class="footer">		        
	<p class="pull-right"> <a href="/2011/03/basic-ggplot2-network-graphs/" title="Previous Post: basic ggplot2 network graphs">&laquo; Previous Blog Post</a> 	  |  <a href="#">Back to top</a>  |   	<a href="/2011/03/bio-oracle/" title="Next Post: Bio-ORACLE">Next Blog Post &raquo; </a> 	 </p> 

	<br><br/>
	<br><br/>
	<div id="disqus_thread"></div>
    <script type="text/javascript">
        /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
        var disqus_shortname = 'recology'; // required: replace example with your forum shortname

        /* * * DON'T EDIT BELOW THIS LINE * * */
        (function() {
            var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
            dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
            (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
        })();
    </script>
    <noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
    <a href="http://disqus.com" class="dsq-brlink">comments powered by <span class="logo-disqus">Disqus</span></a>


	<p>Designed and built using <a href="http://twitter.github.com/bootstrap/" target="_blank">Twitter Bootstrap</a>, <a href="http://jekyllrb.com/"  target="_blank">Jekyll</a>, slightly modified by <a href="https://github.com/erjjones" target="_blank">Erjjones</a>, and even more modified by <a href="https://github.com/schamberlain" target="_blank">schamberlain</a>.</p>
	<p>Code licensed under the <a href="http://www.apache.org/licenses/LICENSE-2.0" target="_blank">Apache License v2.0</a>. Documentation licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.</p>
	<p>Icons from <a href="http://glyphicons.com">Glyphicons Free</a>, licensed under <a href="http://creativecommons.org/licenses/by/3.0/">CC BY 3.0</a>.</p>	
	<p>Page last generated on September  2, 2012</p>				
</footer>
	 </div>    
    <script type="text/javascript" src="http://platform.twitter.com/widgets.js"></script>
    <script src="/js/jquery.js"></script>
    <script src="/js/google-code-prettify/prettify.js"></script>
    <script src="/js/bootstrap-transition.js"></script>
    <script src="/js/bootstrap-alert.js"></script>
    <script src="/js/bootstrap-modal.js"></script>
    <script src="/js/bootstrap-dropdown.js"></script>
    <script src="/js/bootstrap-scrollspy.js"></script>
    <script src="/js/bootstrap-tab.js"></script>
    <script src="/js/bootstrap-tooltip.js"></script>
    <script src="/js/bootstrap-popover.js"></script>
    <script src="/js/bootstrap-button.js"></script>
    <script src="/js/bootstrap-collapse.js"></script>
    <script src="/js/bootstrap-carousel.js"></script>
    <script src="/js/bootstrap-typeahead.js"></script>
    <script src="/js/application.js"></script>
	<script src="/js/custom.js" type="text/javascript"></script>	
	
	<script type="text/javascript">
		/* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
		var disqus_shortname = 'recology'; // required: replace example with your forum shortname

		/* * * DON'T EDIT BELOW THIS LINE * * */
		(function () {
			var s = document.createElement('script'); s.async = true;
			s.type = 'text/javascript';
			s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
			(document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
		}());
	</script>
	
	<!-- Google Analytics -->
	<script type="text/javascript">

	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-28059658-1']);
	  _gaq.push(['_trackPageview']);

	  (function() {
		var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
		ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
		var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();

	</script>	
  </body>
</html>
