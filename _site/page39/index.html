<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <link href="http://gmpg.org/xfn/11" rel="profile">

  <title>
    
    Recology, R ecology
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300,400italic,400,600,700|Abril+Fatface">


  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/favicon.ico">
  <link rel="shortcut icon" href="/public/favicon.ico">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.1.0/css/font-awesome.css" rel="stylesheet">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-0f layout-reverse">

    <header class="masthead">
      <div class="masthead-inner">
        <h1>Recology</h1>
        <!-- <h1> <a href="http://recology.info/">Recology</a></h1> -->
        <p class="lead">R/etc.</p>

        <div class="colophon">
          <ul class="colophon-links">
            <li>
              <a href="/"><i class="fa fa-home fa-lg"></i></a>&nbsp;
              <a href="/about"><i class="fa fa-info-circle fa-lg"></i></a>&nbsp;
              <a href="/rresources"><i class="fa fa-book fa-lg"></i></a>&nbsp;
              <a href="http://rforcats.net/" rel><i class="fa fa-graduation-cap fa-lg"></i></a>&nbsp;
              <a href="http://feeds.feedburner.com/github/wpna"><i class="fa fa-rss fa-lg"></i></a>&nbsp;
              <a href="https://twitter.com/recology_"><i class="fa fa-twitter fa-lg"></i></a>&nbsp;
              <a href="https://alpha.app.net/intent/follow/?user_id=@recology_"><i class="fa fa-font fa-lg"></i></a>
              <a href="/fork"><i class="fa fa-spinner fa-lg"></i></a>
            </li>
          </ul>
          <!-- <small><a href="https://github.com/mdo/hyde">Hyde</a> from <a href="https://twitter.com/mdo" target="_blank">@mdo</a>.</small> -->
        </div>
      </div>
    </header>

    <div class="content container">
      <div class="posts">
  
  <div class="post">
    <h1>
      <a href="/2011/05/rhipe-package-in-r-for-interfacing-between-hadoop-and-r/">
        RHIPE package in R for interfacing between Hadoop and R
      </a>
    </h1>

    <span class="post-date">04 May 2011</span>

    <div><strong><a href="http://www.lecturemaker.com/2011/02/rhipe/#video" title="Click link to go to the video page">RHIPE: An Interface Between Hadoop and R</a></strong><br />Presented by Saptarshi Guha</div>


<p><a href="http://www.lecturemaker.com/2011/02/rhipe/#video"><img alt="Video Link" border="0" height="169" src="http://www.lecturemaker.com/lectures/RMeetUp2010/RHIPE_Lecture.jpg" title="Click image to go to the video page" width="300" /></a>          <br /><br /><br />And <a href="http://blog.piccolboni.info/2011/04/looking-for-map-reduce-language.html">this review</a> of methods for interfacing with Hadoop suggests R's RHIPE is quite nice.</p>

  </div>
  
  <div class="post">
    <h1>
      <a href="/2011/05/treebase-trees-from-r/">
        Treebase trees from R
      </a>
    </h1>

    <span class="post-date">03 May 2011</span>

    <p>UPDATE: See Carl Boettiger's functions/package at Github for searching Treebase <a href="https://github.com/ropensci/treeBASE">here</a>.</p>

<p><br /><br /><br /><br /></p>

<p>Treebase is a great resource for phylogenetic trees, and has a nice interface for searching for certain types of trees. However, if you want to simply download a lot of trees for analyses (like that in <a href="http://biology.mcgill.ca/faculty/davies/pdfs/Davies_etal_Evolution_2011.pdf">Davies et al.</a>), then you want to be able to access trees in bulk (I believe Treebase folks are working on an API though). I wrote some simple code for extracting trees from <a href="http://treebase.org/">Treebase.org</a>.<br /><br />It reads an xml file of (in this case consensus) URL's for each tree, parses the xml, makes a vector of URL's, reads the nexus files with error checking, remove trees that gave errors, then a simple plot looking at metrics of the trees.</p>

<p><br /><br /></p>

<p>Is there an easier way to do this?</p>

<p><br /><br /><br /><br /></p>

<script src="https://gist.github.com/953468.js?file=treebase_code.R"></script>


<p><br /></p>

<p><img src="http://2.bp.blogspot.com/-AaMexPVCreo/TcAW171ZBaI/AAAAAAAAEbc/bDafe7YgGcw/s320/sampetreebaseplot.png"></p>

  </div>
  
  <div class="post">
    <h1>
      <a href="/2011/04/processing-nested-lists/">
        Processing nested lists
      </a>
    </h1>

    <span class="post-date">28 Apr 2011</span>

    <p>So perhaps you have all figured this out already, but I was excited to figure out how to finally neatly get all the data frames, lists, vectors, etc. out of a nested list. It is as easy as nesting calls to the apply family of functions, in the case below, using plyr's apply like functions. Take this example:<br /><br /><br /><br /><div style="overflow: auto;"><div class="geshifilter"><pre class="r geshifilter-R"><span style="color: #666666; font-family: monospace; font-style: italic;"># Nested lists code, an example</span><br /><span style="color: #666666; font-family: monospace; font-style: italic;"># Make a nested list</span><br />mylist <span style="font-family: monospace;">&lt;-</span> <a href="http://inside-r.org/r-doc/base/list" style="font-family: monospace;"><span style="color: #003399; font-weight: bold;">list</span></a><span style="color: #009900; font-family: monospace;">(</span><span style="color: #009900; font-family: monospace;">)</span><br />mylist<em> <span style="font-family: monospace;">&lt;-</span> <a href="http://inside-r.org/r-doc/base/list" style="font-family: monospace;"><span style="color: #003399; font-weight: bold;">list</span></a><span style="color: #009900; font-family: monospace;">(</span><span style="color: #009900; font-family: monospace;">)</span><br /><span style="color: black; font-family: monospace; font-weight: bold;">for</span><span style="color: #009900; font-family: monospace;">(</span>i <span style="color: black; font-family: monospace; font-weight: bold;">in</span> <span style="color: #cc66cc; font-family: monospace;">1</span><span style="font-family: monospace;">:</span><span style="color: #cc66cc; font-family: monospace;">5</span><span style="color: #009900; font-family: monospace;">)</span> <span style="color: #009900; font-family: monospace;">{</span><br /> <span style="color: black; font-family: monospace; font-weight: bold;">for</span><span style="color: #009900; font-family: monospace;">(</span>j <span style="color: black; font-family: monospace; font-weight: bold;">in</span> <span style="color: #cc66cc; font-family: monospace;">1</span><span style="font-family: monospace;">:</span><span style="color: #cc66cc; font-family: monospace;">5</span><span style="color: #009900; font-family: monospace;">)</span> <span style="color: #009900; font-family: monospace;">{</span><br />  mylist<span style="color: #009900; font-family: monospace;">[</span><span style="color: #009900; font-family: monospace;">[</span>j<span style="color: #009900; font-family: monospace;">]</span><span style="color: #009900; font-family: monospace;">]</span> <span style="font-family: monospace;">&lt;-</span> i<span style="font-family: monospace;">*</span>j<br /> <span style="color: #009900; font-family: monospace;">}</span><br />mylist</em><span style="color: #009900; font-family: monospace;">[</span><span style="color: #009900; font-family: monospace;">[</span>i<span style="color: #009900; font-family: monospace;">]</span><span style="color: #009900; font-family: monospace;">]</span> <span style="font-family: monospace;">&lt;-</span> mylist<br /><span style="color: #009900; font-family: monospace;">}</span><br />&nbsp;<br /><span style="color: #666666; font-family: monospace; font-style: italic;"># return values from first part of list</span><br />laply<span style="color: #009900; font-family: monospace;">(</span>mylist<em><span style="color: #009900; font-family: monospace;">[</span><span style="color: #009900; font-family: monospace;">[</span><span style="color: #cc66cc; font-family: monospace;">1</span><span style="color: #009900; font-family: monospace;">]</span><span style="color: #009900; font-family: monospace;">]</span><span style="color: #339933; font-family: monospace;">,</span> <a href="http://inside-r.org/r-doc/base/identity" style="font-family: monospace;"><span style="color: #003399; font-weight: bold;">identity</span></a><span style="color: #009900; font-family: monospace;">)</span><br />[1] 1 2 3 4 5</pre><pre class="r geshifilter-R">&nbsp;<br /><span style="color: #666666; font-family: monospace; font-style: italic;"># return all values</span><br />laply<span style="color: #009900; font-family: monospace;">(</span>mylist</em><span style="color: #339933; font-family: monospace;">,</span> <a href="http://inside-r.org/r-doc/base/function" style="font-family: monospace;"><span style="color: #003399; font-weight: bold;">function</span></a><span style="color: #009900; font-family: monospace;">(</span>x<span style="color: #009900; font-family: monospace;">)</span> laply<span style="color: #009900; font-family: monospace;">(</span>x<span style="color: #339933; font-family: monospace;">,</span> <a href="http://inside-r.org/r-doc/base/identity" style="font-family: monospace;"><span style="color: #003399; font-weight: bold;">identity</span></a><span style="color: #009900; font-family: monospace;">)</span><span style="color: #009900; font-family: monospace;">)</span><br />     1  2  3  4  5<br />[1,] 1  2  3  4  5<br />[2,] 2  4  6  8 10<br />[3,] 3  6  9 12 15<br />[4,] 4  8 12 16 20<br />[5,] 5 10 15 20 25</pre><pre class="r geshifilter-R" style="font-family: monospace;">&nbsp;<br /><span style="color: #666666; font-style: italic;"># perform some function, in this case sqrt of each value</span><br />laply<span style="color: #009900;">(</span>mylist_<span style="color: #339933;">,</span> <a href="http://inside-r.org/r-doc/base/function"><span style="color: #003399; font-weight: bold;">function</span></a><span style="color: #009900;">(</span>x<span style="color: #009900;">)</span> laply<span style="color: #009900;">(</span>x<span style="color: #339933;">,</span> <a href="http://inside-r.org/r-doc/base/function"><span style="color: #003399; font-weight: bold;">function</span></a><span style="color: #009900;">(</span>x<span style="color: #009900;">)</span> <a href="http://inside-r.org/r-doc/base/sqrt"><span style="color: #003399; font-weight: bold;">sqrt</span></a><span style="color: #009900;">(</span>x<span style="color: #009900;">)</span><span style="color: #009900;">)</span><span style="color: #009900;">)</span></pre><pre class="r geshifilter-R"><span style="color: #009900;">  </span><br />        1        2        3        4        5<br />[1,] 1.000000 1.414214 1.732051 2.000000 2.236068<br />[2,] 1.414214 2.000000 2.449490 2.828427 3.162278<br />[3,] 1.732051 2.449490 3.000000 3.464102 3.872983<br />[4,] 2.000000 2.828427 3.464102 4.000000 4.472136<br />[5,] 2.236068 3.162278 3.872983 4.472136 5.000000<br /></pre></div></div><br /><br /><a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org">Created by Pretty R at inside-R.org</a></p>

  </div>
  
</div>

<!-- Pagination links -->
<div class="pagination">
  
    <a href="/page40" class="older">Older</a>
  
  
    
      <a href="/page38" class="newer">Newer</a>
    
  
</div>
    </div>

  </body>

  <footer>  
  <!-- Disqus code -->
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'recology'; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function () {
          var s = document.createElement('script'); s.async = true;
          s.type = 'text/javascript';
          s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
          (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
      }());
  </script>

  <!-- Gaug.es Analytics -->
  <script type="text/javascript">
    var _gauges = _gauges || [];
    (function() {
      var t   = document.createElement('script');
      t.type  = 'text/javascript';
      t.async = true;
      t.id    = 'gauges-tracker';
      t.setAttribute('data-site-id', '4efd83a6f5a1f5158a000004');
      t.src = '//secure.gaug.es/track.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(t, s);
    })();
  </script>
</footer>
</html>
