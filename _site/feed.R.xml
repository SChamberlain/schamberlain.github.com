<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0">
	<channel>
		<title>Recology - R</title>
		<description>Posts tagged as 'R'</description>
		<link>http://schamberlain.github.com</link>
		
			<item>
				<title>One R package for all your taxonomic needs</title>
				<description>&lt;p&gt;Getting taxonomic information for the set of species you are studying can be a pain in the ass. You have to manually type, or paste in, your species one-by-one. Or, if you are lucky, there is a web service in which you can upload a list of species. Encyclopedia of Life (EOL) has a service where you can do this &lt;a href=&quot;http://gni.globalnames.org/parsers/new&quot;&gt;here&lt;/a&gt;. But is this reproducible? No. &lt;/p&gt;

&lt;p&gt;Getting your taxonomic information for your species can now be done programatically in R. Do you want to get taxonomic information from ITIS. We got that. Tropicos? We got that too. uBio? No worries, we got that. What about theplantlist.org? Yep, got that. Encyclopedia of Life? Indeed. What about getting sequence data for a taxon? Oh hell yeah, you can get sequences available for a taxon across all genes, or get all records for a taxon for a specific gene. &lt;/p&gt;

&lt;p&gt;Of course this is all possible because these data providers have open APIs so that we can facilitate your computer talking to their database. Fun! &lt;/p&gt;

&lt;p&gt;Why get your taxonomic data programatically? Because it&amp;rsquo;s 1) faster than by hand in web sites/looking up in books, 2) reproducible, especially if you share your code (damnit!), and 3) you can easily mash up your new taxonomic data to get sequences to build a phylogeny, etc.&lt;/p&gt;

&lt;p&gt;I&amp;rsquo;ll give a few examples of using &lt;code&gt;taxize&lt;/code&gt; based around use cases, that is, stuff someone might actually do instead of what particular functions do.&lt;/p&gt;

&lt;h3 id=&quot;install-packages--you-can-get-from-cran-or-github&quot;&gt;Install packages.  You can get from CRAN or GitHub.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;h3 id=&quot;attach-family-names-to-a-list-of-species-i-often-have-a-list-of-species-that-i-studied-and-simply-want-to-get-their-family-names-to-for-example-make-a-table-for-the-paper-im-writing&quot;&gt;Attach family names to a list of species. I often have a list of species that I studied and simply want to get their family names to, for example, make a table for the paper I&amp;rsquo;m writing.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;h3 id=&quot;resolve-taxonomic-names-this-is-a-common-use-case-for-ecologistsevolutionary-biologists-or-at-least-should-be-that-is-species-names-you-have-for-your-own-data-or-when-using-others-data-could-be-old-names---and-if-you-need-the-newest-names-for-your-species-list-how-can-you-make-this-as-painless-as-possible-you-can-query-taxonomic-data-from-many-different-sources-with-taxize&quot;&gt;Resolve taxonomic names. This is a common use case for ecologists/evolutionary biologists, or at least should be. That is, species names you have for your own data, or when using other&amp;rsquo;s data, could be old names - and if you need the newest names for your species list, how can you make this as painless as possible? You can query taxonomic data from many different sources with &lt;code&gt;taxize&lt;/code&gt;.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;h3 id=&quot;i-often-want-the-full-taxonomic-hierarchy-for-a-set-of-species-that-is-give-me-the-family-order-class-etc-for-my-list-of-species-there-are-two-different-easy-ways-to-do-this-with-taxize-the-first-example-uses-eol&quot;&gt;I often want the full taxonomic hierarchy for a set of species. That is, give me the family, order, class, etc. for my list of species. There are two different easy ways to do this with &lt;code&gt;taxize&lt;/code&gt;. The first example uses EOL.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;h2 id=&quot;and-getting-a-taxonomic-hierarchy-using-itis&quot;&gt;And getting a taxonomic hierarchy using ITIS.&lt;/h2&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;h3 id=&quot;while-you-are-at-doing-taxonomic-stuff-you-often-wonder-hmmm-i-wonder-if-there-are-any-sequence-data-available-for-my-species-so-you-can-use-getseqs-to-search-for-specific-genes-for-a-species-and-getgenesavail-to-find-out-what-genes-are-available-for-a-certain-species&quot;&gt;While you are at doing taxonomic stuff, you often wonder &amp;ldquo;hmmm, I wonder if there are any sequence data available for my species?&amp;rdquo; So, you can use &lt;code&gt;get_seqs&lt;/code&gt; to search for specific genes for a species, and &lt;code&gt;get_genes_avail&lt;/code&gt; to find out what genes are available for a certain species.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;#### Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/blob/master/_drafts/2012-11-06-taxize.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/tree/master/_posts/2012-11-06-taxize.md&quot;&gt;.md file&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</description>
				<published>Thu Dec 06 00:00:00 -0800 2012</published>
				<link>http://schamberlain.github.com/2012/12/taxize/</link>
			</item>
		
			<item>
				<title>Displaying Your Data in Google Earth Using R2G2</title>
				<description>&lt;p&gt;Have you ever wanted to easily visualize your ecology data in &lt;a href=&quot;http://earth.google.com&quot;&gt;Google Earth&lt;/a&gt;?  &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt; is a new package for R, available via &lt;a href=&quot;http://cran.r-project.org/&quot;&gt;R CRAN&lt;/a&gt; and formally described in &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/1755-0998.12012/abstract&quot;&gt;this Molecular Ecology Resources article&lt;/a&gt;, which provides a user-friendly bridge between R and the Google Earth interface.  Here, we will provide a brief introduction to the package, including a short tutorial, and then encourage you to try it out with your own data!&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://barkerlab.net/nils.html&quot;&gt;Nils Arrigo&lt;/a&gt;, with some help from &lt;a href=&quot;http://portal.environment.arizona.edu/students/profiles/loren-albert&quot;&gt;Loren Albert&lt;/a&gt;, &lt;a href=&quot;http://barkerlab.net/mike.html&quot;&gt;Mike Barker&lt;/a&gt;, and Pascal Mickelson (one of the contributors to &lt;a href=&quot;http://schamberlain.github.com/about.html&quot;&gt;Recology&lt;/a&gt;), has created a set of R tools to generate KML files to view data with geographic components.  Instead of just telling you what the tools can do, though, we will show you a couple of examples using publically available data.  Note: a number of individual files are linked to throughout the tutorial below, but just in case you would rather download all the tutorial files in one go, have at it (&lt;a href=&quot;/img/R2G2tutorial/R2G2tutorial.zip&quot;&gt;tutorial zip file&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Among the basic tools in &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt; is the ability to place features—like dots, shapes, or images (including plots you produced in R)— that represent discrete observations at specific geographical locations.  For example, in the figure below, we show the migratory path of a particular turkey vulture in autumn of three successive years (red = 2009; blue = 2010; green = 2011).  &lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/img/R2G2tutorial/Vulture_Path.jpg&quot; alt=&quot;Google Earth image with three successive years of a particular turkey vulture's migration&quot; width=&quot;800&quot; /&gt;&lt;br /&gt;
&lt;small&gt;Google Earth imagery showing migratory path of a particular turkey vulture in 2009, 2010, and 2011.&lt;/small&gt;
&lt;/div&gt;

&lt;p&gt;We use the &lt;em&gt;PolyLines2GE&lt;/em&gt; function that is part of &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt; to create line segments between the geographical coordinates which have been obtained from a turkey vulture tagged with a transponder (data accessed via the &lt;a href=&quot;http://movebank.org/&quot;&gt;Movebank Data Repository&lt;/a&gt; and is from the &lt;a href=&quot;http://movebank.org/movebank/#page%3Dstudies%2Cpath%3Dstudy481458&quot;&gt;Turkey Vulture Acopian Center USA GPS&lt;/a&gt;).  The &lt;em&gt;PolyLines2GE&lt;/em&gt; function looks like the following:  &lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name  &lt;/p&gt;

&lt;p&gt;It expects to receive an array (&amp;ldquo;coords&amp;rdquo;) containing latitude and longitude coordinates in decimal degrees. Additionally, each individual coordinate has a flag associated with it (&amp;ldquo;nesting&amp;rdquo;) so that each data series can be distinguished.  Illustrating what you need is easier than explaining:
Liquid error: Invalid command name
Feeding the columns of this array to the function results in three differently colored lines:  the first would connect the coordinates 1A-1B-1C, while the second would connect 2A-2B, and the third would connect 3A-3B-3C.  The only other user-defined input that is strictly necessary is the output file name (&amp;ldquo;Vulture_Path.kml&amp;rdquo; in this case).  The other options—which allow you control of the appearance of the lines and of the altitude at which your line displays in Google Earth—have reasonable defaults that are well-documented in the function definition itself.  Check out this example in Google Earth &lt;a href=&quot;/img/R2G2tutorial/Vulture_Path.kml&quot;&gt;by downloading the KML file&lt;/a&gt;.  Alternatively, &lt;a href=&quot;/img/R2G2tutorial/Vulture_Path.R&quot;&gt;download the annotated R script&lt;/a&gt; and generate the KML file for yourself.&lt;/p&gt;

&lt;p&gt;Now, let&amp;rsquo;s say you wanted to get a sense of the range and abundance of two congeneric species.  In this second example, we use the &lt;em&gt;Hist2GE&lt;/em&gt; function to create a histogram—overlaid on the surface of the earth—which shows the species distribution of &lt;em&gt;Mimulus lewisii&lt;/em&gt; (red) and &lt;em&gt;Mimulus nasutus&lt;/em&gt; (blue) in North America.  &lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/img/R2G2tutorial/Mimulus_Distribution.jpg&quot; alt=&quot;Google Earth image showing the distribution of Mimulus in North America&quot; width=&quot;800&quot; /&gt;&lt;br /&gt;
&lt;small&gt;Google Earth imagery showing the species distribution of &lt;em&gt;Mimulus lewisii&lt;/em&gt; and &lt;em&gt;Mimulus nasutus&lt;/em&gt;&lt;/small&gt;
&lt;/div&gt;

&lt;p&gt;As you might expect, each polygon represents an occurrence of the species in question, while the height of the polygon represents the abundance of the species at that geographic location.  Species occurring within a particular distance of each other have been grouped together for the histogram.  For this example, we retrieve data from the &lt;a href=&quot;http://data.gbif.org/&quot;&gt;GBIF&lt;/a&gt; database from within R (see the example code for how that is done).  Inputs to the Hist2GE function are:
Liquid error: Invalid command name
As in the first example, the function expects to receive an array containing the longitude and latitude (&amp;ldquo;coords&amp;rdquo;), a vector distinguishing individual observations (&amp;ldquo;species&amp;rdquo;), and an output file name (&amp;ldquo;goo&amp;rdquo;).  In this case, however, we also need to specify the size of the grid we will use to group observations together to construct the histogram.  Several pre-defined grid sizes are included in the package to do this grouping; these all cover large geographic areas and therefore must account for the curvature of the earth.  Here is a list of these pre-defined grids:&lt;/p&gt;

&lt;table border=&quot;1&quot;&gt;
    &lt;tr&gt;&lt;th&gt;Grid Name&lt;/th&gt;&lt;th&gt;Approximate Area of Grid Division &lt;/th&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;grid20000&lt;/td&gt;&lt;td&gt;25,500 sq. km&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;grid10000&lt;/td&gt;&lt;td&gt;51,000 sq. km&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;grid5000&lt;/td&gt;&lt;td&gt;102,000 sq. km&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;grid500&lt;/td&gt;&lt;td&gt;1,020,000 sq. km&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;grid50&lt;/td&gt;&lt;td&gt;10,200,000 sq. km&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

&lt;p&gt;For smaller geographic areas (less than 25,000 square kilometers, or an area of about 158 km per side), you can customize the grid size by specifying the bounds of your region of interest in decimal degrees, as well as the coarseness of the grid within that region.  While it is possible to use this custom grid definition for larger sizes, beware that not all areas defined thusly will be of equal size due to the earth&amp;rsquo;s curvature (obviously the bigger you go, the worse it gets&amp;hellip;).  Finally, you again have control over the display parameters of the histogram.  In particular, the maximum altitude (&amp;ldquo;maxAlt&amp;rdquo;) controls how high the tallest bar in the histogram will go.  Here is &lt;a href=&quot;/img/R2G2tutorial/Mimulus_Distribution.kml&quot;&gt;the resulting KML file&lt;/a&gt;, as well as &lt;a href=&quot;/img/R2G2tutorial/Mimulus_Distribution.R&quot;&gt;the annotated R script&lt;/a&gt; so you can further explore the example.&lt;/p&gt;

&lt;p&gt;More complex visual representations are also possible using &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt;.  For instance, you can also create contour plots or phylogenies overlaid directly on the surface of the earth.  We included a couple examples of this type in &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/1755-0998.12012/abstract&quot;&gt;our Molecular Ecology Resources article&lt;/a&gt;, and if the response seems good, we may post a follow up tutorial showing how we went about creating those examples.&lt;/p&gt;

&lt;p&gt;It is our sincere hope that you will use the tools in &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt; to more effectively visualize the geographical aspects of your data.  In particular, we are excited about the potential for incorporating &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt; into data analysis pipelines connecting analysis in R with data visualization and exploration in Google Earth.  Ultimately, the inclusion of KML files as supplementary materials to journal articles should also enrich one&amp;rsquo;s understanding of the data being presented!&lt;/p&gt;

&lt;p&gt;&lt;big&gt;&lt;b&gt;Note:  If you make something cool using &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt;, please post a link to your KML file in the comments; we would love to see!&lt;/b&gt;&lt;/big&gt;&lt;/p&gt;

&lt;p&gt;Citation information for &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt;:&lt;br /&gt;
&lt;em&gt;Arrigo, N., Albert, L. P., Mickelson, P. G. and Barker, M. S. (2012), Quantitative visualization of biological data in Google Earth using R2G2, an R CRAN package. Molecular Ecology Resources. doi: 10.1111/1755-0998.12012&lt;/em&gt;&lt;/p&gt;

</description>
				<published>Wed Oct 24 00:00:00 -0700 2012</published>
				<link>http://schamberlain.github.com/2012/10/R2G2-package/</link>
			</item>
		
			<item>
				<title>Getting taxonomic names downstream</title>
				<description>&lt;p&gt;It can be a pain in the ass to get taxonomic names. For example, I sometimes need to get all the Class names for a set of species.  This is a relatively easy problem using the &lt;a href=&quot;http://www.itis.gov/ws_description.html&quot;&gt;ITIS API&lt;/a&gt; (example below).  &lt;/p&gt;

&lt;p&gt;The much harder problem is getting all the taxonomic names downstream. ITIS doesn&amp;rsquo;t provide an API method for this - well, they do (&lt;a href=&quot;http://www.itis.gov/ws_hierApiDescription.html#getHierarchyDn&quot;&gt;&lt;code&gt;getHirerachyDownFromTSN&lt;/code&gt;&lt;/a&gt;), but it only provides direct children (e.g., the genera within a tribe - but it won&amp;rsquo;t give all the species within each genus).  &lt;/p&gt;

&lt;p&gt;So in the &lt;code&gt;taxize&lt;/code&gt; package, we wrote a function called &lt;code&gt;downstream&lt;/code&gt;, which allows you to get taxonomic names to any downstream point, e.g.:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;get all Classes within Animalia,&lt;/li&gt;
  &lt;li&gt;get all Species within a Family&lt;/li&gt;
  &lt;li&gt;etc.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;install-packages--you-can-get-other-packages-from-cran-but-taxize-is-only-on-github-for-now&quot;&gt;Install packages.  You can get other packages from CRAN, but taxize is only on GitHub for now.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;h3 id=&quot;get-upstream-taxonomic-names&quot;&gt;Get upstream taxonomic names.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;h3 id=&quot;get-taxonomc-names-downstream&quot;&gt;Get taxonomc names downstream.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;#### Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/blob/master/_drafts/2012-10-16-get-taxa-downstream.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/tree/master/_posts/2012-10-16-get-taxa-downstream.md&quot;&gt;.md file&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</description>
				<published>Tue Oct 16 00:00:00 -0700 2012</published>
				<link>http://schamberlain.github.com/2012/10/get-taxa-downstream/</link>
			</item>
		
			<item>
				<title>Exploring phylogenetic tree balance metrics</title>
				<description>&lt;p&gt;I need to simulate balanced and unbalanced phylogenetic trees for some research I am doing.  In order to do this, I do rejection sampling: simulate a tree -&amp;gt; measure tree shape -&amp;gt; reject if not balanced or unbalanced &lt;strong&gt;enough&lt;/strong&gt;.  But what is enough?  We need to define some cutoff value to determine what will be our set of balanced and unbalanced trees. &lt;/p&gt;

&lt;h3 id=&quot;a-function-to-calculate-shape-metrics-and-a-custom-theme-for-plottingn-phylogenies&quot;&gt;A function to calculate shape metrics, and a custom theme for plottingn phylogenies.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;h3 id=&quot;simulate-some-trees&quot;&gt;Simulate some trees&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;h3 id=&quot;calculate-colless-shape-metric-on-each-tree&quot;&gt;Calculate Colless&amp;rsquo; shape metric on each tree&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;h3 id=&quot;create-a-distribution-of-the-metric-values&quot;&gt;Create a distribution of the metric values&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/collesshist.png&quot; alt=&quot;center&quot; /&gt; &lt;/p&gt;

&lt;h3 id=&quot;create-phylogenies-representing-balanced-and-unbalanced-trees-using-the-custom-theme&quot;&gt;Create phylogenies representing balanced and unbalanced trees (using the custom theme)&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/collessphylog.png&quot; alt=&quot;center&quot; /&gt; &lt;/p&gt;

&lt;h3 id=&quot;now-put-it-all-together-in-one-plot-using-some-gridextra-magic&quot;&gt;Now, put it all together in one plot using some gridExtra magic.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/collessall.png&quot; alt=&quot;center&quot; /&gt; &lt;/p&gt;

&lt;h3 id=&quot;and-the-same-for-gamma-stat-which-measures-the-distribution-of-nodes-in-time&quot;&gt;And the same for Gamma stat, which measures the distribution of nodes in time.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/gammaall.png&quot; alt=&quot;center&quot; /&gt; &lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;#### Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/blob/master/_drafts/2012-10-10-phylogenetic-tree-balance.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/tree/master/_posts/2012-10-10-phylogenetic-tree-balance.md&quot;&gt;.md file&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</description>
				<published>Wed Oct 10 00:00:00 -0700 2012</published>
				<link>http://schamberlain.github.com/2012/10/phylogenetic-tree-balance/</link>
			</item>
		
			<item>
				<title>GBIF biodiversity data from R - more functions</title>
				<description>&lt;h4 id=&quot;update-in-response-to-jarretts-query-i-laid-out-a-separate-use-case-in-which-you-may-want-to-query-by-higher-taxonomic-rankings-than-species-see-below--in-addition-added-examples-of-querying-by-location-in-reply-to-comments-by-seminym&quot;&gt;UPDATE: In response to Jarrett&amp;rsquo;s query I laid out a separate use case in which you may want to query by higher taxonomic rankings than species. See below.  In addition, added examples of querying by location in reply to comments by seminym.&lt;/h4&gt;

&lt;hr /&gt;

&lt;p&gt;We have been working on an R package to get GBIF data from R, with the stable version available through CRAN &lt;a href=&quot;URL&quot;&gt;here&lt;/a&gt;, and the development version available on GitHub &lt;a href=&quot;http://github.com/rgbif&quot;&gt;here&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;We had a Google Summer of code stuent work on the package this summer - you can see his work on the package over at his GitHub page &lt;a href=&quot;&quot;&gt;here&lt;/a&gt;.  We have added some new functionality since his work, and would like to show it off. &lt;/p&gt;

&lt;h3 id=&quot;lets-install-rgbif-first&quot;&gt;Lets install rgbif first.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;h3 id=&quot;get-taxonomic-information-on-a-specific-taxon-or-taxa-in-gbif-by-their-taxon-concept-keys&quot;&gt;Get taxonomic information on a specific taxon or taxa in GBIF by their taxon concept keys.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;h3 id=&quot;the-occurrencedensity-function-was-renamed-to-densitylist-because-it-is-in-the-density-api-service-not-the-occurrence-api-service--you-can-use-densitylist-to-get-a-dataframe-of-total-occurrence-counts-by-one-degree-cell-for-a-single-taxon-country-dataset-data-publisher-or-data-network--just-a-quick-reminder-of-what-the-function-can-do&quot;&gt;The &lt;code&gt;occurrencedensity&lt;/code&gt; function was renamed to &lt;code&gt;densitylist&lt;/code&gt; because it is in the &lt;code&gt;density&lt;/code&gt; API service, not the &lt;code&gt;occurrence&lt;/code&gt; API service.  You can use &lt;code&gt;densitylist&lt;/code&gt; to get a data.frame of total occurrence counts by one-degree cell for a single taxon, country, dataset, data publisher or data network.  Just a quick reminder of what the function can do:&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;h3 id=&quot;using-a-related-function-densityspplist-you-can-get-a-species-list-by-one-degree-cell-as-well&quot;&gt;Using a related function, &lt;code&gt;density_spplist&lt;/code&gt;, you can get a species list by one-degree cell as well.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;h3 id=&quot;you-can-now-map-point-results-from-fxns-occurrencelist-and-those-from-densitylist-which-plots-them-as-points-or-as-tiles-respectively--point-map-using-output-from-occurrencelist&quot;&gt;You can now map point results, from fxns &lt;code&gt;occurrencelist&lt;/code&gt; and those from &lt;code&gt;densitylist&lt;/code&gt;, which plots them as points or as tiles, respectively.  Point map, using output from occurrencelist.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/gbifmap1.png&quot; alt=&quot;center&quot; /&gt; &lt;/p&gt;

&lt;h3 id=&quot;point-map-using-output-from-occurrencelist-with-many-species-plotted-as-different-colors&quot;&gt;Point map, using output from occurrencelist, with many species plotted as different colors&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/gbifmap2.png&quot; alt=&quot;center&quot; /&gt; &lt;/p&gt;

&lt;h3 id=&quot;tile-map-using-output-from-densitylist-using-results-in-canada-only&quot;&gt;Tile map, using output from densitylist, using results in Canada only.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/gbifmap31.png&quot; alt=&quot;center&quot; /&gt; &lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/gbifmap32.png&quot; alt=&quot;NA&quot; /&gt; &lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;we-can-also-query-by-higher-taxonomic-rankings-and-map-all-lower-species-within-that-ranking-above-we-queried-by-scientificname-but-we-can-also-query-by-higher-taxonomy-7071443-is-the-taxonconceptkey-for-bacillariophyceae-a-class-which-includes-many-lower-species&quot;&gt;We can also query by higher taxonomic rankings, and map all lower species within that ranking. Above we queried by scientificname, but we can also query by higher taxonomy. 7071443 is the taxonconceptkey for &amp;lsquo;Bacillariophyceae&amp;rsquo;, a Class which includes many lower species.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/algae.png&quot; alt=&quot;center&quot; /&gt; &lt;/p&gt;

&lt;h3 id=&quot;seminym-asked-about-querying-by-area-you-can-query-by-area-though-slightly-differently-for-occurrencelist-and-densitylist-functions-for-occurrencelist-you-can-search-using-min-and-max-lat-and-long-values-and-min-an-max-altitude-pretty-cool-eh&quot;&gt;seminym asked about querying by area. You can query by area, though slightly differently for occurrencelist and densitylist functions. For occurrencelist you can search using min and max lat and long values (and min an max altitude, pretty cool, eh).&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/byarea_occurr1.png&quot; alt=&quot;center&quot; /&gt; &lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/byarea_occurr2.png&quot; alt=&quot;NA&quot; /&gt; &lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/byarea_occurr3.png&quot; alt=&quot;NA&quot; /&gt; &lt;/p&gt;

&lt;h3 id=&quot;and-you-can-query-by-area-in-densitylist-by-specifying-a-place-using-the-originisocountrycode-argument-as-done-in-an-above-example--just-showing-the-head-of-the-dataframe-here&quot;&gt;And you can query by area in &lt;code&gt;densitylist&lt;/code&gt; by specifying a place using the &lt;code&gt;originisocountrycode&lt;/code&gt; argument (as done in an above example).  Just showing the head of the data.frame here.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;#### Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/blob/master/_drafts/2012-10-08-rgbif-newfxns.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/tree/master/_posts/2012-10-08-rgbif-newfxns.md&quot;&gt;.md file&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</description>
				<published>Mon Oct 08 00:00:00 -0700 2012</published>
				<link>http://schamberlain.github.com/2012/10/rgbif-newfxns/</link>
			</item>
		
			<item>
				<title>Vertnet - getting vertebrate museum record data and a quick map</title>
				<description>&lt;p&gt;We (&lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt;) started a repo to wrap the API for &lt;a href=&quot;http://vertnet.org/index.php&quot;&gt;VertNet&lt;/a&gt;, an open access online database of vertebrate specimen records across many collection holders. Find the open source code &lt;a href=&quot;https://github.com/ropensci/rvertnet&quot;&gt;here&lt;/a&gt; - please contribute if you are so inclined.  We had a great Google Summer of Code student, &lt;a href=&quot;http://vijaybarve.wordpress.com/&quot;&gt;Vijay Barve&lt;/a&gt; contributing to the repo this summer, so it is getting close to being CRAN-able. &lt;/p&gt;

&lt;p&gt;Most of the functions in the repo get you the raw data, but there were no functions to visualize the data.  Since much of the data records of latitude and longitude data, maps are a natural visualization to use.  &lt;/p&gt;

&lt;p&gt;What follows is a quick example of using the basic &lt;code&gt;vertmap&lt;/code&gt; function.&lt;/p&gt;

&lt;h3 id=&quot;first-lets-install-rvertnet&quot;&gt;First, let&amp;rsquo;s install &lt;code&gt;rvertnet&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;h3 id=&quot;first-lets-get-some-data-using-vertoccurrence&quot;&gt;First, let&amp;rsquo;s get some data using &lt;code&gt;vertoccurrence&lt;/code&gt;&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;h3 id=&quot;now-map-it-using-vertmap--this-is-a-very-basic-function-it-simply-cleans-up-the-input-dataframe-removing-rows-without-latlong-data-and-providing-warnings-when-the-input-dataframe-is-not-in-the-correct-format--vertmap-uses-the-ggplot2-framework-for-the-map--if-you-want-to-make-you-own-map-please-do-so----this-is-just-a-simple-fxn-to-get-you-started-if-you-want-to-take-a-quick-look-at-the-data&quot;&gt;Now map it using &lt;code&gt;vertmap&lt;/code&gt;.  This is a very basic function: it simply cleans up the input data.frame, removing rows without lat/long data, and providing warnings when the input data.frame is not in the correct format.  &lt;code&gt;vertmap&lt;/code&gt; uses the &lt;code&gt;ggplot2&lt;/code&gt; framework for the map.  If you want to make you own map please do so -  this is just a simple fxn to get you started if you want to take a quick look at the data.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/vertmap.png&quot; alt=&quot;center&quot; /&gt; &lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;#### Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/blob/master/_drafts/2012-09-19-rvertnet.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/tree/master/_posts/2012-09-19-rvertnet.md&quot;&gt;.md file&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr-and-nice-knitr-highlightingetc-in-in-rstudiohttprstudioorg&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h4&gt;
</description>
				<published>Wed Sep 19 00:00:00 -0700 2012</published>
				<link>http://schamberlain.github.com/2012/09/rvertnet/</link>
			</item>
		
			<item>
				<title>Getting data from figures in published papers</title>
				<description>&lt;h2 id=&quot;the-problem&quot;&gt;The problem:&lt;/h2&gt;
&lt;p&gt;There are a lot of figures in published papers in the scholarly literature, like the below, from (Attwood &lt;em&gt;et. al.&lt;/em&gt; 2012)):  &lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/getfig2.png&quot; alt=&quot;alt text&quot; /&gt;&lt;/p&gt;

&lt;p&gt;At some point, a scientist wants to ask a question for which they can synthesize the knowledge on that question by collecting data from the published literature.  This often requires something like the following workflow:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Search for relevant papers (e.g., via Google Scholar).&lt;/li&gt;
  &lt;li&gt;Collect the papers.&lt;/li&gt;
  &lt;li&gt;Decide which are appropriate for inclusion.&lt;/li&gt;
  &lt;li&gt;Collect data from the figures using software on a native application.  Examples include &lt;a href=&quot;http://www.arizona-software.ch/graphclick/&quot;&gt;GraphClick&lt;/a&gt; and &lt;a href=&quot;http://rsbweb.nih.gov/ij/&quot;&gt;ImageJ&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;Proof data. &lt;/li&gt;
  &lt;li&gt;Analyze data &amp;amp; publish paper. &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;This workflow needs revamping, particularly in step number 3 - collecting the data.  This data remains private, moving from one closed source (original publication) to another (personal computer).  We can surely do better.&lt;/p&gt;

&lt;h2 id=&quot;a-solution&quot;&gt;A solution&lt;/h2&gt;
&lt;p&gt;The data collection process (Step 3 above) can make use of modern technology, and be based in the browser. Some benefits of a browser based data collection approach:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Cross-platform: a data digitization program that lives in the browser can be more easily cross-platform (Linux/Mac/Windows) than a native app. &lt;/li&gt;
  &lt;li&gt;Linked data: with the increasing abundance of APIs (application programming interfaces), we can link the data going into this app to anything of interest.  This is not so easy in a native app. &lt;/li&gt;
  &lt;li&gt;Automatic updates: a web based browser can be updated easily without requiring a user to go get updates. &lt;/li&gt;
  &lt;li&gt;User-based: a web based browser can easily integrate secure user login so that users can be associated with data collected, allowing for quantification of user-based error, and eventually user based scores/badges/etc. if so desired.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;For those concerned about a browser based approach to data collection from figures, it will likely be possible to make it work offline as well, then send data up to servers when connected to the web again. &lt;/p&gt;

&lt;p&gt;What would be great about having data be public by default is that the work would be reproducible easily, at least on the data side of things. Hopefully the researchers would make all their code available publicly to recreate their analyses. &lt;/p&gt;

&lt;h2 id=&quot;question-why-would-this-idea-work&quot;&gt;Question: Why would this idea work?&lt;/h2&gt;
&lt;p&gt;Better question: Why wouldn’t it work!&lt;/p&gt;

&lt;p&gt;I think this idea could be awesome.  The reason I think it could be is based on two observations: &lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;There is a seemingly endless supply of academic papers with figures in them from which data can be extracted.**&lt;/li&gt;
  &lt;li&gt;There is increasing use of meta-analysis in science, which is fed by just this kind of data. &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;** p.s. in the future, perhaps we will move to all SVG format figures or something even better, in which case data can be extracted from the underlying XML&lt;/p&gt;

&lt;h2 id=&quot;okay-maybe-its-a-good-idea-but-who-owns-the-data-in-figures-in-published-papers&quot;&gt;Okay, maybe it&amp;rsquo;s a good idea, but who owns the data in figures in published papers?&lt;/h2&gt;
&lt;p&gt;As far as I know, and I&amp;rsquo;ve checked with a few knowledgeable people, no one owns this data. So it&amp;rsquo;s ripe for the digitizing!&lt;/p&gt;

&lt;h2 id=&quot;open-access&quot;&gt;Open access&lt;/h2&gt;
&lt;p&gt;I want this project to be totally open access (and I hope you do too).  I love models like GitHub where everything is public by default (unless you are an enterprise user, exceptions, exceptions), and I think that is what this requires.  You may be thinking though: &amp;ldquo;But I am collecting data for my meta-analysis and I don&amp;rsquo;t want to share the data with anyone else&amp;rdquo;.  My answer: &amp;ldquo;I understand where you are coming from, but it doesn&amp;rsquo;t seem very likely that someone will be asking the exact same question as you and be looking for the data from the exact same papers&amp;rdquo;.  There will just be a huge database of data from figures, and all the appropriate metadata of course.  Anyone should be able to use this.&lt;/p&gt;

&lt;h2 id=&quot;apis&quot;&gt;APIs&lt;/h2&gt;
&lt;p&gt;It would be great to build this from the start having an API in mind.  That is, how do we need to structure the data to be easily served up in an API to other websites, or pulled down to someone&amp;rsquo;s local machine within Python or R to do data manipulation, analysis, and visualization?  We are going to need a key-value store database, such as MongoDB/CouchDB because ideally at least we would store the data collected, the figure itself, use information, etc. &lt;/p&gt;

&lt;h2 id=&quot;what-is-being-done-about-this&quot;&gt;What is being done about this?&lt;/h2&gt;
&lt;p&gt;I was fortunate enough to tag along with &lt;a href=&quot;http://emhart.github.com/&quot;&gt;Ted Hart&lt;/a&gt;, a postdoc at &lt;a href=&quot;PUTINLINKHERE&quot;&gt;UBC&lt;/a&gt;, on a recently submitted NCEAS working group proposal. Who knows if we&amp;rsquo;ll get it, but we are already working on a prototype, so we will hit the ground running if we get funded, and just hit the ground, but walk a bit slower if we don&amp;rsquo;t get the funding. &lt;/p&gt;

&lt;h2 id=&quot;what-could-this-be-in-the-future&quot;&gt;What could this be in the future?&lt;/h2&gt;
&lt;p&gt;At least in my mind, I think of this idea going the direction of gamification, including points, badges, etc., sort of like &lt;a href=&quot;http://fold.it/portal/&quot;&gt;FoldIt&lt;/a&gt; or &lt;a href=&quot;http://www.galaxyzoo.org/&quot;&gt;GalaxyZoo&lt;/a&gt;.  At first we need alpha-, then beta-testers, which I imagine will most likely be academics exracting data for a meta-analysis for example.  But in the future, it would be great to make the interface enjoyable enough to attract non-academics, which could greatly increase the speed of data collection. &lt;/p&gt;

&lt;p&gt;Once there are a lot of people collecting data we can get many data points for every single data point in a graph.  Whereas right now, someone clicks on each data point in a graph one, maybe two times if they are lucky.  In the future, we could have ten different users clicking on each mean and each error bar in each graph.  So exciting!  The following figure illustrates this. &lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/clicks.png&quot; alt=&quot;center&quot; /&gt; &lt;/p&gt;

&lt;h2 id=&quot;what-do-you-think&quot;&gt;What do you think?&lt;/h2&gt;
&lt;p&gt;Is this idea totally insane?  Is it do-able?  Is it worth doing?&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;#### Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/blob/master/_drafts/2012-09-18-getting-data.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/tree/master/_posts/2012-09-18-getting-data.md&quot;&gt;.md file&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr-and-nice-knitr-highlightingetc-in-in-rstudiohttprstudioorg&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h4&gt;

&lt;hr /&gt;
&lt;p&gt;#### References&lt;/p&gt;
&lt;p&gt;Attwood AS, Scott-Samuel NE, Stothart G, Munafò MR and Laks J (2012).
&amp;ldquo;Glass Shape Influences Consumption Rate For Alcoholic Beverages.&amp;rdquo;
&lt;em&gt;Plos One&lt;/em&gt;, &lt;b&gt;7&lt;/b&gt;.
&lt;a href=&quot;http://dx.doi.org/10.1371/journal.pone.0043007&quot;&gt;http://dx.doi.org/10.1371/journal.pone.0043007&lt;/a&gt;.

&lt;/p&gt;
</description>
				<published>Tue Sep 18 00:00:00 -0700 2012</published>
				<link>http://schamberlain.github.com/2012/09/getting-data/</link>
			</item>
		
			<item>
				<title>Scholarly metadata from R</title>
				<description>&lt;p&gt;Metadata!  Metadata is very cool.  It&amp;rsquo;s super hot right now - everybody is talking about it.  Okay, maybe not everyone, but it&amp;rsquo;s an important part of archiving scholarly work. &lt;/p&gt;

&lt;p&gt;We are working on &lt;a href=&quot;https://github.com/ropensci/rmetadata&quot;&gt;a repo on GitHub &lt;code&gt;rmetadata&lt;/code&gt;&lt;/a&gt; to be a one stop shop for querying metadata from around the web.  Various repos on GitHub we have started - &lt;a href=&quot;https://github.com/ropensci/rpmc&quot;&gt;rpmc&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rpmc&quot;&gt;rdatacite&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rpmc&quot;&gt;rdryad&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rpmc&quot;&gt;rpensoft&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rpmc&quot;&gt;rhindawi&lt;/a&gt; - will at least in part be folded into &lt;code&gt;rmetadata&lt;/code&gt;.  &lt;/p&gt;

&lt;p&gt;As a start we are writing functions to hit any metadata services that use the &lt;a href=&quot;http://www.openarchives.org/OAI/openarchivesprotocol.html&quot;&gt;OAI-PMH: &amp;ldquo;Open Archives Initiative Protocol for Metadata Harvesting&amp;rdquo;&lt;/a&gt; framework.  &lt;code&gt;OAI-PMH&lt;/code&gt; has six methods (or verbs as they are called) for data harvesting that are the same across different metadata providers: &lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code&gt;GetRecord&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;Identify&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;ListIdentifiers&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;ListMetadataFormats&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;ListRecords&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code&gt;ListSets&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code&gt;OAI-PMH&lt;/code&gt; provides an updating list of data providers, which we can easily use to get the base URLs for their data.  Then we just use one of the six above methods to query their metadata. &lt;/p&gt;

&lt;h3 id=&quot;lets-install-rmetadata-first&quot;&gt;Let&amp;rsquo;s install rmetadata first.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;h3 id=&quot;the-most-basic-thing-you-can-do-with-oai-pmh-is-identify-the-data-provider-getting-their-basic-information-the-identify-verb&quot;&gt;The most basic thing you can do with &lt;code&gt;OAI-PMH&lt;/code&gt; is identify the data provider, getting their basic information. The &lt;code&gt;Identify&lt;/code&gt; verb.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;h3 id=&quot;there-are-a-variety-of-metadata-formats-depending-on-the-data-provider---list-them-with-the-listmetadataformats-verb&quot;&gt;There are a variety of metadata formats, depending on the data provider - list them with the &lt;code&gt;ListMetadataFormats&lt;/code&gt; verb.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;h3 id=&quot;the-listrecords-verb-is-used-to-harvest-records-from-a-repository&quot;&gt;The &lt;code&gt;ListRecords&lt;/code&gt; verb is used to harvest records from a repository&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;h3 id=&quot;listidentifiers-is-an-abbreviated-form-of-listrecords-retrieving-only-headers-rather-than-records&quot;&gt;&lt;code&gt;ListIdentifiers&lt;/code&gt; is an abbreviated form of &lt;code&gt;ListRecords&lt;/code&gt;, retrieving only headers rather than records.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;h3 id=&quot;with-listsets-you-can-retrieve-the-set-structure-of-a-repository&quot;&gt;With &lt;code&gt;ListSets&lt;/code&gt; you can retrieve the set structure of a repository.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;h3 id=&quot;retrieve-an-individual-metadata-record-from-a-repository-using-the-getrecord-verb&quot;&gt;Retrieve an individual metadata record from a repository using the &lt;code&gt;GetRecord&lt;/code&gt; verb.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Cool, so I hope people find this post and package useful.  Let me know what you think in comments below, or if you have code specific comments or additions, go to &lt;a href=&quot;https://github.com/ropensci/rmetadata&quot;&gt;the GitHub repo for &lt;code&gt;rmetadata&lt;/code&gt;&lt;/a&gt;.  In a upcoming post I will show an example  of what you can do with &lt;code&gt;rmetadata&lt;/code&gt; in terms of an actual research question.  &lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;#### Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/blob/master/_drafts/2012-09-15-rmetadata.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/blob/master/_posts/2012-09-17-rmetadata.md&quot;&gt;.md file&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr-and-nice-knitr-highlightingetc-in-in-rstudiohttprstudioorg&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h4&gt;
</description>
				<published>Mon Sep 17 00:00:00 -0700 2012</published>
				<link>http://schamberlain.github.com/2012/09/rmetadata/</link>
			</item>
		
			<item>
				<title>Getting data on your government</title>
				<description>&lt;hr /&gt;

&lt;p&gt;I created an R package a while back to interact with some APIs that serve up data on what our elected represenatives are up to, including the &lt;a href=&quot;http://developer.nytimes.com/&quot;&gt;New York Times Congress API&lt;/a&gt;, and the &lt;a href=&quot;http://services.sunlightlabs.com/&quot;&gt;Sunlight Labs API&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;What kinds of things can you do with &lt;code&gt;govdat&lt;/code&gt;?  Here are a few examples. &lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;how-do-the-two-major-parties-differ-in-the-use-of-certain-words-searches-the-congressional-record-using-the-sunlight-labs-capitol-words-api&quot;&gt;How do the two major parties differ in the use of certain words (searches the congressional record using the Sunlight Labs Capitol Words API)?&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/unnamed-chunk-1.png&quot; alt=&quot;center&quot; /&gt; &lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;lets-get-some-data-on-donations-to-individual-elected-representatives&quot;&gt;Let&amp;rsquo;s get some data on donations to individual elected representatives.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/img/unnamed-chunk-2.png&quot; alt=&quot;center&quot; /&gt; &lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;or-we-may-want-to-get-a-bio-of-a-congressperson-here-we-get-todd-akin-of-mo-and-some-twitter-searching-too-indeed&quot;&gt;Or we may want to get a bio of a congressperson. Here we get Todd Akin of MO. And some twitter searching too? Indeed.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;get-the-rmd-file-used-to-create-this-post-at-my-github-accounthttpsgithubcomschamberlainschamberlaingithubcomblobmasterdrafts2012-09-01-gov-datrmd---or-md-filehttpsgithubcomschamberlainschamberlaingithubcomtreemasterposts2012-09-01-gov-datmd&quot;&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/blob/master/_drafts/2012-09-01-gov-dat.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/tree/master/_posts/2012-09-01-gov-dat.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h3&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr-and-nice-knitr-highlightingetc-in-in-rstudiohttprstudioorg&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h3&gt;
</description>
				<published>Sat Sep 01 00:00:00 -0700 2012</published>
				<link>http://schamberlain.github.com/2012/09/gov-dat/</link>
			</item>
		
			<item>
				<title>Getting ecology and evolution journal titles from R</title>
				<description>&lt;hr /&gt;

&lt;p&gt;So I want to mine some #altmetrics data for some research I&amp;rsquo;m thinking about doing.  The steps would be: &lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Get journal titles for ecology and evolution journals. &lt;/li&gt;
  &lt;li&gt;Get DOI&amp;rsquo;s for all papers in all the above journal titles. &lt;/li&gt;
  &lt;li&gt;Get altmetrics data on each DOI. &lt;/li&gt;
  &lt;li&gt;Do some fancy analyses. &lt;/li&gt;
  &lt;li&gt;Make som pretty figs. &lt;/li&gt;
  &lt;li&gt;Write up results. &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;It&amp;rsquo;s early days, so jus working on the first step.  However, getting a list of journals in ecology and evolution is frustratingly hard.  This turns out to not be that easy if you are (1) trying to avoid &lt;a href=&quot;http://thomsonreuters.com/&quot;&gt;Thomson Reuters&lt;/a&gt;, and (2) want a machine interface way to do it (read: API). &lt;/p&gt;

&lt;p&gt;Unfortunately, Mendeley&amp;rsquo;s API does not have methods for getting a list of journals by field, or at least I don&amp;rsquo;t know how to do it using &lt;a href=&quot;http://apidocs.mendeley.com/&quot;&gt;their API&lt;/a&gt;.  No worries though - &lt;a href=&quot;http://crossref.org/&quot;&gt;Crossref&lt;/a&gt; comes to save the day.   Here&amp;rsquo;s my attempt at this using the &lt;a href=&quot;http://help.crossref.org/#using_oai_pmh&quot;&gt;Crossref OAI-PMH&lt;/a&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;i-wrote-a-little-while-loop-to-get-journal-titles-from-the-crossref-oai-pmh-this-takes-a-while-to-run-but-at-least-it-works-on-my-machine---hopefully-yours-too&quot;&gt;I wrote a little while loop to get journal titles from the Crossref OAI-PMH. This takes a while to run, but at least it works on my machine - hopefully yours too!&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;yay--hopefully-it-worked-if-you-tried-it--lets-see-how-long-the-list-of-journal-titles-is&quot;&gt;Yay!  Hopefully it worked if you tried it.  Let&amp;rsquo;s see how long the list of journal titles is.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;now-lets-use-some-regex-to-pull-out-the-journal-titles-that-are-likely-ecology-and-evolutionary-biology-journals--the--symbol-says-the-string-must-start-here-the-s-means-whitespace--the--lets-you-specify-a-set-of-letters-you-are-looking-for-eg-ee-means-capital-e-or-lowercase-e--i-threw-in-titles-that-had-the-words-systematic-and-natrualist-too--tried-to-trim-any-whitespace-as-well-using-the-stringr-package&quot;&gt;Now, let&amp;rsquo;s use some &lt;code&gt;regex&lt;/code&gt; to pull out the journal titles that are likely ecology and evolutionary biology journals.  The &lt;code&gt;^&lt;/code&gt; symbol says &amp;ldquo;the string must start here&amp;rdquo;. The &lt;code&gt;\\s&lt;/code&gt; means whitespace.  The &lt;code&gt;[]&lt;/code&gt; lets you specify a set of letters you are looking for, e.g., &lt;code&gt;[Ee]&lt;/code&gt; means capital &lt;code&gt;E&lt;/code&gt; &lt;em&gt;OR&lt;/em&gt; lowercase &lt;code&gt;e&lt;/code&gt;.  I threw in titles that had the words systematic and natrualist too.  Tried to trim any whitespace as well using the &lt;code&gt;stringr&lt;/code&gt; package.&lt;/h3&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;p&gt;Liquid error: Invalid command name&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;get-the-rmd-file-used-to-create-this-post-at-my-github-accounthttpsgithubcomschamberlainschamberlaingithubcomblobmasterdrafts2012-08-30-get-ecoevo-journal-titlesrmd&quot;&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/SChamberlain/schamberlain.github.com/blob/master/_drafts/2012-08-30-get-ecoevo-journal-titles.Rmd&quot;&gt;at my github account&lt;/a&gt;.&lt;/h3&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr-and-nice-knitr-highlightingetc-in-in-rstudiohttprstudioorg&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h3&gt;
</description>
				<published>Fri Aug 31 00:00:00 -0700 2012</published>
				<link>http://schamberlain.github.com/2012/08/get-ecoevo-journal-titles/</link>
			</item>
		
	</channel>
</rss>