<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <link href="http://gmpg.org/xfn/11" rel="profile">

  <title>
    
    Recology, R/etc.
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300,400italic,400,600,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/favicon.ico">
  <link rel="shortcut icon" href="/public/favicon.ico">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.css" rel="stylesheet">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-0f layout-reverse">

    <header class="masthead">
      <div class="masthead-inner">
        <h1>Recology</h1>
        <!-- <h1> <a href="http://recology.info/">Recology</a></h1> -->
        <p class="lead">R/etc.</p>

        <div class="colophon">
          <ul class="colophon-links">
            <li>
              <a href="/"><i class="fa fa-home fa-lg"></i></a>&nbsp;
              <a href="/about"><i class="fa fa-info-circle fa-lg"></i></a>&nbsp;
              <a href="/archives"><i class="fa fa-archive fa-lg"></i></a>&nbsp;
              <a href="/rresources"><i class="fa fa-book fa-lg"></i></a>&nbsp;
              <a href="http://rforcats.net/" rel><i class="fa fa-graduation-cap fa-lg"></i></a>&nbsp;
              <a href="feed.xml"><i class="fa fa-rss fa-lg"></i></a>&nbsp;
              <a href="https://twitter.com/recology_"><i class="fa fa-twitter fa-lg"></i></a>&nbsp;
              <a href="/fork"><i class="fa fa-spinner fa-lg"></i></a>
            </li>
          </ul>
          <!-- <small><a href="https://github.com/mdo/hyde">Hyde</a> from <a href="https://twitter.com/mdo" target="_blank">@mdo</a>.</small> -->
        </div>
      </div>
    </header>

    <div class="content container">
      <div class="posts">
  <a style="float:right;" href="/archives" data-toggle="tooltip" data-placement="bottom" title="Archives"><i class="fa fa-archive fa-lg"></i></a>
  <a style="float:right;" href="/tags"><i class="fa fa-tags fa-lg"></i></a>&nbsp;
  
  <div class="post">
    <h1>
      <a href="/2012/01/phylogeny-resolution/">
        Function for phylogeny resolution
      </a>
    </h1>

    <span class="post-date">13 Jan 2012</span>

    <p>UPDATE:  Yeah, so the treeresstats function had a problem in one of the calculations.  I fixed that and added some more calulcations to the function. </p>

<p>I couldn&#39;t find any functions to calculate number of polytomies, and related metrics. </p>

<p>Here&#39;s a simple function that gives four metrics on a phylo tree object:</p>

<script src="https://gist.github.com/1607531.js?file=treeresstats.R"></script>

<p>Here&#39;s output from the gist above:</p>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="o">$</span>trsize_tips
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">15</span>

<span class="o">$</span>trsize_nodes
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">13</span>

<span class="o">$</span>numpolys
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">1</span>

<span class="o">$</span>numpolysbytrsize_tips
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">0.06666667</span>

<span class="o">$</span>numpolysbytrsize_nodes
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">0.07692308</span>

<span class="o">$</span>proptipsdescpoly
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">0.2</span>

<span class="o">$</span>propnodesdich
<span class="p">[</span><span class="m">1</span><span class="p">]</span> <span class="m">0.9230769</span></code></pre></div>

<p>And an example with many trees:</p>

<table border="1">
    <tr>
        <th>trsize_tips</th>
        <th>trsize_nodes</th>
        <th>numpolys</th>
        <th>numpolysbytrsize_tips</th>
        <th>numpolysbytrsize_nodes</th>
        <th>proptipsdescpoly</th>
        <th>propnodesdich</th>
    </tr>
    <tr>
        <td>20</td> <td>13</td> <td>4</td> <td>0.20</td> <td>0.31</td> <td>0.7</td> <td>0.69</td>
    </tr>
    <tr>
        <td>20</td> <td>7</td> <td>3</td> <td>0.15</td> <td>0.43</td> <td>0.9</td> <td>0.57</td>
    </tr>
    <tr>
        <td>20</td> <td>11</td> <td>6</td> <td>0.30</td> <td>0.55</td> <td>1.0</td> <td>0.45</td>
    </tr>
    <tr>
        <td>20</td> <td>13</td> <td>4</td> <td>0.20</td> <td>0.31</td> <td>0.7</td> <td>0.69</td>
    </tr>
    <tr>
        <td>20</td> <td>9</td> <td>5</td> <td>0.25</td> <td>0.56</td> <td>1.0</td> <td>0.44</td>
    </tr>
</table>

  </div>
  
  <div class="post">
    <h1>
      <a href="/2012/01/moving-from-blogger-wordpress-to-jekyll/">
        Moving from blogger and wordpress to jekyll
      </a>
    </h1>

    <span class="post-date">11 Jan 2012</span>

    <p>Recology used to be hosted on Blogger, and my personal website was hosted on Wordpress.  Neither platform was very satisfying.  Blogger is very limited in their layouts, unless you use dynamic views, which suck because they don&#39;t allow javascript snippets to render GitHub gists.  Wordpress is just limited all around as you can&#39;t put in hardly anythig excep text and some pictures. They both have their place, but not so much for content that requires syntax highlighting, references, etc. </p>

<p><a href="https://github.com/mojombo/jekyll">Jekyll</a> powered sites on <a href="https://github.com/">GitHub</a> are an awesome alternative.  You do have to write the code yourself, but you can copy any number of templates on GitHub with a simple <code>git clone</code> onto your machine, edit the text a bit, push it up to GitHub, and that&#39;s it.  </p>

<p>On Blogger and Wordpress you can&#39;t see the code behind why different blogs/sites look different.  But on Jekyll/GitHub you can see the code behind each site (see <a href="https://github.com/mojombo/jekyll/wiki/sites">here</a> for a list of Jekyll/GitHub sites and their source code), which makes learning so easy.  </p>

<p>Here is a video on YouTube that explains in some detail Jekyll/GitHub sites:</p>

<iframe width="560" height="315" src="http://www.youtube.com/embed/7mXeJlFdZ2c" frameborder="0" allowfullscreen></iframe>

<p>A great point in the video above is that a Jekyll site allows a workflow that is great not only for code-junkies, but for scientists.  What is the most important thing about science?  That it is reproducible of course.   Documenting your code and sharing with everyone on GitHub or SVN, etc. is great for science in facilitating collaboration and facilitating transparency.  Having your website/blog on Jekyll fits right in to this workflow (that is, pull down any changes - write/edit something - commit - push to GitHub).  Although this sort of worklow isn&#39;t necessary for a blog, it is nice for scientists to use this workflow all the time. </p>

<p>Here&#39;s how to get started:</p>

<ol>
<li><a href="http://git-scm.com/">Install git</a></li>
<li><a href="https://github.com/signup/free">Get a free GitHub account</a> and <a href="http://help.github.com/mac-set-up-git/">configure GitHub</a>.  If you are afraid of the command line, there is a great GitHub app <a href="http://mac.github.com/">here</a>.</li>
<li><code>git clone</code> a jekyll template to your machine.  There are hundreds of these now.  Look <a href="https://github.com/mojombo/jekyll/wiki/sites">here</a> for your favorite, and <code>git clone</code> it. ***</li>
<li>Edit the template you have cloned, and commit and push to GitHub.  That&#39;s it.  It will take just a bit to render.<br></li>
</ol>

<p>There is more to it than that, but that is how you can get started.  If you want to add comments, <a href="http://disqus.com/">Disqus</a> is a great option.  Once you fork someones jekyll site, make sure to change all the personal/site specific information to your information, including the RSS feed. </p>

<p>*** Note: You can name your repo for your site/blog as yourgithubname.github.com if you want your URL for the site to be http://yourgithubname.github.com.  Or you can name your repo whatever you want, e.g., disrepo, then the URL will be http://yourgithubname.github.com/disrepo. </p>

  </div>
  
  <div class="post">
    <h1>
      <a href="/2012/01/logistic-regression-barplot-fig/">
        Presenting results of logistic regression
      </a>
    </h1>

    <span class="post-date">10 Jan 2012</span>

    <p>So my advisor pointed out this &#39;new&#39; (well, 2004), way of plotting results of logistic regression results.  The idea was presented in a 2004 Bulletin of the Ecological Society of America issue (<a href="http://esapubs.org/bulletin/backissues/085-3/bulletinjuly2004_2column.htm#tools1">here</a>).  I tried to come up with a  solution using, what else, ggplot2.  I don&#39;t have it quite all the way down - I am missing the second y-axis values for the histograms, but someone smarter than me can figure that part out (note that Hadley doesn&#39;t want to support second y-axes in ggplot2, but they can probably be hacked on). </p>

<p>Here&#39;s the code:
<script src="https://gist.github.com/1589136.js?file=loghistplot.R"></script></p>

<p>Here&#39;s a few examples using datasets provided with the ggplot2 package:</p>

<div class="highlight"><pre><code class="language-r" data-lang="r">loghistplot<span class="p">(</span>mtcars<span class="p">[,</span><span class="kt">c</span><span class="p">(</span><span class="s">&quot;mpg&quot;</span><span class="p">,</span><span class="s">&quot;vs&quot;</span><span class="p">)])</span></code></pre></div>

<p><img src="/public/img/mtcarsplot.png" alt="mtcars plot"></p>

<div class="highlight"><pre><code class="language-r" data-lang="r">loghistplot<span class="p">(</span>movies<span class="p">[,</span><span class="kt">c</span><span class="p">(</span><span class="s">&quot;rating&quot;</span><span class="p">,</span><span class="s">&quot;Action&quot;</span><span class="p">)])</span></code></pre></div>

<p><img src="/public/img/moviesplot.png" alt="movies plot"></p>

<p>And two examples of the logpointplot function:</p>

<div class="highlight"><pre><code class="language-r" data-lang="r">logpointplot<span class="p">(</span>mtcars<span class="p">[,</span><span class="kt">c</span><span class="p">(</span><span class="s">&quot;mpg&quot;</span><span class="p">,</span><span class="s">&quot;vs&quot;</span><span class="p">)])</span></code></pre></div>

<p><img src="/public/img/logpointplot1.png" alt="mtcars point plot"></p>

<div class="highlight"><pre><code class="language-r" data-lang="r">logpointplot<span class="p">(</span>movies<span class="p">[,</span><span class="kt">c</span><span class="p">(</span><span class="s">&quot;rating&quot;</span><span class="p">,</span><span class="s">&quot;Action&quot;</span><span class="p">)])</span></code></pre></div>

<p><img src="/public/img/logpointplot2.png" alt="movies point plot"></p>

  </div>
  
</div>

<!-- Pagination links -->
<div class="pagination">
  
    <a href="/page31" class="older">Older</a>
  
  
    
      <a href="/page29" class="newer">Newer</a>
    
  
</div>

    </div>

    <!-- for bootstrap tooltips -->
    <script type="text/javascript">
      $("[data-toggle=\"tooltip\"]").tooltip();
    </script>

  </body>

  <footer>
  <!-- Disqus code -->
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'recology'; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function () {
          var s = document.createElement('script'); s.async = true;
          s.type = 'text/javascript';
          s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
          (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
      }());
  </script>

  <!-- google analytics -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-63197374-1', 'auto');
    ga('send', 'pageview');
  </script>
</footer>

</html>
