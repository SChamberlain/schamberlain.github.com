<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>recology</title>
    <description>code and such</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Wed, 31 Jan 2018 23:05:35 -0800</pubDate>
    <lastBuildDate>Wed, 31 Jan 2018 23:05:35 -0800</lastBuildDate>
    <generator>Jekyll v3.7.0</generator>
    
      <item>
        <title>My Sublime Text workflow/setup</title>
        <description>&lt;p&gt;&lt;a href=&quot;https://www.sublimetext.com/&quot;&gt;Sublime Text&lt;/a&gt; is pretty great.&lt;/p&gt;

&lt;p&gt;Let’s start at the beginning.&lt;/p&gt;

&lt;p&gt;Why would my primary editing tool not be vim? My background is as a biologist, spending way to many years in grad school. My first programming language was &lt;a href=&quot;https://www.r-project.org/&quot;&gt;R&lt;/a&gt; back in 2006; my first text editor about the same year was &lt;a href=&quot;https://notepad-plus-plus.org/&quot;&gt;Notepad++&lt;/a&gt;; my first interaction with the cli was probably a year later or so (but that was on Windows).&lt;/p&gt;

&lt;p&gt;After using Notepad++ for a few years, I stumbled upon Sublime Text via advice from a friend. I used it for a few years without paying (which you can still do), and after that realized it was worth paying for. They now have an easy to use &lt;a href=&quot;https://forum.sublimetext.com/&quot;&gt;Discourse forum&lt;/a&gt; too.&lt;/p&gt;

&lt;p&gt;Anyway, vim is too intimidating to me, and at this point I like my workflow enough to not want to spend the time learning vim.&lt;/p&gt;

&lt;h2 id=&quot;why-sublime-text&quot;&gt;Why Sublime Text?&lt;/h2&gt;

&lt;p&gt;I have found Sublime Text to be faster than at least &lt;a href=&quot;https://atom.io/&quot;&gt;Atom&lt;/a&gt;, ESPECIALLY when dealing with large files. Atom seems to get bogged down with a very large file and you can take a long time to scroll through it.&lt;/p&gt;

&lt;p&gt;I like the idea of supporting the small team behind Sublime Text rather than the presumably large team behind Atom or the presumably extremely large team behind &lt;a href=&quot;https://code.visualstudio.com/&quot;&gt;vscode&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Can’t think of any other reasons - the speed one is enough reason :)&lt;/p&gt;

&lt;p&gt;p.s. I’ve never tried vscode.&lt;/p&gt;

&lt;h2 id=&quot;why-r-and-sublime-text&quot;&gt;Why R and Sublime Text?&lt;/h2&gt;

&lt;p&gt;RStudio has been great, and I still use it from time to time. However, it’s started to be buggy here and there, and anyway, I do most everything else in Sublime Text so it doesn’t take much to push me towards Sublime Text for every project I do. I definitely prefer RStudio when working on R packages that include C++ code as it helps me out a lot as a C++ newb.&lt;/p&gt;

&lt;p&gt;The key thing that brought me over to using Sublime Text and R is being able to send code reliably to my cli of choice with a keyboard shortcut (see &lt;code class=&quot;highlighter-rouge&quot;&gt;SendCode&lt;/code&gt; below).&lt;/p&gt;

&lt;p&gt;I do development in other languages besides R - primarily Ruby and Python - so having a primary workflow that is agnostic with respect to the programming language is really nice.&lt;/p&gt;

&lt;h2 id=&quot;my-sublime-text-packages&quot;&gt;My Sublime Text packages&lt;/h2&gt;

&lt;p&gt;(check out SB packages at &lt;a href=&quot;https://packagecontrol.io/&quot;&gt;https://packagecontrol.io/&lt;/a&gt;)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://packagecontrol.io/packages/GitSavvy&quot;&gt;GitSavvy&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;lots of good Git goodies&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://packagecontrol.io/packages/MarkdownEditing&quot;&gt;MarkdownEditing&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;gotta have markdown support&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://packagecontrol.io/packages/R-Box&quot;&gt;R-Box&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;lots of R tools including building and installing packages&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://packagecontrol.io/packages/SendCode&quot;&gt;SendCode&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;crucial for using Sublime Text and R on the cli - sends code from Sublime Text to your cli of choice. I use &lt;a href=&quot;https://www.iterm2.com/&quot;&gt;iTerm2&lt;/a&gt; as my cli.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://packagecontrol.io/packages/GotoWindow&quot;&gt;GotoWindow&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;speeds up your work a lot by quickly switching between projects with a keyboard shortcut&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/icio/sublime-text-marked&quot;&gt;Marked integration&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Marked is a great markdown app - really nice to have an integration with Marked to quickly open it from Sublime&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;other-useful-things&quot;&gt;Other useful things&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Do make sure to enable &lt;code class=&quot;highlighter-rouge&quot;&gt;subl&lt;/code&gt; - a shortcut cli command to open Sublime Text - see &lt;a href=&quot;https://stackoverflow.com/questions/16199581/open-sublime-text-from-terminal-in-macos&quot;&gt;https://stackoverflow.com/questions/16199581/open-sublime-text-from-terminal-in-macos&lt;/a&gt; for discussion of how to do it. It’s use case for me is opening up the current directory on your cli in Sublime Text.&lt;/li&gt;
  &lt;li&gt;Set Sublime Text as your default editor for git work, check out &lt;a href=&quot;https://help.github.com/articles/associating-text-editors-with-git/&quot;&gt;https://help.github.com/articles/associating-text-editors-with-git/&lt;/a&gt; for guidance&lt;/li&gt;
  &lt;li&gt;Unrelated to Sublime Text, but if you go this route of separate text editor and cli, then arranging windows can start to slow you down a bit. On osx, there’s a little app called &lt;a href=&quot;https://www.spectacleapp.com/&quot;&gt;Spectacle&lt;/a&gt; that provides keyboard shortcuts for easily arranging windows in lots of combinations.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;the-setup&quot;&gt;The setup&lt;/h2&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2018-01-31-sublime-text-workflow/sbandr.png&quot; /&gt;&lt;/p&gt;

</description>
        <pubDate>Wed, 31 Jan 2018 00:00:00 -0800</pubDate>
        <link>http://localhost:4000/2018/01/sublime-text-workflow/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/01/sublime-text-workflow/</guid>
        
        <category>R</category>
        
        <category>sublime-text</category>
        
        <category>workflow</category>
        
        
      </item>
    
      <item>
        <title>Playing with Ruby Patterns in R</title>
        <description>&lt;p&gt;I was returning to a long-term project I’ve been working on - a package for caching HTTP requests in R called &lt;a href=&quot;https://github.com/ropensci/vcr&quot;&gt;vcr&lt;/a&gt;, a port of the Ruby gem &lt;a href=&quot;https://github.com/vcr/vcr&quot;&gt;vcr&lt;/a&gt; - when you do that thing you do when you are porting a library from one language to another. I stumbled upon some methods/functions I wasn’t familiar with.&lt;/p&gt;

&lt;p&gt;For example, &lt;a href=&quot;https://apidock.com/ruby/Array/take_while&quot;&gt;take_while&lt;/a&gt; I had never seeen before. It iterates over an array, returning the elements of the array that evalulate to &lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt; (for those new to Ruby, they use &lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt; instead of &lt;code class=&quot;highlighter-rouge&quot;&gt;TRUE&lt;/code&gt; as we do in R) when passed through the function given. R has lists and vectors - R’s lists are the most similar to Ruby arrays because both can have mixed objects in them (e.g., a string and an integer) while still retaining those objects as is.&lt;/p&gt;

&lt;p&gt;In another example, I had never seen &lt;a href=&quot;https://apidock.com/ruby/Array/unshift&quot;&gt;unshift&lt;/a&gt; or it’s sister &lt;a href=&quot;https://apidock.com/ruby/v1_9_3_392/Array/shift&quot;&gt;shift&lt;/a&gt;. &lt;code class=&quot;highlighter-rouge&quot;&gt;unshift&lt;/code&gt; is pretty simple - it prepends objects to the front of the array. &lt;code class=&quot;highlighter-rouge&quot;&gt;shift&lt;/code&gt; has more complicated behavior - called without values passed deletes first element of the array, AND returns that deleted value. With &lt;code class=&quot;highlighter-rouge&quot;&gt;shift&lt;/code&gt; you can also pass an index that is treated as a range (e.g., &lt;code class=&quot;highlighter-rouge&quot;&gt;1&lt;/code&gt; is treated as &lt;code class=&quot;highlighter-rouge&quot;&gt;0&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;1&lt;/code&gt;; Ruby has zero based indexing, unlike R’s 1 based indexing).&lt;/p&gt;

&lt;p&gt;Anyway, I wanted to explore these new Ruby methods more by trying to implement them in R. Thus, started a bag of functions package called &lt;a href=&quot;https://github.com/ropenscilabs/rubfuns&quot;&gt;rubfuns&lt;/a&gt; for “Ruby functions” to play while being able to have documentation, etc.&lt;/p&gt;

&lt;p&gt;It’s entirely possible the stuff in &lt;code class=&quot;highlighter-rouge&quot;&gt;rubfuns&lt;/code&gt; is already implemented in R elsewhere - the point is for me to learn more about both Ruby and R.&lt;/p&gt;

&lt;p&gt;A big difference between Ruby and R is that Rubys’s arrays have methods that can be called on them, e.g.&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;count&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Whereas the equivalent in R requires passing the vector to a method, rather than calling the method on the object itself&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 3&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Of course one could create a &lt;code class=&quot;highlighter-rouge&quot;&gt;R6&lt;/code&gt; object in R and add methods to that object that can be called on a vector:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;R6&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Vec&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;R&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Vec&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;initialize&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;

    &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;myvec&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Vec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myvec&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 3&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;But that’s not baked into R itself, so not ideal.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Anyway, on with &lt;code class=&quot;highlighter-rouge&quot;&gt;rubfuns&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropenscilabs/rubfuns&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rubfuns&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;take_while&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;take_while&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1 2 0&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;take_while&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1]  1  2 -1&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;drop_while&lt;/code&gt; is a similar function to &lt;code class=&quot;highlighter-rouge&quot;&gt;take_while&lt;/code&gt; but drops the elements that when passed to the supplied function evaluate to &lt;code class=&quot;highlighter-rouge&quot;&gt;TRUE&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;drop_while&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 3 4 5&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;drop_while&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 3 4 9&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;delete_at&lt;/code&gt; was in interesting function I saw in &lt;a href=&quot;https://github.com/vcr/vcr&quot;&gt;vcr&lt;/a&gt;. It deletes the elements of an array at the positions given (remember, 0 based indexing in Ruby)&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;delete_at&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1 2 3 4 0&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;delete_at&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1 2 3 0&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;delete_if&lt;/code&gt; is similar to &lt;code class=&quot;highlighter-rouge&quot;&gt;delete_at&lt;/code&gt; but instead you pass a function that when evaluates to &lt;code class=&quot;highlighter-rouge&quot;&gt;TRUE&lt;/code&gt; deletes that element&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;delete_if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1 2 0&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;delete_if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 4 5&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;unshift&lt;/code&gt; is quite simple. it prepends whatever you pass to it to the front of the vector&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unshift&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 4 1 2 3&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;shift&lt;/code&gt; is more complicated. called without any values deletes the first element. called with a value deletes all elements up to and including that value&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shift&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 2 3&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shift&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 3&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;That’s all I’ve got so far. Will likely add more functions as time goes on.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Unfortunately we can’t follow what Ruby does by being able to modify the vector or list while also returning something. There are of course ways to achieve this, e.g., &lt;code class=&quot;highlighter-rouge&quot;&gt;R6&lt;/code&gt; solution above or something like &lt;a href=&quot;https://github.com/nteetor/zeallot&quot;&gt;zeallot&lt;/a&gt; - but if it’s not baked into the R language it seems less likely to get wide adoption.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;todo&lt;/strong&gt;: plan to make sure the functions work with vectors and lists&lt;/p&gt;

</description>
        <pubDate>Thu, 25 Jan 2018 00:00:00 -0800</pubDate>
        <link>http://localhost:4000/2018/01/ruby-and-r/</link>
        <guid isPermaLink="true">http://localhost:4000/2018/01/ruby-and-r/</guid>
        
        <category>R</category>
        
        <category>Ruby</category>
        
        
      </item>
    
      <item>
        <title>Web APIs with Sinatra, Mongo, Docker, and Caddy</title>
        <description>&lt;h2 id=&quot;the-problem&quot;&gt;The problem&lt;/h2&gt;

&lt;p&gt;The R community has a package distribution thing called &lt;a href=&quot;https://cran.rstudio.com/web/packages/&quot;&gt;CRAN&lt;/a&gt; just like Ruby has &lt;a href=&quot;https://rubygems.org/&quot;&gt;Rubygems&lt;/a&gt;, and Python has &lt;a href=&quot;https://pypi.python.org/pypi&quot;&gt;Pypi&lt;/a&gt;, etc. On all packages on CRAN, the CRAN maintainers run checks on each package on multiple versions of R and on many operating systems. They report those results on a page associated with the package, like &lt;a href=&quot;https://cran.rstudio.com/web/checks/check_results_crul.html&quot;&gt;this one&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;You might be thinking: okay, but we have Travis-CI and friends, so who cares about that?  Well, it’s these checks that CRAN runs that will determine if your package on CRAN leads to emails to you asking for changes, and possibly the package being taken down if e.g., they email and you don’t respond for a period of time.&lt;/p&gt;

&lt;p&gt;So CRAN provides these package checks. Now what?  Ideally, these would be available through an API so that the data is machine readable, which then makes many other things possible (see &lt;a href=&quot;#whats-next&quot;&gt;What’s Next&lt;/a&gt; below).&lt;/p&gt;

&lt;p&gt;So how to build the API?&lt;/p&gt;

&lt;h2 id=&quot;building-the-cran-checks-api&quot;&gt;Building the CRAN checks API&lt;/h2&gt;

&lt;p&gt;On GitHub: &lt;a href=&quot;https://github.com/ropensci/cchecksapi&quot;&gt;https://github.com/ropensci/cchecksapi&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;My main goal learning goals with this API tech wise were two fold:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;learn how to dockerize the application&lt;/li&gt;
  &lt;li&gt;learn how to use MongoDB&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I hadn’t Dockerized a web API myself before, so that was an important goal - and I had actually never used MongoDB, but wanted to give it a shot to get familiar with it.&lt;/p&gt;

&lt;p&gt;The whole stack is:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;language: Ruby&lt;/li&gt;
  &lt;li&gt;web API framework: Sinatra&lt;/li&gt;
  &lt;li&gt;http Ruby gem: faraday&lt;/li&gt;
  &lt;li&gt;database: mongodb&lt;/li&gt;
  &lt;li&gt;server: caddy&lt;/li&gt;
  &lt;li&gt;container: all wrapped up in docker (docker-compose)&lt;/li&gt;
  &lt;li&gt;hosting: Amazon EC2&lt;/li&gt;
  &lt;li&gt;scheduling: crontab&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;At a high level, the system is as so:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Once a day a few Ruby scripts (&lt;a href=&quot;https://github.com/ropensci/cchecksapi/blob/master/scrape.rb&quot;&gt;for packages&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/cchecksapi/blob/master/scrape_maintainer.rb&quot;&gt;for maintainers&lt;/a&gt;):
    &lt;ul&gt;
      &lt;li&gt;collects the names of packages on CRAN from Gábor Csárdi’s &lt;a href=&quot;https://crandb.r-pkg.org&quot;&gt;https://crandb.r-pkg.org&lt;/a&gt; API and maintainer emails from CRAN itself, then&lt;/li&gt;
      &lt;li&gt;goes out to the CRAN website and collects check results for each package, then&lt;/li&gt;
      &lt;li&gt;insert data into a MongoDB database&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;The API provides routes for getting data on specific packages by name, or all packages, and data on all packages for any given maintainers email adddress, or all maintainers
    &lt;ul&gt;
      &lt;li&gt;API calls make a query into the MongoDB database matching on the package name or maintainer email address&lt;/li&gt;
      &lt;li&gt;data is given back as JSON&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The API doesn’t currently use caching, but may add if it seems needed.&lt;/p&gt;

&lt;h2 id=&quot;ruby-and-sinatra&quot;&gt;Ruby and Sinatra&lt;/h2&gt;

&lt;p&gt;I really like Ruby. It’s a language that is fun to use, the community is great, and there’s tons of packages.  Ruby is great for making web stuff, including web APIs. When doing web stuff, for me that means web APIs. For web APIs in Ruby, Rails is too heavy for all the stuff I do - that’s where &lt;a href=&quot;http://www.sinatrarb.com/&quot;&gt;Sinatra&lt;/a&gt; comes in.&lt;/p&gt;

&lt;p&gt;Sinatra is a lightweight framework for making web apps/APIs. I make all my web APIs with Sinatra, and have had few complaints. Some may say “you should use X or Y because faster”, or whatever, but Sinatra is plenty fast for my use cases. Not every use case is “we’re Facebook”, or “we’re Google”.&lt;/p&gt;

&lt;p&gt;Until recently I’ve been very much manually managing my Sinatra web APIs on servers - that is, installing/updating everything on the server itself, without using containers or any configuration management. This blog post is the blog post I would have wanted to read when I was figuring out how to dockerize my web APIs.&lt;/p&gt;

&lt;h2 id=&quot;the-api&quot;&gt;The API&lt;/h2&gt;

&lt;p&gt;The main meat of the API is definitions of routes. In addition, I’ve included a number of rules about what HTTP verbs are allowed to be used, what headers to send in each response, how to respond to client and server failures, etc.&lt;/p&gt;

&lt;p&gt;This is what one of the route definitions looks like:&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'/pkgs/?'&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;headers_get&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;begin&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;lim&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:limit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;to_i&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;off&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;params&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:offset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;||&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;).&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;to_i&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;raise&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'limit too large (max 1000)'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;unless&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lim&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1000&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;vg&quot;&gt;$cks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;limit&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;skip&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;off&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;to_a&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;raise&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Exception&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'no results found'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;nil?&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;found: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;count: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;offset: &lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;error: &lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;nil&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
      &lt;span class=&quot;ss&quot;&gt;data: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;to_json&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;rescue&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Exception&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;halt&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;count: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;error: &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;message: &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;data: &lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;nil&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;to_json&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;This code chunk is for the &lt;code class=&quot;highlighter-rouge&quot;&gt;/pkgs&lt;/code&gt; route on the API (check it out at &lt;a href=&quot;https://cranchecks.info/pkgs&quot;&gt;https://cranchecks.info/pkgs&lt;/a&gt;). The &lt;code class=&quot;highlighter-rouge&quot;&gt;headers_get&lt;/code&gt; bit sends a pre-defined set of headers in the response. The &lt;code class=&quot;highlighter-rouge&quot;&gt;begin ... rescue ... end&lt;/code&gt; bit is a “try catch” thing - leading to a JSON failure response in case there is a failure - and a JSON response on success.&lt;/p&gt;

&lt;h2 id=&quot;collecting-data-and-mongodb&quot;&gt;Collecting data and MongoDB&lt;/h2&gt;

&lt;p&gt;As stated above, data is updated once a day. The code for scraping data on the package level and maintainer level is pretty similar. For both, the steps are the following: a) collect all names (for &lt;code class=&quot;highlighter-rouge&quot;&gt;/pkgs&lt;/code&gt; that’s package names from &lt;a href=&quot;https://crandb.r-pkg.org&quot;&gt;https://crandb.r-pkg.org&lt;/a&gt;; for &lt;code class=&quot;highlighter-rouge&quot;&gt;/maintainers&lt;/code&gt; that’s maintainer email addresses from &lt;a href=&quot;https://cran.rstudio.com/web/checks/check_summary_by_maintainer.html&quot;&gt;https://cran.rstudio.com/web/checks/check_summary_by_maintainer.html&lt;/a&gt;), b) for each package name or maintainer email scrape CRAN check results, c) with all data collected drop data in MongoDB and then load all new data (maybe this could be an update step?). You can see the gory details on GitHub for &lt;a href=&quot;https://github.com/ropensci/cchecksapi/blob/master/scrape.rb&quot;&gt;packages&lt;/a&gt; and &lt;a href=&quot;https://github.com/ropensci/cchecksapi/blob/master/scrape_maintainer.rb&quot;&gt;maintainers&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Those steps above in code for packages is like the following:&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;scrape_all&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;pkgs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cran_packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# get all pkg names&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[]&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# make an array&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;pkgs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;each&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;do&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# for each pkg, scrape check results&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scrape_pkg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;vg&quot;&gt;$cks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;
    &lt;span class=&quot;vg&quot;&gt;$cks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;drop&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# drop data in Mongo&lt;/span&gt;
    &lt;span class=&quot;vg&quot;&gt;$cks&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;vg&quot;&gt;$mongo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:checks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# recreate database in Mongo&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
  &lt;span class=&quot;vg&quot;&gt;$cks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;insert_many&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;map&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;prep_mongo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# load new data into Mongo&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;$cks&lt;/code&gt; is the MongoDB database connection.&lt;/p&gt;

&lt;h2 id=&quot;docker&quot;&gt;Docker&lt;/h2&gt;

&lt;p&gt;For containerizing the API, I used Docker. A colleague had used &lt;a href=&quot;https://docs.docker.com/compose/&quot;&gt;Docker Compose&lt;/a&gt;, and it was a really easy experience spinning up and taking down the application we were working on. So I wanted to learn how to do that myself. After trial and error, finally got to a solution for this API. Here is my &lt;code class=&quot;highlighter-rouge&quot;&gt;docker-compose.yml&lt;/code&gt; file:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&quot;language-Dockerfile&quot;&gt;mongo:
  image: mongo
  volumes:
    - $HOME/data/mongodb:/data/db # persists data to disk outside container
  restart: always
  ports:
    - &quot;27017:27017&quot;

api:
  build: .
  ports:
    - &quot;8834:8834&quot;
  links:
    - mongo
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;This specifies the container for MongoDB and for the API, and specifies in the API container to link to the mongo container.&lt;/p&gt;

&lt;p&gt;To build and run do&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker-compose build &amp;amp;&amp;amp; docker-compose up -d
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;-d&lt;/code&gt; flag is for daemonize, i.e., run in the background. To kill them run&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker-compose stop &amp;amp;&amp;amp; docker-compose rm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;caddy-server&quot;&gt;Caddy server&lt;/h2&gt;

&lt;p&gt;Caddy is great server. I never really used Nginx, so I can’t compare the two really - I just know that Caddy is super easy. To install, check out the installation page &lt;a href=&quot;https://caddyserver.com/download&quot;&gt;https://caddyserver.com/download&lt;/a&gt;, and it’s easy as something like &lt;code class=&quot;highlighter-rouge&quot;&gt;curl https://getcaddy.com | bash -s personal&lt;/code&gt; (depends on configuration options on that page and license choice).&lt;/p&gt;

&lt;p&gt;I know there’s an option to run a separate container with Caddy, but I run Caddy outside containers.&lt;/p&gt;

&lt;p&gt;My &lt;code class=&quot;highlighter-rouge&quot;&gt;Caddyfile&lt;/code&gt; has something similar to the following:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;cranchecks.info {
  gzip
  tls email@foobar.com

  log / logfile.log &quot;{remote} - [{when}] {method} {uri} {query} {proto} {status} {size} {&amp;gt;User-Agent}&quot; {
     rotate_size 3
  }

  proxy / localhost:8834 {
    transparent
  }
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;gzip&lt;/code&gt; tells Caddy to serve gzipp’ed content (see &lt;a href=&quot;https://caddyserver.com/docs/gzip&quot;&gt;https://caddyserver.com/docs/gzip&lt;/a&gt;)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;tls&lt;/code&gt; says use the given email for registering with &lt;a href=&quot;https://letsencrypt.org/&quot;&gt;Letsencrypt&lt;/a&gt; (see &lt;a href=&quot;https://caddyserver.com/docs/tls&quot;&gt;https://caddyserver.com/docs/tls&lt;/a&gt;)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;log&lt;/code&gt; line specifies how to log requests (and &lt;code class=&quot;highlighter-rouge&quot;&gt;rotate_size&lt;/code&gt; says start a new file when the current one reaches 3 MB) (see &lt;a href=&quot;https://caddyserver.com/docs/log&quot;&gt;https://caddyserver.com/docs/log&lt;/a&gt;)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;proxy&lt;/code&gt; is for specifying reverse proxy (see &lt;a href=&quot;https://caddyserver.com/docs/proxy&quot;&gt;https://caddyserver.com/docs/proxy&lt;/a&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;whats-next&quot;&gt;What’s Next&lt;/h2&gt;

&lt;p&gt;There’s still more work to do.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Better &lt;code class=&quot;highlighter-rouge&quot;&gt;/maintainers&lt;/code&gt; results
    &lt;ul&gt;
      &lt;li&gt;right now, we have two arrays of results, one from the html table on the CRAN results page and the other from the text below it. This duplication isn’t ideal.&lt;/li&gt;
      &lt;li&gt;it would be helpful to have a summary across all packages for any given maintainer&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Better &lt;code class=&quot;highlighter-rouge&quot;&gt;/pkgs&lt;/code&gt; results
    &lt;ul&gt;
      &lt;li&gt;it would be helpful to have a summary across all R versions and platforms for any given package&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Include actual CRAN check results - CRAN check results can include output of the failures (whether they’re in examples or the test suite, or an installation error). The API doesn’t currently include that output, but thinking about how it could.&lt;/li&gt;
  &lt;li&gt;Possibly update data more often. Right now we update once per day. Seems like results do roll in at different times though, perhaps as builds are done for each pkg?&lt;/li&gt;
  &lt;li&gt;Notification service:  package maintainers can opt-in to notifications when their checks are failing so they can be on top of fixes quickly.  This could be managed through the API itself, with no GUI, but to make it palatable to all types may want to make a super simple web page to sign up.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Check out the &lt;a href=&quot;https://github.com/ropensci/cchecksapi/issues&quot;&gt;issue tracker&lt;/a&gt; to follow progress or file a feature request or bug.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;thanks&quot;&gt;Thanks&lt;/h2&gt;

&lt;p&gt;Thanks to &lt;a href=&quot;https://github.com/gaborcsardi&quot;&gt;Gábor Csárdi&lt;/a&gt; for the idea to make a &lt;code class=&quot;highlighter-rouge&quot;&gt;/maintainers&lt;/code&gt; route.&lt;/p&gt;

&lt;h2 id=&quot;further-reading&quot;&gt;Further reading&lt;/h2&gt;

&lt;p&gt;In a &lt;a href=&quot;http://blog.cloud66.com/deploying-rest-apis-to-docker-using-ruby-and-sinatra/&quot;&gt;similar post&lt;/a&gt; Cloud66 folks talked about deploying an API with the same stack essentially: Sinatra, MongoDB, and Docker.&lt;/p&gt;

&lt;h2 id=&quot;ps&quot;&gt;p.s.&lt;/h2&gt;

&lt;p&gt;I mostly write about R software, so some readers may use R: if you want to make a web API but only know R, try learning Ruby!  It can’t hurt to learn Ruby, and you’ll be happy you did.&lt;/p&gt;

</description>
        <pubDate>Tue, 14 Nov 2017 00:00:00 -0800</pubDate>
        <link>http://localhost:4000/2017/11/sinatra-mongo-docker-caddy/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/11/sinatra-mongo-docker-caddy/</guid>
        
        <category>API</category>
        
        <category>ruby</category>
        
        <category>docker</category>
        
        <category>caddy</category>
        
        <category>mongo</category>
        
        <category>sinatra</category>
        
        
      </item>
    
      <item>
        <title>habanero update: Crossref data from Python</title>
        <description>&lt;p&gt;I wrote about Crossref clients back nearly two years ago on this blog: &lt;a href=&quot;https://recology.info/2015/11/crossref-clients/&quot;&gt;Crossref programmatic clients&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Since it’s been a while, it seems worth talking again about the the many ways to work programmatically with Crossref data - and focus in on the Python client &lt;code class=&quot;highlighter-rouge&quot;&gt;habanero&lt;/code&gt; since it has some recent updates.&lt;/p&gt;

&lt;p&gt;The 3 clients work with the main &lt;a href=&quot;http://api.crossref.org&quot;&gt;Crossref API&lt;/a&gt;, which lets you do things like search for works by title, author, etc. (e.g., books, articles), search for publishing members, for funders, for journals, for DOI prefixes, and for licenses. It’s a powerful API with basically no rate limits, so you can work through lots of data quickly.&lt;/p&gt;

&lt;p&gt;Some deets:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Crossref API documentation: &lt;a href=&quot;http://api.crossref.org&quot;&gt;http://api.crossref.org&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Python client &lt;code class=&quot;highlighter-rouge&quot;&gt;habanero&lt;/code&gt;: &lt;a href=&quot;https://github.com/sckott/habanero&quot;&gt;https://github.com/sckott/habanero&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Ruby client &lt;code class=&quot;highlighter-rouge&quot;&gt;serrano&lt;/code&gt;: &lt;a href=&quot;https://github.com/sckott/serrano&quot;&gt;https://github.com/sckott/serrano&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;R client &lt;code class=&quot;highlighter-rouge&quot;&gt;rcrossref&lt;/code&gt;: &lt;a href=&quot;https://github.com/ropensci/rcrossref&quot;&gt;https://github.com/ropensci/rcrossref&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;At rOpenSci we’ve maintained the R client for quite a few years now, but the Python and Ruby clients were a result of consulting work I did for Crossref.&lt;/p&gt;

&lt;p&gt;The R, Ruby, and Python clients are all quite feature complete, although software is never perfect :), and the thing about talking to an API to some other software is they can change stuff on their end - then we have to change suff on our end, on and on …&lt;/p&gt;

&lt;p&gt;Back when the earlier blog post was written about these Crossref clients, we were at the first versions of both &lt;a href=&quot;https://github.com/sckott/serrano/tree/v0.1.1&quot;&gt;serrano&lt;/a&gt; and &lt;a href=&quot;https://github.com/sckott/habanero/tree/v0.1.0&quot;&gt;habanero&lt;/a&gt;. As you can see in the changelogs of the three clients (&lt;a href=&quot;https://github.com/sckott/serrano/blob/master/CHANGELOG.md&quot;&gt;serrano&lt;/a&gt;, &lt;a href=&quot;https://github.com/sckott/habanero/blob/master/Changelog.rst&quot;&gt;habanero&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rcrossref/blob/master/NEWS.md&quot;&gt;rcrossref&lt;/a&gt;) alot has changed in the last two years as we’ve made improvements and kept up with Crossref API changes.&lt;/p&gt;

&lt;h3 id=&quot;ruby-and-r&quot;&gt;Ruby and R&lt;/h3&gt;

&lt;p&gt;Nothing new to report for the Ruby (&lt;a href=&quot;https://github.com/sckott/serrano&quot;&gt;serrano&lt;/a&gt;) and R (&lt;a href=&quot;https://github.com/ropensci/rcrossref&quot;&gt;rcrossref&lt;/a&gt;) clients, though both will soon be getting the previous features just mentioned (&lt;code class=&quot;highlighter-rouge&quot;&gt;mailto&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;select&lt;/code&gt;).&lt;/p&gt;

&lt;h3 id=&quot;python-habanero&quot;&gt;Python: habanero&lt;/h3&gt;

&lt;p&gt;I’ve just released a new version of &lt;code class=&quot;highlighter-rouge&quot;&gt;habanero&lt;/code&gt; - &lt;a href=&quot;https://pypi.python.org/pypi/habanero&quot;&gt;v0.6&lt;/a&gt;. Noteable changes include adding ability to add a &lt;code class=&quot;highlighter-rouge&quot;&gt;mailto&lt;/code&gt; to each request to get into the so called &lt;a href=&quot;https://github.com/CrossRef/rest-api-doc#good-manners--more-reliable-service&quot;&gt;“polite pool”&lt;/a&gt;; &lt;a href=&quot;https://github.com/CrossRef/rest-api-doc#selecting-which-elements-to-return&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;select&lt;/code&gt; parameter&lt;/a&gt; added to select certain fields to get back; and the docs got a major overhaul (check em out at &lt;a href=&quot;http://habanero.readthedocs.io/en/latest/&quot;&gt;http://habanero.readthedocs.io/en/latest/&lt;/a&gt;; hope you like it; get in touch if you think docs can be improved).&lt;/p&gt;

&lt;p&gt;To install:&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;pip3 &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;habanero
&lt;span class=&quot;c&quot;&gt;# or&lt;/span&gt;
pip &lt;span class=&quot;nb&quot;&gt;install &lt;/span&gt;habanero
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To get into the polite pool, add your &lt;code class=&quot;highlighter-rouge&quot;&gt;mailto&lt;/code&gt; email address when you instantiate a Crossref object&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;habanero&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Crossref&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Crossref&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mailto&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;foo@bar.com&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then when you call any  methods on &lt;code class=&quot;highlighter-rouge&quot;&gt;cr&lt;/code&gt; your email address is sent in the request headers and you’ll get into the polite pool.&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;cr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;works&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;To use the select parameter, pass a comma separated string or a list of strings (both work):&lt;/p&gt;

&lt;div class=&quot;language-python highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;cr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;works&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;select&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;DOI,title&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h3 id=&quot;habanero-use-cases&quot;&gt;habanero use cases&lt;/h3&gt;

&lt;p&gt;I’ve seen some cool use cases using &lt;code class=&quot;highlighter-rouge&quot;&gt;habanero&lt;/code&gt; lately.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;A bibliographic application at &lt;a href=&quot;https://taccimo.info/tbl_sector_list.php&quot;&gt;https://taccimo.info/tbl_sector_list.php&lt;/a&gt; from &lt;a href=&quot;https://github.com/sngordon&quot;&gt;Sean Gordon&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;An application called &lt;a href=&quot;https://github.com/pr-omethe-us/PyKED&quot;&gt;PyKED&lt;/a&gt; from &lt;a href=&quot;https://github.com/kyleniemeyer&quot;&gt;Kyle Niemeyer&lt;/a&gt; - “a Python-based software package for validating and interacting with ChemKED (Chemical Kinetics Experimental Data format) files that describe fundamental experimental measurements of combustion phenomena”.&lt;/li&gt;
  &lt;li&gt;A Django app called &lt;a href=&quot;https://tailordev-biblio.herokuapp.com/&quot;&gt;TailorDev Biblio&lt;/a&gt; from &lt;a href=&quot;https://github.com/jmaupetit&quot;&gt;Julien Maupetit&lt;/a&gt; that manages references.&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Mon, 23 Oct 2017 00:00:00 -0700</pubDate>
        <link>http://localhost:4000/2017/10/habanero-update/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/10/habanero-update/</guid>
        
        <category>python</category>
        
        <category>ruby</category>
        
        <category>R</category>
        
        <category>javascript</category>
        
        <category>crossref</category>
        
        
      </item>
    
      <item>
        <title>cranchecks: an API for CRAN check results</title>
        <description>&lt;p&gt;If you maintain an R package, or even use R packages, you may have looked at CRAN check results. These are essentially the results of running &lt;code class=&quot;highlighter-rouge&quot;&gt;R CMD CHECK&lt;/code&gt; on a package. They do these for each package for each of a few different operating systems (debian, fedora, solaris, windows, osx) and different R versions (devel, release and patched).&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;src: &lt;a href=&quot;https://github.com/ropensci/cchecksapi&quot;&gt;https://github.com/ropensci/cchecksapi&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;base api url: &lt;a href=&quot;https://cranchecks.info&quot;&gt;https://cranchecks.info&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;CRAN maintainers look at these, and eventually will email maintainers if checks are bad enough.&lt;/p&gt;

&lt;p&gt;Which brings us to the motivation for the API: it’d be nice to have a modern way (read: an API) to check CRAN check results.&lt;/p&gt;

&lt;p&gt;The tech looks like so:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;language: Ruby&lt;/li&gt;
  &lt;li&gt;rest framework: Sinatra&lt;/li&gt;
  &lt;li&gt;http requests for scraping: faraday&lt;/li&gt;
  &lt;li&gt;database (storage): mongodb&lt;/li&gt;
  &lt;li&gt;server: caddy&lt;/li&gt;
  &lt;li&gt;scheduled scraping: cron (outside of docker)&lt;/li&gt;
  &lt;li&gt;container: docker-compose&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The API originally just had rOpenSci pkgs, which is a small 150ish. But it was easy enough to scale it, so the API has all CRAN packages now.&lt;/p&gt;

&lt;p&gt;The scraping step takes about 40 minutes and happens once a day. To clarify, results are up to date, so you can just use this API and not have to look up results on a cran mirror itself.&lt;/p&gt;

&lt;h2 id=&quot;api-routes&quot;&gt;API routes&lt;/h2&gt;

&lt;p&gt;Here’s the breakdown&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/heartbeat&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/docs&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/pkgs&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/pkgs/:pkg_name:&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;docs&quot;&gt;/docs&lt;/h2&gt;

&lt;p&gt;Brings you to the docs at &lt;a href=&quot;https://github.com/ropensci/cchecksapi/blob/master/docs/api_docs.md&quot;&gt;https://github.com/ropensci/cchecksapi/blob/master/docs/api_docs.md&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;pkgs&quot;&gt;/pkgs&lt;/h2&gt;

&lt;p&gt;Get all packages, paginated 10 at a time by default.&lt;/p&gt;

&lt;p&gt;for example:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;curl https://cranchecks.info/pkgs | jq .
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Params:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;limit&lt;/code&gt; - number of records to return, default 10, max 1000&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;offset&lt;/code&gt; - record to start at, deafult 0&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;pkgspkg_name&quot;&gt;/pkgs/:pkg_name&lt;/h2&gt;

&lt;p&gt;Get a package by name.&lt;/p&gt;

&lt;p&gt;for example:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;curl https://cranchecks.info/pkgs/crul | jq .
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Output looks like:&lt;/p&gt;

&lt;div class=&quot;language-json highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;error&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;data&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;_id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sofa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;package&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sofa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
    &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;checks&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Flavor&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;r-devel-linux-x86_64-debian-clang &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Version&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;0.2.0 &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Tinstall&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1.01 &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Tcheck&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;18.27 &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Ttotal&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;19.28 &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Status&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;OK&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
        &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;check_url&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;https://www.R-project.org/nosvn/R.check/r-devel-linux-x86_64-debian-clang/sofa-00check.html&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
      &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The full URL is given for the check results, so you can go to it and check results, e.g., the top of the one above:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;using R Under development (unstable) (2017-09-21 r73332)
using platform: x86_64-pc-linux-gnu (64-bit)
using session charset: UTF-8
checking for file ‘sofa/DESCRIPTION’ ... OK
this is package ‘sofa’ version ‘0.2.0’
checking package namespace information ... OK
checking package dependencies ... OK
checking if this is a source package ... OK
checking if there is a namespace ... OK
checking for executable files ... OK
checking for hidden files and directories ... OK
checking for portable file names ... OK
checking for sufficient/correct file permissions ... OK
checking whether package ‘sofa’ can be installed ... OK

...
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;to-do&quot;&gt;TO DO&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;maybe caching for &lt;code class=&quot;highlighter-rouge&quot;&gt;/pkgs&lt;/code&gt; route&lt;/li&gt;
  &lt;li&gt;lowercase all keys just cause&lt;/li&gt;
  &lt;li&gt;clean up api results: numerics should be actual numerics, make empty strings to &lt;code class=&quot;highlighter-rouge&quot;&gt;null&lt;/code&gt;, maybe change a status of &lt;code class=&quot;highlighter-rouge&quot;&gt;OK&lt;/code&gt; to &lt;code class=&quot;highlighter-rouge&quot;&gt;true&lt;/code&gt; so its more JSONish&lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Wed, 27 Sep 2017 00:00:00 -0700</pubDate>
        <link>http://localhost:4000/2017/09/cranchecks-api/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/09/cranchecks-api/</guid>
        
        <category>API</category>
        
        <category>cran</category>
        
        <category>R</category>
        
        
      </item>
    
      <item>
        <title>gbifrb: Ruby client for the GBIF API</title>
        <description>&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;gbifrb&lt;/code&gt; is a new Ruby client for the &lt;a href=&quot;https://www.gbif.org/developer/summary&quot;&gt;GBIF API&lt;/a&gt;.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;docs: &lt;a href=&quot;http://www.rubydoc.info/gems/gbifrb/&quot;&gt;http://www.rubydoc.info/gems/gbifrb/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;rubygems: &lt;a href=&quot;https://rubygems.org/gems/gbifrb&quot;&gt;https://rubygems.org/gems/gbifrb&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;code: &lt;a href=&quot;https://github.com/sckott/gbifrb&quot;&gt;https://github.com/sckott/gbifrb&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I maintain (w/ help) two other GBIF API clients:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Python: &lt;a href=&quot;https://github.com/sckott/pygbif&quot;&gt;pygbif&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;R: &lt;a href=&quot;https://github.com/ropensci/rgbif&quot;&gt;rgbif&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;api&quot;&gt;API&lt;/h2&gt;

&lt;p&gt;Here’s the &lt;code class=&quot;highlighter-rouge&quot;&gt;gbifrb&lt;/code&gt; methods in relation to &lt;a href=&quot;https://www.gbif.org/developer/summary&quot;&gt;GBIF API&lt;/a&gt; routes&lt;/p&gt;

&lt;p&gt;registry&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/node&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Registry.nodes&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/network&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Registry.networks&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/installations&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Registry.installations&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/organizations&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Registry.organizations&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/dataset_metrics&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Registry.dataset_metrics&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/datasets&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Registry.datasets&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/dataset_suggest&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Registry.dataset_suggest&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/dataset_search&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Registry.dataset_search&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;species&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/species/match&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Species.name_backbone&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/species/suggest&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Species.name_suggest&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/species/search&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Species.name_lookup&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/species&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Species.name_usage&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;occurrences&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/search&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Occurrences.search&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/get&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Occurrences.get&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/get_verbatim&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Occurrences.get_verbatim&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/get_fragment&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Occurrences.get_fragment&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gem install gbifrb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;registry&quot;&gt;Registry&lt;/h2&gt;

&lt;p&gt;Nodes&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'gbifrb'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;registry&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Gbif&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Registry&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;registry&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;nodes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;limit: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Networks&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;registry&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;networks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;uuid: &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'16ab5405-6c94-4189-ac71-16ca3b753df7'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;species&quot;&gt;Species&lt;/h2&gt;

&lt;p&gt;GBIF backbone&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;species&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Gbif&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Species&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;species&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;name_backbone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;name: &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Helianthus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Suggester&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;species&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;name_suggest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Helianthus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;occurrences&quot;&gt;Occurrences&lt;/h2&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;occ&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Gbif&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Occurrences&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;occ&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;taxonKey: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3329049&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;occ&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;taxonKey: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3329049&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;limit: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;occ&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;scientificName: &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Ursus americanus'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;curl-options&quot;&gt;curl options&lt;/h2&gt;

&lt;p&gt;You can do verbose curl output by settin &lt;code class=&quot;highlighter-rouge&quot;&gt;verbiose: true&lt;/code&gt;. See also the parameter &lt;code class=&quot;highlighter-rouge&quot;&gt;options&lt;/code&gt;, passed on to &lt;code class=&quot;highlighter-rouge&quot;&gt;Faraday&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;species&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Gbif&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Species&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;species&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;name_backbone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Helianthus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;verbose: &lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;todo&quot;&gt;Todo&lt;/h2&gt;

&lt;p&gt;Still need to work on the CLI interface, add occurrence metrics methods, add occurrence downloads methods, and add OAI-PMH interface methods.&lt;/p&gt;

&lt;h2 id=&quot;feedback&quot;&gt;Feedback&lt;/h2&gt;

&lt;p&gt;Let me know what you think. Bugs. Featur requests. Etc.&lt;/p&gt;

</description>
        <pubDate>Thu, 07 Sep 2017 00:00:00 -0700</pubDate>
        <link>http://localhost:4000/2017/09/gbifrb/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/09/gbifrb/</guid>
        
        <category>Ruby</category>
        
        <category>species</category>
        
        <category>occurrence</category>
        
        <category>maps</category>
        
        
      </item>
    
      <item>
        <title>hoardr: simple file caching</title>
        <description>&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;hoardr&lt;/code&gt; is a client for caching files and managing those files.&lt;/p&gt;

&lt;p&gt;You can definitely achieve the same tasks without a separate pacakge, and there’s 
a number of packages for caching various objects in R already. However, 
I didn’t think there was a tool for that did everything I needed.&lt;/p&gt;

&lt;p&gt;The use cases I typically need &lt;code class=&quot;highlighter-rouge&quot;&gt;hoardr&lt;/code&gt; for are when dealing with large files,
either text (e.g., csv) or binary (e.g., shp) files that would be nice to not 
make the user of packages I maintain download again if they already have the 
file. This makes the server’s life easier that’s serving the files and makes 
work faster for the user of my package.&lt;/p&gt;

&lt;p&gt;Given the existence of the awesome &lt;a href=&quot;https://github.com/r-lib/R6&quot;&gt;R6&lt;/a&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;hoardr&lt;/code&gt; becomes simple to use 
inside of other packages. Namely, &lt;code class=&quot;highlighter-rouge&quot;&gt;hoardr&lt;/code&gt; can export just a single object 
that another package has to import, then we can call methods on that object, instead
of having to import loads of functions.&lt;/p&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;p&gt;From CRAN&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hoardr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Dev version&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropensci/hoardr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hoardr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;h2 id=&quot;package-api&quot;&gt;Package API&lt;/h2&gt;

&lt;p&gt;There’s only a single exported object: &lt;code class=&quot;highlighter-rouge&quot;&gt;hoard&lt;/code&gt;. This is a normal function, although
is a lite wrapper around the R6 class &lt;code class=&quot;highlighter-rouge&quot;&gt;HoardClient&lt;/code&gt;, which contains all the 
smarts.&lt;/p&gt;

&lt;h2 id=&quot;example-usage&quot;&gt;Example usage&lt;/h2&gt;

&lt;p&gt;Initialze an object&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hoard&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;hoard&amp;gt; &lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   path: &lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   cache path: /var/folders/gs/4khph0xs0436gmd2gdnwsg080000gn/T//RtmpPITEm6/R/foobar&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;After making the object with &lt;code class=&quot;highlighter-rouge&quot;&gt;hoardr()&lt;/code&gt;, it’s good to set a cache path. Here, 
we’ll use a temporary directoy, which we can set by doing &lt;code class=&quot;highlighter-rouge&quot;&gt;type = &quot;tempdir&quot;&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cache_path_set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;foobar&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'tempdir'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;/var/folders/gs/4khph0xs0436gmd2gdnwsg080000gn/T//RtmpPITEm6/R/foobar&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now our cache path is set to a temp dir&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;hoard&amp;gt; &lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   path: foobar&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   cache path: /var/folders/gs/4khph0xs0436gmd2gdnwsg080000gn/T//RtmpPITEm6/R/foobar&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;And we can request the base cache path as well&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cache_path_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;/var/folders/gs/4khph0xs0436gmd2gdnwsg080000gn/T//RtmpPITEm6/R/foobar&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;The next thing you’ll likely want to do is create that base directory since 
setting the path doesn’t create the directory:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mkdir&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;What files are in the directory (hint: there shouldn’t be any):&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; character(0)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Let’s put a file in the cache&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10000L&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file.path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cache_path_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;foo.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Now see what’s in there&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;/var/folders/gs/4khph0xs0436gmd2gdnwsg080000gn/T//RtmpPITEm6/R/foobar/foo.txt&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;While &lt;code class=&quot;highlighter-rouge&quot;&gt;list()&lt;/code&gt; method lists full file paths, we can get more details with the &lt;code class=&quot;highlighter-rouge&quot;&gt;details()&lt;/code&gt; method:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;details&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;cached files&amp;gt;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   directory: /var/folders/gs/4khph0xs0436gmd2gdnwsg080000gn/T//RtmpPITEm6/R/foobar&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   file: /foo.txt&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   size: 0.049 mb&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;You can delete files by name:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;foo.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; character(0)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;As well as delete all files:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;one\ntwo\nthree&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file.path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cache_path_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;foo.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;asdfasdf asd fasdf&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file.path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cache_path_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;bar.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;/var/folders/gs/4khph0xs0436gmd2gdnwsg080000gn/T//RtmpPITEm6/R/foobar/bar.txt&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [2] &quot;/var/folders/gs/4khph0xs0436gmd2gdnwsg080000gn/T//RtmpPITEm6/R/foobar/foo.txt&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;delete_all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; character(0)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;There’s also methods for compressing and uncompressing all the files in your cache:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;one\ntwo\nthree&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file.path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cache_path_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;foo.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;asdfasdf asd fasdf&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file.path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cache_path_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;bar.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;compress&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;/var/folders/gs/4khph0xs0436gmd2gdnwsg080000gn/T//RtmpPITEm6/R/foobar/compress.zip&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uncompress&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;/var/folders/gs/4khph0xs0436gmd2gdnwsg080000gn/T//RtmpPITEm6/R/foobar/bar.txt&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [2] &quot;/var/folders/gs/4khph0xs0436gmd2gdnwsg080000gn/T//RtmpPITEm6/R/foobar/foo.txt&quot;&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;how-to-use-in-a-package&quot;&gt;How to use in a package&lt;/h2&gt;

&lt;p&gt;I already use &lt;code class=&quot;highlighter-rouge&quot;&gt;hoardr&lt;/code&gt; in five R packages I maintain: &lt;a href=&quot;https://github.com/ropensci/crminer&quot;&gt;crminer&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rdpla&quot;&gt;rdpla&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rerddap&quot;&gt;rerddap&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rnoaa&quot;&gt;rnoaa&lt;/a&gt;, and &lt;a href=&quot;https://github.com/ropensci/taxizedb&quot;&gt;taxizedb&lt;/a&gt;. I’m planning to use it in 
many more packages, especially as it gets more stable.&lt;/p&gt;

&lt;p&gt;This is how I use &lt;code class=&quot;highlighter-rouge&quot;&gt;hoardr&lt;/code&gt; in packages.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;list &lt;code class=&quot;highlighter-rouge&quot;&gt;hoardr&lt;/code&gt; in your Imports in your DESCRIPTION file&lt;/li&gt;
  &lt;li&gt;make on &lt;code class=&quot;highlighter-rouge&quot;&gt;.onLoad&lt;/code&gt; method in your package, with the following content (as an example):&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;cache&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.onLoad&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;libname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pkgname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hoardr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hoard&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cache_path_set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;your package name&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cache&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then when the package is loaded, you have a &lt;code class=&quot;highlighter-rouge&quot;&gt;cache&lt;/code&gt; object that you can then use 
to manage cached files.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Use &lt;code class=&quot;highlighter-rouge&quot;&gt;cache$mkdir()&lt;/code&gt; to make the directory&lt;/li&gt;
  &lt;li&gt;Probably use &lt;code class=&quot;highlighter-rouge&quot;&gt;cache$cache_path_get()&lt;/code&gt; in combination with e.g., &lt;code class=&quot;highlighter-rouge&quot;&gt;file.path()&lt;/code&gt; 
to make file paths for files you need to cache&lt;/li&gt;
  &lt;li&gt;Write files as needed&lt;/li&gt;
  &lt;li&gt;If you need to delete files you can use &lt;code class=&quot;highlighter-rouge&quot;&gt;delete()&lt;/code&gt; method to delete by name, or
use &lt;code class=&quot;highlighter-rouge&quot;&gt;unlink()&lt;/code&gt; on the complete file path, or you can &lt;code class=&quot;highlighter-rouge&quot;&gt;delet_all()&lt;/code&gt; if you need to 
delete all files.&lt;/li&gt;
  &lt;li&gt;If you need to do compression &lt;code class=&quot;highlighter-rouge&quot;&gt;compress&lt;/code&gt;/&lt;code class=&quot;highlighter-rouge&quot;&gt;uncompress&lt;/code&gt; are available - may be a nice
thing to do for users so files are taking up less disk space.&lt;/li&gt;
  &lt;li&gt;Add a manual file with a description of the various methods available and
example usage, e.g, &lt;a href=&quot;https://github.com/ropensci/crminer/blob/master/R/caching.R&quot;&gt;https://github.com/ropensci/crminer/blob/master/R/caching.R&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;cache&lt;/code&gt; object created above is also available to the user of your package
so that they can manage files themselves as well - but of course you can 
choose not to export the cache object with methods to the user.&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Tue, 15 Aug 2017 00:00:00 -0700</pubDate>
        <link>http://localhost:4000/2017/08/hoardr/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/08/hoardr/</guid>
        
        <category>R</category>
        
        <category>cache</category>
        
        <category>caching</category>
        
        
      </item>
    
      <item>
        <title>Tooling for R package development</title>
        <description>&lt;p&gt;There are a lot of ways to make R packages. Many blog posts have covered making
R packages, but for the most part they’ve covered only how they make
packages, going from the required files for a package, what to put in DESCRIPTION, etc. But what about the tooling? I’m not going to talk about the code, etc. - but rather the different ways to approach it.&lt;/p&gt;

&lt;p&gt;The blog posts/etc. on making R packages:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://hilaryparker.com/2014/04/29/writing-an-r-package-from-scratch/&quot;&gt;Writing an R package from scratch&lt;/a&gt; - Hilary Parker&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/jtleek/rpackages&quot;&gt;Developing R packages&lt;/a&gt; - Jeff Leek&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://stat545.com/packages00_index.html&quot;&gt;stat545 - Write your own R package&lt;/a&gt; - Jenny Bryan’s statistics 545 class at UBC&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://kbroman.org/pkg_primer/&quot;&gt;R package primer&lt;/a&gt; - Karl Boman&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://tinyheero.github.io/jekyll/update/2015/07/26/making-your-first-R-package.html&quot;&gt;Making Your First R Package&lt;/a&gt; - Fong Chun Chan&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.mjdenny.com/R_Package_Pictorial.html&quot;&gt;R Package Development Pictorial&lt;/a&gt; - Matthew Denny&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.coursera.org/learn/r-packages&quot;&gt;Coursera course on building R packages&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://r-pkgs.had.co.nz/&quot;&gt;R Packages&lt;/a&gt; by Hadley for a full treatment of the subject.&lt;/li&gt;
  &lt;li&gt;From time to time you may need to reference CRAN’s &lt;a href=&quot;https://cran.r-project.org/doc/manuals/r-release/R-exts.html&quot;&gt;Writing R Extensions&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;the-ways&quot;&gt;the ways&lt;/h2&gt;

&lt;p&gt;The following are not mutually exclusive - some can be combined with others.&lt;/p&gt;

&lt;p&gt;In process of writing this I figured I should ask other people what they do. I ended up asking 16 people - not a random selection or a big enough &lt;code class=&quot;highlighter-rouge&quot;&gt;n&lt;/code&gt; to really say anything conclusively. But it did allow me to cover more ways of doing
package dev.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;mason&quot;&gt;mason&lt;/h3&gt;

&lt;p&gt;github: &lt;a href=&quot;https://github.com/metacran/mason&quot;&gt;https://github.com/metacran/mason&lt;/a&gt; (by Gábor Csárdi)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Note that &lt;code class=&quot;highlighter-rouge&quot;&gt;mason&lt;/code&gt; is on CRAN, but it’s a completely different package.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;You can use &lt;code class=&quot;highlighter-rouge&quot;&gt;mason&lt;/code&gt; inside of R or via &lt;code class=&quot;highlighter-rouge&quot;&gt;Rscript&lt;/code&gt; on the cli.&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;metacran/mason&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mason&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mason&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mason&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then you’ll go through a series of prompts asking you for inormation (package name, license, your name, etc.)&lt;/p&gt;

&lt;p&gt;Out of 16 people I talked to, 2 mentioned using &lt;code class=&quot;highlighter-rouge&quot;&gt;mason&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;devtools&quot;&gt;devtools&lt;/h3&gt;

&lt;p&gt;github: &lt;a href=&quot;https://github.com/hadley/devtools&quot;&gt;https://github.com/hadley/devtools&lt;/a&gt; (by Hadley Wickham)&lt;/p&gt;

&lt;p&gt;Within R:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;devtools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;foobar&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;On the cli, we can do:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;Rscript&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'devtools::create(&quot;foobar&quot;)'&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;devtools::create()&lt;/code&gt; adds basic set of files needed for an R package - and also adds files assuming you use the RStudio IDE. Though you can not add RStudio files by choosing &lt;code class=&quot;highlighter-rouge&quot;&gt;rstudio = FALSE&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Be aware of the default entry in the &lt;code class=&quot;highlighter-rouge&quot;&gt;NAMESPACE&lt;/code&gt; file: &lt;code class=&quot;highlighter-rouge&quot;&gt;exportPattern(&quot;^[^\\.]&quot;)&lt;/code&gt;. The first time you generate documentation, e.g., via &lt;code class=&quot;highlighter-rouge&quot;&gt;devtools::document()&lt;/code&gt; your &lt;code class=&quot;highlighter-rouge&quot;&gt;NAMESPACE&lt;/code&gt; file will be changed to only export those things you want exported, which is ideal.&lt;/p&gt;

&lt;p&gt;Out of 16 people I talked to, 7 mentioned using &lt;code class=&quot;highlighter-rouge&quot;&gt;devtools&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;rcmdcheck&quot;&gt;rcmdcheck&lt;/h3&gt;

&lt;p&gt;rcmdcheck: &lt;a href=&quot;https://github.com/r-lib/rcmdcheck&quot;&gt;https://github.com/r-lib/rcmdcheck&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This is an alternative to running &lt;code class=&quot;highlighter-rouge&quot;&gt;R CMD CHECK&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;devtools::check()&lt;/code&gt;, that gives nice colorized output, at least in the terminal.&lt;/p&gt;

&lt;p&gt;I usually run it like this in the root of an R package directory in my terminal (running with &lt;code class=&quot;highlighter-rouge&quot;&gt;--as-cran&lt;/code&gt; to check as CRAN does, and &lt;code class=&quot;highlighter-rouge&quot;&gt;--run-dontrun&lt;/code&gt; to run examples wrapped in &lt;code class=&quot;highlighter-rouge&quot;&gt;\dontrun{}&lt;/code&gt;):&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Rscript -e 'rcmdcheck::rcmdcheck(args = c(&quot;--as-cran&quot;, &quot;--run-dontrun&quot;))'
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;ide-rstudio&quot;&gt;IDE: RStudio&lt;/h3&gt;

&lt;p&gt;rstudio: &lt;a href=&quot;https://www.rstudio.com/products/rstudio/#Desktop&quot;&gt;https://www.rstudio.com/products/rstudio/#Desktop&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The following is a guide provided by RStudio for creating packages in RStudio IDE: &lt;a href=&quot;https://support.rstudio.com/hc/en-us/articles/200486488-Developing-Packages-with-RStudio&quot;&gt;Using RStudio for package development&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;When in RStudio - New Project in upper left hand corner - choose new or existing directory - choose R package - name the package, and you probably want to initialize git by checking the appropriate box.&lt;/p&gt;

&lt;p&gt;Out of 16 people I talked to, 14 used RStudio all the time or most of the time.
It’s popular, to say the least.&lt;/p&gt;

&lt;p&gt;A noteable quote from one person I talked to:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;all rstudio all day&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&quot;rstudio-inside-of-docker&quot;&gt;RStudio inside of Docker&lt;/h4&gt;

&lt;p&gt;rstudio server: &lt;a href=&quot;https://www.rstudio.com/products/rstudio/download-server/&quot;&gt;https://www.rstudio.com/products/rstudio/download-server/&lt;/a&gt;
rstudio server docker container: &lt;a href=&quot;https://hub.docker.com/r/rocker/rstudio/&quot;&gt;https://hub.docker.com/r/rocker/rstudio/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I know of at least one person that works this way, and surely there are others.&lt;/p&gt;

&lt;p&gt;As simple as:&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker run &lt;span class=&quot;nt&quot;&gt;-d&lt;/span&gt; &lt;span class=&quot;nt&quot;&gt;-p&lt;/span&gt; 8787:8787 rocker/rstudio
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;Then visit &lt;code class=&quot;highlighter-rouge&quot;&gt;localhost:8787&lt;/code&gt; in your browser.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;web&quot;&gt;web&lt;/h3&gt;

&lt;p&gt;For example, we could just create files from the Github website. e.g,.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;New Repository&lt;/li&gt;
  &lt;li&gt;then add files you’d need for an R package and edit those in the browser&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Out of 16 people I talked to, 2 mentioned starting with creating a GitHub repository, then pulling that down, R development, etc. etc., then push back up. But no one mentioned all in browser - although see &lt;strong&gt;phone dev&lt;/strong&gt; below.&lt;/p&gt;

&lt;p&gt;The Github web interface is an important starting point for getting people into code in general when they are not familiar with git.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;text-editor&quot;&gt;text editor&lt;/h3&gt;

&lt;p&gt;If you primarily work in a text editor perhaps this (using &lt;a href=&quot;https://atom.io/&quot;&gt;Atom editor&lt;/a&gt;):&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Rscript -e 'devtools::create(&quot;foobar&quot;)' &amp;amp;&amp;amp; cd foobar &amp;amp;&amp;amp; git init &amp;amp;&amp;amp; atom .&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2017-06-18-package-dev/atom.png&quot; alt=&quot;atom&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Or the same for &lt;a href=&quot;https://www.sublimetext.com/&quot;&gt;Sublime Text&lt;/a&gt; with &lt;code class=&quot;highlighter-rouge&quot;&gt;subl .&lt;/code&gt; instead of &lt;code class=&quot;highlighter-rouge&quot;&gt;atom .&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Two of 16 people I talked to mentioned using &lt;a href=&quot;https://www.gnu.org/software/emacs/&quot;&gt;Emacs&lt;/a&gt; exclusively or mostly. One of the 16 people mentione Sublime Text by name - that’s also the editor I use (I often have RStudio and Sublime Text open for the same R package - switching between them for the features I like).&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;copypaste&quot;&gt;copy/paste&lt;/h3&gt;

&lt;p&gt;Sometimes when creating a new package I know of a previous package I’ve created that may have similar code I want in the new one or so. So I just copy/paste essentially the old package into a new folder. Be careful when doing this: make sure to delete git history, then re-initialize git (&lt;code class=&quot;highlighter-rouge&quot;&gt;rm -rf .git &amp;amp;&amp;amp; git init&lt;/code&gt; in the new repository). Ideally you use roxygen/devtools for docs - in which case just delete all files in &lt;code class=&quot;highlighter-rouge&quot;&gt;man/&lt;/code&gt; then when you generate docs, you get all new man files.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;rhub&quot;&gt;rhub&lt;/h3&gt;

&lt;p&gt;rhub: &lt;a href=&quot;https://builder.r-hub.io/&quot;&gt;https://builder.r-hub.io/&lt;/a&gt; &lt;a href=&quot;https://github.com/r-hub&quot;&gt;https://github.com/r-hub&lt;/a&gt; &lt;a href=&quot;https://www.r-consortium.org/events/2016/10/11/r-hub-public-beta&quot;&gt;https://www.r-consortium.org/events/2016/10/11/r-hub-public-beta&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;R-hub is a project by Gabor Csárdi, funded by the &lt;a href=&quot;https://www.r-consortium.org/&quot;&gt;R Consortium&lt;/a&gt;, which is a service for developing, building, testing and validating R packages.&lt;/p&gt;

&lt;p&gt;One of the 16 people I talked to mentioned &lt;code class=&quot;highlighter-rouge&quot;&gt;rhub&lt;/code&gt; - but I imagine many of them use it. I use it :)&lt;/p&gt;

&lt;p&gt;I usually use it from the command line (or you can use it from within R, either on CLI or RStudio), like &lt;code class=&quot;highlighter-rouge&quot;&gt;rhub::check_for_cran()&lt;/code&gt; to get checks for my package on Windows and two Linux platforms, before sending to CRAN.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;the-makefile&quot;&gt;the Makefile&lt;/h3&gt;

&lt;p&gt;The &lt;a href=&quot;https://en.wikipedia.org/wiki/Makefile&quot;&gt;Makefile&lt;/a&gt; is a file containing a set of directives. Some use a Makefile for a few or even most things one does in package development, from re-making &lt;code class=&quot;highlighter-rouge&quot;&gt;man&lt;/code&gt; files, to building, installing, checking, building vignettes, making &lt;a href=&quot;https://github.com/hadley/pkgdown&quot;&gt;pkgdown docs&lt;/a&gt;, and more. Makefiles can include actions that do not just R things, but run other programming/command line tools. It’s a good idea when contributing to another R package to look for a Makefile - and to use them in your own package development. I don’t personally use them enough, and ideally will use them more in the future.&lt;/p&gt;

&lt;p&gt;Here’s an example of &lt;a href=&quot;https://github.com/richfitz/storr/blob/master/Makefile&quot;&gt;a Makefile&lt;/a&gt; from Rich FitzJohn:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/richfitz/storr/blob/master/Makefile&quot;&gt;&lt;img src=&quot;/public/img/2017-06-18-package-dev/makefile.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;ruby&quot;&gt;ruby?&lt;/h3&gt;

&lt;p&gt;To scratch a personal itch, I made a little Ruby gem with a command line tool to run one or more specific tests by fuzzy matching the name of the test file. Reason is, sometimes I work on a test file and I just want to run that test and not any others - and not from within RStudio, but form the terminal.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/sckott/rubrb&quot;&gt;https://github.com/sckott/rubrb&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;➜ rb &lt;span class=&quot;nb&quot;&gt;test &lt;/span&gt;config
using:
  tests/testthat/test-config-fxns.R

config fxns: ........

DONE &lt;span class=&quot;o&quot;&gt;===========================================================================&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;

&lt;p&gt;I’m sure there’s lots of these types of things out there - scratching an itch that helps the person work the way they want to work.&lt;/p&gt;

&lt;p&gt;While we’re on the topic of Ruby, Travis-CI has a nice Ruby gem &lt;a href=&quot;https://rubygems.org/gems/travis&quot;&gt;travis&lt;/a&gt; to interact with Travis for your R packages. There’s also one for &lt;a href=&quot;https://rubygems.org/gems/circle-cli&quot;&gt;Circle-CI&lt;/a&gt; and &lt;a href=&quot;https://rubygems.org/gems/veyor&quot;&gt;I’ve written one for Appveyor&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;phone-dev&quot;&gt;phone dev&lt;/h3&gt;

&lt;p&gt;DO NOT TRY THIS AT HOME&lt;/p&gt;

&lt;blockquote class=&quot;twitter-tweet&quot; data-cards=&quot;hidden&quot; data-lang=&quot;en&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;tracestack: search Stack Overflow for your most recent error msg. First &lt;a href=&quot;https://twitter.com/hashtag/rstats?src=hash&quot;&gt;#rstats&lt;/a&gt; package written entirely on a phone? &lt;a href=&quot;https://t.co/IRX2luiR0N&quot;&gt;https://t.co/IRX2luiR0N&lt;/a&gt;&lt;/p&gt;&amp;mdash; David Robinson (@drob) &lt;a href=&quot;https://twitter.com/drob/status/592074817735630850&quot;&gt;April 25, 2015&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async=&quot;&quot; src=&quot;//platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;

&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;.&lt;a href=&quot;https://twitter.com/drob&quot;&gt;@drob&lt;/a&gt; just wrote an &lt;a href=&quot;https://twitter.com/hashtag/rstats?src=hash&quot;&gt;#rstats&lt;/a&gt; package from his phone, in case you wanted to feel even less productive checking twitter&lt;/p&gt;&amp;mdash; Hilary Parker (@hspter) &lt;a href=&quot;https://twitter.com/hspter/status/592071435314683904&quot;&gt;April 25, 2015&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async=&quot;&quot; src=&quot;//platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;

&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;So that idea for throwing traceback to stackoverflow? &lt;a href=&quot;https://twitter.com/drob&quot;&gt;@drob&lt;/a&gt; is actually writing it. As a package. Live on github. ON HIS PHONE. &lt;a href=&quot;https://twitter.com/hashtag/rstats?src=hash&quot;&gt;#rstats&lt;/a&gt;&lt;/p&gt;&amp;mdash; Oliver Keyes (@kopshtik) &lt;a href=&quot;https://twitter.com/kopshtik/status/592056492397846528&quot;&gt;April 25, 2015&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async=&quot;&quot; src=&quot;//platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;putting-stuff-on-the-web&quot;&gt;putting stuff on the web&lt;/h3&gt;

&lt;p&gt;While we’re talking about tooling, I thought I should briefly mention putting code up on the interwebs. There’s many code hosting options - for brevity, we’ll just cover GitHub.&lt;/p&gt;

&lt;p&gt;It’s a good idea to learn command line git, and related command line tools that make using git easier - if you can get work done faster you have more time to look at cat pictures!&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/github/hub&quot;&gt;hub&lt;/a&gt; is one git tool that I use a lot. For example, create a folder, initialize a git repo, push to github, then open the just created repo on Github:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;mkdir helloworld &amp;amp;&amp;amp; cd helloworld &amp;amp;&amp;amp; hub init &amp;amp;&amp;amp; hub create sckott/helloworld &amp;amp;&amp;amp; hub browse&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;where &lt;code class=&quot;highlighter-rouge&quot;&gt;hub create&lt;/code&gt; uses the &lt;code class=&quot;highlighter-rouge&quot;&gt;owner/repo&lt;/code&gt; pattern&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2017-06-18-package-dev/hub.png&quot; alt=&quot;hub&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Sun, 18 Jun 2017 00:00:00 -0700</pubDate>
        <link>http://localhost:4000/2017/06/package-dev/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/06/package-dev/</guid>
        
        
      </item>
    
      <item>
        <title>Reading in May</title>
        <description>&lt;p&gt;Reading right now or just finished&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The Nine, &lt;em&gt;Jeffrey Toobin&lt;/em&gt; &lt;a href=&quot;http://www.jeffreytoobin.com/books/the-nine-tr&quot;&gt;http://www.jeffreytoobin.com/books/the-nine-tr&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Just finished reading this.&lt;/li&gt;
      &lt;li&gt;synopsis:
        &lt;ul&gt;
          &lt;li&gt;fucking hell, Scalia and Thomas are awful&lt;/li&gt;
          &lt;li&gt;the Warren court was awesome&lt;/li&gt;
          &lt;li&gt;RBG 4 life&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Evolutionary Biology of Parasites, &lt;em&gt;Peter W. Price&lt;/em&gt; &lt;a href=&quot;http://press.princeton.edu/titles/645.html&quot;&gt;http://press.princeton.edu/titles/645.html&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;In progress. I got this book from my undergrad advisor around 2001 or so - figured I’d give it a read.&lt;/li&gt;
      &lt;li&gt;synopsis: parasites are awesome&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Bike Snob: Systematically &amp;amp; Mercilessly Realigning the World of Cycling, &lt;em&gt;Christopher Koelle&lt;/em&gt; &lt;a href=&quot;https://www.goodreads.com/book/show/7549138-bike-snob&quot;&gt;https://www.goodreads.com/book/show/7549138-bike-snob&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;In progress. Got from my dad, thx dad&lt;/li&gt;
      &lt;li&gt;synopsis: funny&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;The Genius of Birds, &lt;em&gt;Jennifer Ackerman&lt;/em&gt; &lt;a href=&quot;http://www.jenniferackermanauthor.com/genius-ofbirds&quot;&gt;http://www.jenniferackermanauthor.com/genius-ofbirds&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;In progress.&lt;/li&gt;
      &lt;li&gt;synopsis: birds are smart&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Tue, 16 May 2017 00:00:00 -0700</pubDate>
        <link>http://localhost:4000/2017/05/reading-may/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/05/reading-may/</guid>
        
        <category>reading</category>
        
        
      </item>
    
      <item>
        <title>CascadiaRConf</title>
        <description>&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;center&gt;
  &lt;h1&gt;Save the date for CascadiaRConf!&lt;/h1&gt;

  &lt;h2&gt;Website: &lt;a href=&quot;https://cascadiarconf.com/&quot;&gt;cascadiarconf.com&lt;/a&gt;&lt;/h2&gt;

  &lt;h2&gt;Twitter: &lt;a href=&quot;https://twitter.com/cascadiarconf/&quot;&gt;@cascadiarconf&lt;/a&gt;&lt;/h2&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;
There’s not a lot of info available yet - but so far:&lt;/p&gt;

&lt;h2 id=&quot;when&quot;&gt;When&lt;/h2&gt;

&lt;p&gt;3 June, 2017&lt;/p&gt;

&lt;h2 id=&quot;where&quot;&gt;Where&lt;/h2&gt;

&lt;p&gt;OHSU Collaborative Life Science Building&lt;/p&gt;

&lt;p&gt;&lt;small&gt;more details soon on what rooms, etc.&lt;/small&gt;&lt;/p&gt;

&lt;h2 id=&quot;agenda&quot;&gt;Agenda&lt;/h2&gt;

&lt;p&gt;No details yet - but likely to be a series of workshops as well as single track set of talks.&lt;/p&gt;

&lt;p&gt;We’ll be accepting talk submissions soonish.&lt;/p&gt;

&lt;h2 id=&quot;tickets&quot;&gt;Tickets&lt;/h2&gt;

&lt;p&gt;We aren’t out to make money - tickets will be cheap and probably free for students.&lt;/p&gt;

&lt;h2 id=&quot;why&quot;&gt;Why&lt;/h2&gt;

&lt;p&gt;Why not!?  But srsly, there’s not that many R conferences, so more is better at this point. In addition, there is an increasingly large R community in Portland at least judged by the ~1,140 members in the &lt;a href=&quot;https://www.meetup.com/portland-r-user-group/&quot;&gt;Portland R Meetup&lt;/a&gt; - so a conference makes sense. In addition, this will be an excuse to hopefully get together people from other nearby cities: Corvallis, Salem, Seattle, etc.&lt;/p&gt;
</description>
        <pubDate>Thu, 23 Mar 2017 00:00:00 -0700</pubDate>
        <link>http://localhost:4000/2017/03/cascadiarconf/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/03/cascadiarconf/</guid>
        
        <category>conference</category>
        
        <category>R</category>
        
        
      </item>
    
  </channel>
</rss>
