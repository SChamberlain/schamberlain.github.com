<?xml version="1.0" encoding="UTF-8"?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>recology</title>
    <description>code and such</description>
    <link>http://localhost:4000/</link>
    <atom:link href="http://localhost:4000/feed.xml" rel="self" type="application/rss+xml"/>
    <pubDate>Thu, 07 Sep 2017 17:48:03 -0700</pubDate>
    <lastBuildDate>Thu, 07 Sep 2017 17:48:03 -0700</lastBuildDate>
    <generator>Jekyll v3.4.4</generator>
    
      <item>
        <title>gbifrb: Ruby client for the GBIF API</title>
        <description>&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;gbifrb&lt;/code&gt; is a new Ruby client for the &lt;a href=&quot;https://www.gbif.org/developer/summary&quot;&gt;GBIF API&lt;/a&gt;.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;docs: &lt;a href=&quot;http://www.rubydoc.info/gems/gbifrb/&quot;&gt;http://www.rubydoc.info/gems/gbifrb/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;rubygems: &lt;a href=&quot;https://rubygems.org/gems/gbifrb&quot;&gt;https://rubygems.org/gems/gbifrb&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;code: &lt;a href=&quot;https://github.com/sckott/gbifrb&quot;&gt;https://github.com/sckott/gbifrb&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I maintain (w/ help) two other GBIF API clients:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Python: &lt;a href=&quot;https://github.com/sckott/pygbif&quot;&gt;pygbif&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;R: &lt;a href=&quot;https://github.com/ropensci/rgbif&quot;&gt;rgbif&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;api&quot;&gt;API&lt;/h2&gt;

&lt;p&gt;Here’s the &lt;code class=&quot;highlighter-rouge&quot;&gt;gbifrb&lt;/code&gt; methods in relation to &lt;a href=&quot;https://www.gbif.org/developer/summary&quot;&gt;GBIF API&lt;/a&gt; routes&lt;/p&gt;

&lt;p&gt;registry&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/node&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Registry.nodes&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/network&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Registry.networks&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/installations&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Registry.installations&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/organizations&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Registry.organizations&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/dataset_metrics&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Registry.dataset_metrics&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/datasets&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Registry.datasets&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/dataset_suggest&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Registry.dataset_suggest&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/dataset_search&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Registry.dataset_search&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;species&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/species/match&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Species.name_backbone&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/species/suggest&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Species.name_suggest&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/species/search&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Species.name_lookup&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/species&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Species.name_usage&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;occurrences&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/search&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Occurrences.search&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/get&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Occurrences.get&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/get_verbatim&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Occurrences.get_verbatim&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/get_fragment&lt;/code&gt; - &lt;code class=&quot;highlighter-rouge&quot;&gt;Gbif::Occurrences.get_fragment&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gem install gbifrb
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;registry&quot;&gt;Registry&lt;/h2&gt;

&lt;p&gt;Nodes&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;'gbifrb'&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;registry&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Gbif&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Registry&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;registry&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;nodes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;limit: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Networks&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;registry&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;networks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;uuid: &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'16ab5405-6c94-4189-ac71-16ca3b753df7'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;species&quot;&gt;Species&lt;/h2&gt;

&lt;p&gt;GBIF backbone&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;species&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Gbif&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Species&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;species&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;name_backbone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;name: &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Helianthus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Suggester&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;species&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;name_suggest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Helianthus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;occurrences&quot;&gt;Occurrences&lt;/h2&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;occ&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Gbif&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Occurrences&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;occ&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;taxonKey: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3329049&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;occ&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;taxonKey: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3329049&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;limit: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;occ&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;scientificName: &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Ursus americanus'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;curl-options&quot;&gt;curl options&lt;/h2&gt;

&lt;p&gt;You can do verbose curl output by settin &lt;code class=&quot;highlighter-rouge&quot;&gt;verbiose: true&lt;/code&gt;. See also the parameter &lt;code class=&quot;highlighter-rouge&quot;&gt;options&lt;/code&gt;, passed on to &lt;code class=&quot;highlighter-rouge&quot;&gt;Faraday&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-ruby highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;species&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Gbif&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;no&quot;&gt;Species&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;species&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;name_backbone&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Helianthus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;verbose: &lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;todo&quot;&gt;Todo&lt;/h2&gt;

&lt;p&gt;Still need to work on the CLI interface, add occurrence metrics methods, add occurrence downloads methods, and add OAI-PMH interface methods.&lt;/p&gt;

&lt;h2 id=&quot;feedback&quot;&gt;Feedback&lt;/h2&gt;

&lt;p&gt;Let me know what you think. Bugs. Featur requests. Etc.&lt;/p&gt;

</description>
        <pubDate>Thu, 07 Sep 2017 00:00:00 -0700</pubDate>
        <link>http://localhost:4000/2017/09/gbifrb/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/09/gbifrb/</guid>
        
        <category>Ruby</category>
        
        <category>species</category>
        
        <category>occurrence</category>
        
        <category>maps</category>
        
        
      </item>
    
      <item>
        <title>hoardr: simple file caching</title>
        <description>&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;hoardr&lt;/code&gt; is a client for caching files and managing those files.&lt;/p&gt;

&lt;p&gt;You can definitely achieve the same tasks without a separate pacakge, and there’s 
a number of packages for caching various objects in R already. However, 
I didn’t think there was a tool for that did everything I needed.&lt;/p&gt;

&lt;p&gt;The use cases I typically need &lt;code class=&quot;highlighter-rouge&quot;&gt;hoardr&lt;/code&gt; for are when dealing with large files,
either text (e.g., csv) or binary (e.g., shp) files that would be nice to not 
make the user of packages I maintain download again if they already have the 
file. This makes the server’s life easier that’s serving the files and makes 
work faster for the user of my package.&lt;/p&gt;

&lt;p&gt;Given the existence of the awesome &lt;a href=&quot;https://github.com/r-lib/R6&quot;&gt;R6&lt;/a&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;hoardr&lt;/code&gt; becomes simple to use 
inside of other packages. Namely, &lt;code class=&quot;highlighter-rouge&quot;&gt;hoardr&lt;/code&gt; can export just a single object 
that another package has to import, then we can call methods on that object, instead
of having to import loads of functions.&lt;/p&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;p&gt;From CRAN&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hoardr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Dev version&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropensci/hoardr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hoardr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;package-api&quot;&gt;Package API&lt;/h2&gt;

&lt;p&gt;There’s only a single exported object: &lt;code class=&quot;highlighter-rouge&quot;&gt;hoard&lt;/code&gt;. This is a normal function, although
is a lite wrapper around the R6 class &lt;code class=&quot;highlighter-rouge&quot;&gt;HoardClient&lt;/code&gt;, which contains all the 
smarts.&lt;/p&gt;

&lt;h2 id=&quot;example-usage&quot;&gt;Example usage&lt;/h2&gt;

&lt;p&gt;Initialze an object&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hoard&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;hoard&amp;gt; 
#&amp;gt;   path: 
#&amp;gt;   cache path: /var/folders/gs/4khph0xs0436gmd2gdnwsg080000gn/T//RtmpPITEm6/R/foobar
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;After making the object with &lt;code class=&quot;highlighter-rouge&quot;&gt;hoardr()&lt;/code&gt;, it’s good to set a cache path. Here, 
we’ll use a temporary directoy, which we can set by doing &lt;code class=&quot;highlighter-rouge&quot;&gt;type = &quot;tempdir&quot;&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cache_path_set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;foobar&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'tempdir'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;/var/folders/gs/4khph0xs0436gmd2gdnwsg080000gn/T//RtmpPITEm6/R/foobar&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Now our cache path is set to a temp dir&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;hoard&amp;gt; 
#&amp;gt;   path: foobar
#&amp;gt;   cache path: /var/folders/gs/4khph0xs0436gmd2gdnwsg080000gn/T//RtmpPITEm6/R/foobar
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;And we can request the base cache path as well&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cache_path_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;/var/folders/gs/4khph0xs0436gmd2gdnwsg080000gn/T//RtmpPITEm6/R/foobar&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The next thing you’ll likely want to do is create that base directory since 
setting the path doesn’t create the directory:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mkdir&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;What files are in the directory (hint: there shouldn’t be any):&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; character(0)
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Let’s put a file in the cache&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10000L&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file.path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cache_path_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;foo.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Now see what’s in there&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;/var/folders/gs/4khph0xs0436gmd2gdnwsg080000gn/T//RtmpPITEm6/R/foobar/foo.txt&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;While &lt;code class=&quot;highlighter-rouge&quot;&gt;list()&lt;/code&gt; method lists full file paths, we can get more details with the &lt;code class=&quot;highlighter-rouge&quot;&gt;details()&lt;/code&gt; method:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;details&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;cached files&amp;gt;
#&amp;gt;   directory: /var/folders/gs/4khph0xs0436gmd2gdnwsg080000gn/T//RtmpPITEm6/R/foobar
#&amp;gt; 
#&amp;gt;   file: /foo.txt
#&amp;gt;   size: 0.049 mb
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;You can delete files by name:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;delete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;foo.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; character(0)
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;As well as delete all files:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;one\ntwo\nthree&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file.path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cache_path_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;foo.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;asdfasdf asd fasdf&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file.path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cache_path_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;bar.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;/var/folders/gs/4khph0xs0436gmd2gdnwsg080000gn/T//RtmpPITEm6/R/foobar/bar.txt&quot;
#&amp;gt; [2] &quot;/var/folders/gs/4khph0xs0436gmd2gdnwsg080000gn/T//RtmpPITEm6/R/foobar/foo.txt&quot;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;delete_all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; character(0)
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;There’s also methods for compressing and uncompressing all the files in your cache:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;one\ntwo\nthree&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file.path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cache_path_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;foo.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;asdfasdf asd fasdf&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file.path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cache_path_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;bar.txt&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;compress&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;/var/folders/gs/4khph0xs0436gmd2gdnwsg080000gn/T//RtmpPITEm6/R/foobar/compress.zip&quot;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uncompress&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;/var/folders/gs/4khph0xs0436gmd2gdnwsg080000gn/T//RtmpPITEm6/R/foobar/bar.txt&quot;
#&amp;gt; [2] &quot;/var/folders/gs/4khph0xs0436gmd2gdnwsg080000gn/T//RtmpPITEm6/R/foobar/foo.txt&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;how-to-use-in-a-package&quot;&gt;How to use in a package&lt;/h2&gt;

&lt;p&gt;I already use &lt;code class=&quot;highlighter-rouge&quot;&gt;hoardr&lt;/code&gt; in five R packages I maintain: &lt;a href=&quot;https://github.com/ropensci/crminer&quot;&gt;crminer&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rdpla&quot;&gt;rdpla&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rerddap&quot;&gt;rerddap&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rnoaa&quot;&gt;rnoaa&lt;/a&gt;, and &lt;a href=&quot;https://github.com/ropensci/taxizedb&quot;&gt;taxizedb&lt;/a&gt;. I’m planning to use it in 
many more packages, especially as it gets more stable.&lt;/p&gt;

&lt;p&gt;This is how I use &lt;code class=&quot;highlighter-rouge&quot;&gt;hoardr&lt;/code&gt; in packages.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;list &lt;code class=&quot;highlighter-rouge&quot;&gt;hoardr&lt;/code&gt; in your Imports in your DESCRIPTION file&lt;/li&gt;
  &lt;li&gt;make on &lt;code class=&quot;highlighter-rouge&quot;&gt;.onLoad&lt;/code&gt; method in your package, with the following content (as an example):&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;cache&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.onLoad&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;libname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pkgname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hoardr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hoard&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cache_path_set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;lt;your package name&amp;gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cache&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then when the package is loaded, you have a &lt;code class=&quot;highlighter-rouge&quot;&gt;cache&lt;/code&gt; object that you can then use 
to manage cached files.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Use &lt;code class=&quot;highlighter-rouge&quot;&gt;cache$mkdir()&lt;/code&gt; to make the directory&lt;/li&gt;
  &lt;li&gt;Probably use &lt;code class=&quot;highlighter-rouge&quot;&gt;cache$cache_path_get()&lt;/code&gt; in combination with e.g., &lt;code class=&quot;highlighter-rouge&quot;&gt;file.path()&lt;/code&gt; 
to make file paths for files you need to cache&lt;/li&gt;
  &lt;li&gt;Write files as needed&lt;/li&gt;
  &lt;li&gt;If you need to delete files you can use &lt;code class=&quot;highlighter-rouge&quot;&gt;delete()&lt;/code&gt; method to delete by name, or
use &lt;code class=&quot;highlighter-rouge&quot;&gt;unlink()&lt;/code&gt; on the complete file path, or you can &lt;code class=&quot;highlighter-rouge&quot;&gt;delet_all()&lt;/code&gt; if you need to 
delete all files.&lt;/li&gt;
  &lt;li&gt;If you need to do compression &lt;code class=&quot;highlighter-rouge&quot;&gt;compress&lt;/code&gt;/&lt;code class=&quot;highlighter-rouge&quot;&gt;uncompress&lt;/code&gt; are available - may be a nice
thing to do for users so files are taking up less disk space.&lt;/li&gt;
  &lt;li&gt;Add a manual file with a description of the various methods available and
example usage, e.g, &lt;a href=&quot;https://github.com/ropensci/crminer/blob/master/R/caching.R&quot;&gt;https://github.com/ropensci/crminer/blob/master/R/caching.R&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;cache&lt;/code&gt; object created above is also available to the user of your package
so that they can manage files themselves as well - but of course you can 
choose not to export the cache object with methods to the user.&lt;/li&gt;
&lt;/ul&gt;

</description>
        <pubDate>Tue, 15 Aug 2017 00:00:00 -0700</pubDate>
        <link>http://localhost:4000/2017/08/hoardr/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/08/hoardr/</guid>
        
        <category>R</category>
        
        <category>cache</category>
        
        <category>caching</category>
        
        
      </item>
    
      <item>
        <title>Tooling for R package development</title>
        <description>&lt;p&gt;There are a lot of ways to make R packages. Many blog posts have covered making
R packages, but for the most part they’ve covered only how they make
packages, going from the required files for a package, what to put in DESCRIPTION, etc. But what about the tooling? I’m not going to talk about the code, etc. - but rather the different ways to approach it.&lt;/p&gt;

&lt;p&gt;The blog posts/etc. on making R packages:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://hilaryparker.com/2014/04/29/writing-an-r-package-from-scratch/&quot;&gt;Writing an R package from scratch&lt;/a&gt; - Hilary Parker&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/jtleek/rpackages&quot;&gt;Developing R packages&lt;/a&gt; - Jeff Leek&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://stat545.com/packages00_index.html&quot;&gt;stat545 - Write your own R package&lt;/a&gt; - Jenny Bryan’s statistics 545 class at UBC&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://kbroman.org/pkg_primer/&quot;&gt;R package primer&lt;/a&gt; - Karl Boman&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://tinyheero.github.io/jekyll/update/2015/07/26/making-your-first-R-package.html&quot;&gt;Making Your First R Package&lt;/a&gt; - Fong Chun Chan&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.mjdenny.com/R_Package_Pictorial.html&quot;&gt;R Package Development Pictorial&lt;/a&gt; - Matthew Denny&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.coursera.org/learn/r-packages&quot;&gt;Coursera course on building R packages&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://r-pkgs.had.co.nz/&quot;&gt;R Packages&lt;/a&gt; by Hadley for a full treatment of the subject.&lt;/li&gt;
  &lt;li&gt;From time to time you may need to reference CRAN’s &lt;a href=&quot;https://cran.r-project.org/doc/manuals/r-release/R-exts.html&quot;&gt;Writing R Extensions&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h2 id=&quot;the-ways&quot;&gt;the ways&lt;/h2&gt;

&lt;p&gt;The following are not mutually exclusive - some can be combined with others.&lt;/p&gt;

&lt;p&gt;In process of writing this I figured I should ask other people what they do. I ended up asking 16 people - not a random selection or a big enough &lt;code class=&quot;highlighter-rouge&quot;&gt;n&lt;/code&gt; to really say anything conclusively. But it did allow me to cover more ways of doing
package dev.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;mason&quot;&gt;mason&lt;/h3&gt;

&lt;p&gt;github: &lt;a href=&quot;https://github.com/metacran/mason&quot;&gt;https://github.com/metacran/mason&lt;/a&gt; (by Gábor Csárdi)&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Note that &lt;code class=&quot;highlighter-rouge&quot;&gt;mason&lt;/code&gt; is on CRAN, but it’s a completely different package.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;You can use &lt;code class=&quot;highlighter-rouge&quot;&gt;mason&lt;/code&gt; inside of R or via &lt;code class=&quot;highlighter-rouge&quot;&gt;Rscript&lt;/code&gt; on the cli.&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;metacran/mason&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mason&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mason&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mason&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then you’ll go through a series of prompts asking you for inormation (package name, license, your name, etc.)&lt;/p&gt;

&lt;p&gt;Out of 16 people I talked to, 2 mentioned using &lt;code class=&quot;highlighter-rouge&quot;&gt;mason&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;devtools&quot;&gt;devtools&lt;/h3&gt;

&lt;p&gt;github: &lt;a href=&quot;https://github.com/hadley/devtools&quot;&gt;https://github.com/hadley/devtools&lt;/a&gt; (by Hadley Wickham)&lt;/p&gt;

&lt;p&gt;Within R:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;devtools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;foobar&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;On the cli, we can do:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;Rscript&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'devtools::create(&quot;foobar&quot;)'&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;devtools::create()&lt;/code&gt; adds basic set of files needed for an R package - and also adds files assuming you use the RStudio IDE. Though you can not add RStudio files by choosing &lt;code class=&quot;highlighter-rouge&quot;&gt;rstudio = FALSE&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Be aware of the default entry in the &lt;code class=&quot;highlighter-rouge&quot;&gt;NAMESPACE&lt;/code&gt; file: &lt;code class=&quot;highlighter-rouge&quot;&gt;exportPattern(&quot;^[^\\.]&quot;)&lt;/code&gt;. The first time you generate documentation, e.g., via &lt;code class=&quot;highlighter-rouge&quot;&gt;devtools::document()&lt;/code&gt; your &lt;code class=&quot;highlighter-rouge&quot;&gt;NAMESPACE&lt;/code&gt; file will be changed to only export those things you want exported, which is ideal.&lt;/p&gt;

&lt;p&gt;Out of 16 people I talked to, 7 mentioned using &lt;code class=&quot;highlighter-rouge&quot;&gt;devtools&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;rcmdcheck&quot;&gt;rcmdcheck&lt;/h3&gt;

&lt;p&gt;rcmdcheck: &lt;a href=&quot;https://github.com/r-lib/rcmdcheck&quot;&gt;https://github.com/r-lib/rcmdcheck&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;This is an alternative to running &lt;code class=&quot;highlighter-rouge&quot;&gt;R CMD CHECK&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;devtools::check()&lt;/code&gt;, that gives nice colorized output, at least in the terminal.&lt;/p&gt;

&lt;p&gt;I usually run it like this in the root of an R package directory in my terminal (running with &lt;code class=&quot;highlighter-rouge&quot;&gt;--as-cran&lt;/code&gt; to check as CRAN does, and &lt;code class=&quot;highlighter-rouge&quot;&gt;--run-dontrun&lt;/code&gt; to run examples wrapped in &lt;code class=&quot;highlighter-rouge&quot;&gt;\dontrun{}&lt;/code&gt;):&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Rscript -e 'rcmdcheck::rcmdcheck(args = c(&quot;--as-cran&quot;, &quot;--run-dontrun&quot;))'
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;ide-rstudio&quot;&gt;IDE: RStudio&lt;/h3&gt;

&lt;p&gt;rstudio: &lt;a href=&quot;https://www.rstudio.com/products/rstudio/#Desktop&quot;&gt;https://www.rstudio.com/products/rstudio/#Desktop&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;The following is a guide provided by RStudio for creating packages in RStudio IDE: &lt;a href=&quot;https://support.rstudio.com/hc/en-us/articles/200486488-Developing-Packages-with-RStudio&quot;&gt;Using RStudio for package development&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;When in RStudio - New Project in upper left hand corner - choose new or existing directory - choose R package - name the package, and you probably want to initialize git by checking the appropriate box.&lt;/p&gt;

&lt;p&gt;Out of 16 people I talked to, 14 used RStudio all the time or most of the time.
It’s popular, to say the least.&lt;/p&gt;

&lt;p&gt;A noteable quote from one person I talked to:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;all rstudio all day&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h4 id=&quot;rstudio-inside-of-docker&quot;&gt;RStudio inside of Docker&lt;/h4&gt;

&lt;p&gt;rstudio server: &lt;a href=&quot;https://www.rstudio.com/products/rstudio/download-server/&quot;&gt;https://www.rstudio.com/products/rstudio/download-server/&lt;/a&gt;
rstudio server docker container: &lt;a href=&quot;https://hub.docker.com/r/rocker/rstudio/&quot;&gt;https://hub.docker.com/r/rocker/rstudio/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I know of at least one person that works this way, and surely there are others.&lt;/p&gt;

&lt;p&gt;As simple as:&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;docker run -d -p 8787:8787 rocker/rstudio
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then visit &lt;code class=&quot;highlighter-rouge&quot;&gt;localhost:8787&lt;/code&gt; in your browser.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;web&quot;&gt;web&lt;/h3&gt;

&lt;p&gt;For example, we could just create files from the Github website. e.g,.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;New Repository&lt;/li&gt;
  &lt;li&gt;then add files you’d need for an R package and edit those in the browser&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Out of 16 people I talked to, 2 mentioned starting with creating a GitHub repository, then pulling that down, R development, etc. etc., then push back up. But no one mentioned all in browser - although see &lt;strong&gt;phone dev&lt;/strong&gt; below.&lt;/p&gt;

&lt;p&gt;The Github web interface is an important starting point for getting people into code in general when they are not familiar with git.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;text-editor&quot;&gt;text editor&lt;/h3&gt;

&lt;p&gt;If you primarily work in a text editor perhaps this (using &lt;a href=&quot;https://atom.io/&quot;&gt;Atom editor&lt;/a&gt;):&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Rscript -e 'devtools::create(&quot;foobar&quot;)' &amp;amp;&amp;amp; cd foobar &amp;amp;&amp;amp; git init &amp;amp;&amp;amp; atom .&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2017-06-18-package-dev/atom.png&quot; alt=&quot;atom&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Or the same for &lt;a href=&quot;https://www.sublimetext.com/&quot;&gt;Sublime Text&lt;/a&gt; with &lt;code class=&quot;highlighter-rouge&quot;&gt;subl .&lt;/code&gt; instead of &lt;code class=&quot;highlighter-rouge&quot;&gt;atom .&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Two of 16 people I talked to mentioned using &lt;a href=&quot;https://www.gnu.org/software/emacs/&quot;&gt;Emacs&lt;/a&gt; exclusively or mostly. One of the 16 people mentione Sublime Text by name - that’s also the editor I use (I often have RStudio and Sublime Text open for the same R package - switching between them for the features I like).&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;copypaste&quot;&gt;copy/paste&lt;/h3&gt;

&lt;p&gt;Sometimes when creating a new package I know of a previous package I’ve created that may have similar code I want in the new one or so. So I just copy/paste essentially the old package into a new folder. Be careful when doing this: make sure to delete git history, then re-initialize git (&lt;code class=&quot;highlighter-rouge&quot;&gt;rm -rf .git &amp;amp;&amp;amp; git init&lt;/code&gt; in the new repository). Ideally you use roxygen/devtools for docs - in which case just delete all files in &lt;code class=&quot;highlighter-rouge&quot;&gt;man/&lt;/code&gt; then when you generate docs, you get all new man files.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;rhub&quot;&gt;rhub&lt;/h3&gt;

&lt;p&gt;rhub: &lt;a href=&quot;https://builder.r-hub.io/&quot;&gt;https://builder.r-hub.io/&lt;/a&gt; &lt;a href=&quot;https://github.com/r-hub&quot;&gt;https://github.com/r-hub&lt;/a&gt; &lt;a href=&quot;https://www.r-consortium.org/events/2016/10/11/r-hub-public-beta&quot;&gt;https://www.r-consortium.org/events/2016/10/11/r-hub-public-beta&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;R-hub is a project by Gabor Csárdi, funded by the &lt;a href=&quot;https://www.r-consortium.org/&quot;&gt;R Consortium&lt;/a&gt;, which is a service for developing, building, testing and validating R packages.&lt;/p&gt;

&lt;p&gt;One of the 16 people I talked to mentioned &lt;code class=&quot;highlighter-rouge&quot;&gt;rhub&lt;/code&gt; - but I imagine many of them use it. I use it :)&lt;/p&gt;

&lt;p&gt;I usually use it from the command line (or you can use it from within R, either on CLI or RStudio), like &lt;code class=&quot;highlighter-rouge&quot;&gt;rhub::check_for_cran()&lt;/code&gt; to get checks for my package on Windows and two Linux platforms, before sending to CRAN.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;the-makefile&quot;&gt;the Makefile&lt;/h3&gt;

&lt;p&gt;The &lt;a href=&quot;https://en.wikipedia.org/wiki/Makefile&quot;&gt;Makefile&lt;/a&gt; is a file containing a set of directives. Some use a Makefile for a few or even most things one does in package development, from re-making &lt;code class=&quot;highlighter-rouge&quot;&gt;man&lt;/code&gt; files, to building, installing, checking, building vignettes, making &lt;a href=&quot;https://github.com/hadley/pkgdown&quot;&gt;pkgdown docs&lt;/a&gt;, and more. Makefiles can include actions that do not just R things, but run other programming/command line tools. It’s a good idea when contributing to another R package to look for a Makefile - and to use them in your own package development. I don’t personally use them enough, and ideally will use them more in the future.&lt;/p&gt;

&lt;p&gt;Here’s an example of &lt;a href=&quot;https://github.com/richfitz/storr/blob/master/Makefile&quot;&gt;a Makefile&lt;/a&gt; from Rich FitzJohn:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/richfitz/storr/blob/master/Makefile&quot;&gt;&lt;img src=&quot;/public/img/2017-06-18-package-dev/makefile.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;ruby&quot;&gt;ruby?&lt;/h3&gt;

&lt;p&gt;To scratch a personal itch, I made a little Ruby gem with a command line tool to run one or more specific tests by fuzzy matching the name of the test file. Reason is, sometimes I work on a test file and I just want to run that test and not any others - and not from within RStudio, but form the terminal.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/sckott/rubrb&quot;&gt;https://github.com/sckott/rubrb&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;language-sh highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;➜ rb &lt;span class=&quot;nb&quot;&gt;test &lt;/span&gt;config
using:
  tests/testthat/test-config-fxns.R

config fxns: ........

DONE &lt;span class=&quot;o&quot;&gt;===========================================================================&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;I’m sure there’s lots of these types of things out there - scratching an itch that helps the person work the way they want to work.&lt;/p&gt;

&lt;p&gt;While we’re on the topic of Ruby, Travis-CI has a nice Ruby gem &lt;a href=&quot;https://rubygems.org/gems/travis&quot;&gt;travis&lt;/a&gt; to interact with Travis for your R packages. There’s also one for &lt;a href=&quot;https://rubygems.org/gems/circle-cli&quot;&gt;Circle-CI&lt;/a&gt; and &lt;a href=&quot;https://rubygems.org/gems/veyor&quot;&gt;I’ve written one for Appveyor&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;phone-dev&quot;&gt;phone dev&lt;/h3&gt;

&lt;p&gt;DO NOT TRY THIS AT HOME&lt;/p&gt;

&lt;blockquote class=&quot;twitter-tweet&quot; data-cards=&quot;hidden&quot; data-lang=&quot;en&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;tracestack: search Stack Overflow for your most recent error msg. First &lt;a href=&quot;https://twitter.com/hashtag/rstats?src=hash&quot;&gt;#rstats&lt;/a&gt; package written entirely on a phone? &lt;a href=&quot;https://t.co/IRX2luiR0N&quot;&gt;https://t.co/IRX2luiR0N&lt;/a&gt;&lt;/p&gt;&amp;mdash; David Robinson (@drob) &lt;a href=&quot;https://twitter.com/drob/status/592074817735630850&quot;&gt;April 25, 2015&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async=&quot;&quot; src=&quot;//platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;

&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;.&lt;a href=&quot;https://twitter.com/drob&quot;&gt;@drob&lt;/a&gt; just wrote an &lt;a href=&quot;https://twitter.com/hashtag/rstats?src=hash&quot;&gt;#rstats&lt;/a&gt; package from his phone, in case you wanted to feel even less productive checking twitter&lt;/p&gt;&amp;mdash; Hilary Parker (@hspter) &lt;a href=&quot;https://twitter.com/hspter/status/592071435314683904&quot;&gt;April 25, 2015&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async=&quot;&quot; src=&quot;//platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;

&lt;blockquote class=&quot;twitter-tweet&quot; data-lang=&quot;en&quot;&gt;&lt;p lang=&quot;en&quot; dir=&quot;ltr&quot;&gt;So that idea for throwing traceback to stackoverflow? &lt;a href=&quot;https://twitter.com/drob&quot;&gt;@drob&lt;/a&gt; is actually writing it. As a package. Live on github. ON HIS PHONE. &lt;a href=&quot;https://twitter.com/hashtag/rstats?src=hash&quot;&gt;#rstats&lt;/a&gt;&lt;/p&gt;&amp;mdash; Oliver Keyes (@kopshtik) &lt;a href=&quot;https://twitter.com/kopshtik/status/592056492397846528&quot;&gt;April 25, 2015&lt;/a&gt;&lt;/blockquote&gt;
&lt;script async=&quot;&quot; src=&quot;//platform.twitter.com/widgets.js&quot; charset=&quot;utf-8&quot;&gt;&lt;/script&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;putting-stuff-on-the-web&quot;&gt;putting stuff on the web&lt;/h3&gt;

&lt;p&gt;While we’re talking about tooling, I thought I should briefly mention putting code up on the interwebs. There’s many code hosting options - for brevity, we’ll just cover GitHub.&lt;/p&gt;

&lt;p&gt;It’s a good idea to learn command line git, and related command line tools that make using git easier - if you can get work done faster you have more time to look at cat pictures!&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/github/hub&quot;&gt;hub&lt;/a&gt; is one git tool that I use a lot. For example, create a folder, initialize a git repo, push to github, then open the just created repo on Github:&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;mkdir helloworld &amp;amp;&amp;amp; cd helloworld &amp;amp;&amp;amp; hub init &amp;amp;&amp;amp; hub create sckott/helloworld &amp;amp;&amp;amp; hub browse&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;where &lt;code class=&quot;highlighter-rouge&quot;&gt;hub create&lt;/code&gt; uses the &lt;code class=&quot;highlighter-rouge&quot;&gt;owner/repo&lt;/code&gt; pattern&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2017-06-18-package-dev/hub.png&quot; alt=&quot;hub&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Sun, 18 Jun 2017 00:00:00 -0700</pubDate>
        <link>http://localhost:4000/2017/06/package-dev/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/06/package-dev/</guid>
        
        
      </item>
    
      <item>
        <title>Reading in May</title>
        <description>&lt;p&gt;Reading right now or just finished&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The Nine, &lt;em&gt;Jeffrey Toobin&lt;/em&gt; &lt;a href=&quot;http://www.jeffreytoobin.com/books/the-nine-tr&quot;&gt;http://www.jeffreytoobin.com/books/the-nine-tr&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Just finished reading this.&lt;/li&gt;
      &lt;li&gt;synopsis:
        &lt;ul&gt;
          &lt;li&gt;fucking hell, Scalia and Thomas are awful&lt;/li&gt;
          &lt;li&gt;the Warren court was awesome&lt;/li&gt;
          &lt;li&gt;RBG 4 life&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Evolutionary Biology of Parasites, &lt;em&gt;Peter W. Price&lt;/em&gt; &lt;a href=&quot;http://press.princeton.edu/titles/645.html&quot;&gt;http://press.princeton.edu/titles/645.html&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;In progress. I got this book from my undergrad advisor around 2001 or so - figured I’d give it a read.&lt;/li&gt;
      &lt;li&gt;synopsis: parasites are awesome&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Bike Snob: Systematically &amp;amp; Mercilessly Realigning the World of Cycling, &lt;em&gt;Christopher Koelle&lt;/em&gt; &lt;a href=&quot;https://www.goodreads.com/book/show/7549138-bike-snob&quot;&gt;https://www.goodreads.com/book/show/7549138-bike-snob&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;In progress. Got from my dad, thx dad&lt;/li&gt;
      &lt;li&gt;synopsis: funny&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;The Genius of Birds, &lt;em&gt;Jennifer Ackerman&lt;/em&gt; &lt;a href=&quot;http://www.jenniferackermanauthor.com/genius-ofbirds&quot;&gt;http://www.jenniferackermanauthor.com/genius-ofbirds&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;In progress.&lt;/li&gt;
      &lt;li&gt;synopsis: birds are smart&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;
</description>
        <pubDate>Tue, 16 May 2017 00:00:00 -0700</pubDate>
        <link>http://localhost:4000/2017/05/reading-may/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/05/reading-may/</guid>
        
        <category>reading</category>
        
        
      </item>
    
      <item>
        <title>CascadiaRConf</title>
        <description>&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;center&gt;
  &lt;h1&gt;Save the date for CascadiaRConf!&lt;/h1&gt;

  &lt;h2&gt;Website: &lt;a href=&quot;https://cascadiarconf.com/&quot;&gt;cascadiarconf.com&lt;/a&gt;&lt;/h2&gt;

  &lt;h2&gt;Twitter: &lt;a href=&quot;https://twitter.com/cascadiarconf/&quot;&gt;@cascadiarconf&lt;/a&gt;&lt;/h2&gt;
&lt;/center&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;
There’s not a lot of info available yet - but so far:&lt;/p&gt;

&lt;h2 id=&quot;when&quot;&gt;When&lt;/h2&gt;

&lt;p&gt;3 June, 2017&lt;/p&gt;

&lt;h2 id=&quot;where&quot;&gt;Where&lt;/h2&gt;

&lt;p&gt;OHSU Collaborative Life Science Building&lt;/p&gt;

&lt;p&gt;&lt;small&gt;more details soon on what rooms, etc.&lt;/small&gt;&lt;/p&gt;

&lt;h2 id=&quot;agenda&quot;&gt;Agenda&lt;/h2&gt;

&lt;p&gt;No details yet - but likely to be a series of workshops as well as single track set of talks.&lt;/p&gt;

&lt;p&gt;We’ll be accepting talk submissions soonish.&lt;/p&gt;

&lt;h2 id=&quot;tickets&quot;&gt;Tickets&lt;/h2&gt;

&lt;p&gt;We aren’t out to make money - tickets will be cheap and probably free for students.&lt;/p&gt;

&lt;h2 id=&quot;why&quot;&gt;Why&lt;/h2&gt;

&lt;p&gt;Why not!?  But srsly, there’s not that many R conferences, so more is better at this point. In addition, there is an increasingly large R community in Portland at least judged by the ~1,140 members in the &lt;a href=&quot;https://www.meetup.com/portland-r-user-group/&quot;&gt;Portland R Meetup&lt;/a&gt; - so a conference makes sense. In addition, this will be an excuse to hopefully get together people from other nearby cities: Corvallis, Salem, Seattle, etc.&lt;/p&gt;
</description>
        <pubDate>Thu, 23 Mar 2017 00:00:00 -0700</pubDate>
        <link>http://localhost:4000/2017/03/cascadiarconf/</link>
        <guid isPermaLink="true">http://localhost:4000/2017/03/cascadiarconf/</guid>
        
        <category>conference</category>
        
        <category>R</category>
        
        
      </item>
    
      <item>
        <title>USDA plants database API in R</title>
        <description>&lt;p&gt;The USDA maintains a database of plant information, some of it trait data, some
of it life history. Check it out at &lt;a href=&quot;http://plants.usda.gov/java/&quot;&gt;http://plants.usda.gov/java/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;They’ve been talking about releasing an API for a long time, but have not done so.&lt;/p&gt;

&lt;p&gt;Thus, since at least some version of their data is in the public web,
I’ve created a RESTful API for the data:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;source code: &lt;a href=&quot;https://github.com/sckott/usdaplantsapi/&quot;&gt;https://github.com/sckott/usdaplantsapi/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;base URL: &lt;a href=&quot;https://plantsdb.xyz&quot;&gt;https://plantsdb.xyz&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Check out the API, and open issues for bugs/feature requests in the github repo.&lt;/p&gt;

&lt;p&gt;The following is an example using it from R, but you can use it from anywhere,
the command line, Ruby, Python, a browser, whatevs.&lt;/p&gt;

&lt;p&gt;Here, we’ll use &lt;a href=&quot;https://github.com/sckott/request&quot;&gt;request&lt;/a&gt;, a higher level
http client for R that I’ve been working on. A small quirk with &lt;code class=&quot;highlighter-rouge&quot;&gt;request&lt;/code&gt; is that
when piping, you have to assign the output of the request to an object before you
can do any further manipulation. But that’s probably good for avoiding too long
pipe chains.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;note, that I’ve set &lt;code class=&quot;highlighter-rouge&quot;&gt;tibble.max_extra_cols = 15&lt;/code&gt; to not print the many
columns that are returned, for blog post brevity. When you run below
you’ll get more columns.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Install from CRAN&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;request&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;There is a small improvement in the dev version of &lt;code class=&quot;highlighter-rouge&quot;&gt;request&lt;/code&gt; to make any data.frame’s
tibble’s (which the below examples uses). To get that install from GitHub:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sckott/request&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'request'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'tibble'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;heartbeat&quot;&gt;Heartbeat&lt;/h3&gt;

&lt;p&gt;The simplest call to the API is to a route &lt;code class=&quot;highlighter-rouge&quot;&gt;/heartbeat&lt;/code&gt;,
which just lists the available routes.&lt;/p&gt;

&lt;p&gt;Set the base url we’ll use throughout the work below&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;https://plantsdb.xyz&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;api_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;heartbeat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $routes
#&amp;gt; [1] &quot;/search (HEAD, GET)&quot; &quot;/heartbeat&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Okay, so there are just two routes, &lt;code class=&quot;highlighter-rouge&quot;&gt;/search&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;/heartbeat&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;search&quot;&gt;Search&lt;/h2&gt;

&lt;p&gt;The search route suppports the following parameters:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;fields&lt;/code&gt;, e.g., &lt;code class=&quot;highlighter-rouge&quot;&gt;fields='Genus,Species'&lt;/code&gt; (default: all fields returned)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;limit&lt;/code&gt;, e.g., &lt;code class=&quot;highlighter-rouge&quot;&gt;limit=10&lt;/code&gt; (default: 10)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;offset&lt;/code&gt;, e.g., &lt;code class=&quot;highlighter-rouge&quot;&gt;offset=1&lt;/code&gt; (default: 0)&lt;/li&gt;
  &lt;li&gt;search on any fields in the output, e.g, &lt;code class=&quot;highlighter-rouge&quot;&gt;Genus=Pinus&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;Species=annua&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;basic-search&quot;&gt;basic search&lt;/h3&gt;

&lt;p&gt;Let’s first not pass any params&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;api_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $count
#&amp;gt; [1] 92171
#&amp;gt;
#&amp;gt; $returned
#&amp;gt; [1] 10
#&amp;gt;
#&amp;gt; $citation
#&amp;gt; [1] &quot;USDA, NRCS. 2016. The PLANTS Database (http://plants.usda.gov, 12 July 2016). National Plant Data Team, Greensboro, NC 27401-4901 USA.&quot;
#&amp;gt;
#&amp;gt; $terms
#&amp;gt; [1] &quot;Our plant information, including the distribution maps, lists, and text, is not copyrighted and is free for any use.&quot;
#&amp;gt;
#&amp;gt; $data
#&amp;gt; # A tibble: 10 × 134
#&amp;gt;       id Symbol Accepted_Symbol_x Synonym_Symbol_x
#&amp;gt; *  &amp;lt;int&amp;gt;  &amp;lt;chr&amp;gt;             &amp;lt;chr&amp;gt;            &amp;lt;chr&amp;gt;
#&amp;gt; 1      1   ABAB              ABAB
#&amp;gt; 2      2  ABAB2             ABPR3            ABAB2
#&amp;gt; 3      3  ABAB3              ABTH            ABAB3
#&amp;gt; 4      4 ABAB70            ABAB70
#&amp;gt; 5      5   ABAC             ABUMB             ABAC
#&amp;gt; 6      6   ABAL              ABAL
#&amp;gt; 7      7  ABAL2             ABUMU            ABAL2
#&amp;gt; 8      8  ABAL3             ABAL3
#&amp;gt; 9      9   ABAM              ABAM
#&amp;gt; 10    10  ABAM2             ABAM2
#&amp;gt; # ... with 130 more variables: Scientific_Name_x &amp;lt;chr&amp;gt;,
#&amp;gt; #   Hybrid_Genus_Indicator &amp;lt;chr&amp;gt;, Hybrid_Species_Indicator &amp;lt;chr&amp;gt;,
#&amp;gt; #   Species &amp;lt;chr&amp;gt;, Subspecies_Prefix &amp;lt;chr&amp;gt;,
#&amp;gt; #   Hybrid_Subspecies_Indicator &amp;lt;chr&amp;gt;, Subspecies &amp;lt;chr&amp;gt;,
#&amp;gt; #   Variety_Prefix &amp;lt;chr&amp;gt;, Hybrid_Variety_Indicator &amp;lt;chr&amp;gt;, Variety &amp;lt;chr&amp;gt;,
#&amp;gt; #   Subvariety_Prefix &amp;lt;chr&amp;gt;, Subvariety &amp;lt;chr&amp;gt;, Forma_Prefix &amp;lt;chr&amp;gt;,
#&amp;gt; #   Forma &amp;lt;chr&amp;gt;, Genera_Binomial_Author &amp;lt;chr&amp;gt;, ...
#&amp;gt;
#&amp;gt; $error
#&amp;gt; NULL
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;You get slots:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;count&lt;/code&gt;: number of results found&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;returned&lt;/code&gt;: numbef of results returned&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;citation&lt;/code&gt;: suggested citation, from USDA&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;terms&lt;/code&gt;: terms of use, from USDA&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;data&lt;/code&gt;: the results&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;error&lt;/code&gt;: if an error occurred, you’ll see the message here&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Note that if any data.frame’s are found, we make them into tibble’s, nicely
formatted data.frame’s that make it easy to deal with large data.&lt;/p&gt;

&lt;h3 id=&quot;pagination&quot;&gt;Pagination&lt;/h3&gt;

&lt;p&gt;limit number of results&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;api_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;api_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $count
#&amp;gt; [1] 92171
#&amp;gt;
#&amp;gt; $returned
#&amp;gt; [1] 5
#&amp;gt;
#&amp;gt; $citation
#&amp;gt; [1] &quot;USDA, NRCS. 2016. The PLANTS Database (http://plants.usda.gov, 12 July 2016). National Plant Data Team, Greensboro, NC 27401-4901 USA.&quot;
#&amp;gt;
#&amp;gt; $terms
#&amp;gt; [1] &quot;Our plant information, including the distribution maps, lists, and text, is not copyrighted and is free for any use.&quot;
#&amp;gt;
#&amp;gt; $data
#&amp;gt; # A tibble: 5 × 134
#&amp;gt;      id Symbol Accepted_Symbol_x Synonym_Symbol_x
#&amp;gt; * &amp;lt;int&amp;gt;  &amp;lt;chr&amp;gt;             &amp;lt;chr&amp;gt;            &amp;lt;chr&amp;gt;
#&amp;gt; 1     1   ABAB              ABAB
#&amp;gt; 2     2  ABAB2             ABPR3            ABAB2
#&amp;gt; 3     3  ABAB3              ABTH            ABAB3
#&amp;gt; 4     4 ABAB70            ABAB70
#&amp;gt; 5     5   ABAC             ABUMB             ABAC
#&amp;gt; # ... with 130 more variables: Scientific_Name_x &amp;lt;chr&amp;gt;,
#&amp;gt; #   Hybrid_Genus_Indicator &amp;lt;chr&amp;gt;, Hybrid_Species_Indicator &amp;lt;chr&amp;gt;,
#&amp;gt; #   Species &amp;lt;chr&amp;gt;, Subspecies_Prefix &amp;lt;chr&amp;gt;,
#&amp;gt; #   Hybrid_Subspecies_Indicator &amp;lt;chr&amp;gt;, Subspecies &amp;lt;chr&amp;gt;,
#&amp;gt; #   Variety_Prefix &amp;lt;chr&amp;gt;, Hybrid_Variety_Indicator &amp;lt;chr&amp;gt;, Variety &amp;lt;chr&amp;gt;,
#&amp;gt; #   Subvariety_Prefix &amp;lt;chr&amp;gt;, Subvariety &amp;lt;chr&amp;gt;, Forma_Prefix &amp;lt;chr&amp;gt;,
#&amp;gt; #   Forma &amp;lt;chr&amp;gt;, Genera_Binomial_Author &amp;lt;chr&amp;gt;, ...
#&amp;gt;
#&amp;gt; $error
#&amp;gt; NULL
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;change record to start at&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;api_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;api_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;offset&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $count
#&amp;gt; [1] 92161
#&amp;gt;
#&amp;gt; $returned
#&amp;gt; [1] 5
#&amp;gt;
#&amp;gt; $citation
#&amp;gt; [1] &quot;USDA, NRCS. 2016. The PLANTS Database (http://plants.usda.gov, 12 July 2016). National Plant Data Team, Greensboro, NC 27401-4901 USA.&quot;
#&amp;gt;
#&amp;gt; $terms
#&amp;gt; [1] &quot;Our plant information, including the distribution maps, lists, and text, is not copyrighted and is free for any use.&quot;
#&amp;gt;
#&amp;gt; $data
#&amp;gt; # A tibble: 5 × 134
#&amp;gt;      id Symbol Accepted_Symbol_x Synonym_Symbol_x
#&amp;gt; * &amp;lt;int&amp;gt;  &amp;lt;chr&amp;gt;             &amp;lt;chr&amp;gt;            &amp;lt;chr&amp;gt;
#&amp;gt; 1    11  ABAM3             ABAM3
#&amp;gt; 2    12  ABAM4              NAAM            ABAM4
#&amp;gt; 3    13  ABAM5              ABAB            ABAM5
#&amp;gt; 4    14   ABAN              ABAN
#&amp;gt; 5    15  ABANA              ABAN            ABANA
#&amp;gt; # ... with 130 more variables: Scientific_Name_x &amp;lt;chr&amp;gt;,
#&amp;gt; #   Hybrid_Genus_Indicator &amp;lt;chr&amp;gt;, Hybrid_Species_Indicator &amp;lt;chr&amp;gt;,
#&amp;gt; #   Species &amp;lt;chr&amp;gt;, Subspecies_Prefix &amp;lt;chr&amp;gt;,
#&amp;gt; #   Hybrid_Subspecies_Indicator &amp;lt;chr&amp;gt;, Subspecies &amp;lt;chr&amp;gt;,
#&amp;gt; #   Variety_Prefix &amp;lt;chr&amp;gt;, Hybrid_Variety_Indicator &amp;lt;chr&amp;gt;, Variety &amp;lt;chr&amp;gt;,
#&amp;gt; #   Subvariety_Prefix &amp;lt;chr&amp;gt;, Subvariety &amp;lt;chr&amp;gt;, Forma_Prefix &amp;lt;chr&amp;gt;,
#&amp;gt; #   Forma &amp;lt;chr&amp;gt;, Genera_Binomial_Author &amp;lt;chr&amp;gt;, ...
#&amp;gt;
#&amp;gt; $error
#&amp;gt; NULL
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;return-fields&quot;&gt;Return fields&lt;/h3&gt;

&lt;p&gt;You can say what fields you want returned, useful when you just want a
subset of fields&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;api_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;api_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'Genus,Species,Symbol'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $count
#&amp;gt; [1] 92171
#&amp;gt;
#&amp;gt; $returned
#&amp;gt; [1] 10
#&amp;gt;
#&amp;gt; $citation
#&amp;gt; [1] &quot;USDA, NRCS. 2016. The PLANTS Database (http://plants.usda.gov, 12 July 2016). National Plant Data Team, Greensboro, NC 27401-4901 USA.&quot;
#&amp;gt;
#&amp;gt; $terms
#&amp;gt; [1] &quot;Our plant information, including the distribution maps, lists, and text, is not copyrighted and is free for any use.&quot;
#&amp;gt;
#&amp;gt; $data
#&amp;gt; # A tibble: 10 × 3
#&amp;gt;    Symbol     Species       Genus
#&amp;gt; *   &amp;lt;chr&amp;gt;       &amp;lt;chr&amp;gt;       &amp;lt;chr&amp;gt;
#&amp;gt; 1    ABAB abutiloides    Abutilon
#&amp;gt; 2   ABAB2       abrus       Abrus
#&amp;gt; 3   ABAB3    abutilon    Abutilon
#&amp;gt; 4  ABAB70    abietina Abietinella
#&amp;gt; 5    ABAC   acutalata     Abronia
#&amp;gt; 6    ABAL      alpina     Abronia
#&amp;gt; 7   ABAL2        alba     Abronia
#&amp;gt; 8   ABAL3        alba       Abies
#&amp;gt; 9    ABAM    amabilis       Abies
#&amp;gt; 10  ABAM2     ameliae     Abronia
#&amp;gt;
#&amp;gt; $error
#&amp;gt; NULL
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;query&quot;&gt;Query&lt;/h3&gt;

&lt;p&gt;You can query on individual fields&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;api_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;api_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Genus&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Pinus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Genus,Species&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $count
#&amp;gt; [1] 185
#&amp;gt;
#&amp;gt; $returned
#&amp;gt; [1] 10
#&amp;gt;
#&amp;gt; $citation
#&amp;gt; [1] &quot;USDA, NRCS. 2016. The PLANTS Database (http://plants.usda.gov, 12 July 2016). National Plant Data Team, Greensboro, NC 27401-4901 USA.&quot;
#&amp;gt;
#&amp;gt; $terms
#&amp;gt; [1] &quot;Our plant information, including the distribution maps, lists, and text, is not copyrighted and is free for any use.&quot;
#&amp;gt;
#&amp;gt; $data
#&amp;gt; # A tibble: 10 × 2
#&amp;gt;       Species Genus
#&amp;gt; *       &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;
#&amp;gt; 1  albicaulis Pinus
#&amp;gt; 2    apacheca Pinus
#&amp;gt; 3    aristata Pinus
#&amp;gt; 4   arizonica Pinus
#&amp;gt; 5    armandii Pinus
#&amp;gt; 6   arizonica Pinus
#&amp;gt; 7    aristata Pinus
#&amp;gt; 8   arizonica Pinus
#&amp;gt; 9   arizonica Pinus
#&amp;gt; 10  attenuata Pinus
#&amp;gt;
#&amp;gt; $error
#&amp;gt; NULL
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Another query example&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;api_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;api_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Species&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;annua&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Genus,Species&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $count
#&amp;gt; [1] 30
#&amp;gt;
#&amp;gt; $returned
#&amp;gt; [1] 10
#&amp;gt;
#&amp;gt; $citation
#&amp;gt; [1] &quot;USDA, NRCS. 2016. The PLANTS Database (http://plants.usda.gov, 12 July 2016). National Plant Data Team, Greensboro, NC 27401-4901 USA.&quot;
#&amp;gt;
#&amp;gt; $terms
#&amp;gt; [1] &quot;Our plant information, including the distribution maps, lists, and text, is not copyrighted and is free for any use.&quot;
#&amp;gt;
#&amp;gt; $data
#&amp;gt; # A tibble: 10 × 2
#&amp;gt;    Species         Genus
#&amp;gt; *    &amp;lt;chr&amp;gt;         &amp;lt;chr&amp;gt;
#&amp;gt; 1    annua        Adonis
#&amp;gt; 2    annua     Artemisia
#&amp;gt; 3    annua   Bulbostylis
#&amp;gt; 4    annua    Castilleja
#&amp;gt; 5    annua   Craniolaria
#&amp;gt; 6    annua Dimorphotheca
#&amp;gt; 7    annua       Drosera
#&amp;gt; 8    annua    Eleocharis
#&amp;gt; 9    annua  Fimbristylis
#&amp;gt; 10   annua    Heliomeris
#&amp;gt;
#&amp;gt; $error
#&amp;gt; NULL
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;And one more example, here we’re interested in finding taxa that are perennials&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;root&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;api_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;api_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Duration&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Perennial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Genus,Species,Symbol,Duration&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $count
#&amp;gt; [1] 25296
#&amp;gt;
#&amp;gt; $returned
#&amp;gt; [1] 10
#&amp;gt;
#&amp;gt; $citation
#&amp;gt; [1] &quot;USDA, NRCS. 2016. The PLANTS Database (http://plants.usda.gov, 12 July 2016). National Plant Data Team, Greensboro, NC 27401-4901 USA.&quot;
#&amp;gt;
#&amp;gt; $terms
#&amp;gt; [1] &quot;Our plant information, including the distribution maps, lists, and text, is not copyrighted and is free for any use.&quot;
#&amp;gt;
#&amp;gt; $data
#&amp;gt; # A tibble: 10 × 4
#&amp;gt;    Symbol     Species  Duration    Genus
#&amp;gt; *   &amp;lt;chr&amp;gt;       &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;    &amp;lt;chr&amp;gt;
#&amp;gt; 1    ABAB abutiloides Perennial Abutilon
#&amp;gt; 2    ABAL      alpina Perennial  Abronia
#&amp;gt; 3   ABAL3        alba Perennial    Abies
#&amp;gt; 4    ABAM    amabilis Perennial    Abies
#&amp;gt; 5   ABAM2     ameliae Perennial  Abronia
#&amp;gt; 6   ABAM3   ammophila Perennial  Abronia
#&amp;gt; 7    ABAR   argillosa Perennial  Abronia
#&amp;gt; 8    ABAU     auritum Perennial Abutilon
#&amp;gt; 9    ABBA    balsamea Perennial    Abies
#&amp;gt; 10  ABBAB    balsamea Perennial    Abies
#&amp;gt;
#&amp;gt; $error
#&amp;gt; NULL
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</description>
        <pubDate>Wed, 19 Oct 2016 00:00:00 -0700</pubDate>
        <link>http://localhost:4000/2016/10/usda-plants-database-r/</link>
        <guid isPermaLink="true">http://localhost:4000/2016/10/usda-plants-database-r/</guid>
        
        <category>API</category>
        
        <category>R</category>
        
        <category>ecology</category>
        
        <category>plants</category>
        
        
      </item>
    
      <item>
        <title>gbids - GenBank IDs API is back up!</title>
        <description>&lt;h2 id=&quot;gbids-api-is-back&quot;&gt;GBIDS API is back&lt;/h2&gt;

&lt;p&gt;Back in March this year I wrote &lt;a href=&quot;http://recology.info/2016/03/genbank-ids/&quot;&gt;a post about a new API for working with GenBank IDs&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I had to take the API down because it was too expensive to keep up. Expensive because the dump of data is very large (3.8 GB compressed), and I need disk space on the server to uncompress that to I think about 18 GB, then load into MySQL, which is another maybe 30 GB or so. Anyway, it’s not expensive because of high traffic - although I wish that was the case - but because of needing lots of disk space.&lt;/p&gt;

&lt;p&gt;I was fortuntate to recently receive some &lt;a href=&quot;https://aws.amazon.com/research-credits/&quot;&gt;Amazon Cloud Credits for Research&lt;/a&gt;. The credits expire in 1 year. With these credits, I’ve put the GBIDS API back up. In the next year I’m hoping to gain user traction suggesting that’s is useful to enough people to keep maintaining - in which case I’ll seek ways to fund it.&lt;/p&gt;

&lt;p&gt;But that means I need people to use it!  So please to give it a try. Let me know what could be better; what could be faster; what API routes/features/etc. you’d like to see.&lt;/p&gt;

&lt;h2 id=&quot;plans&quot;&gt;Plans&lt;/h2&gt;

&lt;p&gt;Plans for the future of the GBIDS API:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Auto-update the Genbank data. This is quite complicated since the dump is so large. I can either keep an EC2 attached disc large enough to do the dump download/expansion/load/etc, or spin up a new instance each Sunday when they do their data release, do the SQL load, make a dump, then shuttle the SQL dump to the instance running, then load in the new data from the dump. I haven’t got this bit running yet, so data is from Aug 7. 2016.&lt;/li&gt;
  &lt;li&gt;Add taxonomic IDs. Genbank also dumps their taxonomic IDs. I think it should be possible to get taxonomic IDs into the API, so that users can do accession number to taxon IDs and vice versa.&lt;/li&gt;
  &lt;li&gt;Performance: as anyone would want, I want to continually improve performance. I’ll watch out for things I can do, but also let me know what seems too slow.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;links&quot;&gt;Links&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;API base url: &lt;a href=&quot;https://gbids.xyz&quot;&gt;https://gbids.xyz&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;API docs: &lt;a href=&quot;http://recology.info/gbidsdocs&quot;&gt;http://recology.info/gbidsdocs&lt;/a&gt; - Let me know if these could be improved&lt;/li&gt;
  &lt;li&gt;API status page: &lt;a href=&quot;http://recology.info/gbidsstatus&quot;&gt;http://recology.info/gbidsstatus&lt;/a&gt; - I update this page whenever there’s some down time, then when it’s back up, etc.&lt;/li&gt;
  &lt;li&gt;API source code: &lt;a href=&quot;https://github.com/sckott/gbids&quot;&gt;https://github.com/sckott/gbids&lt;/a&gt; - You can file issues here about the API&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;try-it&quot;&gt;Try it&lt;/h2&gt;

&lt;p&gt;Get 5 accession numbers&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;curl 'https://gbids.xyz/acc?limit=5' | jq .
#&amp;gt; {
#&amp;gt;   &quot;matched&quot;: 692006925,
#&amp;gt;   &quot;returned&quot;: 5,
#&amp;gt;   &quot;data&quot;: [
#&amp;gt;     &quot;A00002&quot;,
#&amp;gt;     &quot;A00003&quot;,
#&amp;gt;     &quot;X17276&quot;,
#&amp;gt;     &quot;X60065&quot;,
#&amp;gt;     &quot;CAA42669&quot;
#&amp;gt;   ],
#&amp;gt;   &quot;error&quot;: null
#&amp;gt; }
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Request to match accession identifiers, some exist, while some do not&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;curl 'https://gbids.xyz/acc/AACY024124486,AACY024124483,asdfd,asdf,AACY024124476' | jq .
#&amp;gt; {
#&amp;gt;   &quot;matched&quot;: 3,
#&amp;gt;   &quot;returned&quot;: 5,
#&amp;gt;   &quot;data&quot;: {
#&amp;gt;     &quot;AACY024124486&quot;: true,
#&amp;gt;     &quot;AACY024124483&quot;: true,
#&amp;gt;     &quot;asdfd&quot;: false,
#&amp;gt;     &quot;asdf&quot;: false,
#&amp;gt;     &quot;AACY024124476&quot;: true
#&amp;gt;   },
#&amp;gt;   &quot;error&quot;: null
#&amp;gt; }
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;There’s many more examples in the &lt;a href=&quot;http://recology.info/gbidsdocs&quot;&gt;API docs&lt;/a&gt;&lt;/p&gt;
</description>
        <pubDate>Thu, 01 Sep 2016 00:00:00 -0700</pubDate>
        <link>http://localhost:4000/2016/09/gbids-is-back/</link>
        <guid isPermaLink="true">http://localhost:4000/2016/09/gbids-is-back/</guid>
        
        <category>API</category>
        
        <category>ruby</category>
        
        <category>sinatra</category>
        
        <category>science</category>
        
        
      </item>
    
      <item>
        <title>nonoyes - text analysis of Reply All podcast transcripts</title>
        <description>&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;#setup&quot;&gt;Setup&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#urls&quot;&gt;URLs&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#episode-names&quot;&gt;Episode names&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#transcripts&quot;&gt;Transcripts&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#summary-word-usage&quot;&gt;Summary word usage&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;#sentiment&quot;&gt;Sentiment&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;#most-common-positive-and-negative-words&quot;&gt;Most common positive and negative
words&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;a href=&quot;https://gimletmedia.com/show/reply-all/&quot;&gt;Reply All&lt;/a&gt; is a great podcast.
I’ve been wanting to learn some text analysis tools, and transcripts
from the podcast are on their site.&lt;/p&gt;

&lt;p&gt;Took some approaches outlined in the
&lt;a href=&quot;https://cran.rstudio.com/web/packages/tidytext/&quot;&gt;tidytext&lt;/a&gt; package in
&lt;a href=&quot;https://cran.rstudio.com/web/packages/tidytext/vignettes/tidytext.html&quot;&gt;this
vignette&lt;/a&gt;,
and used the
&lt;a href=&quot;https://cran.rstudio.com/web/packages/tokenizers&quot;&gt;tokenizers&lt;/a&gt; package,
and some of the tidyverse.&lt;/p&gt;

&lt;p&gt;Code on github at &lt;a href=&quot;https://github.com/sckott/nonoyes&quot;&gt;sckott/nonoyes&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Also check out the &lt;a href=&quot;http://htmlpreview.github.io/?https://github.com/sckott/nonoyes/blob/master/script.html&quot;&gt;html version&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;setup&quot;&gt;Setup&lt;/h2&gt;

&lt;p&gt;Load deps&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;library(&quot;httr&quot;)
library(&quot;xml2&quot;)
library(&quot;stringi&quot;)
library(&quot;dplyr&quot;)
library(&quot;ggplot2&quot;)
library(&quot;tokenizers&quot;)
library(&quot;tidytext&quot;)
library(&quot;tidyr&quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;source helper functions&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;source(&quot;funs.R&quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;set base url&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ra_base &amp;lt;- &quot;https://gimletmedia.com/show/reply-all/episodes&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;urls&quot;&gt;URLs&lt;/h2&gt;

&lt;p&gt;Make all urls for each page of episodes&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;urls &amp;lt;- c(ra_base, file.path(ra_base, &quot;page&quot;, 2:8))
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Get urls for each episode&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;res &amp;lt;- lapply(urls, get_urls)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Remove those that are rebroadcasts, updates, or revisited&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;res &amp;lt;- grep(&quot;rebroadcast|update|revisited&quot;, unlist(res), value = TRUE, invert = TRUE)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;episode-names&quot;&gt;Episode names&lt;/h2&gt;

&lt;p&gt;Give some episodes numbers that don’t have them&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;epnames &amp;lt;- sub(&quot;/$&quot;, &quot;&quot;, sub(&quot;https://gimletmedia.com/episode/&quot;, &quot;&quot;, res))
epnames &amp;lt;- sub(&quot;the-anxiety-box&quot;, &quot;8-the-anxiety-box&quot;, epnames)
epnames &amp;lt;- sub(&quot;french-connection&quot;, &quot;10-french-connection&quot;, epnames)
epnames &amp;lt;- sub(&quot;ive-killed-people-and-i-have-hostages&quot;, &quot;15-ive-killed-people-and-i-have-hostages&quot;, epnames)
epnames &amp;lt;- sub(&quot;6-this-proves-everything&quot;, &quot;75-this-proves-everything&quot;, epnames)
epnames &amp;lt;- sub(&quot;zardulu&quot;, &quot;56-zardulu&quot;, epnames)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;transcripts&quot;&gt;Transcripts&lt;/h2&gt;

&lt;p&gt;Get transcripts&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;txts &amp;lt;- lapply(res, transcript_fetch, sleep = 1)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Parse transcripts&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;txtsp &amp;lt;- lapply(txts, transcript_parse)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;summary-word-usage&quot;&gt;Summary word usage&lt;/h2&gt;

&lt;p&gt;Summarise data for each transcript&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;dat &amp;lt;- stats::setNames(lapply(txtsp, function(m) {
  bind_rows(lapply(m, function(v) {
    tmp &amp;lt;- unname(vapply(v, nchar, 1))
    data_frame(
      n = length(tmp),
      mean = mean(tmp),
      n_laugh = count_word(v, &quot;laugh&quot;),
      n_groan = count_word(v, &quot;groan&quot;)
    )
  }), .id = &quot;name&quot;)
}), epnames)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Bind data together to single dataframe, and filter, summarise&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;data &amp;lt;- bind_rows(dat, .id = &quot;episode&quot;) %&amp;gt;%
  filter(!is.na(episode)) %&amp;gt;%
  filter(grepl(&quot;^PJ$|^ALEX GOLDMAN$&quot;, name)) %&amp;gt;%
  mutate(ep_no = as.numeric(strextract(episode, &quot;^[0-9]+&quot;))) %&amp;gt;%
  group_by(ep_no) %&amp;gt;%
  mutate(nrow = NROW(ep_no)) %&amp;gt;%
  ungroup() %&amp;gt;%
  filter(nrow == 2)
data
#&amp;gt; # A tibble: 114 × 8
#&amp;gt;                 episode         name     n      mean n_laugh n_groan ep_no
#&amp;gt;                   &amp;lt;chr&amp;gt;        &amp;lt;chr&amp;gt; &amp;lt;int&amp;gt;     &amp;lt;dbl&amp;gt;   &amp;lt;int&amp;gt;   &amp;lt;int&amp;gt; &amp;lt;dbl&amp;gt;
#&amp;gt; 1            73-sandbox           PJ    89 130.65169       9       0    73
#&amp;gt; 2            73-sandbox ALEX GOLDMAN    25  44.00000       1       1    73
#&amp;gt; 3       72-dead-is-paul           PJ   137  67.77372      17       0    72
#&amp;gt; 4       72-dead-is-paul ALEX GOLDMAN    90  61.82222       8       0    72
#&amp;gt; 5  71-the-picture-taker           PJ    74  77.70270       3       0    71
#&amp;gt; 6  71-the-picture-taker ALEX GOLDMAN    93 105.94624       6       0    71
#&amp;gt; 7        69-disappeared           PJ    72  76.50000       2       0    69
#&amp;gt; 8        69-disappeared ALEX GOLDMAN    50 135.90000       5       0    69
#&amp;gt; 9      68-vampire-rules           PJ   142  88.00704       6       0    68
#&amp;gt; 10     68-vampire-rules ALEX GOLDMAN   117  73.16239      13       0    68
#&amp;gt; # ... with 104 more rows, and 1 more variables: nrow &amp;lt;int&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Number of words - seems PJ talks more, but didn’t do quantiative
comparison&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ggplot(data, aes(ep_no, n, colour = name)) +
  geom_point(size = 3, alpha = 0.5) +
  geom_line(aes(group = ep_no), colour = &quot;black&quot;) +
  scale_color_discrete(labels = c('Alex', 'PJ'))
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2016-08-25-no-no-yes/unnamed-chunk-12-1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Laughs per episode - take home: PJ laughs a lot&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ggplot(data, aes(ep_no, n_laugh, colour = name)) +
  geom_point(size = 3, alpha = 0.5) +
  geom_line(aes(group = ep_no), colour = &quot;black&quot;) +
  scale_color_discrete(labels = c('Alex', 'PJ'))
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2016-08-25-no-no-yes/unnamed-chunk-13-1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;sentiment&quot;&gt;Sentiment&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;zero &amp;lt;- which(vapply(txtsp, length, 1) == 0)
txtsp_ &amp;lt;- Filter(function(x) length(x) != 0, txtsp)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Tokenize words, and create data_frame&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;wordz &amp;lt;- stats::setNames(
  lapply(txtsp_, function(z) {
    bind_rows(
      if (is.null(try_tokenize(z$`ALEX GOLDMAN`))) {
        data_frame()
      } else {
        data_frame(
          name = &quot;Alex&quot;,
          word = try_tokenize(z$`ALEX GOLDMAN`)
        )
      },
      if (is.null(try_tokenize(z$PJ))) {
        data_frame()
      } else {
        data_frame(
          name = &quot;PJ&quot;,
          word = try_tokenize(z$PJ)
        )
      }
    )
  }), epnames[-zero])
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Combine to single data_frame&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;(wordz_df &amp;lt;- bind_rows(wordz, .id = &quot;episode&quot;))
#&amp;gt; # A tibble: 104,713 × 3
#&amp;gt;       episode  name      word
#&amp;gt;         &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;     &amp;lt;chr&amp;gt;
#&amp;gt; 1  73-sandbox  Alex      alex
#&amp;gt; 2  73-sandbox  Alex   goldman
#&amp;gt; 3  73-sandbox  Alex         i
#&amp;gt; 4  73-sandbox  Alex generally
#&amp;gt; 5  73-sandbox  Alex     don’t
#&amp;gt; 6  73-sandbox  Alex      alex
#&amp;gt; 7  73-sandbox  Alex    really
#&amp;gt; 8  73-sandbox  Alex      alex
#&amp;gt; 9  73-sandbox  Alex    groans
#&amp;gt; 10 73-sandbox  Alex        so
#&amp;gt; # ... with 104,703 more rows
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Calculate sentiment using &lt;code class=&quot;highlighter-rouge&quot;&gt;tidytext&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;bing &amp;lt;- sentiments %&amp;gt;%
  filter(lexicon == &quot;bing&quot;) %&amp;gt;%
  select(-score)
sent &amp;lt;- wordz_df %&amp;gt;%
  inner_join(bing) %&amp;gt;%
  count(name, episode, sentiment) %&amp;gt;%
  spread(sentiment, n, fill = 0) %&amp;gt;%
  mutate(sentiment = positive - negative) %&amp;gt;%
  ungroup() %&amp;gt;%
  filter(!is.na(episode)) %&amp;gt;%
  complete(episode, name) %&amp;gt;%
  mutate(ep_no = as.numeric(strextract(episode, &quot;^[0-9]+&quot;)))
sent
#&amp;gt; # A tibble: 148 × 6
#&amp;gt;                                        episode  name negative positive
#&amp;gt;                                          &amp;lt;chr&amp;gt; &amp;lt;chr&amp;gt;    &amp;lt;dbl&amp;gt;    &amp;lt;dbl&amp;gt;
#&amp;gt; 1  1-an-app-sends-a-stranger-to-say-i-love-you  Alex       19       30
#&amp;gt; 2  1-an-app-sends-a-stranger-to-say-i-love-you    PJ       14       14
#&amp;gt; 3                         10-french-connection  Alex       15       32
#&amp;gt; 4                         10-french-connection    PJ       16       36
#&amp;gt; 5     11-did-errol-morris-brother-invent-email  Alex       NA       NA
#&amp;gt; 6     11-did-errol-morris-brother-invent-email    PJ       25       30
#&amp;gt; 7                           12-backend-trouble  Alex       20       15
#&amp;gt; 8                           12-backend-trouble    PJ       40       59
#&amp;gt; 9                              13-love-is-lies  Alex       NA       NA
#&amp;gt; 10                             13-love-is-lies    PJ       45       64
#&amp;gt; # ... with 138 more rows, and 2 more variables: sentiment &amp;lt;dbl&amp;gt;,
#&amp;gt; #   ep_no &amp;lt;dbl&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Names separate&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ggplot(sent, aes(ep_no, sentiment, fill = name)) +
  geom_bar(stat = &quot;identity&quot;) +
  facet_wrap(~name, ncol = 2, scales = &quot;free_x&quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2016-08-25-no-no-yes/unnamed-chunk-18-1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Compare for each episode&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;ggplot(sent, aes(ep_no, sentiment, fill = name)) +
  geom_bar(stat = &quot;identity&quot;, position = position_dodge(width = 0.5), width = 0.6)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2016-08-25-no-no-yes/unnamed-chunk-19-1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;most-common-positive-and-negative-words&quot;&gt;Most common positive and negative words&lt;/h3&gt;

&lt;p&gt;Clearly, the word &lt;code class=&quot;highlighter-rouge&quot;&gt;like&lt;/code&gt; is surely rarely used as a positive word
meaning e.g., that they &lt;em&gt;like something&lt;/em&gt;, but rather as the colloquial
&lt;code class=&quot;highlighter-rouge&quot;&gt;like, totally&lt;/code&gt; usage. So it’s removed.&lt;/p&gt;

&lt;p&gt;Alex&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sent_cont_plot(wordz_df, &quot;Alex&quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2016-08-25-no-no-yes/unnamed-chunk-20-1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;PJ&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sent_cont_plot(wordz_df, &quot;PJ&quot;)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2016-08-25-no-no-yes/unnamed-chunk-21-1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;
</description>
        <pubDate>Thu, 25 Aug 2016 00:00:00 -0700</pubDate>
        <link>http://localhost:4000/2016/08/no-no-yes/</link>
        <guid isPermaLink="true">http://localhost:4000/2016/08/no-no-yes/</guid>
        
        <category>text-mining</category>
        
        <category>R</category>
        
        
      </item>
    
      <item>
        <title>video editing notes</title>
        <description>&lt;p&gt;This is how I edit videos of talks that I need to incorporate slides and video together&lt;/p&gt;

&lt;p&gt;I’m on a Mac&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;import to iMovie (using v10 something)&lt;/li&gt;
  &lt;li&gt;drop movie into editing section&lt;/li&gt;
  &lt;li&gt;split pdf slides into individual files &lt;code class=&quot;highlighter-rouge&quot;&gt;pdfseparate foobar.pdf %d.pdf&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;convert individual pdf slides into png &lt;code class=&quot;highlighter-rouge&quot;&gt;sips -s format png --out &quot;${pdf%%.*}.png&quot; &quot;$pdf&quot;&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;import png’s into imovie&lt;/li&gt;
  &lt;li&gt;for each image, drop into editing area where you want it&lt;/li&gt;
  &lt;li&gt;when focused on the png of the slide:
    &lt;ul&gt;
      &lt;li&gt;select crop, then - choose &lt;code class=&quot;highlighter-rouge&quot;&gt;fit&lt;/code&gt;, say okay&lt;/li&gt;
      &lt;li&gt;select “add as overlay” (very most left symbol), then choose &lt;code class=&quot;highlighter-rouge&quot;&gt;picture in picture&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;then choose &lt;code class=&quot;highlighter-rouge&quot;&gt;swap&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;then move inset to where you want it&lt;/li&gt;
      &lt;li&gt;say okay&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;rinse and repeat for all slides&lt;/li&gt;
  &lt;li&gt;export - via &lt;code class=&quot;highlighter-rouge&quot;&gt;File&lt;/code&gt; option&lt;/li&gt;
  &lt;li&gt;share to youtube&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;eg-of-the-result&quot;&gt;e.g. of the result&lt;/h3&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;https://www.youtube.com/embed/MHWX0f3TG4I&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;
</description>
        <pubDate>Fri, 12 Aug 2016 00:00:00 -0700</pubDate>
        <link>http://localhost:4000/2016/08/video-editing/</link>
        <guid isPermaLink="true">http://localhost:4000/2016/08/video-editing/</guid>
        
        <category>talks</category>
        
        <category>video</category>
        
        
      </item>
    
      <item>
        <title>Marine Regions data in R</title>
        <description>&lt;blockquote&gt;
  &lt;p&gt;UPDATE: pkg API has changed - updated the post below to work with the current CRAN version, submitted 2016-08-02&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;I was at a hackathon focused on Ocean Biogeographic Information System (OBIS) data back in November last year in Belgium. One project idea was to make it easier to get at data based on one or more marine regions. I was told that Marineregions.org is often used for shape files to get different regions to then do other work with.&lt;/p&gt;

&lt;p&gt;During the event I started a package &lt;a href=&quot;https://github.com/ropenscilabs/mregions&quot;&gt;mregions&lt;/a&gt;. Here I’ll show how to get different marine regions, then use those outputs
to get species occurrence data.&lt;/p&gt;

&lt;p&gt;We’ll use WKT (Well-Known Text) to define spatial dimensions in this post. If
you don’t know what it is, Wikipedia to the rescue: &lt;a href=&quot;https://en.wikipedia.org/wiki/Well-known_text&quot;&gt;https://en.wikipedia.org/wiki/Well-known_text&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;mregions&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;iobis/robis&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Or get the dev version&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropenscilabs/mregions&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;mregions&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;get-list-of-place-types&quot;&gt;Get list of place types&lt;/h2&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mr_place_types&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;Town&quot;                      &quot;Arrondissement&quot;
#&amp;gt; [3] &quot;Department&quot;                &quot;Province (administrative)&quot;
#&amp;gt; [5] &quot;Country&quot;                   &quot;Continent&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;get-marineregions-records-by-place-type&quot;&gt;Get Marineregions records by place type&lt;/h2&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mr_records_by_type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;EEZ&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   MRGID                                            gazetteerSource
#&amp;gt; 1  3293 Maritime Boundaries Geodatabase, Flanders Marine Institute
#&amp;gt; 2  5668 Maritime Boundaries Geodatabase, Flanders Marine Institute
#&amp;gt; 3  5669 Maritime Boundaries Geodatabase, Flanders Marine Institute
#&amp;gt; 4  5670 Maritime Boundaries Geodatabase, Flanders Marine Institute
#&amp;gt; 5  5672 Maritime Boundaries Geodatabase, Flanders Marine Institute
#&amp;gt; 6  5673 Maritime Boundaries Geodatabase, Flanders Marine Institute
#&amp;gt;   placeType latitude longitude minLatitude minLongitude maxLatitude
#&amp;gt; 1       EEZ 51.46483  2.704458    51.09111     2.238118    51.87000
#&amp;gt; 2       EEZ 53.61508  4.190675    51.26203     2.539443    55.76500
#&amp;gt; 3       EEZ 54.55970  8.389231    53.24281     3.349999    55.91928
#&amp;gt; 4       EEZ 40.87030 19.147094    39.63863    18.461940    41.86124
#&amp;gt; 5       EEZ 42.94272 29.219062    41.97820    27.449580    43.74779
#&amp;gt; 6       EEZ 43.42847 15.650844    41.62201    13.001390    45.59079
#&amp;gt;   maxLongitude precision            preferredGazetteerName
#&amp;gt; 1     3.364907  58302.49   Belgian Exclusive Economic Zone
#&amp;gt; 2     7.208364 294046.10     Dutch Exclusive Economic Zone
#&amp;gt; 3    14.750000 395845.50    German Exclusive Economic Zone
#&amp;gt; 4    20.010030 139751.70  Albanian Exclusive Economic Zone
#&amp;gt; 5    31.345280 186792.50 Bulgarian Exclusive Economic Zone
#&amp;gt; 6    18.552360 313990.30  Croatian Exclusive Economic Zone
#&amp;gt;   preferredGazetteerNameLang   status accepted
#&amp;gt; 1                    English standard     3293
#&amp;gt; 2                    English standard     5668
#&amp;gt; 3                    English standard     5669
#&amp;gt; 4                    English standard     5670
#&amp;gt; 5                    English standard     5672
#&amp;gt; 6                    English standard     5673
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;get-and-search-region-names&quot;&gt;Get and search region names&lt;/h2&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mr_names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; # A tibble: 676 x 4
#&amp;gt;                              name
#&amp;gt;                             &amp;lt;chr&amp;gt;
#&amp;gt; 1           Morocco:elevation_10m
#&amp;gt; 2          Emodnet:emodnet1x1grid
#&amp;gt; 3                    Emodnet:grid
#&amp;gt; 4                     Morocco:dam
#&amp;gt; 5             WoRMS:azmp_sections
#&amp;gt; 6    Morocco:accomodationcapacity
#&amp;gt; 7          Morocco:admin_boundary
#&amp;gt; 8  Lifewatch:ovam_afvalverwerking
#&amp;gt; 9          Eurobis:eurobis_points
#&amp;gt; 10                  Morocco:roads
#&amp;gt; # ... with 666 more rows, and 3 more variables: title &amp;lt;chr&amp;gt;,
#&amp;gt; #   name_first &amp;lt;chr&amp;gt;, name_second &amp;lt;chr&amp;gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mr_names_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;IHO&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; # A tibble: 5 x 4
#&amp;gt;                                   name
#&amp;gt;                                  &amp;lt;chr&amp;gt;
#&amp;gt; 1                    MarineRegions:iho
#&amp;gt; 2 MarineRegions:iho_quadrants_20150810
#&amp;gt; 3                     World:iosregions
#&amp;gt; 4       MarineRegions:eez_iho_union_v2
#&amp;gt; 5                   Belgium:vl_venivon
#&amp;gt; # ... with 3 more variables: title &amp;lt;chr&amp;gt;, name_first &amp;lt;chr&amp;gt;,
#&amp;gt; #   name_second &amp;lt;chr&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;get-a-region---geojson&quot;&gt;Get a region - geojson&lt;/h2&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mr_geojson&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Turkmen Exclusive Economic Zone&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;mr_geojson&quot;
&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;type&quot;          &quot;totalFeatures&quot; &quot;features&quot;      &quot;crs&quot;
#&amp;gt; [5] &quot;bbox&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;get-a-region---shp&quot;&gt;Get a region - shp&lt;/h2&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mr_shp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Belgian Exclusive Economic Zone&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;SpatialPolygonsDataFrame&quot;
#&amp;gt; attr(,&quot;package&quot;)
#&amp;gt; [1] &quot;sp&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;get-obis-eez-id&quot;&gt;Get OBIS EEZ ID&lt;/h2&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mr_names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grepl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;eez&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ignore.case&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mr_obis_eez_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 84
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;convert-to-wkt&quot;&gt;Convert to WKT&lt;/h2&gt;

&lt;p&gt;From geojson or shp. Here, geojson&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mr_geojson&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;MarineRegions:eez_33176&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mr_as_wkt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fmt&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;MULTIPOLYGON (((41.573732 -1.659444, 45.891882 ... cutoff
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;get-regions-then-obis-data&quot;&gt;Get regions, then OBIS data&lt;/h2&gt;

&lt;h3 id=&quot;using-well-known-text&quot;&gt;Using Well-Known Text&lt;/h3&gt;

&lt;p&gt;Both shp and geojson data returned from &lt;code class=&quot;highlighter-rouge&quot;&gt;region_shp()&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;region_geojson()&lt;/code&gt;, respectively, can be passed to &lt;code class=&quot;highlighter-rouge&quot;&gt;as_wkt()&lt;/code&gt; to get WKT.&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;shp&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mr_shp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Belgian Exclusive Economic Zone&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wkt&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mr_as_wkt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'httr'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'data.table'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scientificname&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Abra alba&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;geometry&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;wkt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;httr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'http://api.iobis.org/occurrence'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xx&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data.table&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setDF&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data.table&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rbindlist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;httr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;use.names&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xx&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'scientificName'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'decimalLongitude'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'decimalLatitude'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'longitude'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'latitude'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Plot&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;'leaflet'&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;leaflet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;addTiles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;addCircleMarkers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;addPolygons&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2016-06-09-marine-regions/map1.png&quot; alt=&quot;map1&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;using-eez-id&quot;&gt;Using EEZ ID&lt;/h3&gt;

&lt;p&gt;EEZ is a Exclusive Economic Zone&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;eez&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mr_obis_eez_id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Belgian Exclusive Economic Zone&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 59
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;You currently can’t search for OBIS occurrences by EEZ ID, but hopefully soon…&lt;/p&gt;

&lt;h2 id=&quot;dealing-with-bigger-wkt&quot;&gt;Dealing with bigger WKT&lt;/h2&gt;

&lt;p&gt;What if you’re WKT string is super long?  It’s often a problem because some online species
occurrence databases that accept WKT to search by geometry bork due to
limitations on length of URLs if your WKT string is too long (about 8000 characters,
including remainder of URL). One way to deal with it is to reduce detail - simplify.&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rmapshaper&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Using &lt;code class=&quot;highlighter-rouge&quot;&gt;rmapshaper&lt;/code&gt; we can simplify a spatial object, then search with that.&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;shp&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mr_shp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Dutch Exclusive Economic Zone&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Visualize&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;leaflet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;addTiles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;addPolygons&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2016-06-09-marine-regions/complex.png&quot; alt=&quot;map2&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Simplify&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rmapshaper&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shp&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ms_simplify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;It’s simplified:&lt;/p&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;leaflet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;addTiles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;addPolygons&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2016-06-09-marine-regions/simple.png&quot; alt=&quot;map3&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;pass-to-gbif&quot;&gt;Pass to GBIF&lt;/h2&gt;

&lt;div class=&quot;language-r highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;requireNamespace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rgbif&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
  &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rgbif&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rgbif&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;occ_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;geometry&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mr_as_wkt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;m&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Records found [2395936]
#&amp;gt; Records returned [400]
#&amp;gt; No. unique hierarchies [17]
#&amp;gt; No. media records [3]
#&amp;gt; Args [geometry=POLYGON ((7.2083632399999997 53.2428091399999985,
#&amp;gt;      6.6974995100000001 53.4619365499999972, 5.89083650, limit=400,
#&amp;gt;      offset=0, fields=all]
#&amp;gt; # A tibble: 400 x 102
#&amp;gt;                     name        key decimalLatitude decimalLongitude
#&amp;gt;                    &amp;lt;chr&amp;gt;      &amp;lt;int&amp;gt;           &amp;lt;dbl&amp;gt;            &amp;lt;dbl&amp;gt;
#&amp;gt; 1  Haematopus ostralegus 1265900666        52.13467          4.21306
#&amp;gt; 2          Limosa limosa 1265577408        53.03249          4.88665
#&amp;gt; 3       Corvus splendens 1269536058        51.98297          4.12982
#&amp;gt; 4       Corvus splendens 1269536065        51.98297          4.12982
#&amp;gt; 5       Lanius excubitor 1211320606        52.57223          4.62569
#&amp;gt; 6       Lanius excubitor 1211320862        52.67419          4.63645
#&amp;gt; 7       Lanius excubitor 1211320806        53.05790          4.72974
#&amp;gt; 8       Lanius excubitor 1211321040        52.57540          4.63651
#&amp;gt; 9       Lanius excubitor 1211320590        52.41180          5.19500
#&amp;gt; 10      Lanius excubitor 1211320401        52.57535          4.63654
#&amp;gt; # ... with 390 more rows, and 98 more variables: issues &amp;lt;chr&amp;gt;,
#&amp;gt; #   datasetKey &amp;lt;chr&amp;gt;, publishingOrgKey &amp;lt;chr&amp;gt;, publishingCountry &amp;lt;chr&amp;gt;,
#&amp;gt; #   protocol &amp;lt;chr&amp;gt;, lastCrawled &amp;lt;chr&amp;gt;, lastParsed &amp;lt;chr&amp;gt;, extensions &amp;lt;chr&amp;gt;,
#&amp;gt; #   basisOfRecord &amp;lt;chr&amp;gt;, taxonKey &amp;lt;int&amp;gt;, kingdomKey &amp;lt;int&amp;gt;,
#&amp;gt; #   phylumKey &amp;lt;int&amp;gt;, classKey &amp;lt;int&amp;gt;, orderKey &amp;lt;int&amp;gt;, familyKey &amp;lt;int&amp;gt;,
#&amp;gt; #   genusKey &amp;lt;int&amp;gt;, speciesKey &amp;lt;int&amp;gt;, scientificName &amp;lt;chr&amp;gt;, kingdom &amp;lt;chr&amp;gt;,
#&amp;gt; #   phylum &amp;lt;chr&amp;gt;, order &amp;lt;chr&amp;gt;, family &amp;lt;chr&amp;gt;, genus &amp;lt;chr&amp;gt;, species &amp;lt;chr&amp;gt;,
#&amp;gt; #   genericName &amp;lt;chr&amp;gt;, specificEpithet &amp;lt;chr&amp;gt;, taxonRank &amp;lt;chr&amp;gt;,
#&amp;gt; #   dateIdentified &amp;lt;chr&amp;gt;, coordinateUncertaintyInMeters &amp;lt;dbl&amp;gt;, year &amp;lt;int&amp;gt;,
#&amp;gt; #   month &amp;lt;int&amp;gt;, day &amp;lt;int&amp;gt;, eventDate &amp;lt;chr&amp;gt;, modified &amp;lt;chr&amp;gt;,
#&amp;gt; #   lastInterpreted &amp;lt;chr&amp;gt;, references &amp;lt;chr&amp;gt;, identifiers &amp;lt;chr&amp;gt;,
#&amp;gt; #   facts &amp;lt;chr&amp;gt;, relations &amp;lt;chr&amp;gt;, geodeticDatum &amp;lt;chr&amp;gt;, class &amp;lt;chr&amp;gt;,
#&amp;gt; #   countryCode &amp;lt;chr&amp;gt;, country &amp;lt;chr&amp;gt;, rightsHolder &amp;lt;chr&amp;gt;,
#&amp;gt; #   identifier &amp;lt;chr&amp;gt;, informationWithheld &amp;lt;chr&amp;gt;, verbatimEventDate &amp;lt;chr&amp;gt;,
#&amp;gt; #   datasetName &amp;lt;chr&amp;gt;, gbifID &amp;lt;chr&amp;gt;, collectionCode &amp;lt;chr&amp;gt;,
#&amp;gt; #   verbatimLocality &amp;lt;chr&amp;gt;, occurrenceID &amp;lt;chr&amp;gt;, taxonID &amp;lt;chr&amp;gt;,
#&amp;gt; #   license &amp;lt;chr&amp;gt;, recordedBy &amp;lt;chr&amp;gt;, catalogNumber &amp;lt;chr&amp;gt;,
#&amp;gt; #   http...unknown.org.occurrenceDetails &amp;lt;chr&amp;gt;, institutionCode &amp;lt;chr&amp;gt;,
#&amp;gt; #   rights &amp;lt;chr&amp;gt;, eventTime &amp;lt;chr&amp;gt;, identificationID &amp;lt;chr&amp;gt;,
#&amp;gt; #   individualCount &amp;lt;int&amp;gt;, continent &amp;lt;chr&amp;gt;, stateProvince &amp;lt;chr&amp;gt;,
#&amp;gt; #   nomenclaturalCode &amp;lt;chr&amp;gt;, locality &amp;lt;chr&amp;gt;, language &amp;lt;chr&amp;gt;,
#&amp;gt; #   taxonomicStatus &amp;lt;chr&amp;gt;, type &amp;lt;chr&amp;gt;, preparations &amp;lt;chr&amp;gt;,
#&amp;gt; #   disposition &amp;lt;chr&amp;gt;, originalNameUsage &amp;lt;chr&amp;gt;,
#&amp;gt; #   bibliographicCitation &amp;lt;chr&amp;gt;, identifiedBy &amp;lt;chr&amp;gt;, sex &amp;lt;chr&amp;gt;,
#&amp;gt; #   lifeStage &amp;lt;chr&amp;gt;, otherCatalogNumbers &amp;lt;chr&amp;gt;, habitat &amp;lt;chr&amp;gt;,
#&amp;gt; #   georeferencedBy &amp;lt;chr&amp;gt;, vernacularName &amp;lt;chr&amp;gt;, elevation &amp;lt;dbl&amp;gt;,
#&amp;gt; #   minimumDistanceAboveSurfaceInMeters &amp;lt;chr&amp;gt;, dynamicProperties &amp;lt;chr&amp;gt;,
#&amp;gt; #   samplingEffort &amp;lt;chr&amp;gt;, organismName &amp;lt;chr&amp;gt;, georeferencedDate &amp;lt;chr&amp;gt;,
#&amp;gt; #   georeferenceProtocol &amp;lt;chr&amp;gt;, georeferenceVerificationStatus &amp;lt;chr&amp;gt;,
#&amp;gt; #   organismID &amp;lt;chr&amp;gt;, ownerInstitutionCode &amp;lt;chr&amp;gt;, samplingProtocol &amp;lt;chr&amp;gt;,
#&amp;gt; #   datasetID &amp;lt;chr&amp;gt;, accessRights &amp;lt;chr&amp;gt;, georeferenceSources &amp;lt;chr&amp;gt;,
#&amp;gt; #   elevationAccuracy &amp;lt;dbl&amp;gt;, depth &amp;lt;dbl&amp;gt;, depthAccuracy &amp;lt;dbl&amp;gt;,
#&amp;gt; #   waterBody &amp;lt;chr&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

</description>
        <pubDate>Thu, 09 Jun 2016 00:00:00 -0700</pubDate>
        <link>http://localhost:4000/2016/06/marine-regions/</link>
        <guid isPermaLink="true">http://localhost:4000/2016/06/marine-regions/</guid>
        
        <category>R</category>
        
        <category>shp</category>
        
        <category>spatial</category>
        
        <category>geospatial</category>
        
        <category>marine</category>
        
        
      </item>
    
  </channel>
</rss>
