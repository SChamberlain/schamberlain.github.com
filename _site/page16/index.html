<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <link href="http://gmpg.org/xfn/11" rel="profile">

  <title>
    
    Recology, R/etc.
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300,400italic,400,600,700|Abril+Fatface">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/favicon.ico">
  <link rel="shortcut icon" href="/public/favicon.ico">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.css" rel="stylesheet">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-0f layout-reverse">

    <header class="masthead">
      <div class="masthead-inner">
        <h1>Recology</h1>
        <!-- <h1> <a href="http://recology.info/">Recology</a></h1> -->
        <p class="lead">R/etc.</p>

        <div class="colophon">
          <ul class="colophon-links">
            <li>
              <a href="/"><i class="fa fa-home fa-lg"></i></a>&nbsp;
              <a href="/about"><i class="fa fa-info-circle fa-lg"></i></a>&nbsp;
              <a href="/archives"><i class="fa fa-archive fa-lg"></i></a>&nbsp;
              <a href="/rresources"><i class="fa fa-book fa-lg"></i></a>&nbsp;
              <a href="http://rforcats.net/" rel><i class="fa fa-graduation-cap fa-lg"></i></a>&nbsp;
              <a href="feed.xml"><i class="fa fa-rss fa-lg"></i></a>&nbsp;
              <a href="https://twitter.com/recology_"><i class="fa fa-twitter fa-lg"></i></a>&nbsp;
              <a href="/fork"><i class="fa fa-spinner fa-lg"></i></a>
            </li>
          </ul>
          <!-- <small><a href="https://github.com/mdo/hyde">Hyde</a> from <a href="https://twitter.com/mdo" target="_blank">@mdo</a>.</small> -->
        </div>
      </div>
    </header>

    <div class="content container">
      <div class="posts">
  <a style="float:right;" href="/archives" data-toggle="tooltip" data-placement="bottom" title="Archives"><i class="fa fa-archive fa-lg"></i></a>
  <a style="float:right;" href="/tags"><i class="fa fa-tags fa-lg"></i></a>&nbsp;
  
  <div class="post">
    <h1>
      <a href="/2013/07/code/">
        On writing, sharing, collaborating, and hosting code for science
      </a>
    </h1>

    <span class="post-date">20 Jul 2013</span>

    <p>I recently engaged with a number of tweeps in response to my tweet:</p>

<blockquote>
<p>Rule number 1 wrt science code: DO NOT post your code on your personal website</p>
</blockquote>

<p>That tweet wasn&#39;t super clear, and it&#39;s difficult to convey my thoughts in a tweet. What I should have said was do post your code - ideally on Github/Bitbucket/etc. Here goes with a much longer version to explain what I meant. The tweet was just about where to host code, whereas the following is about more than that, but related.</p>

<h3>Code writing during analyses, etc.</h3>

<p>When you write code to do simulations, analyses, data manipulation, visualization - whatever it is - it helps to version your code. That is, not naming files like <em>myfile_v1.r</em>, <em>myfile_v2.r</em>, etc., but with versioning using version control systems (VCS) like <a href="http://git-scm.com/">git</a>, <a href="http://subversion.apache.org/">svn</a>, <a href="http://mercurial.selenic.com/wiki/">mercurial</a>, etc. Although git will give you headaches during the learning process, it takes care of versioning your code for you, finding differences in different versions, helps you manage conflicts from different contributors, and allows you to restore that old code you accidentally deleted. </p>

<p>And you don&#39;t have to use git or svn on a code hosting site - you can use git or svn locally on your own machine. However, there are many benefits to putting your code up on the interwebs. </p>

<h3>Collaborating on code</h3>

<p>Whenever you collaborate on code writing you have the extreme joy of dealing with conflicts. Perhaps you use Dropbox for collaborating on some code writing. Crap, now there is a line of code that messes up the analysis, and you don&#39;t know who put it there, and why it&#39;s there. Wouldn&#39;t it be nice to have a place to collect bugs in the code. </p>

<p>All of these things become easy if you host code on a service such as Github. If you are already versioning your code with git you are in luck - all you need to do is create an account on github/bitbucket and push your code up. If not, you should definitley learn git.</p>

<p>Hosting your code on Github (or Bitbucket, etc.) allows each collaborator to work separately on the code simultaneously, then merge their code together, while git helps you take care of merging. An awesome feature of git (and other VCS&#39;s) is branching. What the heck is that? Basically, you can create a complete copy of your git project, do any changes you want, then throw it away or merge it back in to your main branch. Pretty sweet. </p>

<h3>Sharing your code</h3>

<p>Whether sharing your code with a collaborator, or with the world, if you put code on a website created specifically for hosting code, I would argue your life would be easier. Groups like Github and Bitbucket have solved a lot of problems around versioning code, displaying it, etc., whereas your website (whether it be Google sites, Wordpress, Tumblr, etc.) can not say the same. </p>

<p>It is becoming clear to many that open science has many benefits. For the sake of transparency and contributing to the public science good, I would argue that sharing your code is the right thing to do, especially given that most of us are publicly funded. However, even if you don&#39;t want to share your code publicly, you can get free private hosting with an <a href="https://github.com/edu">academic discount on Github</a>, and Bitbucket gives you private hosting for free.</p>

<h3>Contributing to the software you use</h3>

<p>Much of the software you and I use in R, Python, etc. is likely hosted on a code hosting platform such as Github, Bitbucket, R-Forge, etc. Code gets better faster if its users report bugs and request features to the software authors. By creating an account on Github, for example, to host your own code, you can easily report bugs or request features where others are developing software you use. This is better than email as only those two people get the benefit of learning from the conversation - while engaging where the software is created, or on a related mailing list, helps everyone. </p>

<h3>On long-term availability of code</h3>

<p>Where is the best place to host your code in the long-term. Some may trust their own website over a company - a company can go out of business, be sold to another company and then be shut down, etc. However, code on personal websites can also be lost if a person moves institutions, etc. If you use a VCS, and host your code on Bitbucket/Github/Etc., even if they shut down, you will always have the same code that was up on their site, and you can host it on the newer awesome code hosting site. In addition, even if a company shuts down and you have to move your code, you are getting all the benefits as stated above.</p>

<h3>Anyway...</h3>

<p>My point is this: do post your code somewhere, even if on your own site, but I think you&#39;ll find that you and others can get the most out of your code if you host it on Bitbucket, Github, etc. Do tell me if you think I&#39;m wrong and why.</p>

<h3>A few resources if you&#39;re so inclined</h3>

<ul>
<li><a href="http://hybridpedagogy.com/Journal/files/GitHub_for_Academics.html">Push, Pull, Fork: GitHub for Academics</a></li>
<li>Carl Boettiger has some interesting posts on <a href="http://carlboettiger.info/2012/05/06/research-workflow.html">research workflow</a> and <a href="http://carlboettiger.info/2012/12/06/github-issues-tracker:-the-perfect-research-todo-list">github issues as a research to do list</a></li>
<li>Do have a look at <a href="http://inundata.org/">Karthik Ram&#39;s</a> paper on how git can facilitate greater reproducibility and transparency in science <a href="http://www.scfbm.org/content/8/1/7/abstract">here</a>.</li>
<li>Github is posting a bunch of videos on Youtube that are quite helpful for learning how to use git and Github <a href="https://www.youtube.com/channel/UCP7RrmoueENv9TZts3HXXtw">here</a></li>
<li>Git GUIs make using git easier:

<ul>
<li><a href="http://www.sourcetreeapp.com/">SourceTree</a></li>
<li><a href="http://gitboxapp.com/">GitBox</a></li>
<li><a href="http://mac.github.com/">Github&#39;s git GUI</a></li>
</ul></li>
</ul>

  </div>
  
  <div class="post">
    <h1>
      <a href="/2013/06/geojson/">
        R to GeoJSON
      </a>
    </h1>

    <span class="post-date">30 Jun 2013</span>

    <p><strong>UPDATE</strong> As you can see in Patrick&#39;s comment below you can convert to GeoJSON format files with rgdal as an alternative to calling the Ogre web API described below. See <a href="https://github.com/patperu/write2geojson/blob/master/write-geojson.R">here</a> for example code for converting to GeoJSON with rgdal.</p>

<hr>

<p>GitHub recently introduced the ability to render <a href="http://en.wikipedia.org/wiki/GeoJSON">GeoJSON</a> files on their site as maps <a href="https://github.com/blog/1528-there-s-a-map-for-that">here</a>, and recently introduced <a href="https://github.com/blog/1541-geojson-rendering-improvements">here</a> support for <a href="https://github.com/mbostock/topojson">TopoJSON</a>, an extension of GeoJSON can be up to 80% smaller than GeoJSON, support for other file extensions (<code>.topojson</code> and <code>.json</code>), and you can embed the maps on other sites (so awesome). The underlying maps used on GitHub are <a href="http://www.openstreetmap.org/">Openstreet Maps</a>. </p>

<p>A recent blog post showed how to convert .shp or .kml files to GeoJSON to then upload to GitHub <a href="http://ben.balter.com/2013/06/26/how-to-convert-shapefiles-to-geojson-for-use-on-github/">here</a>. The approach used Ruby on the command line locally to convert the geospatial files to GeoJSON. </p>

<p>Can we do this in R? Perhaps others have already done this, but there&#39;s more than one way to do anything, no? </p>

<p>I&#39;m not aware of a converter to GeoJSON within R, but there is a web service that can do this, called <a href="http://ogre.adc4gis.com/">Ogre</a>. The service lets you <code>POST</code> a file, which then converts to GeoJSON and gives it back to you. Ogre accepts many different file formats: BNA, CSV, DGN, DXF, zipped shapefiles, GeoConcept, GeoJSON, GeoRSS, GML, GMT, KML, MapInfo, and VRT. </p>

<p>We can use the Ogre API to upload a local geospatial file of various formats and get the GeoJSON back, then put it up on GitHub, and they render the map for you. Sweetness. </p>

<p>So here&#39;s the protocol. </p>

<hr>

<h3>1. Load httr. What is httr? For those not in the know it is a simpler wrapper around RCurl, a curl interface for R.</h3>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># install.packages(&#39;httr&#39;)</span>
<span class="kn">library</span><span class="p">(</span>httr<span class="p">)</span></code></pre></div>

<h3>2. Here is a function to convert your geospatial files to GeoJSON (with roxygen docs).</h3>

<div class="highlight"><pre><code class="language-r" data-lang="r">togeojson <span class="o">&lt;-</span> <span class="kr">function</span><span class="p">(</span><span class="kp">file</span><span class="p">,</span> writepath <span class="o">=</span> <span class="s">&quot;~&quot;</span><span class="p">)</span> <span class="p">{</span>
    url <span class="o">&lt;-</span> <span class="s">&quot;http://ogre.adc4gis.com/convert&quot;</span>
    tt <span class="o">&lt;-</span> POST<span class="p">(</span><span class="kp">url</span><span class="p">,</span> body <span class="o">=</span> <span class="kt">list</span><span class="p">(</span>upload <span class="o">=</span> upload_file<span class="p">(</span><span class="kp">file</span><span class="p">)))</span>
    out <span class="o">&lt;-</span> content<span class="p">(</span>tt<span class="p">,</span> as <span class="o">=</span> <span class="s">&quot;text&quot;</span><span class="p">)</span>
    fileConn <span class="o">&lt;-</span> <span class="kp">file</span><span class="p">(</span>writepath<span class="p">)</span>
    <span class="kp">writeLines</span><span class="p">(</span>out<span class="p">,</span> fileConn<span class="p">)</span>
    <span class="kp">close</span><span class="p">(</span>fileConn<span class="p">)</span>
<span class="p">}</span></code></pre></div>

<h3>3. Convert a file to GeoJSON</h3>

<p><strong>KML</strong></p>

<p>In the first line I specify the location of the file on my machine. In the second line the function <code>togeojson</code> reads in the file, sends the file to the API endpoint <em>http://ogre.adc4gis.com/convert</em>, collects the returned GeoJSON object, and saves the GeoJSON to a file that you specify. Here we are converting a KML file with point occurrences (data collected from <a href="http://bison.usgs.ornl.gov/">USGS&#39;s BISON service</a>). </p>

<div class="highlight"><pre><code class="language-r" data-lang="r">file <span class="o">&lt;-</span> <span class="s">&quot;~/github/sac/rgeojson/acer_spicatum.kml&quot;</span>
togeojson<span class="p">(</span><span class="kp">file</span><span class="p">,</span> <span class="s">&quot;~/github/sac/rgeojson/acer_spicatum.geojson&quot;</span><span class="p">)</span></code></pre></div>

<p><strong>Shapefiles</strong></p>

<p>Here, we are converting a zip file containing shape files for <em>Pinus contorta</em> (data collected from the USGS <a href="http://esp.cr.usgs.gov/data/little/">here</a>. </p>

<div class="highlight"><pre><code class="language-r" data-lang="r">file <span class="o">&lt;-</span> <span class="s">&quot;~/github/sac/rgeojson/pinucont.zip&quot;</span>
togeojson<span class="p">(</span><span class="kp">file</span><span class="p">,</span> <span class="s">&quot;~/github/sac/rgeojson/pinus.geojson&quot;</span><span class="p">)</span></code></pre></div>

<h3>4. Then commit and push to GitHub. And this is what they look like on GitHub</h3>

<p><em>Acer spicatum</em> distribution (points)</p>

<!-- ![](/public/img/acer_spiacdtum_dist.png) -->

<script src="https://embed.github.com/view/geojson/sckott/rgeojson/output/acer_spicatum.geojson"></script>

<p><em>Pinus contorta</em> distribution (polygons)</p>

<!-- ![](/public/img/pinus_dist.png) -->

<script src="https://embed.github.com/view/geojson/sckott/rgeojson/output/pinus.geojson"></script>

<hr>

<p>If you want, you can clone a repo from my account. Then do the below. (of course, you must have git installed, and have a GitHub account...)</p>

<p>First, fork my <code>rgeojson</code> repo <a href="https://github.com/sckott/rgeojson">here</a> to your GitHub account.</p>

<p>Second, in your terminal/command line...</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">git clone https://github.com/&lt;yourgithubusername&gt;/rgeojson.git
<span class="nb">cd </span>rgeojson</code></pre></div>

<p>Third, in R specify the location of either the KML file or the zipped shape files, then call <code>togeojson</code> function to convert the KML file to a GeoJSON file (which should output a file <em>acer_spicatum.geojson</em>)</p>

<div class="highlight"><pre><code class="language-r" data-lang="r">file <span class="o">&lt;-</span> <span class="s">&quot;/path/to/acer_spicatum.kml&quot;</span>
togeojson<span class="p">(</span><span class="kp">file</span><span class="p">,</span> <span class="s">&quot;~/path/to/write/to/acer_spicatum.geojson&quot;</span><span class="p">)</span></code></pre></div>

<p>Fourth, back in the terminal...</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">git add acer_spicatum.geojson
git commit -a -m <span class="s1">&#39;some cool commit message&#39;</span>
git push</code></pre></div>

<p>Fifth, go to your <em>rgeojson</em> repo on GitHub and click on the <em>acer_spicatum.geojson</em> file, and the map should render.</p>

<hr>

<p>Look for this functionality to come to the <a href="https://github.com/ropensci/rbison">rbison</a> and <a href="https://github.com/ropensci/rgbif">rgbif</a> R packages soon. Why is that cool?  Think of the workflow: Query for species occurrence data in the BISON or GBIF databases, convert the results to a GeoJSON file, push to GitHub, and you have an awesome interactive map on the web. Not too bad eh. </p>

  </div>
  
  <div class="post">
    <h1>
      <a href="/2013/06/sofa/">
        Put some cushions on the sofa
      </a>
    </h1>

    <span class="post-date">21 Jun 2013</span>

    <p>I posted earlier this week about sofa (<a href="http://sckott.github.io/2013/06/couch/">here</a>), introducing a package I started recently that interacts with CouchDB from R. There&#39;s been a fair amount of response at least in terms of page views, so I&#39;ll take that as a sign to keep going. </p>

<p>One thing that would be nice while you are CouchDB-ing is to interact with local <em>and</em> remote databases. I have incorporated the ability to interact with remote CouchDB databases in many of the functions, not all though. The remote data stores supported right now are Cloudant and Iriscouch. </p>

<p>Hadley Wickham suggested that a package called <code>sofa</code> should have something called <code>cushion</code>. And so it must be. It&#39;s just a small function, called <code>cushion</code>, which puts a cushion on the sofa, or in reality, sets up your authentication for remote data stores. <code>cushion</code> just writes your username and password to your options list and then the functions look for your authentication details via <code>getOption</code>. Of course these auth details aren&#39;t stored permanently - when you restart R you have to write them again to options. You can store them permanently in your <code>.Rprofile</code> file if you like, usally at ~/.Rprofile by putting in entry like options(cloudant.pwd = &quot;mycoolpassword&quot;).</p>

<hr>

<h3>Load sofa</h3>

<div class="highlight"><pre><code class="language-r" data-lang="r"><span class="c1"># install.packages(&#39;devtools&#39;); library(devtools); install_github(&#39;sofa&#39;, &#39;sckott&#39;)</span>
<span class="kn">library</span><span class="p">(</span>sofa<span class="p">)</span></code></pre></div>

<hr>

<h3>Put a cushion on the sofa - that is, save your auth details</h3>

<div class="highlight"><pre><code class="language-r" data-lang="r">cushion<span class="p">(</span>iriscouch_name <span class="o">=</span> <span class="s">&quot;yourusername&quot;</span><span class="p">,</span> iriscouch_pwd <span class="o">=</span> <span class="s">&quot;yourpwd&quot;</span><span class="p">,</span> 
    cloudant_name <span class="o">=</span> <span class="s">&quot;yourusername&quot;</span><span class="p">,</span> cloudant_pwd <span class="o">=</span> <span class="s">&quot;yourpwd&quot;</span><span class="p">)</span></code></pre></div>

<hr>

<h3>Ping each server</h3>

<div class="highlight"><pre><code class="language-r" data-lang="r">sofa_ping<span class="p">()</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">$couchdb
[1] &quot;Welcome&quot;

$version
[1] &quot;1.2.1&quot;</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r">sofa_ping<span class="p">(</span><span class="s">&quot;iriscouch&quot;</span><span class="p">)</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">$couchdb
[1] &quot;Welcome&quot;

$uuid
[1] &quot;f1cb5d2e881bcb529d2eb2d04f548683&quot;

$version
[1] &quot;1.3.0&quot;

$vendor
$vendor$version
[1] &quot;1.3.0r1&quot;

$vendor$name
[1] &quot;Iris Couch&quot;</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r">sofa_ping<span class="p">(</span><span class="s">&quot;cloudant&quot;</span><span class="p">)</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">$couchdb
[1] &quot;Welcome&quot;

$version
[1] &quot;1.0.2&quot;

$cloudant_build
[1] &quot;1323&quot;</code></pre></div>

<hr>

<p>Now we&#39;ll do similar tasks on a local and two remote databases (cloudant and iriscouch)</p>

<h3>Create a database</h3>

<div class="highlight"><pre><code class="language-r" data-lang="r">sofa_createdb<span class="p">(</span>dbname <span class="o">=</span> <span class="s">&quot;hello_world&quot;</span><span class="p">)</span>  <span class="c1"># local</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">ok 
TRUE</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r">sofa_createdb<span class="p">(</span>dbname <span class="o">=</span> <span class="s">&quot;hello_world&quot;</span><span class="p">,</span> <span class="s">&quot;iriscouch&quot;</span><span class="p">)</span>  <span class="c1"># iriscouch</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">ok 
TRUE</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r">sofa_createdb<span class="p">(</span>dbname <span class="o">=</span> <span class="s">&quot;hello_world&quot;</span><span class="p">,</span> <span class="s">&quot;cloudant&quot;</span><span class="p">)</span>  <span class="c1"># cloudant</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">ok 
TRUE</code></pre></div>

<hr>

<p>Listing your databases is a simple task</p>

<h3>List your databases</h3>

<div class="highlight"><pre><code class="language-r" data-lang="r">sofa_listdbs<span class="p">()</span>  <span class="c1"># local</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">[1] &quot;_replicator&quot;                &quot;_users&quot;                    
 [3] &quot;alm_couchdb&quot;                &quot;alm_db&quot;                    
 [5] &quot;cheese&quot;                     &quot;dudedb&quot;                    
 [7] &quot;example&quot;                    &quot;foobar&quot;                    
 [9] &quot;foodb&quot;                      &quot;hello_world&quot;               
[11] &quot;helloworld&quot;                 &quot;rplos_db&quot;                  
[13] &quot;shit&quot;                       &quot;shitty&quot;                    
[15] &quot;shitty2&quot;                    &quot;sofadb&quot;                    
[17] &quot;test_suite_db&quot;              &quot;test_suite_db/with_slashes&quot;
[19] &quot;test_suite_reports&quot;         &quot;testr2couch&quot;               
[21] &quot;twitter_db&quot;</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r">sofa_listdbs<span class="p">(</span><span class="s">&quot;iriscouch&quot;</span><span class="p">)</span>  <span class="c1"># iriscouch</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">[1] &quot;_replicator&quot; &quot;_users&quot;      &quot;foobar&quot;      &quot;hello_world&quot; &quot;helloworld&quot; 
[6] &quot;mustache&quot;    &quot;stuff&quot;       &quot;thing&quot;</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r">sofa_listdbs<span class="p">(</span><span class="s">&quot;cloudant&quot;</span><span class="p">)</span>  <span class="c1"># cloudant</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">[1] &quot;dudedb&quot;         &quot;foobar&quot;         &quot;hello_world&quot;    &quot;helloworld&quot;    
[5] &quot;mustache&quot;       &quot;thingsandstuff&quot;</code></pre></div>

<hr>

<h3>Write a document to a database</h3>

<div class="highlight"><pre><code class="language-r" data-lang="r">doc <span class="o">&lt;-</span> <span class="s">&quot;{\&quot;name\&quot;:\&quot;dude\&quot;,\&quot;icecream\&quot;:\&quot;rocky road\&quot;}&quot;</span>
sofa_writedoc<span class="p">(</span>dbname <span class="o">=</span> <span class="s">&quot;helloworld&quot;</span><span class="p">,</span> doc <span class="o">=</span> doc<span class="p">)</span>  <span class="c1"># local</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">$ok
[1] TRUE

$id
[1] &quot;da2b0d1eb457dc764a6283fa59001606&quot;

$rev
[1] &quot;1-5406480672da172726810767e7d0ead3&quot;</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r">sofa_writedoc<span class="p">(</span><span class="s">&quot;iriscouch&quot;</span><span class="p">,</span> dbname <span class="o">=</span> <span class="s">&quot;helloworld&quot;</span><span class="p">,</span> doc <span class="o">=</span> doc<span class="p">)</span>  <span class="c1"># iriscouch</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">$ok
[1] TRUE

$id
[1] &quot;0c0858b75a81c464a74119ca2400135d&quot;

$rev
[1] &quot;1-5406480672da172726810767e7d0ead3&quot;</code></pre></div>

<div class="highlight"><pre><code class="language-r" data-lang="r">sofa_writedoc<span class="p">(</span><span class="s">&quot;cloudant&quot;</span><span class="p">,</span> dbname <span class="o">=</span> <span class="s">&quot;helloworld&quot;</span><span class="p">,</span> doc <span class="o">=</span> doc<span class="p">)</span>  <span class="c1"># cloudant</span></code></pre></div>

<div class="highlight"><pre><code class="language-text" data-lang="text">$ok
[1] TRUE

$id
[1] &quot;b77808eae8ae8d79ae78a373bf5b02d1&quot;

$rev
[1] &quot;1-5406480672da172726810767e7d0ead3&quot;</code></pre></div>

<hr>

<p>There&#39;s lots more you can do of course...</p>

<p>Thoughts? Feelings? Criticism?</p>

  </div>
  
</div>

<!-- Pagination links -->
<div class="pagination">
  
    <a href="/page17" class="older">Older</a>
  
  
    
      <a href="/page15" class="newer">Newer</a>
    
  
</div>

    </div>

    <!-- for bootstrap tooltips -->
    <script type="text/javascript">
      $("[data-toggle=\"tooltip\"]").tooltip();
    </script>

  </body>

  <footer>
  <!-- Disqus code -->
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'recology'; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function () {
          var s = document.createElement('script'); s.async = true;
          s.type = 'text/javascript';
          s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
          (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
      }());
  </script>

  <!-- Gaug.es Analytics -->
  <script type="text/javascript">
    var _gauges = _gauges || [];
    (function() {
      var t   = document.createElement('script');
      t.type  = 'text/javascript';
      t.async = true;
      t.id    = 'gauges-tracker';
      t.setAttribute('data-site-id', '4efd83a6f5a1f5158a000004');
      t.src = '//secure.gaug.es/track.js';
      var s = document.getElementsByTagName('script')[0];
      s.parentNode.insertBefore(t, s);
    })();
  </script>
</footer>

</html>
