<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

 <title>Recology</title>
 <link href="http://recology.info//atom.xml" rel="self"/>
 <link href="http://recology.info//"/>
 <updated>2016-03-24T15:24:06-07:00</updated>
 <id>http://recology.info/</id>
 <author>
   <name>Scott Chamberlain</name>
   <email>myrmecocystus@gmail.com</email>
 </author>

 
 <entry>
   <title>heythere - a robot to automate GitHub issue comments</title>
   <link href="http://recology.info//2016/03/hey-there/"/>
   <updated>2016-03-24T00:00:00-07:00</updated>
   <id>http://recology.info//2016/03/hey-there</id>
   <content type="html">&lt;p&gt;GitHub issues are great for humans to correspond over software, or any other project. At rOpenSci we use an issue based software review system (&lt;a href=&quot;https://github.com/ropensci/onboarding&quot;&gt;ropensci/onboarding&lt;/a&gt;). Software authors and reviewers go back and forth on the software, making a better product in the end.&lt;/p&gt;

&lt;p&gt;We have a relatively small number of pieces of software under review at any one time compared to e.g., scientific journals - however, even with the small number, we as organizers, and authors and reviewers can forget things. For example:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;an organizer can forget to remind a reviewer to get a review in&lt;/li&gt;
  &lt;li&gt;a reviewer can forget about a review, and may benefit from a friendly reminder&lt;/li&gt;
  &lt;li&gt;an author may forget about updating software based on the review&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;As we are managing more package submissions through our system, automated things done by machine, or robot, will be increasingly helpful to keep the system moving smoothly.&lt;/p&gt;

&lt;p&gt;A big red flag with automated systems is the annoyance factor. We can try to be smart about this and only remind people when it’s really needed.&lt;/p&gt;

&lt;p&gt;I’ve been working on a thing for a while now, it’s called &lt;code class=&quot;highlighter-rouge&quot;&gt;heythere&lt;/code&gt;. It’s a Ruby application that is currently set up to run on Heroku, though you could run it anywhere you want. It’s running right now once per day to check to see if it should send any reminders to organizers, authors, reviewers.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;heythere&lt;/code&gt; on GitHub: &lt;a href=&quot;https://github.com/ropenscilabs/heythere&quot;&gt;ropenscilabs/heythere&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;how-it-works&quot;&gt;How it works&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;heythere&lt;/code&gt; is controlled through a series of environment variables that controls GitHub authentication, the first day post reviewer assignment when a reminder should be sent, how many days after reviews are submitted to ask if the author needs any help, and more. Check out the &lt;a href=&quot;https://github.com/ropenscilabs/heythere&quot;&gt;repo&lt;/a&gt; for all the env var options.&lt;/p&gt;

&lt;p&gt;The Ruby app can be run via a rake task from the command line, or triggered with a scheduler on something like Heroku.&lt;/p&gt;

&lt;p&gt;When the app runs, we look for environment variables that you set. If we don’t find them we use sensible defaults.&lt;/p&gt;

&lt;p&gt;Using the env vars, we grab the issues for the repository you chose, limit to a subset of your choosing based on a series of labels, then compare dates on comments compared to your env vars, and either skip or send of comments on issues.&lt;/p&gt;

&lt;p&gt;We use &lt;a href=&quot;https://github.com/octokit/octokit.rb&quot;&gt;ockokit&lt;/a&gt; under the hood to work with GitHub issues.&lt;/p&gt;

&lt;h2 id=&quot;how-to-use-it&quot;&gt;How to use it&lt;/h2&gt;

&lt;h3 id=&quot;clone&quot;&gt;clone&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git clone git@github.com:ropenscilabs/heythere.git
cd heythere
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;setup&quot;&gt;setup&lt;/h3&gt;

&lt;p&gt;Change the repo in &lt;code class=&quot;highlighter-rouge&quot;&gt;Rakefile&lt;/code&gt; to whatever your repository is.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Heythere.hey_there(repo = &#39;ropensci/onboarding&#39;)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Create the app (use a different name, of course)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;heroku apps:create ropensci-hey-there
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Add the repository that you are targeting:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;heroku config:add HEYTHERE_REPOSITORY=&amp;lt;github-repository&amp;gt; (like `owner/repo`)
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Create a GitHub personal access token just for this application. You’ll need to set a env var for your username and the token. We read these in the app.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;heroku config:add GITHUB_USERNAME=&amp;lt;github-user&amp;gt;
heroku config:add GITHUB_PAT_OCTOKIT=&amp;lt;github-pat-for-octokit&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Optionally, set env vars for various options. You don’t have to set these - we’ll use defaults&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;heroku config:add HEYTHERE_PRE_DEADLINE_DAYS=&amp;lt;number-of-days-integer&amp;gt;
heroku config:add HEYTHERE_DEADLINE_DAYS=&amp;lt;number-of-days-integer&amp;gt;
heroku config:add HEYTHERE_POST_DEADLINE_EVERY_DAYS=&amp;lt;number-of-days-integer&amp;gt;
heroku config:add HEYTHERE_POST_REVIEW_IN_DAYS=&amp;lt;number-of-days-integer&amp;gt;
heroku config:add HEYTHERE_POST_REVIEW_TOGGLE=&amp;lt;boolean&amp;gt;
heroku config:add HEYTHERE_BOT_NICKNAME=&amp;lt;string&amp;gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Also save all these env vars in your &lt;code class=&quot;highlighter-rouge&quot;&gt;.bash_profile&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;.zshrc&lt;/code&gt;, or similar so you can run the app locally. E.g. with entries like &lt;code class=&quot;highlighter-rouge&quot;&gt;export HEYTHERE_PRE_DEADLINE_DAYS=15&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;You can see all your Heroku config vars using &lt;code class=&quot;highlighter-rouge&quot;&gt;heroku config&lt;/code&gt; or use &lt;code class=&quot;highlighter-rouge&quot;&gt;rake envs&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Push your app to Heroku&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git push heroku master
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Add the scheduler to your heroku app&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;heroku addons:create scheduler:standard
heroku addons:open scheduler
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Add the task &lt;code class=&quot;highlighter-rouge&quot;&gt;rake hey&lt;/code&gt; to your heroku scheduler and set to whatever schedule you want.&lt;/p&gt;

&lt;h3 id=&quot;usage&quot;&gt;usage&lt;/h3&gt;

&lt;p&gt;If you have your repo in an env var as above, run the rake task &lt;code class=&quot;highlighter-rouge&quot;&gt;hey&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;rake hey
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;If not, then pass the repo to &lt;code class=&quot;highlighter-rouge&quot;&gt;hey&lt;/code&gt; like&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;rake hey repo=owner/repo
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;what-does-it-look-like&quot;&gt;what does it look like?&lt;/h3&gt;

&lt;p&gt;This is what a comment looks like in a thread&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2016-03-24-hey-there/testhey.png&quot; alt=&quot;assertr_img&quot; /&gt;&lt;/p&gt;

&lt;p&gt;You could set up a different GitHub account as your robot so it’s clearly not coming from a real person.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>scrubr - clean species occurrence records</title>
   <link href="http://recology.info//2016/03/scrubr/"/>
   <updated>2016-03-04T00:00:00-08:00</updated>
   <id>http://recology.info//2016/03/scrubr</id>
   <content type="html">&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;scrubr&lt;/code&gt; is an R library for cleaning species occurrence records. It’s general purpose, and has the following approach:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;We think using a piping workflow (&lt;code class=&quot;highlighter-rouge&quot;&gt;%&amp;gt;%&lt;/code&gt;) makes code easier to build up, and easier to understand. However, you don’t have to use pipes in this package.&lt;/li&gt;
  &lt;li&gt;All inputs and outputs are data.frame’s - which makes the above point easier&lt;/li&gt;
  &lt;li&gt;Records trimmed off due to various filters are retained as attributes, so can still be accessed for later inspection, but don’t get in the way of the data.frame that gets modified for downstream use&lt;/li&gt;
  &lt;li&gt;User interface vs. speed: This is the kind of package that surely can get faster. However, we’re focusing on the UI first, then make speed improvements down the road.&lt;/li&gt;
  &lt;li&gt;Since occurrence record datasets should all have columns with lat/long information, we automatically look for those columns for you. If identified, we use them, but you can supply lat/long column names manually as well.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;We have many packages that fetch species occurrence records from GBIF, iNaturalist, VertNet, iDigBio, Ecoengine, and more. &lt;code class=&quot;highlighter-rouge&quot;&gt;scrubr&lt;/code&gt; fills a crucial missing niche as likely all uses of occurrence data requires cleaning of some kind. When using GBIF data via &lt;code class=&quot;highlighter-rouge&quot;&gt;rgbif&lt;/code&gt;, that package has some utilities for cleaning data based on the issues returned with GBIF data - &lt;code class=&quot;highlighter-rouge&quot;&gt;scrubr&lt;/code&gt; is a companion to do the rest of the cleaning.&lt;/p&gt;

&lt;h2 id=&quot;scrubr-use-cases&quot;&gt;scrubr use cases&lt;/h2&gt;

&lt;h3 id=&quot;those-covered&quot;&gt;Those covered&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Impossible lat/long values: e.g., latitude 75&lt;/li&gt;
  &lt;li&gt;Incomplete cases: one or the other of lat/long missing&lt;/li&gt;
  &lt;li&gt;Unlikely lat/long values: e.g., points at 0,0&lt;/li&gt;
  &lt;li&gt;Deduplication: try to identify duplicates, esp. when pulling data from multiple sources, e.g., can try to use occurrence IDs, if provided&lt;/li&gt;
  &lt;li&gt;Date based cleaning&lt;/li&gt;
  &lt;li&gt;Outside political boundary: User input to check for points in the wrong country, or points outside of a known country&lt;/li&gt;
  &lt;li&gt;Taxonomic name based cleaning: via &lt;code class=&quot;highlighter-rouge&quot;&gt;taxize&lt;/code&gt; (one method so far)&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;to-be-covered&quot;&gt;To be covered&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Political centroids: unlikely that occurrences fall exactly on these points, more likely a
default position (Draft function started, but not exported, and commented out)&lt;/li&gt;
  &lt;li&gt;Herbaria/Museums: many specimens may have location of the collection they are housed in&lt;/li&gt;
  &lt;li&gt;Habitat type filtering: e.g., fish should not be on land; marine fish should not be in fresh water&lt;/li&gt;
  &lt;li&gt;Check for contextually wrong values: That is, if 99 out of 100 lat/long coordinates are within the continental US, but 1 is in China, then perhaps something is wrong with that one point&lt;/li&gt;
  &lt;li&gt;and many more…&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;What else do you want included? &lt;a href=&quot;https://github.com/ropenscilabs/scrubr/issues&quot;&gt;Open an issue in the repo&lt;/a&gt; to chat about use cases.&lt;/p&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;p&gt;From CRAN (binaries may not be up yet, but source is)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;scrubr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Or from GitHub&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropenscilabs/scrubr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;scrubr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;dframe&quot;&gt;dframe&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;dframe()&lt;/code&gt; is a tool to convert your data.frame to a compact &lt;code class=&quot;highlighter-rouge&quot;&gt;dplyr&lt;/code&gt; like data.frame so that you can get a quick peek at your data each time you call a function - BUT, you don’t have to use it.&lt;/p&gt;

&lt;p&gt;Compare &lt;code class=&quot;highlighter-rouge&quot;&gt;mtcars&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;mtcars&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                      mpg cyl  disp  hp drat    wt  qsec vs am gear carb
#&amp;gt; Mazda RX4           21.0   6 160.0 110 3.90 2.620 16.46  0  1    4    4
#&amp;gt; Mazda RX4 Wag       21.0   6 160.0 110 3.90 2.875 17.02  0  1    4    4
#&amp;gt; Datsun 710          22.8   4 108.0  93 3.85 2.320 18.61  1  1    4    1
#&amp;gt; Hornet 4 Drive      21.4   6 258.0 110 3.08 3.215 19.44  1  0    3    1
#&amp;gt; Hornet Sportabout   18.7   8 360.0 175 3.15 3.440 17.02  0  0    3    2
#&amp;gt; Valiant             18.1   6 225.0 105 2.76 3.460 20.22  1  0    3    1
#&amp;gt; Duster 360          14.3   8 360.0 245 3.21 3.570 15.84  0  0    3    4
#&amp;gt; Merc 240D           24.4   4 146.7  62 3.69 3.190 20.00  1  0    4    2
#&amp;gt; Merc 230            22.8   4 140.8  95 3.92 3.150 22.90  1  0    4    2
#&amp;gt; Merc 280            19.2   6 167.6 123 3.92 3.440 18.30  1  0    4    4
#&amp;gt; Merc 280C           17.8   6 167.6 123 3.92 3.440 18.90  1  0    4    4
#&amp;gt; Merc 450SE          16.4   8 275.8 180 3.07 4.070 17.40  0  0    3    3
#&amp;gt; Merc 450SL          17.3   8 275.8 180 3.07 3.730 17.60  0  0    3    3
#&amp;gt; Merc 450SLC         15.2   8 275.8 180 3.07 3.780 18.00  0  0    3    3
#&amp;gt; Cadillac Fleetwood  10.4   8 472.0 205 2.93 5.250 17.98  0  0    3    4
#&amp;gt; Lincoln Continental 10.4   8 460.0 215 3.00 5.424 17.82  0  0    3    4
#&amp;gt; Chrysler Imperial   14.7   8 440.0 230 3.23 5.345 17.42  0  0    3    4
#&amp;gt; Fiat 128            32.4   4  78.7  66 4.08 2.200 19.47  1  1    4    1
#&amp;gt; Honda Civic         30.4   4  75.7  52 4.93 1.615 18.52  1  1    4    2
#&amp;gt; Toyota Corolla      33.9   4  71.1  65 4.22 1.835 19.90  1  1    4    1
#&amp;gt; Toyota Corona       21.5   4 120.1  97 3.70 2.465 20.01  1  0    3    1
#&amp;gt; Dodge Challenger    15.5   8 318.0 150 2.76 3.520 16.87  0  0    3    2
#&amp;gt; AMC Javelin         15.2   8 304.0 150 3.15 3.435 17.30  0  0    3    2
#&amp;gt; Camaro Z28          13.3   8 350.0 245 3.73 3.840 15.41  0  0    3    4
#&amp;gt; Pontiac Firebird    19.2   8 400.0 175 3.08 3.845 17.05  0  0    3    2
#&amp;gt; Fiat X1-9           27.3   4  79.0  66 4.08 1.935 18.90  1  1    4    1
#&amp;gt; Porsche 914-2       26.0   4 120.3  91 4.43 2.140 16.70  0  1    5    2
#&amp;gt; Lotus Europa        30.4   4  95.1 113 3.77 1.513 16.90  1  1    5    2
#&amp;gt; Ford Pantera L      15.8   8 351.0 264 4.22 3.170 14.50  0  1    5    4
#&amp;gt; Ferrari Dino        19.7   6 145.0 175 3.62 2.770 15.50  0  1    5    6
#&amp;gt; Maserati Bora       15.0   8 301.0 335 3.54 3.570 14.60  0  1    5    8
#&amp;gt; Volvo 142E          21.4   4 121.0 109 4.11 2.780 18.60  1  1    4    2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;To&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;dframe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mtcars&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;scrubr dframe&amp;gt;
#&amp;gt; Size: 32 X 11
#&amp;gt; 
#&amp;gt; 
#&amp;gt;      mpg   cyl  disp    hp  drat    wt  qsec    vs    am  gear  carb
#&amp;gt;    (dbl) (dbl) (dbl) (dbl) (dbl) (dbl) (dbl) (dbl) (dbl) (dbl) (dbl)
#&amp;gt; 1   21.0     6 160.0   110  3.90 2.620 16.46     0     1     4     4
#&amp;gt; 2   21.0     6 160.0   110  3.90 2.875 17.02     0     1     4     4
#&amp;gt; 3   22.8     4 108.0    93  3.85 2.320 18.61     1     1     4     1
#&amp;gt; 4   21.4     6 258.0   110  3.08 3.215 19.44     1     0     3     1
#&amp;gt; 5   18.7     8 360.0   175  3.15 3.440 17.02     0     0     3     2
#&amp;gt; 6   18.1     6 225.0   105  2.76 3.460 20.22     1     0     3     1
#&amp;gt; 7   14.3     8 360.0   245  3.21 3.570 15.84     0     0     3     4
#&amp;gt; 8   24.4     4 146.7    62  3.69 3.190 20.00     1     0     4     2
#&amp;gt; 9   22.8     4 140.8    95  3.92 3.150 22.90     1     0     4     2
#&amp;gt; 10  19.2     6 167.6   123  3.92 3.440 18.30     1     0     4     4
#&amp;gt; ..   ...   ...   ...   ...   ...   ...   ...   ...   ...   ...   ...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;coordinate-based-cleaning&quot;&gt;Coordinate based cleaning&lt;/h2&gt;

&lt;p&gt;Load some sample data that comes with the package&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sampledata1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Remove impossible coordinates (using sample data included in the pkg)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;dframe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sample_data_1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;coord_impossible&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;scrubr dframe&amp;gt;
#&amp;gt; Size: 1500 X 5
#&amp;gt; Lat/Lon vars: latitude/longitude
#&amp;gt; 
#&amp;gt;                name  longitude latitude                date        key
#&amp;gt;               (chr)      (dbl)    (dbl)              (time)      (int)
#&amp;gt; 1  Ursus americanus  -79.68283 38.36662 2015-01-14 16:36:45 1065590124
#&amp;gt; 2  Ursus americanus  -82.42028 35.73304 2015-01-13 00:25:39 1065588899
#&amp;gt; 3  Ursus americanus  -99.09625 23.66893 2015-02-20 23:00:00 1098894889
#&amp;gt; 4  Ursus americanus  -72.77432 43.94883 2015-02-13 16:16:41 1065611122
#&amp;gt; 5  Ursus americanus  -72.34617 43.86464 2015-03-01 20:20:45 1088908315
#&amp;gt; 6  Ursus americanus -108.53674 32.65219 2015-03-29 17:06:54 1088932238
#&amp;gt; 7  Ursus americanus -108.53691 32.65237 2015-03-29 17:12:50 1088932273
#&amp;gt; 8  Ursus americanus -123.82900 40.13240 2015-03-28 23:00:00 1132403409
#&amp;gt; 9  Ursus americanus  -78.25027 36.93018 2015-03-20 21:11:24 1088923534
#&amp;gt; 10 Ursus americanus  -76.78671 35.53079 2015-04-05 23:00:00 1088954559
#&amp;gt; ..              ...        ...      ...                 ...        ...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Remove incomplete coordinates&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;dframe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sample_data_1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;coord_incomplete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;scrubr dframe&amp;gt;
#&amp;gt; Size: 1306 X 5
#&amp;gt; Lat/Lon vars: latitude/longitude
#&amp;gt; 
#&amp;gt;                name  longitude latitude                date        key
#&amp;gt;               (chr)      (dbl)    (dbl)              (time)      (int)
#&amp;gt; 1  Ursus americanus  -79.68283 38.36662 2015-01-14 16:36:45 1065590124
#&amp;gt; 2  Ursus americanus  -82.42028 35.73304 2015-01-13 00:25:39 1065588899
#&amp;gt; 3  Ursus americanus  -99.09625 23.66893 2015-02-20 23:00:00 1098894889
#&amp;gt; 4  Ursus americanus  -72.77432 43.94883 2015-02-13 16:16:41 1065611122
#&amp;gt; 5  Ursus americanus  -72.34617 43.86464 2015-03-01 20:20:45 1088908315
#&amp;gt; 6  Ursus americanus -108.53674 32.65219 2015-03-29 17:06:54 1088932238
#&amp;gt; 7  Ursus americanus -108.53691 32.65237 2015-03-29 17:12:50 1088932273
#&amp;gt; 8  Ursus americanus -123.82900 40.13240 2015-03-28 23:00:00 1132403409
#&amp;gt; 9  Ursus americanus  -78.25027 36.93018 2015-03-20 21:11:24 1088923534
#&amp;gt; 10 Ursus americanus  -76.78671 35.53079 2015-04-05 23:00:00 1088954559
#&amp;gt; ..              ...        ...      ...                 ...        ...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Remove unlikely coordinates (e.g., those at 0,0)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;dframe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sample_data_1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;coord_unlikely&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;scrubr dframe&amp;gt;
#&amp;gt; Size: 1488 X 5
#&amp;gt; Lat/Lon vars: latitude/longitude
#&amp;gt; 
#&amp;gt;                name  longitude latitude                date        key
#&amp;gt;               (chr)      (dbl)    (dbl)              (time)      (int)
#&amp;gt; 1  Ursus americanus  -79.68283 38.36662 2015-01-14 16:36:45 1065590124
#&amp;gt; 2  Ursus americanus  -82.42028 35.73304 2015-01-13 00:25:39 1065588899
#&amp;gt; 3  Ursus americanus  -99.09625 23.66893 2015-02-20 23:00:00 1098894889
#&amp;gt; 4  Ursus americanus  -72.77432 43.94883 2015-02-13 16:16:41 1065611122
#&amp;gt; 5  Ursus americanus  -72.34617 43.86464 2015-03-01 20:20:45 1088908315
#&amp;gt; 6  Ursus americanus -108.53674 32.65219 2015-03-29 17:06:54 1088932238
#&amp;gt; 7  Ursus americanus -108.53691 32.65237 2015-03-29 17:12:50 1088932273
#&amp;gt; 8  Ursus americanus -123.82900 40.13240 2015-03-28 23:00:00 1132403409
#&amp;gt; 9  Ursus americanus  -78.25027 36.93018 2015-03-20 21:11:24 1088923534
#&amp;gt; 10 Ursus americanus  -76.78671 35.53079 2015-04-05 23:00:00 1088954559
#&amp;gt; ..              ...        ...      ...                 ...        ...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Do all three&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;dframe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sample_data_1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;coord_impossible&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;coord_incomplete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;coord_unlikely&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;scrubr dframe&amp;gt;
#&amp;gt; Size: 1294 X 5
#&amp;gt; Lat/Lon vars: latitude/longitude
#&amp;gt; 
#&amp;gt;                name  longitude latitude                date        key
#&amp;gt;               (chr)      (dbl)    (dbl)              (time)      (int)
#&amp;gt; 1  Ursus americanus  -79.68283 38.36662 2015-01-14 16:36:45 1065590124
#&amp;gt; 2  Ursus americanus  -82.42028 35.73304 2015-01-13 00:25:39 1065588899
#&amp;gt; 3  Ursus americanus  -99.09625 23.66893 2015-02-20 23:00:00 1098894889
#&amp;gt; 4  Ursus americanus  -72.77432 43.94883 2015-02-13 16:16:41 1065611122
#&amp;gt; 5  Ursus americanus  -72.34617 43.86464 2015-03-01 20:20:45 1088908315
#&amp;gt; 6  Ursus americanus -108.53674 32.65219 2015-03-29 17:06:54 1088932238
#&amp;gt; 7  Ursus americanus -108.53691 32.65237 2015-03-29 17:12:50 1088932273
#&amp;gt; 8  Ursus americanus -123.82900 40.13240 2015-03-28 23:00:00 1132403409
#&amp;gt; 9  Ursus americanus  -78.25027 36.93018 2015-03-20 21:11:24 1088923534
#&amp;gt; 10 Ursus americanus  -76.78671 35.53079 2015-04-05 23:00:00 1088954559
#&amp;gt; ..              ...        ...      ...                 ...        ...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Do vs. don’t drop bad data&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# do
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dframe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sample_data_1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;coord_incomplete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;drop&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NROW&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1306
# don&#39;t
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dframe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sample_data_1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;coord_incomplete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;drop&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NROW&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1500
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;deduplicate&quot;&gt;Deduplicate&lt;/h2&gt;

&lt;p&gt;Get a smaller subset of a data.frame&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;smalldf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sample_data_1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;create a duplicate record&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;smalldf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;smalldf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;smalldf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,])&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;row.names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;smalldf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NULL&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;make it slightly different&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;smalldf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;21&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;key&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1088954555&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;NROW&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;smalldf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 21
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;It’s 21 rows, including 1 duplicate. Do the deduplication&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dframe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;smalldf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dedup&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;scrubr dframe&amp;gt;
#&amp;gt; Size: 20 X 5
#&amp;gt; 
#&amp;gt; 
#&amp;gt;                name  longitude latitude                date        key
#&amp;gt;               (chr)      (dbl)    (dbl)              (time)      (dbl)
#&amp;gt; 1  Ursus americanus  -79.68283 38.36662 2015-01-14 16:36:45 1065590124
#&amp;gt; 2  Ursus americanus  -82.42028 35.73304 2015-01-13 00:25:39 1065588899
#&amp;gt; 3  Ursus americanus  -99.09625 23.66893 2015-02-20 23:00:00 1098894889
#&amp;gt; 4  Ursus americanus  -72.77432 43.94883 2015-02-13 16:16:41 1065611122
#&amp;gt; 5  Ursus americanus  -72.34617 43.86464 2015-03-01 20:20:45 1088908315
#&amp;gt; 6  Ursus americanus -108.53674 32.65219 2015-03-29 17:06:54 1088932238
#&amp;gt; 7  Ursus americanus -108.53691 32.65237 2015-03-29 17:12:50 1088932273
#&amp;gt; 8  Ursus americanus -123.82900 40.13240 2015-03-28 23:00:00 1132403409
#&amp;gt; 9  Ursus americanus  -78.25027 36.93018 2015-03-20 21:11:24 1088923534
#&amp;gt; 10 Ursus americanus -103.30058 29.27042 2015-04-29 22:00:00 1088964797
#&amp;gt; ..              ...        ...      ...                 ...        ...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Now its 20 rows, duplicate removed&lt;/p&gt;

&lt;p&gt;Here’s the duplicates&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;attr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dups&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;scrubr dframe&amp;gt;
#&amp;gt; Size: 1 X 5
#&amp;gt; 
#&amp;gt; 
#&amp;gt;               name longitude latitude                date        key
#&amp;gt;              (chr)     (dbl)    (dbl)              (time)      (dbl)
#&amp;gt; 1 Ursus americanus -76.78671 35.53079 2015-04-05 23:00:00 1088954555
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;dates&quot;&gt;Dates&lt;/h2&gt;

&lt;p&gt;Standardize/convert dates&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sample_data_1&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dframe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;date_standardize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;%d%b%Y&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;scrubr dframe&amp;gt;
#&amp;gt; Size: 1500 X 5
#&amp;gt; 
#&amp;gt; 
#&amp;gt;                name  longitude latitude      date        key
#&amp;gt;               (chr)      (dbl)    (dbl)     (chr)      (int)
#&amp;gt; 1  Ursus americanus  -79.68283 38.36662 14Jan2015 1065590124
#&amp;gt; 2  Ursus americanus  -82.42028 35.73304 13Jan2015 1065588899
#&amp;gt; 3  Ursus americanus  -99.09625 23.66893 20Feb2015 1098894889
#&amp;gt; 4  Ursus americanus  -72.77432 43.94883 13Feb2015 1065611122
#&amp;gt; 5  Ursus americanus  -72.34617 43.86464 01Mar2015 1088908315
#&amp;gt; 6  Ursus americanus -108.53674 32.65219 29Mar2015 1088932238
#&amp;gt; 7  Ursus americanus -108.53691 32.65237 29Mar2015 1088932273
#&amp;gt; 8  Ursus americanus -123.82900 40.13240 28Mar2015 1132403409
#&amp;gt; 9  Ursus americanus  -78.25027 36.93018 20Mar2015 1088923534
#&amp;gt; 10 Ursus americanus  -76.78671 35.53079 05Apr2015 1088954559
#&amp;gt; ..              ...        ...      ...       ...        ...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Drop records without dates&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;NROW&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1500
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NROW&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dframe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;date_missing&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1498
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Create date field from other fields&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;dframe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sample_data_2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;date_create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;year&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;month&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;day&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;scrubr dframe&amp;gt;
#&amp;gt; Size: 1500 X 8
#&amp;gt; 
#&amp;gt; 
#&amp;gt;                name  longitude latitude        key  year month   day
#&amp;gt;               (chr)      (dbl)    (dbl)      (int) (chr) (chr) (chr)
#&amp;gt; 1  Ursus americanus  -79.68283 38.36662 1065590124  2015    01    14
#&amp;gt; 2  Ursus americanus  -82.42028 35.73304 1065588899  2015    01    13
#&amp;gt; 3  Ursus americanus  -99.09625 23.66893 1098894889  2015    02    20
#&amp;gt; 4  Ursus americanus  -72.77432 43.94883 1065611122  2015    02    13
#&amp;gt; 5  Ursus americanus  -72.34617 43.86464 1088908315  2015    03    01
#&amp;gt; 6  Ursus americanus -108.53674 32.65219 1088932238  2015    03    29
#&amp;gt; 7  Ursus americanus -108.53691 32.65237 1088932273  2015    03    29
#&amp;gt; 8  Ursus americanus -123.82900 40.13240 1132403409  2015    03    28
#&amp;gt; 9  Ursus americanus  -78.25027 36.93018 1088923534  2015    03    20
#&amp;gt; 10 Ursus americanus  -76.78671 35.53079 1088954559  2015    04    05
#&amp;gt; ..              ...        ...      ...        ...   ...   ...   ...
#&amp;gt; Variables not shown: date (chr).
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;bugs-and-such&quot;&gt;bugs and such&lt;/h2&gt;

&lt;p&gt;Report them in the &lt;a href=&quot;https://github.com/ropenscilabs/scrubr/issues&quot;&gt;scrubr issue tracker&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>request - a high level HTTP client for R</title>
   <link href="http://recology.info//2016/01/request-hello-world/"/>
   <updated>2016-01-05T00:00:00-08:00</updated>
   <id>http://recology.info//2016/01/request-hello-world</id>
   <content type="html">&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;request&lt;/code&gt; is DSL for http requests for R, and is inspired by the CLI tool &lt;a href=&quot;https://github.com/jakubroztocil/httpie&quot;&gt;httpie&lt;/a&gt;. It’s built on &lt;code class=&quot;highlighter-rouge&quot;&gt;httr&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;The following were driving principles for this package:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The web is increasingly a JSON world, so we assume &lt;code class=&quot;highlighter-rouge&quot;&gt;applications/json&lt;/code&gt; by default, but give back other types if not&lt;/li&gt;
  &lt;li&gt;The workflow follows logically, or at least should, from, &lt;em&gt;hey, I got this url&lt;/em&gt;, to &lt;em&gt;i need to add some options&lt;/em&gt;, to &lt;em&gt;execute request&lt;/em&gt; - and functions support piping so that you can execute functions in this order&lt;/li&gt;
  &lt;li&gt;Whenever possible, we transform output to data.frame’s - facilitating downstream manipulation via &lt;code class=&quot;highlighter-rouge&quot;&gt;dplyr&lt;/code&gt;, etc.&lt;/li&gt;
  &lt;li&gt;We do &lt;code class=&quot;highlighter-rouge&quot;&gt;GET&lt;/code&gt; requests by default. Specify a different type if you don’t want &lt;code class=&quot;highlighter-rouge&quot;&gt;GET&lt;/code&gt;. Given &lt;code class=&quot;highlighter-rouge&quot;&gt;GET&lt;/code&gt; by default, this client is optimized for consumption of data, rather than creating new things on servers&lt;/li&gt;
  &lt;li&gt;You can use non-standard evaluation to easily pass in query parameters without worrying about &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;amp;&lt;/code&gt;’s, URL escaping, etc. (see &lt;code class=&quot;highlighter-rouge&quot;&gt;api_query()&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;Same for body params (see &lt;code class=&quot;highlighter-rouge&quot;&gt;api_body()&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The following is a brief demo of some of the package functionality:&lt;/p&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;p&gt;From CRAN&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;request&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Or from GitHub&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sckott/request&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;request&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;execute-on-last-pipe&quot;&gt;Execute on last pipe&lt;/h2&gt;

&lt;p&gt;When using pipes (&lt;code class=&quot;highlighter-rouge&quot;&gt;%&amp;gt;%&lt;/code&gt;) in &lt;code class=&quot;highlighter-rouge&quot;&gt;request&lt;/code&gt;, we autodetect last piped command, and execute &lt;code class=&quot;highlighter-rouge&quot;&gt;http()&lt;/code&gt; if it’s the last. If not the last, the output gets passed to the next command, and so on. This feature (and &lt;code class=&quot;highlighter-rouge&quot;&gt;magrittr&lt;/code&gt;) were done by Stefan Milton Bache.&lt;/p&gt;

&lt;p&gt;This feature is really nice because a) it’s one less thing you need to do, and b) you only need to care about the request itself.&lt;/p&gt;

&lt;p&gt;You can escape auto-execution if you use the function &lt;code class=&quot;highlighter-rouge&quot;&gt;peep()&lt;/code&gt;, which prints out a summary of the request you’ve created, but does not execute an HTTP request.&lt;/p&gt;

&lt;h2 id=&quot;http-requests&quot;&gt;HTTP Requests&lt;/h2&gt;

&lt;p&gt;A high level function &lt;code class=&quot;highlighter-rouge&quot;&gt;http()&lt;/code&gt; wraps a lower level &lt;code class=&quot;highlighter-rouge&quot;&gt;R6&lt;/code&gt; object &lt;code class=&quot;highlighter-rouge&quot;&gt;RequestIterator&lt;/code&gt;, which holds a series of variables and functions to execute &lt;code class=&quot;highlighter-rouge&quot;&gt;GET&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;POST&lt;/code&gt; requests, and will hold other HTTP verbs as well. In addition, it can hold state, which will allow us to do paging internally for you (see below). You have direct access to the &lt;code class=&quot;highlighter-rouge&quot;&gt;R6&lt;/code&gt; object if you call &lt;code class=&quot;highlighter-rouge&quot;&gt;http_client()&lt;/code&gt; instead of &lt;code class=&quot;highlighter-rouge&quot;&gt;http()&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;nse-and-se&quot;&gt;NSE and SE&lt;/h2&gt;

&lt;p&gt;Most if not all functions in &lt;code class=&quot;highlighter-rouge&quot;&gt;request&lt;/code&gt; support non-standard evaluation (NSE) as well as standard evaluation (SE). If a function supports both, there’s a version without an underscore for NSE, while a version with an underscore is for SE. For example, here, we make a HTTP request by passing a base URL, then a series of paths that get combined together. First the NSE version&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;https://api.github.com/&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;api_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;repos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ropensci&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rgbif&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;issues&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then the SE version&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;https://api.github.com/&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;api_path_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;repos&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;ropensci&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;rgbif&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;issues&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;building-api-routes&quot;&gt;Building API routes&lt;/h2&gt;

&lt;p&gt;The first thing you’ll want to do is lay out the base URL for your request. The function &lt;code class=&quot;highlighter-rouge&quot;&gt;api()&lt;/code&gt; is your friend.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;api()&lt;/code&gt; works with full or partial URLs:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;https://api.github.com/&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; URL: https://api.github.com/
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;http://api.gbif.org/v1&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; URL: http://api.gbif.org/v1
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;api.gbif.org/v1&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; URL: api.gbif.org/v1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;And works with ports, full or partial&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;http://localhost:9200&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; URL: http://localhost:9200
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;localhost:9200&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; URL: http://localhost:9200
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;:9200&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; URL: http://localhost:9200
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;9200&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; URL: http://localhost:9200
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;9200/stuff&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; URL: http://localhost:9200/stuff
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;make-http-requests&quot;&gt;Make HTTP requests&lt;/h2&gt;

&lt;p&gt;The above examples with &lt;code class=&quot;highlighter-rouge&quot;&gt;api()&lt;/code&gt; are not passed through a pipe, so only define a URL, but don’t do an HTTP request. To make an HTTP request, you can either pipe a url or partial url to e.g., &lt;code class=&quot;highlighter-rouge&quot;&gt;api()&lt;/code&gt;, or call &lt;code class=&quot;highlighter-rouge&quot;&gt;http()&lt;/code&gt; at the end of a string of function calls:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s1&quot;&gt;&#39;https://api.github.com/&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $current_user_url
#&amp;gt; [1] &quot;https://api.github.com/user&quot;
#&amp;gt;
#&amp;gt; $current_user_authorizations_html_url
#&amp;gt; [1] &quot;https://github.com/settings/connections/applications{/client_id}&quot;
#&amp;gt;
#&amp;gt; $authorizations_url
#&amp;gt; [1] &quot;https://api.github.com/authorizations&quot;
#&amp;gt;
#&amp;gt; $code_search_url
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Or&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;https://api.github.com/&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $current_user_url
#&amp;gt; [1] &quot;https://api.github.com/user&quot;
#&amp;gt;
#&amp;gt; $current_user_authorizations_html_url
#&amp;gt; [1] &quot;https://github.com/settings/connections/applications{/client_id}&quot;
#&amp;gt;
#&amp;gt; $authorizations_url
#&amp;gt; [1] &quot;https://api.github.com/authorizations&quot;
#&amp;gt;
#&amp;gt; $code_search_url
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;http()&lt;/code&gt; is called at the end of a chain of piped commands, so no need to invoke it. However, you can if you like.&lt;/p&gt;

&lt;h2 id=&quot;templating&quot;&gt;Templating&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;repo_info&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;username&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;craigcitro&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;r-travis&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;https://api.github.com/&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;api_template&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;template&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;repos///issues&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repo_info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]
#&amp;gt; [[1]]$url
#&amp;gt; [1] &quot;https://api.github.com/repos/craigcitro/r-travis/issues/164&quot;
#&amp;gt;
#&amp;gt; [[1]]$labels_url
#&amp;gt; [1] &quot;https://api.github.com/repos/craigcitro/r-travis/issues/164/labels{/name}&quot;
#&amp;gt;
#&amp;gt; [[1]]$comments_url
#&amp;gt; [1] &quot;https://api.github.com/repos/craigcitro/r-travis/issues/164/comments&quot;
#&amp;gt; ...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;set-paths&quot;&gt;Set paths&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;api_path()&lt;/code&gt; adds paths to the base URL&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;https://api.github.com/&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;api_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;repos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ropensci&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rgbif&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;issues&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;peep&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;http request&amp;gt;
#&amp;gt;   url: https://api.github.com/
#&amp;gt;   paths: repos/ropensci/rgbif/issues
#&amp;gt;   query:
#&amp;gt;   body:
#&amp;gt;   paging:
#&amp;gt;   headers:
#&amp;gt;   rate limit:
#&amp;gt;   retry (n/delay (s)): /
#&amp;gt;   error handler:
#&amp;gt;   config:
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;query&quot;&gt;Query&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://api.plos.org/search&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;api_query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ecology&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fl&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;journal&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;peep&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;http request&amp;gt;
#&amp;gt;   url: http://api.plos.org/search
#&amp;gt;   paths:
#&amp;gt;   query: q=ecology, wt=json, fl=journal
#&amp;gt;   body:
#&amp;gt;   paging:
#&amp;gt;   headers:
#&amp;gt;   rate limit:
#&amp;gt;   retry (n/delay (s)): /
#&amp;gt;   error handler:
#&amp;gt;   config:
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;headers&quot;&gt;Headers&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;http://httpbin.org/headers&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;api_headers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`X-FARGO-SEASON`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`X-NARCOS-SEASON`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;peep&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;http request&amp;gt;
#&amp;gt;   url: http://httpbin.org/headers
#&amp;gt;   paths:
#&amp;gt;   query:
#&amp;gt;   body:
#&amp;gt;   paging:
#&amp;gt;   headers:
#&amp;gt;     X-FARGO-SEASON: 3
#&amp;gt;     X-NARCOS-SEASON: 5
#&amp;gt;   rate limit:
#&amp;gt;   retry (n/delay (s)): /
#&amp;gt;   error handler:
#&amp;gt;   config:
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;curl-configuration&quot;&gt;curl configuration&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;httr&lt;/code&gt; is exported in &lt;code class=&quot;highlighter-rouge&quot;&gt;request&lt;/code&gt;, so you can use &lt;code class=&quot;highlighter-rouge&quot;&gt;httr&lt;/code&gt; functions like &lt;code class=&quot;highlighter-rouge&quot;&gt;verbose()&lt;/code&gt; to get verbose curl output&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;api&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;http://httpbin.org/headers&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;api_config&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;verbose&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; -&amp;gt; GET /headers HTTP/1.1
#&amp;gt; -&amp;gt; Host: httpbin.org
#&amp;gt; -&amp;gt; User-Agent: curl/7.43.0 curl/0.9.4 httr/1.0.0 request/0.1.0
#&amp;gt; -&amp;gt; Accept-Encoding: gzip, deflate
#&amp;gt; -&amp;gt; Accept: application/json, text/xml, application/xml, */*
#&amp;gt; -&amp;gt;
#&amp;gt; &amp;lt;- HTTP/1.1 200 OK
#&amp;gt; &amp;lt;- Server: nginx
#&amp;gt; &amp;lt;- Date: Sun, 03 Jan 2016 16:56:29 GMT
#&amp;gt; &amp;lt;- Content-Type: application/json
#&amp;gt; &amp;lt;- Content-Length: 227
#&amp;gt; &amp;lt;- Connection: keep-alive
#&amp;gt; &amp;lt;- Access-Control-Allow-Origin: *
#&amp;gt; &amp;lt;- Access-Control-Allow-Credentials: true
#&amp;gt; &amp;lt;-
#&amp;gt; $headers
#&amp;gt; $headers$Accept
#&amp;gt; [1] &quot;application/json, text/xml, application/xml, */*&quot;
#&amp;gt; ...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;coming-soon&quot;&gt;Coming soon&lt;/h2&gt;

&lt;p&gt;There’s a number of interesting features that should be coming soon to &lt;code class=&quot;highlighter-rouge&quot;&gt;request&lt;/code&gt;.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Paging - a paging helper will make it easy to do paing, and will attempt to handle any parameters used for paging. Some user input will be required, like what parameter names are, and how many records you want returned  &lt;a href=&quot;https://github.com/sckott/request/issues/2&quot;&gt;sckott/request#2&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Retry - a retry helper will make it easy to retry http requests on any failure, and execute a user defined function on failure &lt;a href=&quot;https://github.com/sckott/request/issues/6&quot;&gt;sckott/request#6&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Rate limit - a rate limit helper will add info to a set of many requests - still in early design stages &lt;a href=&quot;https://github.com/sckott/request/issues/5&quot;&gt;sckott/request#5&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Caching - a caching helper - may use in the background the in development &lt;a href=&quot;https://github.com/ropensci/vcr&quot;&gt;vcr R client&lt;/a&gt; when on CRAN or perhaps &lt;a href=&quot;https://github.com/richfitz/storr&quot;&gt;storr&lt;/a&gt;  &lt;a href=&quot;https://github.com/sckott/request/issues/4&quot;&gt;sckott/request#4&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>binomen - Tools for slicing and dicing taxonomic names</title>
   <link href="http://recology.info//2015/12/binomen-taxonomy-tools/"/>
   <updated>2015-12-08T00:00:00-08:00</updated>
   <id>http://recology.info//2015/12/binomen-taxonomy-tools</id>
   <content type="html">&lt;p&gt;The first version of &lt;code class=&quot;highlighter-rouge&quot;&gt;binomen&lt;/code&gt; is now up on &lt;a href=&quot;https://cran.rstudio.com/web/packages/binomen&quot;&gt;CRAN&lt;/a&gt;. It provides various taxonomic classes for defining a single taxon, multiple taxa, and a taxonomic data.frame. It is designed as a companion to &lt;a href=&quot;https://github.com/ropensci/taxize&quot;&gt;taxize&lt;/a&gt;, where you can get taxonomic data on taxonomic names from the web.&lt;/p&gt;

&lt;p&gt;The classes (S3):&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;taxon&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;taxonref&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;taxonrefs&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;binomial&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;grouping&lt;/code&gt; (i.e., classification - used different term to avoid conflict with classification in &lt;code class=&quot;highlighter-rouge&quot;&gt;taxize&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;For example, the &lt;code class=&quot;highlighter-rouge&quot;&gt;binomial&lt;/code&gt; class is defined by a genus, epithet, authority, and optional full species name and canonical version.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;binomial&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Poa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;annua&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;authority&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;L.&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;binomial&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;genus&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Poa&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;epithet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;annua&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;canonical&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;species&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;authority&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;L.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The package has a suite of functions to work on these taxonomic classes:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;gethier()&lt;/code&gt; - get hierarchy from a &lt;code class=&quot;highlighter-rouge&quot;&gt;taxon&lt;/code&gt; class&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;scatter()&lt;/code&gt; - make each row in taxonomic data.frame (&lt;code class=&quot;highlighter-rouge&quot;&gt;taxondf&lt;/code&gt;) a separate &lt;code class=&quot;highlighter-rouge&quot;&gt;taxon&lt;/code&gt; object within a single &lt;code class=&quot;highlighter-rouge&quot;&gt;taxa&lt;/code&gt; object&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;assemble()&lt;/code&gt; - make a &lt;code class=&quot;highlighter-rouge&quot;&gt;taxa&lt;/code&gt; object into a &lt;code class=&quot;highlighter-rouge&quot;&gt;taxondf&lt;/code&gt; data.frame&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;pick()&lt;/code&gt; - pick out one or more taxonomic groups&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;pop()&lt;/code&gt; - pop out (drop) one or more taxonomic groups&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;span()&lt;/code&gt; - pick a range between two taxonomic groups (inclusive)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;strain()&lt;/code&gt; - filter by taxonomic groups, like dplyr’s filter&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;name()&lt;/code&gt; - get the taxon name for each &lt;code class=&quot;highlighter-rouge&quot;&gt;taxonref&lt;/code&gt; object&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;uri()&lt;/code&gt; - get the reference uri for each &lt;code class=&quot;highlighter-rouge&quot;&gt;taxonref&lt;/code&gt; object&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;rank()&lt;/code&gt; - get the taxonomic rank for each &lt;code class=&quot;highlighter-rouge&quot;&gt;taxonref&lt;/code&gt; object&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;id()&lt;/code&gt; - get the reference uri for each &lt;code class=&quot;highlighter-rouge&quot;&gt;taxonref&lt;/code&gt; object&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The approach in this package I suppose is sort of like &lt;code class=&quot;highlighter-rouge&quot;&gt;split-apply-combine&lt;/code&gt; from &lt;code class=&quot;highlighter-rouge&quot;&gt;plyr&lt;/code&gt;/&lt;code class=&quot;highlighter-rouge&quot;&gt;dplyr&lt;/code&gt;, whereas this is aims to make it easy to do with taxonomic names.&lt;/p&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;p&gt;For examples below, you’ll need the development version:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;binomen&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;binomen&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;make-a-taxon&quot;&gt;Make a taxon&lt;/h2&gt;

&lt;p&gt;Make a taxon object&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;make_taxon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;genus&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Poa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;epithet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;annua&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;authority&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;L.&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;family&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Poaceae&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;clazz&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Poales&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;kingdom&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Plantae&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;variety&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;annua&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;taxon&amp;gt;
#&amp;gt;   binomial: Poa annua
#&amp;gt;   grouping: 
#&amp;gt;     kingdom: Plantae
#&amp;gt;     clazz: Poales
#&amp;gt;     family: Poaceae
#&amp;gt;     genus: Poa
#&amp;gt;     species: Poa annua
#&amp;gt;     variety: annua
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Index to various parts of the object&lt;/p&gt;

&lt;p&gt;The binomial&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;binomial&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;binomial&amp;gt;
#&amp;gt;   genus: Poa
#&amp;gt;   epithet: annua
#&amp;gt;   canonical: Poa annua
#&amp;gt;   species: Poa annua L.
#&amp;gt;   authority: L.
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The authority&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;binomial&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;authority&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;L.&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The classification&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grouping&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;grouping&amp;gt;
#&amp;gt;   kingdom: Plantae
#&amp;gt;   clazz: Poales
#&amp;gt;   family: Poaceae
#&amp;gt;   genus: Poa
#&amp;gt;   species: Poa annua
#&amp;gt;   variety: annua
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The family&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grouping&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;family&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;taxonref&amp;gt;
#&amp;gt;   rank: family
#&amp;gt;   name: Poaceae
#&amp;gt;   id: none
#&amp;gt;   uri: none
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;subset-taxon-objects&quot;&gt;Subset taxon objects&lt;/h2&gt;

&lt;p&gt;Get one or more ranks via &lt;code class=&quot;highlighter-rouge&quot;&gt;pick()&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pick&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;family&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;taxon&amp;gt;
#&amp;gt;   binomial: Poa annua
#&amp;gt;   grouping: 
#&amp;gt;     family: Poaceae
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pick&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;family&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;genus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;taxon&amp;gt;
#&amp;gt;   binomial: Poa annua
#&amp;gt;   grouping: 
#&amp;gt;     family: Poaceae
#&amp;gt;     genus: Poa
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Drop one or more ranks via &lt;code class=&quot;highlighter-rouge&quot;&gt;pop()&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;family&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;taxon&amp;gt;
#&amp;gt;   binomial: Poa annua
#&amp;gt;   grouping: 
#&amp;gt;     kingdom: Plantae
#&amp;gt;     clazz: Poales
#&amp;gt;     genus: Poa
#&amp;gt;     species: Poa annua
#&amp;gt;     variety: annua
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;family&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;genus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;taxon&amp;gt;
#&amp;gt;   binomial: Poa annua
#&amp;gt;   grouping: 
#&amp;gt;     kingdom: Plantae
#&amp;gt;     clazz: Poales
#&amp;gt;     species: Poa annua
#&amp;gt;     variety: annua
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Get a range of ranks via &lt;code class=&quot;highlighter-rouge&quot;&gt;span()&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;span&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kingdom&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;family&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;taxon&amp;gt;
#&amp;gt;   binomial: Poa annua
#&amp;gt;   grouping: 
#&amp;gt;     kingdom: Plantae
#&amp;gt;     clazz: Poales
#&amp;gt;     family: Poaceae
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Extract classification as a &lt;code class=&quot;highlighter-rouge&quot;&gt;data.frame&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gethier&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;      rank      name
#&amp;gt; 1 kingdom   Plantae
#&amp;gt; 2   clazz    Poales
#&amp;gt; 3  family   Poaceae
#&amp;gt; 4   genus       Poa
#&amp;gt; 5 species Poa annua
#&amp;gt; 6 variety     annua
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;taxonomic-dataframes&quot;&gt;Taxonomic data.frame’s&lt;/h2&gt;

&lt;p&gt;Make one&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;order&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Asterales&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Asterales&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Fagales&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Poales&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Poales&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Poales&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;family&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Asteraceae&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Asteraceae&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Fagaceae&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Poaceae&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Poaceae&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Poaceae&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;genus&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Helianthus&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Helianthus&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Quercus&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Poa&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Festuca&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Holodiscus&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;stringsAsFactors&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;taxon_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;       order     family      genus
#&amp;gt; 1 Asterales Asteraceae Helianthus
#&amp;gt; 2 Asterales Asteraceae Helianthus
#&amp;gt; 3   Fagales   Fagaceae    Quercus
#&amp;gt; 4    Poales    Poaceae        Poa
#&amp;gt; 5    Poales    Poaceae    Festuca
#&amp;gt; 6    Poales    Poaceae Holodiscus
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Parse - get rank order via &lt;code class=&quot;highlighter-rouge&quot;&gt;pick()&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;df2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pick&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;       order
#&amp;gt; 1 Asterales
#&amp;gt; 2 Asterales
#&amp;gt; 3   Fagales
#&amp;gt; 4    Poales
#&amp;gt; 5    Poales
#&amp;gt; 6    Poales
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;get ranks order, family, and genus via &lt;code class=&quot;highlighter-rouge&quot;&gt;pick()&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;df2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pick&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;family&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;genus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;       order     family      genus
#&amp;gt; 1 Asterales Asteraceae Helianthus
#&amp;gt; 2 Asterales Asteraceae Helianthus
#&amp;gt; 3   Fagales   Fagaceae    Quercus
#&amp;gt; 4    Poales    Poaceae        Poa
#&amp;gt; 5    Poales    Poaceae    Festuca
#&amp;gt; 6    Poales    Poaceae Holodiscus
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;get range of names via &lt;code class=&quot;highlighter-rouge&quot;&gt;span()&lt;/code&gt;, from rank &lt;code class=&quot;highlighter-rouge&quot;&gt;X&lt;/code&gt; to rank &lt;code class=&quot;highlighter-rouge&quot;&gt;Y&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;df2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;span&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;family&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;genus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;       family      genus
#&amp;gt; 1 Asteraceae Helianthus
#&amp;gt; 2 Asteraceae Helianthus
#&amp;gt; 3   Fagaceae    Quercus
#&amp;gt; 4    Poaceae        Poa
#&amp;gt; 5    Poaceae    Festuca
#&amp;gt; 6    Poaceae Holodiscus
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Separate each row into a &lt;code class=&quot;highlighter-rouge&quot;&gt;taxon&lt;/code&gt; class (many &lt;code class=&quot;highlighter-rouge&quot;&gt;taxon&lt;/code&gt; objects are a &lt;code class=&quot;highlighter-rouge&quot;&gt;taxa&lt;/code&gt; class)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;scatter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]
#&amp;gt; &amp;lt;taxon&amp;gt;
#&amp;gt;   binomial: Helianthus none
#&amp;gt;   grouping: 
#&amp;gt;     order: Asterales
#&amp;gt;     family: Asteraceae
#&amp;gt;     genus: Helianthus
#&amp;gt;     species: Helianthus none
#&amp;gt; 
#&amp;gt; [[2]]
#&amp;gt; &amp;lt;taxon&amp;gt;
#&amp;gt;   binomial: Helianthus none
#&amp;gt;   grouping: 
#&amp;gt;     order: Asterales
#&amp;gt;     family: Asteraceae
#&amp;gt;     genus: Helianthus
#&amp;gt;     species: Helianthus none
#&amp;gt; 
#&amp;gt; [[3]]
#&amp;gt; &amp;lt;taxon&amp;gt;
#&amp;gt;   binomial: Quercus none
#&amp;gt;   grouping: 
#&amp;gt;     order: Fagales
#&amp;gt;     family: Fagaceae
#&amp;gt;     genus: Quercus
#&amp;gt;     species: Quercus none
#&amp;gt; 
#&amp;gt; [[4]]
#&amp;gt; &amp;lt;taxon&amp;gt;
#&amp;gt;   binomial: Poa none
#&amp;gt;   grouping: 
#&amp;gt;     order: Poales
#&amp;gt;     family: Poaceae
#&amp;gt;     genus: Poa
#&amp;gt;     species: Poa none
#&amp;gt; 
#&amp;gt; [[5]]
#&amp;gt; &amp;lt;taxon&amp;gt;
#&amp;gt;   binomial: Festuca none
#&amp;gt;   grouping: 
#&amp;gt;     order: Poales
#&amp;gt;     family: Poaceae
#&amp;gt;     genus: Festuca
#&amp;gt;     species: Festuca none
#&amp;gt; 
#&amp;gt; [[6]]
#&amp;gt; &amp;lt;taxon&amp;gt;
#&amp;gt;   binomial: Holodiscus none
#&amp;gt;   grouping: 
#&amp;gt;     order: Poales
#&amp;gt;     family: Poaceae
#&amp;gt;     genus: Holodiscus
#&amp;gt;     species: Holodiscus none
#&amp;gt; 
#&amp;gt; attr(,&quot;class&quot;)
#&amp;gt; [1] &quot;taxa&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;And you can re-assemble a data.frame from the output of &lt;code class=&quot;highlighter-rouge&quot;&gt;scatter()&lt;/code&gt; with &lt;code class=&quot;highlighter-rouge&quot;&gt;assemble()&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scatter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;assemble&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;       order     family      genus         species
#&amp;gt; 1 Asterales Asteraceae Helianthus Helianthus none
#&amp;gt; 2 Asterales Asteraceae Helianthus Helianthus none
#&amp;gt; 3   Fagales   Fagaceae    Quercus    Quercus none
#&amp;gt; 4    Poales    Poaceae        Poa        Poa none
#&amp;gt; 5    Poales    Poaceae    Festuca    Festuca none
#&amp;gt; 6    Poales    Poaceae Holodiscus Holodiscus none
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;thoughts&quot;&gt;Thoughts?&lt;/h2&gt;

&lt;p&gt;I’m really curious what people think of &lt;code class=&quot;highlighter-rouge&quot;&gt;binomen&lt;/code&gt;. I’m not sure how useful this will be in the wild. Try it. Let me know. Thanks much :)&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Crossref programmatic clients</title>
   <link href="http://recology.info//2015/11/crossref-clients/"/>
   <updated>2015-11-30T00:00:00-08:00</updated>
   <id>http://recology.info//2015/11/crossref-clients</id>
   <content type="html">&lt;p&gt;I gave two talks recently at the annual &lt;a href=&quot;http://www.crossref.org/annualmeeting/agenda.html&quot;&gt;Crossref meeting&lt;/a&gt;, one of which was a somewhat technical overview of programmatic clients for Crossref APIs. Check out the talk &lt;a href=&quot;https://crossref.wistia.com/medias/8rh0jm5eda&quot;&gt;here&lt;/a&gt;. I talked about the motivation for working with Crossref data by writing code/etc. rather than going the GUI route, then went over the various clients, with brief examples.&lt;/p&gt;

&lt;p&gt;We (rOpenSci) have been working on the R client &lt;a href=&quot;https://github.com/ropensci/rcrossref&quot;&gt;rcrossref&lt;/a&gt; for a while now, but I’m also working on the Python and Ruby clients for Crossref. In addition, the Ruby client has a CLI client inside. The Javascript client is worked on independently by &lt;a href=&quot;https://science.ai/&quot;&gt;ScienceAI&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The R, Ruby, and Python clients are useable but not feature complete yet, and would benefit from lots of users surfacing bugs and highlighting nice to have features.&lt;/p&gt;

&lt;p&gt;The main Crossref API used in all the clients is documented at &lt;a href=&quot;https://github.com/CrossRef/rest-api-doc/blob/master/rest_api.md&quot;&gt;api.crossref.org&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I’ve tried to make the APIs similar-ish across clients. Functions in each client match the main Crossref search API (api.crossref.org) routes:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/works&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/members&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/funders&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/journals&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/types&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;/licenses&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Other methods in all three clients:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Get DOI minting agency
    &lt;ul&gt;
      &lt;li&gt;Uses api.crossref.org API&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Get random DOIs
    &lt;ul&gt;
      &lt;li&gt;Uses api.crossref.org API&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Content negotiation
    &lt;ul&gt;
      &lt;li&gt;Documented at &lt;a href=&quot;http://www.crosscite.org/cn&quot;&gt;http://www.crosscite.org/cn&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Get full text
    &lt;ul&gt;
      &lt;li&gt;other clients in each language will focus on this use case&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Get citation count
    &lt;ul&gt;
      &lt;li&gt;Uses service at &lt;a href=&quot;http://www.crossref.org/openurl&quot;&gt;http://www.crossref.org/openurl&lt;/a&gt; - though this functionality may be in the api.crossref.org API at some point&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The following shows how to install, and then examples from each client for a few use cases.&lt;/p&gt;

&lt;h2 id=&quot;installation&quot;&gt;Installation&lt;/h2&gt;

&lt;h3 id=&quot;python&quot;&gt;Python&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;pip install habanero
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;ruby&quot;&gt;Ruby&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gem install serrano
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;r&quot;&gt;R&lt;/h3&gt;

&lt;p&gt;Inside R:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rcrossref&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;javascript&quot;&gt;Javascript&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;npm install crossref
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;I won’t do any examples with the js library, as I don’t maintain it.&lt;/p&gt;

&lt;h2 id=&quot;use-case-get-orcid-ids-for-authors&quot;&gt;Use case: get ORCID IDs for authors&lt;/h2&gt;

&lt;p&gt;Python&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;habanero&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Crossref&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Crossref&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;works&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;nb&quot;&gt;filter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;has_orcid&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;res2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;ORCID&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;author&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;message&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;items&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;nb&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;None&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;nb&quot;&gt;reduce&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;lambda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;res2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;u&#39;http://orcid.org/0000-0003-4087-8021&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;http://orcid.org/0000-0002-2076-5452&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;http://orcid.org/0000-0003-4087-8021&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;http://orcid.org/0000-0002-2076-5452&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;http://orcid.org/0000-0003-1710-1580&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;http://orcid.org/0000-0003-1710-1580&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;http://orcid.org/0000-0003-4637-238X&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;http://orcid.org/0000-0003-4637-238X&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;http://orcid.org/0000-0003-4637-238X&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;http://orcid.org/0000-0003-4637-238X&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;http://orcid.org/0000-0003-4637-238X&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;http://orcid.org/0000-0003-2510-4271&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Ruby&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;serrano&#39;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Serrano&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;works&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;filter: &lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;has_orcid&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;limit: &lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;res2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;message&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;items&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;collect&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;author&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;].&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;collect&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;|&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;ORCID&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;res2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;flatten&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;compact&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-4087-8021&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0002-2076-5452&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-4087-8021&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0002-2076-5452&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-1710-1580&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-1710-1580&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-4637-238X&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-4637-238X&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-4637-238X&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-4637-238X&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-4637-238X&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-2510-4271&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;R&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rcrossref&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cr_works&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;has_orcid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;orcids&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unlist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;author&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ORCID&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is.na&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;orcids&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-4087-8021&quot;&lt;/span&gt;
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0002-2076-5452&quot;&lt;/span&gt;
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-4087-8021&quot;&lt;/span&gt;
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0002-2076-5452&quot;&lt;/span&gt;
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-1710-1580&quot;&lt;/span&gt;
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-1710-1580&quot;&lt;/span&gt;
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-4637-238X&quot;&lt;/span&gt;
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-4637-238X&quot;&lt;/span&gt;
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-4637-238X&quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-4637-238X&quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-4637-238X&quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-2510-4271&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;CLI&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;serrano works --filter&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;has_orcid:true --json --limit&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;12 | jq &lt;span class=&quot;s1&quot;&gt;&#39;.message.items[].author[].ORCID | select(. != null)&#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-4087-8021&quot;&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0002-2076-5452&quot;&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-4087-8021&quot;&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0002-2076-5452&quot;&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-1710-1580&quot;&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-1710-1580&quot;&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-4637-238X&quot;&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-4637-238X&quot;&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-4637-238X&quot;&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-4637-238X&quot;&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-4637-238X&quot;&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0003-2510-4271&quot;&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0001-9408-8207&quot;&lt;/span&gt;
&lt;span class=&quot;s2&quot;&gt;&quot;http://orcid.org/0000-0002-2076-5452&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;use-case-content-negotation&quot;&gt;Use case: content negotation&lt;/h2&gt;

&lt;p&gt;Python&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;habanero&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cn&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;content_negotiation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ids&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&#39;10.1126/science.169.3946.635&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;format&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s&quot;&gt;u&#39;Frank, H. S. (1970). The Structure of Ordinary Water: New data and interpretations are yielding new insights into this fascinating substance. Science, 169(3946), 635&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\xe2\x80\x93&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;641. doi:10.1126/science.169.3946.635&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Ruby&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;serrano&#39;&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Serrano&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;content_negotiation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;ids: &lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;10.1126/science.169.3946.635&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;ss&quot;&gt;format: &lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Frank, H. S. (1970). The Structure of Ordinary Water: New data and interpretations are yielding new insights into this fascinating substance. Science, 169(3946), 635&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\xE2\x80\x93&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;641. doi:10.1126/science.169.3946.635&lt;/span&gt;&lt;span class=&quot;se&quot;&gt;\n&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;R&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rcrossref&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cr_cn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dois&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;10.1126/science.169.3946.635&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Frank, H. S. (1970). The Structure of Ordinary Water: New data and interpretations are yielding new insights into this fascinating substance. Science, 169(3946), 635–641. doi:10.1126/science.169.3946.635&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;CLI&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;serrano contneg 10.1890/13-0590.1 --format&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;text
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Murtaugh, P. A. &lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;2014&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;.  In defense of P values . Ecology, 95&lt;span class=&quot;o&quot;&gt;(&lt;/span&gt;3&lt;span class=&quot;o&quot;&gt;)&lt;/span&gt;, 611–617. doi:10.1890/13-0590.1
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;more&quot;&gt;More&lt;/h2&gt;

&lt;p&gt;There are definitely issues with data in the Crossref search API, some of which I cover in my talks. However, it is still the best place to go for scholarly metadata.&lt;/p&gt;

&lt;p&gt;Let us know of other use cases - there are others not covered here for brevity sake.&lt;/p&gt;

&lt;p&gt;There are lots of examples in the docs for each client. If you can think of any doc improvements file an issue.&lt;/p&gt;

&lt;p&gt;If you find any bugs, please do file an issue.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>pygbif - GBIF client for Python</title>
   <link href="http://recology.info//2015/11/pygbif/"/>
   <updated>2015-11-12T00:00:00-08:00</updated>
   <id>http://recology.info//2015/11/pygbif</id>
   <content type="html">&lt;p&gt;I maintain an R client for the GBIF API, at &lt;a href=&quot;https://github.com/ropensci/rgbif&quot;&gt;rgbif&lt;/a&gt;. Been working on it for a few years, and recently been thinking that there should be a nice low level client for Python as well. I didn’t see one searching Github, etc. so I started working on one recently: &lt;a href=&quot;https://github.com/sckott/pygbif&quot;&gt;pygbif&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;It’s up on &lt;a href=&quot;https://pypi.python.org/pypi/pygbif/0.1.1&quot;&gt;pypi&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;There’s not much in &lt;code class=&quot;highlighter-rouge&quot;&gt;pygbif&lt;/code&gt; yet - I wanted to get something up to start getting some users to more quickly make the library useful to people.&lt;/p&gt;

&lt;p&gt;There’s three modules, with a few methods each:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;species
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;name_backbone()&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;name_suggest()&lt;/code&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;registry
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;nodes()&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;dataset_metrics()&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;datasets()&lt;/code&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;occurrences
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;search()&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;get()&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;get_verbatim()&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;get_fragment()&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;count()&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;count_basisofrecord()&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;count_year()&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;count_datasets()&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;count_countries()&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;count_publishingcountries()&lt;/code&gt;&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;count_schema()&lt;/code&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Here’s a quick intro (&lt;a href=&quot;https://github.com/sckott/pygbif/blob/master/demos/pygbif-intro.ipynb&quot;&gt;in a Jupyter notebook&lt;/a&gt;):&lt;/p&gt;

&lt;h3 id=&quot;install&quot;&gt;Install&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;pip&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pygbif&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;registrydatasets&quot;&gt;Registry/datasets&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pygbif&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;registry&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;registry&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dataset_metrics&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uuid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;3f8a1297-3259-4700-91fc-acc4170b27ce&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;u&#39;colCoveragePct&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;79&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;colMatchingCount&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;24335&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;countByConstituent&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{},&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;countByIssue&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;u&#39;BACKBONE_MATCH_FUZZY&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;573&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;u&#39;BACKBONE_MATCH_NONE&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1306&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;u&#39;VERNACULAR_NAME_INVALID&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;7777&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;countByKingdom&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;u&#39;ANIMALIA&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;u&#39;FUNGI&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;u&#39;INCERTAE_SEDIS&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;26&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;u&#39;PLANTAE&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10997&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;u&#39;PROTOZOA&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
 &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;taxonomic-names&quot;&gt;Taxonomic names&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pygbif&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;species&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;species&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name_suggest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;Puma concolor&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;data&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;u&#39;canonicalName&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;Puma concolor&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;u&#39;class&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;Mammalia&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;u&#39;classKey&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;359&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;u&#39;family&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;Felidae&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;u&#39;familyKey&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;9703&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;u&#39;genus&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;Puma&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;u&#39;genusKey&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2435098&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;u&#39;key&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2435099&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;u&#39;kingdom&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;Animalia&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;u&#39;kingdomKey&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;u&#39;nubKey&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2435099&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;u&#39;order&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;Carnivora&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;u&#39;orderKey&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;732&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;u&#39;parent&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;Puma&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;u&#39;parentKey&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2435098&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;u&#39;phylum&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;Chordata&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;u&#39;phylumKey&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;44&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;u&#39;rank&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;SPECIES&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;u&#39;species&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;Puma concolor&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;u&#39;speciesKey&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;2435099&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}],&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;&#39;hierarchy&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;u&#39;1&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;Animalia&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;u&#39;2435098&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;Puma&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;u&#39;359&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;Mammalia&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;u&#39;44&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;Chordata&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;u&#39;732&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;Carnivora&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;s&quot;&gt;u&#39;9703&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;Felidae&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}]}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;occurrence-data&quot;&gt;Occurrence data&lt;/h3&gt;

&lt;p&gt;Search&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pygbif&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;occurrences&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;occurrences&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;taxonKey&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3329049&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;phylum&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;ow&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;results&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;u&#39;Basidiomycota&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;Basidiomycota&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;Basidiomycota&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;Basidiomycota&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;Basidiomycota&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;Basidiomycota&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;Basidiomycota&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;Basidiomycota&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;Basidiomycota&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;Basidiomycota&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Fetch specific occurrences&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;occurrences&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;252408386&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;u&#39;basisOfRecord&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;OBSERVATION&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;catalogNumber&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;70875196&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;collectionCode&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;7472&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;continent&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;EUROPE&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;country&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;United Kingdom&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;countryCode&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;GB&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;datasetKey&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;26a49731-9457-45b2-9105-1b96063deb26&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;day&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Occurrence counts API&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;occurrences&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isGeoreferenced&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;True&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;mi&quot;&gt;500283031&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;feedback&quot;&gt;feedback&lt;/h3&gt;

&lt;p&gt;Would love any feedback…&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>noaa - Integrated Surface Database data</title>
   <link href="http://recology.info//2015/10/noaa-isd/"/>
   <updated>2015-10-21T00:00:00-07:00</updated>
   <id>http://recology.info//2015/10/noaa-isd</id>
   <content type="html">&lt;p&gt;I’ve recently made some improvements to the functions that work with ISD 
(Integrated Surface Database) data.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;isd data&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;isd()&lt;/code&gt; function now caches more intelligently. We now cache using 
&lt;code class=&quot;highlighter-rouge&quot;&gt;.rds&lt;/code&gt; files via &lt;code class=&quot;highlighter-rouge&quot;&gt;saveRDS&lt;/code&gt;/&lt;code class=&quot;highlighter-rouge&quot;&gt;readRDS&lt;/code&gt;, whereas we used to use &lt;code class=&quot;highlighter-rouge&quot;&gt;.csv&lt;/code&gt; files, 
which take up much more disk space, and we have to worry about not changing 
data formats on reading data back into an R session. This has the downside
that you can’t just go directly to open up a cached file in your favorite 
spreadsheet viewer, but you can do that manually after reading in to R.&lt;/li&gt;
  &lt;li&gt;In addition, &lt;code class=&quot;highlighter-rouge&quot;&gt;isd()&lt;/code&gt; now has a function &lt;code class=&quot;highlighter-rouge&quot;&gt;cleanup&lt;/code&gt;, if &lt;code class=&quot;highlighter-rouge&quot;&gt;TRUE&lt;/code&gt; after 
downloading the data file from NOAA’s ftp server and processing, we delete 
the file. That’s fine since we have the cached processed file. But you 
can choose not to cleanup the original data files.&lt;/li&gt;
  &lt;li&gt;Data processing in &lt;code class=&quot;highlighter-rouge&quot;&gt;isd()&lt;/code&gt; is improved as well. We convert key variables
to appropriate classes to be more useful.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;isd stations&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;In &lt;code class=&quot;highlighter-rouge&quot;&gt;isd_stations()&lt;/code&gt;, there’s now a cached version of the station data in 
the package, or you can get optionally get fresh station data from NOAA’s 
FTP server.&lt;/li&gt;
  &lt;li&gt;There’s a new function &lt;code class=&quot;highlighter-rouge&quot;&gt;isd_stations_search()&lt;/code&gt; that uses the station data
to allow you to search for stations via either:
    &lt;ul&gt;
      &lt;li&gt;A bounding box&lt;/li&gt;
      &lt;li&gt;Radius froma point&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;p&gt;For examples below, you’ll need the development version:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropensci/rnoaa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Load &lt;code class=&quot;highlighter-rouge&quot;&gt;rnoaa&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rnoaa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;isd-stations&quot;&gt;ISD stations&lt;/h2&gt;

&lt;h3 id=&quot;get-stations&quot;&gt;Get stations&lt;/h3&gt;

&lt;p&gt;There’s a cached version of the station data in the package, or you can get fresh
station data from NOAA’s FTP server.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;stations&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isd_stations&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stations&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   usaf  wban station_name ctry state icao lat lon elev_m    begin      end
#&amp;gt; 1 7005 99999   CWOS 07005                  NA  NA     NA 20120127 20120127
#&amp;gt; 2 7011 99999   CWOS 07011                  NA  NA     NA 20111025 20121129
#&amp;gt; 3 7018 99999   WXPOD 7018                   0   0   7018 20110309 20130730
#&amp;gt; 4 7025 99999   CWOS 07025                  NA  NA     NA 20120127 20120127
#&amp;gt; 5 7026 99999   WXPOD 7026   AF              0   0   7026 20120713 20141120
#&amp;gt; 6 7034 99999   CWOS 07034                  NA  NA     NA 20121024 20121106
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;filter-and-visualize-stations&quot;&gt;Filter and visualize stations&lt;/h3&gt;

&lt;p&gt;In addition to getting the entire station data.frame, you can also search for stations,
either with a bounding box or within a radius from a point. First, the bounding box&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;bbox&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-125.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;38.4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-121.8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;40.9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isd_stations_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bbox&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bbox&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     usaf  wban                          station_name ctry state icao
#&amp;gt; 1 720193 99999 LONNIE POOL FLD / WEAVERVILLE AIRPORT   US    CA KO54
#&amp;gt; 2 724834 99999                        POINT CABRILLO   US    CA     
#&amp;gt; 3 724953 99999                              RIO NIDO   US    CA     
#&amp;gt; 4 724957 23213                 SONOMA COUNTY AIRPORT   US    CA KSTS
#&amp;gt; 5 724957 99999                  C M SCHULZ SONOMA CO   US    CA KSTS
#&amp;gt; 6 724970 99999                  CHICO CALIFORNIA MAP   US    CA  CIC
#&amp;gt;   elev_m    begin      end      lon    lat
#&amp;gt; 1  716.0 20101030 20150831 -122.922 40.747
#&amp;gt; 2   20.0 19810906 19871007 -123.820 39.350
#&amp;gt; 3 -999.0 19891111 19900303 -122.917 38.517
#&amp;gt; 4   34.8 20000101 20150831 -122.810 38.504
#&amp;gt; 5   38.0 19430404 19991231 -122.817 38.517
#&amp;gt; 6   69.0 19420506 19760305 -121.850 39.783
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Where is the bounding box? (you’ll need &lt;a href=&quot;https://cran.rstudio.com/web/packages/lawn/&quot;&gt;lawn&lt;/a&gt;, or you can vizualize some other way)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;lawn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;lawn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lawn_bbox_polygon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bbox&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;view&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-10-21-noaa-isd/bbox_area.png&quot; alt=&quot;plot1&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Vizualize station subset - yep, looks right&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;leaflet&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;leaflet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;addTiles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;addCircles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-10-21-noaa-isd/bbox_result.png&quot; alt=&quot;plot1&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Next, search with a lat/lon coordinate, with a radius. That is, we search for stations
within X km from the coordinate.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isd_stations_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;38.4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lon&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-123&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;radius&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;250&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     usaf  wban             station_name ctry state icao elev_m    begin
#&amp;gt; 1 690070 93217            FRITZSCHE AAF   US    CA KOAR   43.0 19600404
#&amp;gt; 2 720267 23224 AUBURN MUNICIPAL AIRPORT   US    CA KAUN  466.7 20060101
#&amp;gt; 3 720267 99999         AUBURN MUNICIPAL   US    CA KAUN  468.0 20040525
#&amp;gt; 4 720406 99999      GNOSS FIELD AIRPORT   US    CA KDVO    0.6 20071114
#&amp;gt; 5 720576   174       UNIVERSITY AIRPORT   US    CA KEDU   21.0 20130101
#&amp;gt; 6 720576 99999                    DAVIS   US    CA KEDU   21.0 20080721
#&amp;gt;        end      lon    lat
#&amp;gt; 1 19930831 -121.767 36.683
#&amp;gt; 2 20150831 -121.082 38.955
#&amp;gt; 3 20051231 -121.082 38.955
#&amp;gt; 4 20150831 -122.550 38.150
#&amp;gt; 5 20150831 -121.783 38.533
#&amp;gt; 6 20121231 -121.783 38.533
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Again, compare search area to stations found&lt;/p&gt;

&lt;p&gt;&lt;em&gt;search area&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;pt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lawn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lawn_point&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-123&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;38.4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;lawn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lawn_buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dist&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;250&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;view&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-10-21-noaa-isd/circle_radius.png&quot; alt=&quot;plot1&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;stations found&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;leaflet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;addTiles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;addCircles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-10-21-noaa-isd/lastplot.png&quot; alt=&quot;plot1&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;isd-data&quot;&gt;ISD data&lt;/h2&gt;

&lt;h3 id=&quot;get-isd-data&quot;&gt;Get ISD data&lt;/h3&gt;

&lt;p&gt;Here, I get data for four stations.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;usaf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;011690&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wban&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;99999&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;year&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1993&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;res2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;usaf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;172007&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wban&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;99999&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;year&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2015&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;res3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;usaf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;702700&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wban&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;00489&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;year&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2015&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;res4&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;usaf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;109711&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wban&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;99999&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;year&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1970&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then, combine data, with &lt;code class=&quot;highlighter-rouge&quot;&gt;rnoaa:::rbind.isd()&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res_all&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;res2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;res3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;res4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Add date time&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;lubridate&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;res_all&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date_time&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ymd_hm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;%s %s&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res_all&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;res_all&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Remove 999’s (NOAA’s way to indicate missing/no data)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;dplyr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;res_all&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;res_all&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temperature&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;900&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;visualize-isd-data&quot;&gt;Visualize ISD data&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ggplot2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res_all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date_time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temperature&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;geom_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;facet_wrap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;usaf_station&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scales&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;free_x&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-10-21-noaa-isd/unnamed-chunk-12-1.png&quot; alt=&quot;img&quot; /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Metrics for open source projects</title>
   <link href="http://recology.info//2015/10/open-source-metrics/"/>
   <updated>2015-10-19T00:00:00-07:00</updated>
   <id>http://recology.info//2015/10/open-source-metrics</id>
   <content type="html">&lt;p&gt;Measuring use of open source software isn’t always straightforward. The problem is especially acute for software targeted largely at academia, where usage is not measured just by software downloads, but also by citations.&lt;/p&gt;

&lt;p&gt;Citations are a well-known pain point because the citation graph is privately held by iron doors (e.g., &lt;a href=&quot;http://www.scopus.com/&quot;&gt;Scopus&lt;/a&gt;, &lt;a href=&quot;https://scholar.google.com/&quot;&gt;Google Scholar&lt;/a&gt;). New ventures aim to open up citation data, but of course it’s an immense amount of work, and so does not come quickly.&lt;/p&gt;

&lt;p&gt;The following is a laundry list of metrics on software of which I am aware, and some of which I use in our &lt;a href=&quot;http://ropensci.github.io/biweekly/&quot;&gt;rOpenSci twice monthly updates&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;I primarily develop software for the R language, so some of the metrics are specific to R, but many are not. In addition, we (rOpenSci) don’t develop web apps, which may bring in an additional set of metrics not covered below.&lt;/p&gt;

&lt;p&gt;I organize by source instead of type of data because some sources give multiple kinds of data - I note what kinds of data they give with &lt;span class=&quot;label label-default&quot;&gt;labels&lt;/span&gt;.&lt;/p&gt;

&lt;h2 id=&quot;cran-downloads&quot;&gt;CRAN downloads&lt;/h2&gt;

&lt;p&gt;&lt;span class=&quot;label label-warning&quot;&gt;downloads&lt;/span&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Link: &lt;a href=&quot;https://github.com/metacran/cranlogs.app&quot;&gt;https://github.com/metacran/cranlogs.app&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;This is a REST API for CRAN downloads from the RStudio CRAN CDN. Note however, that the RStudio CDN is only one of many - there are other mirrors users can insall packages from, and are not included in this count. However, a significant portion of downloads probably come from the RStudio CDN.&lt;/li&gt;
  &lt;li&gt;Other programming languages have similar support, e.g., &lt;a href=&quot;http://guides.rubygems.org/rubygems-org-api/&quot;&gt;Ruby&lt;/a&gt; and &lt;a href=&quot;https://github.com/npm/download-counts&quot;&gt;Node&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;lagotto&quot;&gt;Lagotto&lt;/h2&gt;

&lt;p&gt;&lt;small&gt;&lt;span class=&quot;label label-success&quot;&gt;citations&lt;/span&gt; &lt;span class=&quot;label label-info&quot;&gt;github&lt;/span&gt; &lt;span class=&quot;label label-primary&quot;&gt;social-media&lt;/span&gt;&lt;/small&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Link: &lt;a href=&quot;http://software.lagotto.io/works&quot;&gt;http://software.lagotto.io/works&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Lagotto is a Rails application, developed by &lt;a href=&quot;https://github.com/mfenner&quot;&gt;Martin Fenner&lt;/a&gt;, originally designed to collect and provide article level metrics for scientific publications at Public Library of Science. It is now used by many publishers, and there are installations of Lagotto targeting &lt;a href=&quot;http://mdc.lagotto.io/&quot;&gt;datasets&lt;/a&gt; and &lt;a href=&quot;http://software.lagotto.io/works&quot;&gt;software&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;Discussion forum: &lt;a href=&quot;http://discuss.lagotto.io/&quot;&gt;http://discuss.lagotto.io/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;depsy&quot;&gt;Depsy&lt;/h2&gt;

&lt;p&gt;&lt;small&gt;&lt;span class=&quot;label label-success&quot;&gt;citations&lt;/span&gt; &lt;span class=&quot;label label-info&quot;&gt;github&lt;/span&gt;&lt;/small&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Link: &lt;a href=&quot;http://depsy.org&quot;&gt;http://depsy.org&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;This is a nascent venture by the &lt;a href=&quot;https://impactstory.org/about&quot;&gt;ImpactStory team&lt;/a&gt; that seeks to uncover the impact of research software. As far as I can tell, they’ll collect usage via software downloads and citations in the literature.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;web-site-analytics&quot;&gt;Web Site Analytics&lt;/h2&gt;

&lt;p&gt;&lt;small&gt;&lt;span class=&quot;label label-danger&quot;&gt;page-views&lt;/span&gt;&lt;/small&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;If you happen to have a website for your project, collecting analytics is a way to gauge views of the landing page, and any help/tutorial pages you may have. A good easy way to do this is a deploy a basic site on your &lt;code class=&quot;highlighter-rouge&quot;&gt;gh-pages&lt;/code&gt; branch of your GitHub repo, and use the easily integrated Google Analytics.&lt;/li&gt;
  &lt;li&gt;Whatever analytics you use, in my experience this mostly brings up links from google searches and blog posts that may mention your project&lt;/li&gt;
  &lt;li&gt;Google Analytics beacon (for README views): &lt;a href=&quot;https://github.com/igrigorik/ga-beacon&quot;&gt;https://github.com/igrigorik/ga-beacon&lt;/a&gt;. I haven’t tried this yet, but seems promising.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;auomated-tracking-ssnmp&quot;&gt;Auomated tracking: SSNMP&lt;/h2&gt;

&lt;p&gt;&lt;small&gt;&lt;span class=&quot;label label-success&quot;&gt;citations&lt;/span&gt; &lt;span class=&quot;label label-info&quot;&gt;github&lt;/span&gt;&lt;/small&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Link: &lt;a href=&quot;http://scisoft-net-map.isri.cmu.edu&quot;&gt;http://scisoft-net-map.isri.cmu.edu&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Scientific Software Network Map Project&lt;/li&gt;
  &lt;li&gt;This is a cool NSF funded project by Chris Bogart that tracks software usage via GitHub and citations in literature.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;google-scholar&quot;&gt;Google Scholar&lt;/h2&gt;

&lt;p&gt;&lt;small&gt;&lt;span class=&quot;label label-success&quot;&gt;citations&lt;/span&gt;&lt;/small&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Link: &lt;a href=&quot;https://scholar.google.com/&quot;&gt;https://scholar.google.com/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Searching Google Scholar for software citations manually is fine at a small scale, but at a larger scale scraping is best. However, you’re not legally supposed to do this, and Google will shut you down.&lt;/li&gt;
  &lt;li&gt;Could try using g-scholar alerts as well, especially if new citations of your work are infrequent.&lt;/li&gt;
  &lt;li&gt;If you have institutional access to Scopus/Web of Science, you could search those, but I don’t push this as an option since it’s available to so few.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;github&quot;&gt;GitHub&lt;/h2&gt;

&lt;p&gt;&lt;small&gt;&lt;span class=&quot;label label-info&quot;&gt;github&lt;/span&gt;&lt;/small&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Links: &lt;a href=&quot;https://developer.github.com/v3/&quot;&gt;https://developer.github.com/v3/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;I keep a list of rOpenSci uses found in GitHub repos at &lt;a href=&quot;https://discuss.ropensci.org/t/use-of-some-ropensci-packages-on-github/137&quot;&gt;https://discuss.ropensci.org/t/use-of-some-ropensci-packages-on-github/137&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;GitHub does collect traffic data on each repo (clones, downloads, page views), but they are not exposed in the API. I’ve bugged them a bit about this - hopefully we’ll be able to get that dat in their API soon.&lt;/li&gt;
  &lt;li&gt;Bitbucket/Gitlab - don’t use them, but I assume they also provide some metrics via their APIs&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;other&quot;&gt;Other&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Support forums: Whether you use UserVoice, Discourse, Google Groups, Gitter, etc., depending on your viewpoint, these interactions could be counted as metrics of software usage.&lt;/li&gt;
  &lt;li&gt;Emails: I personally get a lot of emails asking for help with software I maintain. I imagine this is true for most software developers. Counting these could be another metric of software usage, although I never have counted mine.&lt;/li&gt;
  &lt;li&gt;Social media: See Lagotto above, which tracks some social media outlets.&lt;/li&gt;
  &lt;li&gt;Code coverage: There are many options now for code coverage, integrated with each Travis-CI build. A good option is &lt;a href=&quot;https://codecov.io&quot;&gt;CodeCov&lt;/a&gt;. CodeCov gives percentage test coverage, which one could use as one measure of code quality.&lt;/li&gt;
  &lt;li&gt;Reviews: There isn’t a lot of code review going on that I’m aware of. Even if there was, I suppose this would just be a logical TRUE/FALSE.&lt;/li&gt;
  &lt;li&gt;Cash money y’all: Grants/consulting income/etc. could be counted as a metric.&lt;/li&gt;
  &lt;li&gt;Users: If you require users to create an account or similar before getting your software, you have a sense of number of users and perhaps their demographics.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;promising&quot;&gt;Promising&lt;/h2&gt;

&lt;p&gt;Some software metrics things on the horizon that look interesting:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://geodynamics.org/cig/projects/saga/&quot;&gt;Software Attribution for Geoscience Applications&lt;/a&gt; (SAGA)&lt;/li&gt;
  &lt;li&gt;Crossref: They have &lt;a href=&quot;https://github.com/CrossRef/rest-api-doc/blob/master/rest_api.md&quot;&gt;a very nice API&lt;/a&gt;, but they don’t yet provide citation counts - but &lt;a href=&quot;https://github.com/CrossRef/rest-api-doc/issues/46&quot;&gt;they may soon&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/njsmith/sempervirens&quot;&gt;njsmith/sempervirens&lt;/a&gt; - a prototype for &lt;em&gt;gathering anonymous, opt-in usage data for open scientific software&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/force11/force11-scwg&quot;&gt;Force11 Software Citation Working Group&lt;/a&gt; - &lt;em&gt;…produce a consolidated set of citation principles in order to encourage broad adoption of a consistent policy for software citation across disciplines and venues&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;missed&quot;&gt;Missed?&lt;/h2&gt;

&lt;p&gt;I’m sure I missed things. Let me know.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>analogsea - an R client for the Digital Ocean API</title>
   <link href="http://recology.info//2015/10/analogsea-cran/"/>
   <updated>2015-10-02T00:00:00-07:00</updated>
   <id>http://recology.info//2015/10/analogsea-cran</id>
   <content type="html">&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;analogsea&lt;/code&gt; is now on CRAN. We started developing the pkg back in &lt;a href=&quot;https://github.com/sckott/analogsea/commit/b129164dd87969d2fc6bcf3b51576fe1da932fdb&quot;&gt;May 2014&lt;/a&gt;, but just 
now getting the first version on CRAN. It’s a collaboration with &lt;a href=&quot;http://had.co.nz/&quot;&gt;Hadley&lt;/a&gt; and &lt;a href=&quot;https://github.com/wch/&quot;&gt;Winston Chang&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Most of &lt;code class=&quot;highlighter-rouge&quot;&gt;analogsea&lt;/code&gt; package is for interacting with the &lt;a href=&quot;https://developers.digitalocean.com/documentation/v2/&quot;&gt;Digital Ocean API&lt;/a&gt;, including:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Manage domains&lt;/li&gt;
  &lt;li&gt;Manage ssh keys&lt;/li&gt;
  &lt;li&gt;Get actions&lt;/li&gt;
  &lt;li&gt;Manage images&lt;/li&gt;
  &lt;li&gt;Manage droplets (servers)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;A number of convenience functions are included for doing tasks (e.g., resizing 
a droplet) that aren’t supported by Digital Ocean’s API out of the box (i.e., 
there’s no API route for it).&lt;/p&gt;

&lt;p&gt;In addition to wrapping their API routes, we provide other functionality, e.g.:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;execute shell commands on a droplet (server)&lt;/li&gt;
  &lt;li&gt;execute R commands on a droplet&lt;/li&gt;
  &lt;li&gt;install R&lt;/li&gt;
  &lt;li&gt;install RStudio server&lt;/li&gt;
  &lt;li&gt;install Shiny server&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Other functionality we’re working on, not yet available:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;install OpenCPU&lt;/li&gt;
  &lt;li&gt;use &lt;code class=&quot;highlighter-rouge&quot;&gt;packrat&lt;/code&gt; to move projects from local to server, and vice versa&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;See also: two previous blog posts on this package &lt;a href=&quot;http://recology.info/2014/05/analogsea/&quot;&gt;http://recology.info/2014/05/analogsea/&lt;/a&gt; and &lt;a href=&quot;http://recology.info/2014/06/analogsea-v01/&quot;&gt;http://recology.info/2014/06/analogsea-v01/&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;p&gt;Binaries are not yet on CRAN, but you can install from source.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# install.packages(&quot;analogsea&quot;) # when binaries available
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;analogsea&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;https://cran.r-project.org&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;source&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Or install development version from GitHub&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sckott/analogsea&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Load &lt;code class=&quot;highlighter-rouge&quot;&gt;analogsea&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;analogsea&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;etc&quot;&gt;Etc.&lt;/h2&gt;

&lt;p&gt;As this post is mostly to announce that this pkg is on CRAN now, I won’t go through examples, but instead point you to the package &lt;a href=&quot;https://github.com/sckott/analogsea/blob/master/README.md&quot;&gt;README&lt;/a&gt; and &lt;a href=&quot;https://github.com/sckott/analogsea/blob/master/vignettes/doapi.Rmd&quot;&gt;vignette&lt;/a&gt; in which we cover 
creating a Digital Ocean account, authenticating, and have many examples.&lt;/p&gt;

&lt;h2 id=&quot;feedback&quot;&gt;Feedback&lt;/h2&gt;

&lt;p&gt;Let us know what you think. We’d love to hear about any problems, use cases, feature requests.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>oai - an OAI-PMH client</title>
   <link href="http://recology.info//2015/09/oai-client/"/>
   <updated>2015-09-11T00:00:00-07:00</updated>
   <id>http://recology.info//2015/09/oai-client</id>
   <content type="html">&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;oai&lt;/code&gt; is a general purpose client to work with any ‘OAI-PMH’ service. The ‘OAI-PMH’ protocol is described at &lt;a href=&quot;http://www.openarchives.org/OAI/openarchivesprotocol.html&quot;&gt;http://www.openarchives.org/OAI/openarchivesprotocol.html&lt;/a&gt;. The main functions follow the OAI-PMH verbs:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;GetRecord&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Identify&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ListIdentifiers&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ListMetadataFormats&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ListRecords&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ListSets&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The repo is at &lt;a href=&quot;https://github.com/sckott/oai&quot;&gt;https://github.com/sckott/oai&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;I will be using this in a number of packages I maintain that use OAI-PMH data services. If you try it, let me know what you think.&lt;/p&gt;

&lt;p&gt;This package is heading to rOpenSci soon: &lt;a href=&quot;https://github.com/ropensci/onboarding/issues/19&quot;&gt;https://github.com/ropensci/onboarding/issues/19&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Here’s a few usage examples:&lt;/p&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;p&gt;Is on CRAN now, but binaries may not be available yet.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;oai&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Or install development version from GitHub&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sckott/oai&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Load &lt;code class=&quot;highlighter-rouge&quot;&gt;oai&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;oai&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;identify&quot;&gt;Identify&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://oai.datacite.org/oai&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   repositoryName                     baseURL protocolVersion
#&amp;gt; 1   DataCite MDS http://oai.datacite.org/oai             2.0
#&amp;gt;           adminEmail    earliestDatestamp deletedRecord
#&amp;gt; 1 admin@datacite.org 2011-01-01T00:00:00Z    persistent
#&amp;gt;            granularity compression compression.1
#&amp;gt; 1 YYYY-MM-DDThh:mm:ssZ        gzip       deflate
#&amp;gt;                                      description
#&amp;gt; 1 oaioai.datacite.org:oai:oai.datacite.org:12425
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;listidentifiers&quot;&gt;ListIdentifiers&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;list_identifiers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;2011-05-01T&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;until&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;2011-09-01T&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;ListRecords&amp;gt; 925 X 6 
#&amp;gt; 
#&amp;gt;                    identifier            datestamp setSpec setSpec.1
#&amp;gt; 1  oai:oai.datacite.org:32153 2011-06-08T08:57:11Z     TIB  TIB.WDCC
#&amp;gt; 2  oai:oai.datacite.org:32200 2011-06-20T08:12:41Z     TIB TIB.DAGST
#&amp;gt; 3  oai:oai.datacite.org:32220 2011-06-28T14:11:08Z     TIB TIB.DAGST
#&amp;gt; 4  oai:oai.datacite.org:32241 2011-06-30T13:24:45Z     TIB TIB.DAGST
#&amp;gt; 5  oai:oai.datacite.org:32255 2011-07-01T12:09:24Z     TIB TIB.DAGST
#&amp;gt; 6  oai:oai.datacite.org:32282 2011-07-05T09:08:10Z     TIB TIB.DAGST
#&amp;gt; 7  oai:oai.datacite.org:32309 2011-07-06T12:30:54Z     TIB TIB.DAGST
#&amp;gt; 8  oai:oai.datacite.org:32310 2011-07-06T12:42:32Z     TIB TIB.DAGST
#&amp;gt; 9  oai:oai.datacite.org:32325 2011-07-07T11:17:46Z     TIB TIB.DAGST
#&amp;gt; 10 oai:oai.datacite.org:32326 2011-07-07T11:18:47Z     TIB TIB.DAGST
#&amp;gt; ..                        ...                  ...     ...       ...
#&amp;gt; Variables not shown: setSpec.2 (chr), setSpec.3 (chr)
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;count-identifiers&quot;&gt;Count Identifiers&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;count_identifiers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                           url   count
#&amp;gt; 1 http://oai.datacite.org/oai 6350706
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;listrecords&quot;&gt;ListRecords&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;list_records&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;2011-05-01T&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;until&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;2011-08-15T&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;ListRecords&amp;gt; 126 X 46 
#&amp;gt; 
#&amp;gt;                    identifier            datestamp setSpec setSpec.1
#&amp;gt; 1  oai:oai.datacite.org:32153 2011-06-08T08:57:11Z     TIB  TIB.WDCC
#&amp;gt; 2  oai:oai.datacite.org:32200 2011-06-20T08:12:41Z     TIB TIB.DAGST
#&amp;gt; 3  oai:oai.datacite.org:32220 2011-06-28T14:11:08Z     TIB TIB.DAGST
#&amp;gt; 4  oai:oai.datacite.org:32241 2011-06-30T13:24:45Z     TIB TIB.DAGST
#&amp;gt; 5  oai:oai.datacite.org:32255 2011-07-01T12:09:24Z     TIB TIB.DAGST
#&amp;gt; 6  oai:oai.datacite.org:32282 2011-07-05T09:08:10Z     TIB TIB.DAGST
#&amp;gt; 7  oai:oai.datacite.org:32309 2011-07-06T12:30:54Z     TIB TIB.DAGST
#&amp;gt; 8  oai:oai.datacite.org:32310 2011-07-06T12:42:32Z     TIB TIB.DAGST
#&amp;gt; 9  oai:oai.datacite.org:32325 2011-07-07T11:17:46Z     TIB TIB.DAGST
#&amp;gt; 10 oai:oai.datacite.org:32326 2011-07-07T11:18:47Z     TIB TIB.DAGST
#&amp;gt; ..                        ...                  ...     ...       ...
#&amp;gt; Variables not shown: title (chr), creator (chr), creator.1 (chr),
#&amp;gt;      creator.2 (chr), creator.3 (chr), creator.4 (chr), creator.5 (chr),
#&amp;gt;      creator.6 (chr), creator.7 (chr), publisher (chr), date (chr),
#&amp;gt;      identifier.2 (chr), identifier.1 (chr), subject (chr), description
#&amp;gt;      (chr), description.1 (chr), contributor (chr), language (chr), type
#&amp;gt;      (chr), type.1 (chr), format (chr), format.1 (chr), rights (chr),
#&amp;gt;      subject.1 (chr), relation (chr), subject.2 (chr), subject.3 (chr),
#&amp;gt;      subject.4 (chr), setSpec.2 (chr), setSpec.3 (chr), format.2 (chr),
#&amp;gt;      subject.5 (chr), subject.6 (chr), subject.7 (chr), description.2
#&amp;gt;      (chr), description.3 (chr), description.4 (chr), description.5 (chr),
#&amp;gt;      title.1 (chr), relation.1 (chr), relation.2 (chr), contributor.1
#&amp;gt;      (chr)
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;getrecords&quot;&gt;GetRecords&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;get_records&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;oai:oai.datacite.org:32255&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;oai:oai.datacite.org:32325&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;GetRecord&amp;gt; 2 X 23 
#&amp;gt; 
#&amp;gt;                   identifier            datestamp setSpec setSpec.1
#&amp;gt; 1 oai:oai.datacite.org:32255 2011-07-01T12:09:24Z     TIB TIB.DAGST
#&amp;gt; 2 oai:oai.datacite.org:32325 2011-07-07T11:17:46Z     TIB TIB.DAGST
#&amp;gt; Variables not shown: title (chr), creator (chr), creator.1 (chr),
#&amp;gt;      creator.2 (chr), creator.3 (chr), publisher (chr), date (chr),
#&amp;gt;      identifier.1 (chr), subject (chr), subject.1 (chr), description
#&amp;gt;      (chr), description.1 (chr), contributor (chr), language (chr), type
#&amp;gt;      (chr), type.1 (chr), format (chr), format.1 (chr), rights (chr)
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;list-metadataformats&quot;&gt;List MetadataFormats&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;list_metadataformats&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;oai:oai.datacite.org:32348&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`oai:oai.datacite.org:32348`
#&amp;gt;   metadataPrefix
#&amp;gt; 1         oai_dc
#&amp;gt; 2       datacite
#&amp;gt; 3   oai_datacite
#&amp;gt;                                                        schema
#&amp;gt; 1              http://www.openarchives.org/OAI/2.0/oai_dc.xsd
#&amp;gt; 2 http://schema.datacite.org/meta/nonexistant/nonexistant.xsd
#&amp;gt; 3              http://schema.datacite.org/oai/oai-1.0/oai.xsd
#&amp;gt;                             metadataNamespace
#&amp;gt; 1 http://www.openarchives.org/OAI/2.0/oai_dc/
#&amp;gt; 2      http://datacite.org/schema/nonexistant
#&amp;gt; 3     http://schema.datacite.org/oai/oai-1.0/
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;list-sets&quot;&gt;List Sets&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;list_sets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://oai.datacite.org/oai&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;ListSets&amp;gt; 1227 X 2 
#&amp;gt; 
#&amp;gt;                     setSpec
#&amp;gt; 1                REFQUALITY
#&amp;gt; 2                      ANDS
#&amp;gt; 3           ANDS.REFQUALITY
#&amp;gt; 4             ANDS.CENTRE-1
#&amp;gt; 5  ANDS.CENTRE-1.REFQUALITY
#&amp;gt; 6             ANDS.CENTRE-2
#&amp;gt; 7  ANDS.CENTRE-2.REFQUALITY
#&amp;gt; 8             ANDS.CENTRE-3
#&amp;gt; 9  ANDS.CENTRE-3.REFQUALITY
#&amp;gt; 10            ANDS.CENTRE-5
#&amp;gt; ..                      ...
#&amp;gt; Variables not shown: setName (chr)
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>fulltext - a package to help you mine text</title>
   <link href="http://recology.info//2015/08/full-text/"/>
   <updated>2015-08-07T00:00:00-07:00</updated>
   <id>http://recology.info//2015/08/full-text</id>
   <content type="html">&lt;p&gt;Finally, we got &lt;code class=&quot;highlighter-rouge&quot;&gt;fulltext&lt;/code&gt; up on CRAN - our first commit was &lt;a href=&quot;https://github.com/ropensci/fulltext/commit/2d4f7e270040b2c8914853113073fc4d3134445e&quot;&gt;May last year&lt;/a&gt;. &lt;code class=&quot;highlighter-rouge&quot;&gt;fulltext&lt;/code&gt; is a package to facilitate text mining. It focuses on open access journals. This package makes it easier to search for articles, download those articles in full text if available, convert pdf format to plain text, and extract text chunks for vizualization/analysis. We are planning to add bits for analysis in future versions. We’ve been working on this package for a while now. It has a lot of moving parts and package dependencies, so it took a while to get a first useable version.&lt;/p&gt;

&lt;p&gt;The tasks facilitated by &lt;code class=&quot;highlighter-rouge&quot;&gt;fulltext&lt;/code&gt; in bullet form:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Search - search for articles&lt;/li&gt;
  &lt;li&gt;Retrieve - get full text&lt;/li&gt;
  &lt;li&gt;Convert - convert from format X to Y&lt;/li&gt;
  &lt;li&gt;Text - if needed, get text from pdfs/etc.&lt;/li&gt;
  &lt;li&gt;Extract - pull out the bits of articles that you want&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I won’t be surprised if users uncover a lot of bugs in this package given the huge number of publishers/journals users want to get literature data from, and the surely wide diversity of use cases. But I thought it was important to get out a first version to get feedback on the user interface, and gather use cases.&lt;/p&gt;

&lt;p&gt;We hope that this package can help bring text-mining to the masses - making it easy for anyone to do do, not just text-mining experts.&lt;/p&gt;

&lt;p&gt;If you have any feedback, please do get in touch in the issue tracker for &lt;code class=&quot;highlighter-rouge&quot;&gt;fulltext&lt;/code&gt; at https://github.com/ropensci/fulltext/issues - If you have use case thoughts, the &lt;a href=&quot;https://discuss.ropensci.org/&quot;&gt;rOpenSci discussion forum&lt;/a&gt; might be a good place to go.&lt;/p&gt;

&lt;p&gt;Let’s kick the tires, shall we?&lt;/p&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;p&gt;Will be on CRAN soon, not as of AM PDT on 2015-08-07.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;fulltext&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# if binaries not avail. yet on your favorite CRAN mirror
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;https://cran.rstudio.com/src/contrib/fulltext_0.1.0.tar.gz&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;source&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Or install development version from GitHub&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropensci/fulltext&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Load &lt;code class=&quot;highlighter-rouge&quot;&gt;fulltext&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;fulltext&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;search-for-articles&quot;&gt;Search for articles&lt;/h2&gt;

&lt;p&gt;Currently, there are hooks for searching for articles from PLOS, BMC, Crossref, Entrez, arXiv, and BioRxiv. We’ll add more in the future, but that does cover a lot of articles, especially given inclusion of Crossref (which mints most DOIs) and Entrez (which houses PMC and Pubmed).&lt;/p&gt;

&lt;p&gt;An example: Search for the term &lt;em&gt;ecology&lt;/em&gt; in PLOS journals.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ft_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;ecology&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;plos&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Query:
#&amp;gt;   [ecology] 
#&amp;gt; Found:
#&amp;gt;   [PLoS: 28589; BMC: 0; Crossref: 0; Entrez: 0; arxiv: 0; biorxiv: 0] 
#&amp;gt; Returned:
#&amp;gt;   [PLoS: 10; BMC: 0; Crossref: 0; Entrez: 0; arxiv: 0; biorxiv: 0]
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Each publisher/search-engine has a slot with metadata and data, saying how many articles were found and how many were returned. We can dig into what PLOS gave us:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plos&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Query: [ecology] 
#&amp;gt; Records found, returned: [28589, 10] 
#&amp;gt; License: [CC-BY] 
#&amp;gt;                                                         id
#&amp;gt; 1                             10.1371/journal.pone.0059813
#&amp;gt; 2                             10.1371/journal.pone.0001248
#&amp;gt; 3  10.1371/annotation/69333ae7-757a-4651-831c-f28c5eb02120
#&amp;gt; 4                             10.1371/journal.pone.0080763
#&amp;gt; 5                             10.1371/journal.pone.0102437
#&amp;gt; 6                             10.1371/journal.pone.0017342
#&amp;gt; 7                             10.1371/journal.pone.0091497
#&amp;gt; 8                             10.1371/journal.pone.0092931
#&amp;gt; 9  10.1371/annotation/28ac6052-4f87-4b88-a817-0cd5743e83d6
#&amp;gt; 10                            10.1371/journal.pcbi.1003594
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;For each of the data sources to search on you can pass in additional options (basically, you can use the query parameters in the functions that hit each service). Here, we can modify our search to PLOS by requesting a particular set of fields with the &lt;code class=&quot;highlighter-rouge&quot;&gt;fl&lt;/code&gt; parameter (PLOS uses a Solr backed search engine, and &lt;code class=&quot;highlighter-rouge&quot;&gt;fl&lt;/code&gt; is short for &lt;code class=&quot;highlighter-rouge&quot;&gt;fields&lt;/code&gt; in Solr land):&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;ft_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;ecology&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;plos&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;plosopts&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;fl&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;id&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;author&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;eissn&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;journal&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;counter_total_all&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;alm_twitterCount&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Query:
#&amp;gt;   [ecology] 
#&amp;gt; Found:
#&amp;gt;   [PLoS: 28589; BMC: 0; Crossref: 0; Entrez: 0; arxiv: 0; biorxiv: 0] 
#&amp;gt; Returned:
#&amp;gt;   [PLoS: 10; BMC: 0; Crossref: 0; Entrez: 0; arxiv: 0; biorxiv: 0]
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;Note that PLOS is a bit unique in allowing you to request specific parts of articles. Other sources in ft_search() don’t let you do that.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;get-full-text&quot;&gt;Get full text&lt;/h2&gt;

&lt;p&gt;After you’ve found the set of articles you want to get full text for, we can use the results from &lt;code class=&quot;highlighter-rouge&quot;&gt;ft_search()&lt;/code&gt; to grab full text. &lt;code class=&quot;highlighter-rouge&quot;&gt;ft_get()&lt;/code&gt; accepts a character vector of list of DOIs (or PMC IDs if fetching from Entrez), or the output of &lt;code class=&quot;highlighter-rouge&quot;&gt;ft_search()&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ft_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [Docs] 8 
#&amp;gt; [Source] R session  
#&amp;gt; [IDs] 10.1371/journal.pone.0059813 10.1371/journal.pone.0001248
#&amp;gt;      10.1371/journal.pone.0080763 10.1371/journal.pone.0102437
#&amp;gt;      10.1371/journal.pone.0017342 10.1371/journal.pone.0091497
#&amp;gt;      10.1371/journal.pone.0092931 10.1371/journal.pcbi.1003594 ...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;We got eight articles in full text in the result. We didn’t get 10, even though 10 were returned from &lt;code class=&quot;highlighter-rouge&quot;&gt;ft_search()&lt;/code&gt; because PLOS often returns records for annotations, that is, comments on articles, which we auto-seive out within &lt;code class=&quot;highlighter-rouge&quot;&gt;ft_get()&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Dig in to the PLOS data&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plos&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $found
#&amp;gt; [1] 8
#&amp;gt; 
#&amp;gt; $dois
#&amp;gt; [1] &quot;10.1371/journal.pone.0059813&quot; &quot;10.1371/journal.pone.0001248&quot;
#&amp;gt; [3] &quot;10.1371/journal.pone.0080763&quot; &quot;10.1371/journal.pone.0102437&quot;
#&amp;gt; [5] &quot;10.1371/journal.pone.0017342&quot; &quot;10.1371/journal.pone.0091497&quot;
#&amp;gt; [7] &quot;10.1371/journal.pone.0092931&quot; &quot;10.1371/journal.pcbi.1003594&quot;
#&amp;gt; 
#&amp;gt; $data
#&amp;gt; $data$backend
#&amp;gt; NULL
#&amp;gt; 
#&amp;gt; $data$path
#&amp;gt; [1] &quot;session&quot;
#&amp;gt; 
#&amp;gt; $data$data
#&amp;gt; 8 full-text articles retrieved 
#&amp;gt; Min. Length: 3828 - Max. Length: 104702 
#&amp;gt; DOIs: 10.1371/journal.pone.0059813 10.1371/journal.pone.0001248
#&amp;gt;   10.1371/journal.pone.0080763 10.1371/journal.pone.0102437
#&amp;gt;   10.1371/journal.pone.0017342 10.1371/journal.pone.0091497
#&amp;gt;   10.1371/journal.pone.0092931 10.1371/journal.pcbi.1003594 ... 
#&amp;gt; 
#&amp;gt; NOTE: extract xml strings like output[&#39;&amp;lt;doi&amp;gt;&#39;]
#&amp;gt; 
#&amp;gt; $opts
#&amp;gt; $opts$doi
#&amp;gt; [1] &quot;10.1371/journal.pone.0059813&quot; &quot;10.1371/journal.pone.0001248&quot;
#&amp;gt; [3] &quot;10.1371/journal.pone.0080763&quot; &quot;10.1371/journal.pone.0102437&quot;
#&amp;gt; [5] &quot;10.1371/journal.pone.0017342&quot; &quot;10.1371/journal.pone.0091497&quot;
#&amp;gt; [7] &quot;10.1371/journal.pone.0092931&quot; &quot;10.1371/journal.pcbi.1003594&quot;
#&amp;gt; 
#&amp;gt; $opts$callopts
#&amp;gt; list()
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Dig in further to get to one of the articles in XML format&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;xml2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;xml2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;read_xml&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plos&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`10.1371/journal.pone.0059813`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; {xml_document}
#&amp;gt; &amp;lt;article&amp;gt;
#&amp;gt; [1] &amp;lt;front&amp;gt;\n&amp;lt;journal-meta&amp;gt;\n&amp;lt;journal-id journal-id-type=&quot;nlm-ta&quot;&amp;gt;PLoS O ...
#&amp;gt; [2] &amp;lt;body&amp;gt;\n  &amp;lt;sec id=&quot;s1&quot;&amp;gt;\n&amp;lt;title&amp;gt;Introduction&amp;lt;/title&amp;gt;\n&amp;lt;p&amp;gt;Ecologists  ...
#&amp;gt; [3] &amp;lt;back&amp;gt;\n&amp;lt;ack&amp;gt;\n&amp;lt;p&amp;gt;Curtis Flather, Mark Burgman, Leon Blaustein, Yaac ...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Now with the xml, you can dig into whatever you like, e.g., using &lt;code class=&quot;highlighter-rouge&quot;&gt;xml2&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;rvest&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;extract-text-from-pdfs&quot;&gt;Extract text from pdfs&lt;/h2&gt;

&lt;p&gt;Ideally for text mining you have access to XML or other text based formats. However, sometimes you only have access to PDFs. In this case you want to extract text from PDFs. &lt;code class=&quot;highlighter-rouge&quot;&gt;fulltext&lt;/code&gt; can help with that.&lt;/p&gt;

&lt;p&gt;You can extract from any pdf from a file path, like:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;system.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;examples&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;example1.pdf&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;fulltext&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ft_extract&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;document&amp;gt;/Library/Frameworks/R.framework/Versions/3.2/Resources/library/fulltext/examples/example1.pdf
#&amp;gt;   Pages: 18
#&amp;gt;   Title: Suffering and mental health among older people living in nursing homes---a mixed-methods study
#&amp;gt;   Producer: pdfTeX-1.40.10
#&amp;gt;   Creation date: 2015-07-17
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Let’s search for articles from arXiv, a preprint service. Here, get pdf from an article with ID &lt;code class=&quot;highlighter-rouge&quot;&gt;cond-mat/9309029&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ft_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;cond-mat/9309029&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;arxiv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;res2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ft_extract&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;res2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arxiv&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $backend
#&amp;gt; NULL
#&amp;gt; 
#&amp;gt; $path
#&amp;gt; $path$`cond-mat/9309029`
#&amp;gt; [1] &quot;~/.fulltext/cond-mat_9309029.pdf&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $data
#&amp;gt; $data[[1]]
#&amp;gt; &amp;lt;document&amp;gt;/Users/sacmac/.fulltext/cond-mat_9309029.pdf
#&amp;gt;   Pages: 14
#&amp;gt;   Title: arXiv:cond-mat/9309029v8  26 Jan 1994
#&amp;gt;   Producer: GPL Ghostscript SVN PRE-RELEASE 8.62
#&amp;gt;   Creation date: 2008-02-06
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;And a short snippet of the full text&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;arxiv&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &quot;arXiv:cond-mat/9309029v8 26 Jan 1994, , FERMILAB-PUB-93/15-T March 1993, Revised:
#&amp;gt; January 1994, The Thermodynamics and Economics of Waste, Dallas C. Kennedy, Research
#&amp;gt; Associate, Fermi National Accelerator Laboratory, P.O. Box 500 MS106, Batavia, Illinois
#&amp;gt; 60510 USA, Abstract, The increasingly relevant problem of natural resource use and
#&amp;gt; waste production, disposal, and reuse is examined from several viewpoints: economic,
#&amp;gt; technical, and thermodynamic. Alternative economies are studied, with emphasis on
#&amp;gt; recycling of waste to close the natural resource cycle. The physical nature of human
#&amp;gt; economies and constraints on recycling and energy efficiency are stated in terms
#&amp;gt; ...&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;extract-text-chunks&quot;&gt;Extract text chunks&lt;/h2&gt;

&lt;p&gt;We have a few functions to help you pull out certain parts of an article. For example, perhaps you want to get just the authors from your articles, or just the abstracts.&lt;/p&gt;

&lt;p&gt;Here, we’ll search for some PLOS articles, then get their full text, then extract various parts of each article with &lt;code class=&quot;highlighter-rouge&quot;&gt;chunks()&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ft_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ecology&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;plos&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ft_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [Docs] 8 
#&amp;gt; [Source] R session  
#&amp;gt; [IDs] 10.1371/journal.pone.0059813 10.1371/journal.pone.0001248
#&amp;gt;      10.1371/journal.pone.0080763 10.1371/journal.pone.0102437
#&amp;gt;      10.1371/journal.pone.0017342 10.1371/journal.pone.0091497
#&amp;gt;      10.1371/journal.pone.0092931 10.1371/journal.pcbi.1003594 ...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Extract DOIs&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chunks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;doi&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $plos
#&amp;gt; $plos$`10.1371/journal.pone.0059813`
#&amp;gt; $plos$`10.1371/journal.pone.0059813`$doi
#&amp;gt; [1] &quot;10.1371/journal.pone.0059813&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $plos$`10.1371/journal.pone.0001248`
#&amp;gt; $plos$`10.1371/journal.pone.0001248`$doi
#&amp;gt; [1] &quot;10.1371/journal.pone.0001248&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $plos$`10.1371/journal.pone.0080763`
#&amp;gt; $plos$`10.1371/journal.pone.0080763`$doi
#&amp;gt; [1] &quot;10.1371/journal.pone.0080763&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $plos$`10.1371/journal.pone.0102437`
#&amp;gt; $plos$`10.1371/journal.pone.0102437`$doi
#&amp;gt; [1] &quot;10.1371/journal.pone.0102437&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $plos$`10.1371/journal.pone.0017342`
#&amp;gt; $plos$`10.1371/journal.pone.0017342`$doi
#&amp;gt; [1] &quot;10.1371/journal.pone.0017342&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $plos$`10.1371/journal.pone.0091497`
#&amp;gt; $plos$`10.1371/journal.pone.0091497`$doi
#&amp;gt; [1] &quot;10.1371/journal.pone.0091497&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $plos$`10.1371/journal.pone.0092931`
#&amp;gt; $plos$`10.1371/journal.pone.0092931`$doi
#&amp;gt; [1] &quot;10.1371/journal.pone.0092931&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $plos$`10.1371/journal.pcbi.1003594`
#&amp;gt; $plos$`10.1371/journal.pcbi.1003594`$doi
#&amp;gt; [1] &quot;10.1371/journal.pcbi.1003594&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Extract DOIs and categories&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chunks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;doi&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;categories&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $plos
#&amp;gt; $plos$`10.1371/journal.pone.0059813`
#&amp;gt; $plos$`10.1371/journal.pone.0059813`$doi
#&amp;gt; [1] &quot;10.1371/journal.pone.0059813&quot;
#&amp;gt; 
#&amp;gt; $plos$`10.1371/journal.pone.0059813`$categories
#&amp;gt;  [1] &quot;Research Article&quot;                 &quot;Biology&quot;                         
#&amp;gt;  [3] &quot;Ecology&quot;                          &quot;Community ecology&quot;               
#&amp;gt;  [5] &quot;Species interactions&quot;             &quot;Science policy&quot;                  
#&amp;gt;  [7] &quot;Research assessment&quot;              &quot;Research monitoring&quot;             
#&amp;gt;  [9] &quot;Research funding&quot;                 &quot;Government funding of science&quot;   
#&amp;gt; [11] &quot;Research laboratories&quot;            &quot;Science policy and economics&quot;    
#&amp;gt; [13] &quot;Science and technology workforce&quot; &quot;Careers in research&quot;             
#&amp;gt; [15] &quot;Social and behavioral sciences&quot;   &quot;Sociology&quot;                       
#&amp;gt; [17] &quot;Sociology of knowledge&quot;          
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $plos$`10.1371/journal.pone.0001248`
#&amp;gt; $plos$`10.1371/journal.pone.0001248`$doi
#&amp;gt; [1] &quot;10.1371/journal.pone.0001248&quot;
#&amp;gt; 
#&amp;gt; $plos$`10.1371/journal.pone.0001248`$categories
#&amp;gt; [1] &quot;Research Article&quot;             &quot;Ecology&quot;                     
#&amp;gt; [3] &quot;Ecology/Ecosystem Ecology&quot;    &quot;Ecology/Evolutionary Ecology&quot;
#&amp;gt; [5] &quot;Ecology/Theoretical Ecology&quot; 
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $plos$`10.1371/journal.pone.0080763`
#&amp;gt; $plos$`10.1371/journal.pone.0080763`$doi
#&amp;gt; [1] &quot;10.1371/journal.pone.0080763&quot;
#&amp;gt; 
#&amp;gt; $plos$`10.1371/journal.pone.0080763`$categories
#&amp;gt;  [1] &quot;Research Article&quot;     &quot;Biology&quot;              &quot;Ecology&quot;             
#&amp;gt;  [4] &quot;Autecology&quot;           &quot;Behavioral ecology&quot;   &quot;Community ecology&quot;   
#&amp;gt;  [7] &quot;Evolutionary ecology&quot; &quot;Population ecology&quot;   &quot;Evolutionary biology&quot;
#&amp;gt; [10] &quot;Behavioral ecology&quot;   &quot;Evolutionary ecology&quot; &quot;Population biology&quot;  
#&amp;gt; [13] &quot;Population ecology&quot;  
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $plos$`10.1371/journal.pone.0102437`
#&amp;gt; $plos$`10.1371/journal.pone.0102437`$doi
#&amp;gt; [1] &quot;10.1371/journal.pone.0102437&quot;
#&amp;gt; 
#&amp;gt; $plos$`10.1371/journal.pone.0102437`$categories
#&amp;gt;  [1] &quot;Research Article&quot;                  
#&amp;gt;  [2] &quot;Biology and life sciences&quot;         
#&amp;gt;  [3] &quot;Biogeography&quot;                      
#&amp;gt;  [4] &quot;Ecology&quot;                           
#&amp;gt;  [5] &quot;Ecosystems&quot;                        
#&amp;gt;  [6] &quot;Ecosystem engineering&quot;             
#&amp;gt;  [7] &quot;Ecosystem functioning&quot;             
#&amp;gt;  [8] &quot;Industrial ecology&quot;                
#&amp;gt;  [9] &quot;Spatial and landscape ecology&quot;     
#&amp;gt; [10] &quot;Urban ecology&quot;                     
#&amp;gt; [11] &quot;Computer and information sciences&quot; 
#&amp;gt; [12] &quot;Geoinformatics&quot;                    
#&amp;gt; [13] &quot;Spatial analysis&quot;                  
#&amp;gt; [14] &quot;Earth sciences&quot;                    
#&amp;gt; [15] &quot;Geography&quot;                         
#&amp;gt; [16] &quot;Human geography&quot;                   
#&amp;gt; [17] &quot;Cultural geography&quot;                
#&amp;gt; [18] &quot;Social geography&quot;                  
#&amp;gt; [19] &quot;Ecology and environmental sciences&quot;
#&amp;gt; [20] &quot;Conservation science&quot;              
#&amp;gt; [21] &quot;Environmental protection&quot;          
#&amp;gt; [22] &quot;Nature-society interactions&quot;       
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $plos$`10.1371/journal.pone.0017342`
#&amp;gt; $plos$`10.1371/journal.pone.0017342`$doi
#&amp;gt; [1] &quot;10.1371/journal.pone.0017342&quot;
#&amp;gt; 
#&amp;gt; $plos$`10.1371/journal.pone.0017342`$categories
#&amp;gt;  [1] &quot;Research Article&quot;     &quot;Biology&quot;              &quot;Ecology&quot;             
#&amp;gt;  [4] &quot;Community ecology&quot;    &quot;Community assembly&quot;   &quot;Community structure&quot; 
#&amp;gt;  [7] &quot;Niche construction&quot;   &quot;Ecological metrics&quot;   &quot;Species diversity&quot;   
#&amp;gt; [10] &quot;Species richness&quot;     &quot;Biodiversity&quot;         &quot;Biogeography&quot;        
#&amp;gt; [13] &quot;Population ecology&quot;   &quot;Mathematics&quot;          &quot;Statistics&quot;          
#&amp;gt; [16] &quot;Biostatistics&quot;        &quot;Statistical theories&quot; &quot;Ecology&quot;             
#&amp;gt; [19] &quot;Mathematics&quot;         
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $plos$`10.1371/journal.pone.0091497`
#&amp;gt; $plos$`10.1371/journal.pone.0091497`$doi
#&amp;gt; [1] &quot;10.1371/journal.pone.0091497&quot;
#&amp;gt; 
#&amp;gt; $plos$`10.1371/journal.pone.0091497`$categories
#&amp;gt; [1] &quot;Correction&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $plos$`10.1371/journal.pone.0092931`
#&amp;gt; $plos$`10.1371/journal.pone.0092931`$doi
#&amp;gt; [1] &quot;10.1371/journal.pone.0092931&quot;
#&amp;gt; 
#&amp;gt; $plos$`10.1371/journal.pone.0092931`$categories
#&amp;gt; [1] &quot;Correction&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $plos$`10.1371/journal.pcbi.1003594`
#&amp;gt; $plos$`10.1371/journal.pcbi.1003594`$doi
#&amp;gt; [1] &quot;10.1371/journal.pcbi.1003594&quot;
#&amp;gt; 
#&amp;gt; $plos$`10.1371/journal.pcbi.1003594`$categories
#&amp;gt; [1] &quot;Research Article&quot;          &quot;Biology and life sciences&quot;
#&amp;gt; [3] &quot;Computational biology&quot;     &quot;Microbiology&quot;             
#&amp;gt; [5] &quot;Theoretical biology&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;tabularize&lt;/code&gt; attempts to help you put the data that comes out of &lt;code class=&quot;highlighter-rouge&quot;&gt;chunks()&lt;/code&gt; in to a &lt;code class=&quot;highlighter-rouge&quot;&gt;data.frame&lt;/code&gt;, that we all know and love.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chunks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;doi&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;history&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tabularize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $plos
#&amp;gt;                            doi history.received history.accepted
#&amp;gt; 1 10.1371/journal.pone.0059813       2012-09-16       2013-02-19
#&amp;gt; 2 10.1371/journal.pone.0001248       2007-07-02       2007-11-06
#&amp;gt; 3 10.1371/journal.pone.0080763       2013-08-15       2013-10-16
#&amp;gt; 4 10.1371/journal.pone.0102437       2013-11-27       2014-06-19
#&amp;gt; 5 10.1371/journal.pone.0017342       2010-08-24       2011-01-31
#&amp;gt; 6 10.1371/journal.pone.0091497             &amp;lt;NA&amp;gt;             &amp;lt;NA&amp;gt;
#&amp;gt; 7 10.1371/journal.pone.0092931             &amp;lt;NA&amp;gt;             &amp;lt;NA&amp;gt;
#&amp;gt; 8 10.1371/journal.pcbi.1003594       2014-01-09       2014-03-14
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;bring-it-all-together&quot;&gt;Bring it all together&lt;/h2&gt;

&lt;p&gt;With the pieces above, let’s see what it looks like all in one go. Here, we’ll search for articles on &lt;em&gt;climate change&lt;/em&gt;, then visualize word usage in those articles.&lt;/p&gt;

&lt;h3 id=&quot;search&quot;&gt;Search&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ft_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;climate change&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;plos&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Query:
#&amp;gt;   [climate change] 
#&amp;gt; Found:
#&amp;gt;   [PLoS: 11737; BMC: 0; Crossref: 0; Entrez: 0; arxiv: 0; biorxiv: 0] 
#&amp;gt; Returned:
#&amp;gt;   [PLoS: 100; BMC: 0; Crossref: 0; Entrez: 0; arxiv: 0; biorxiv: 0]
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;get-full-text-1&quot;&gt;Get full text&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;texts&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ft_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [Docs] 99 
#&amp;gt; [Source] R session  
#&amp;gt; [IDs] 10.1371/journal.pone.0054839 10.1371/journal.pone.0045683
#&amp;gt;      10.1371/journal.pone.0050182 10.1371/journal.pone.0118489
#&amp;gt;      10.1371/journal.pone.0053646 10.1371/journal.pone.0015103
#&amp;gt;      10.1371/journal.pone.0008320 10.1371/journal.pmed.1001227
#&amp;gt;      10.1371/journal.pmed.1001374 10.1371/journal.pone.0097480 ...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Because PLOS returns XML, we don’t need to do a PDF extraction step. However, if we got full text from arXiv or bioRxiv, we’d need to extract from PDFs first.&lt;/p&gt;

&lt;h3 id=&quot;pull-out-chunks&quot;&gt;Pull out chunks&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;abs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;texts&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chunks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;abstract&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Let’s pull out just the text&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;abs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;abs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;paste0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;abstract&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;collapse&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;analyze&quot;&gt;Analyze&lt;/h3&gt;

&lt;p&gt;Using the &lt;code class=&quot;highlighter-rouge&quot;&gt;tm&lt;/code&gt; package, we can analyze our articles&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;tm&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;corp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;VCorpus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;VectorSource&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;abs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# remove stop words, strip whitespace, remove punctuation
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;corp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tm_map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;corp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;removeWords&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stopwords&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;english&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;corp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tm_map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;corp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stripWhitespace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;corp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tm_map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;corp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;removePunctuation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Make a term document matrix
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tdm&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TermDocumentMatrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;corp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# remove sparse terms
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tdm&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;removeSparseTerms&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tdm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sparse&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# get data
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rowSums&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;as.matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tdm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;word&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stringsAsFactors&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;visualize&quot;&gt;Visualize&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ggplot2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reorder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;word&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;geom_point&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;coord_flip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Count&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Word&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-08-07-full-text/unnamed-chunk-23-1.png&quot; alt=&quot;plot of chunk unnamed-chunk-23&quot; /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>rnoaa - Weather data in R</title>
   <link href="http://recology.info//2015/07/weather-data-with-rnoaa/"/>
   <updated>2015-07-07T00:00:00-07:00</updated>
   <id>http://recology.info//2015/07/weather-data-with-rnoaa</id>
   <content type="html">&lt;p&gt;NOAA provides a lot of weather data, across many different websites under different project names. The R package &lt;code class=&quot;highlighter-rouge&quot;&gt;rnoaa&lt;/code&gt; accesses many of these, including:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;NOAA NCDC climate data, using the &lt;a href=&quot;http://www.ncdc.noaa.gov/cdo-web/webservices/v2&quot;&gt;NCDC API version 2&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;ftp://ftp.ncdc.noaa.gov/pub/data/ghcn/daily/&quot;&gt;GHCND FTP data&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;ftp://ftp.ncdc.noaa.gov/pub/data/noaa/&quot;&gt;ISD FTP data&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Severe weather data docs are at &lt;a href=&quot;http://www.ncdc.noaa.gov/swdiws/&quot;&gt;http://www.ncdc.noaa.gov/swdiws/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;ftp://sidads.colorado.edu/DATASETS/NOAA/G02135/shapefiles&quot;&gt;Sea ice data&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.ndbc.noaa.gov/&quot;&gt;NOAA buoy data&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Tornadoes! Data from the &lt;a href=&quot;http://www.spc.noaa.gov/gis/svrgis/&quot;&gt;NOAA Storm Prediction Center&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;HOMR - Historical Observing Metadata Repository - from &lt;a href=&quot;http://www.ncdc.noaa.gov/homr/api&quot;&gt;NOAA NCDC&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Storm data - from the &lt;a href=&quot;http://www.ncdc.noaa.gov/ibtracs/index.php?name=wmo-data&quot;&gt;International Best Track Archive for Climate Stewardship (IBTrACS)&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;rnoaa&lt;/code&gt; used to provide access to &lt;a href=&quot;http://upwell.pfeg.noaa.gov/erddap/index.html&quot;&gt;ERDDAP servers&lt;/a&gt;, but a separate package &lt;a href=&quot;https://github.com/ropensci/rerddap&quot;&gt;rerddap&lt;/a&gt; focuses on just those data sources.&lt;/p&gt;

&lt;p&gt;We focus on getting you the data, so there’s very little in &lt;code class=&quot;highlighter-rouge&quot;&gt;rnoaa&lt;/code&gt; for visualizing, statistics, etc.&lt;/p&gt;

&lt;h2 id=&quot;installation&quot;&gt;Installation&lt;/h2&gt;

&lt;p&gt;The newest version should be on CRAN in the next few days. In the meantime, let’s install from GitHub&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropensci/rnoaa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rnoaa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;There’s an example using the &lt;code class=&quot;highlighter-rouge&quot;&gt;lawn&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;sp&lt;/code&gt;, and &lt;code class=&quot;highlighter-rouge&quot;&gt;dplyr&lt;/code&gt; packages. If you want to try those, install like&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;lawn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dplyr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;sp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;ncdc&quot;&gt;NCDC&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;NCDC = National Climatic Data Center&lt;/li&gt;
  &lt;li&gt;Data comes from a RESTful API described at &lt;a href=&quot;http://www.ncdc.noaa.gov/cdo-web/webservices/v2&quot;&gt;http://www.ncdc.noaa.gov/cdo-web/webservices/v2&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;This web service requires an API key - get one at &lt;a href=&quot;http://www.ncdc.noaa.gov/cdo-web/token&quot;&gt;http://www.ncdc.noaa.gov/cdo-web/token&lt;/a&gt; if you don’t already have one. NCDC provides access to many different datasets:&lt;/p&gt;

&lt;table&gt;
&lt;thead&gt;
&lt;tr class=&quot;header&quot;&gt;
&lt;th align=&quot;left&quot;&gt;Dataset&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;Description&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;Start date&lt;/th&gt;
&lt;th align=&quot;left&quot;&gt;End date&lt;/th&gt;
&lt;/tr&gt;
&lt;/thead&gt;
&lt;tbody&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;ANNUAL&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;Annual Summaries&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;1831-02-01&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;2013-11-01&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;GHCND&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;Daily Summaries&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;1763-01-01&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;2014-03-15&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;GHCNDMS&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;Monthly Summaries&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;1763-01-01&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;2014-01-01&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;NORMAL_ANN&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;Normals Annual/Seasonal&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;2010-01-01&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;2010-01-01&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;NORMAL_DLY&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;Normals Daily&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;2010-01-01&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;2010-12-31&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;NORMAL_HLY&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;Normals Hourly&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;2010-01-01&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;2010-12-31&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;NORMAL_MLY&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;Normals Monthly&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;2010-01-01&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;2010-12-01&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;PRECIP_15&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;Precipitation 15 Minute&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;1970-05-12&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;2013-03-01&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;PRECIP_HLY&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;Precipitation Hourly&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;1900-01-01&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;2013-03-01&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;even&quot;&gt;
&lt;td align=&quot;left&quot;&gt;NEXRAD2&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;Nexrad Level II&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;1991-06-05&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;2014-03-14&lt;/td&gt;
&lt;/tr&gt;
&lt;tr class=&quot;odd&quot;&gt;
&lt;td align=&quot;left&quot;&gt;NEXRAD3&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;Nexrad Level III&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;1994-05-20&lt;/td&gt;
&lt;td align=&quot;left&quot;&gt;2014-03-11&lt;/td&gt;
&lt;/tr&gt;
&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;The main function to get data from NCDC is &lt;code class=&quot;highlighter-rouge&quot;&gt;ncdc()&lt;/code&gt;. &lt;code class=&quot;highlighter-rouge&quot;&gt;datasetid&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;startdate&lt;/code&gt;, and &lt;code class=&quot;highlighter-rouge&quot;&gt;enddate&lt;/code&gt; are required parameters. A quick example, here getting data from the GHCND dataset, from a particular station, and from Oct 1st 2013 to Dec 12th 2013:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;ncdc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datasetid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;GHCND&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stationid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;GHCND:USW00014895&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;startdate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;2013-10-01&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;enddate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;2013-12-01&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $meta
#&amp;gt; $meta$totalCount
#&amp;gt; [1] 697
#&amp;gt; 
#&amp;gt; $meta$pageCount
#&amp;gt; [1] 25
#&amp;gt; 
#&amp;gt; $meta$offset
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $data
#&amp;gt; Source: local data frame [25 x 8]
#&amp;gt; 
#&amp;gt;                   date datatype           station value fl_m fl_q fl_so
#&amp;gt; 1  2013-10-01T00:00:00     AWND GHCND:USW00014895    29               W
#&amp;gt; 2  2013-10-01T00:00:00     PRCP GHCND:USW00014895     0               W
#&amp;gt; 3  2013-10-01T00:00:00     SNOW GHCND:USW00014895     0               W
#&amp;gt; 4  2013-10-01T00:00:00     SNWD GHCND:USW00014895     0               W
#&amp;gt; 5  2013-10-01T00:00:00     TAVG GHCND:USW00014895   179    H          S
#&amp;gt; 6  2013-10-01T00:00:00     TMAX GHCND:USW00014895   250               W
#&amp;gt; 7  2013-10-01T00:00:00     TMIN GHCND:USW00014895   133               W
#&amp;gt; 8  2013-10-01T00:00:00     WDF2 GHCND:USW00014895   210               W
#&amp;gt; 9  2013-10-01T00:00:00     WDF5 GHCND:USW00014895   230               W
#&amp;gt; 10 2013-10-01T00:00:00     WSF2 GHCND:USW00014895    76               W
#&amp;gt; ..                 ...      ...               ...   ...  ...  ...   ...
#&amp;gt; Variables not shown: fl_t (chr)
#&amp;gt; 
#&amp;gt; attr(,&quot;class&quot;)
#&amp;gt; [1] &quot;ncdc_data&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;You probably won’t know what station you want data from off hand though, so you can first search for  stations, in this example using a bounding box that defines a rectangular area near Seattle&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;lawn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;lawn_bbox_polygon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-122.2047&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;47.5204&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-122.1065&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;47.6139&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;view&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-07-07-weather-data-with-rnoaa/lawnplot.png&quot; alt=&quot;lawnplot&quot; /&gt;&lt;/p&gt;

&lt;p&gt;We’ll search within that bounding box for weather stations.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;ncdc_stations&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;extent&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;47.5204&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-122.2047&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;47.6139&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-122.1065&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $meta
#&amp;gt; $meta$totalCount
#&amp;gt; [1] 9
#&amp;gt; 
#&amp;gt; $meta$pageCount
#&amp;gt; [1] 25
#&amp;gt; 
#&amp;gt; $meta$offset
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $data
#&amp;gt; Source: local data frame [9 x 9]
#&amp;gt; 
#&amp;gt;   elevation    mindate    maxdate latitude                         name
#&amp;gt; 1     199.6 2008-06-01 2015-06-29  47.5503      EASTGATE 1.7 SSW, WA US
#&amp;gt; 2     240.8 2010-05-01 2015-07-05  47.5604       EASTGATE 1.1 SW, WA US
#&amp;gt; 3      85.6 2008-07-01 2015-07-05  47.5916        BELLEVUE 0.8 S, WA US
#&amp;gt; 4     104.2 2008-06-01 2015-07-05  47.5211 NEWPORT HILLS 1.9 SSE, WA US
#&amp;gt; 5      58.5 2008-08-01 2009-04-12  47.6138      BELLEVUE 2.3 ENE, WA US
#&amp;gt; 6     199.9 2008-06-01 2009-11-22  47.5465   NEWPORT HILLS 1.4 E, WA US
#&amp;gt; 7      27.1 2008-07-01 2015-07-05  47.6046        BELLEVUE 1.8 W, WA US
#&amp;gt; 8     159.4 2008-11-01 2015-07-05  47.5694      BELLEVUE 2.3 SSE, WA US
#&amp;gt; 9      82.3 2008-12-01 2010-09-17  47.6095       BELLEVUE 0.6 NE, WA US
#&amp;gt; Variables not shown: datacoverage (dbl), id (chr), elevationUnit (chr),
#&amp;gt;   longitude (dbl)
#&amp;gt; 
#&amp;gt; attr(,&quot;class&quot;)
#&amp;gt; [1] &quot;ncdc_stations&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;And there are 9 found. We could then use their station ids (e.g., &lt;code class=&quot;highlighter-rouge&quot;&gt;GHCND:US1WAKG0024&lt;/code&gt;) to search for data using &lt;code class=&quot;highlighter-rouge&quot;&gt;ncdc()&lt;/code&gt;, or search for what kind of data that station has with &lt;code class=&quot;highlighter-rouge&quot;&gt;ncdc_datasets()&lt;/code&gt;, or other functions.&lt;/p&gt;

&lt;h2 id=&quot;ghcnd&quot;&gt;GHCND&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;GHCND = Global Historical Climatology Network Daily (Data)&lt;/li&gt;
  &lt;li&gt;Data comes from an FTP server&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;dplyr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ghcnd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stationid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;AGE00147704&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;element&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;PRCP&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;year&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1909&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;            id year month element VALUE1 MFLAG1 QFLAG1 SFLAG1 VALUE2 MFLAG2
#&amp;gt; 1 AGE00147704 1909    11    PRCP  -9999     NA                -9999     NA
#&amp;gt; 2 AGE00147704 1909    12    PRCP     23     NA             E      0     NA
#&amp;gt;   QFLAG2 SFLAG2 VALUE3 MFLAG3 QFLAG3 SFLAG3 VALUE4 MFLAG4 QFLAG4 SFLAG4
#&amp;gt; 1                -9999     NA                -9999     NA              
#&amp;gt; 2             E      0     NA             E      0     NA             E
#&amp;gt;   VALUE5 MFLAG5 QFLAG5 SFLAG5 VALUE6 MFLAG6 QFLAG6 SFLAG6 VALUE7 MFLAG7
#&amp;gt; 1  -9999     NA                -9999     NA                -9999     NA
#&amp;gt; 2      0     NA             E      0     NA             E      0     NA
#&amp;gt;   QFLAG7 SFLAG7 VALUE8 MFLAG8 QFLAG8 SFLAG8 VALUE9 MFLAG9 QFLAG9 SFLAG9
#&amp;gt; 1     NA         -9999     NA                -9999     NA              
#&amp;gt; 2     NA      E    250     NA             E     75     NA             E
#&amp;gt;   VALUE10 MFLAG10 QFLAG10 SFLAG10 VALUE11 MFLAG11 QFLAG11 SFLAG11 VALUE12
#&amp;gt; 1   -9999      NA                   -9999      NA                   -9999
#&amp;gt; 2     131      NA               E       0      NA               E       0
#&amp;gt;   MFLAG12 QFLAG12 SFLAG12 VALUE13 MFLAG13 QFLAG13 SFLAG13 VALUE14 MFLAG14
#&amp;gt; 1      NA                   -9999      NA                   -9999      NA
#&amp;gt; 2      NA               E       0      NA               E       0      NA
#&amp;gt;   QFLAG14 SFLAG14 VALUE15 MFLAG15 QFLAG15 SFLAG15 VALUE16 MFLAG16 QFLAG16
#&amp;gt; 1                   -9999      NA                   -9999      NA        
#&amp;gt; 2               E       0      NA               E       0      NA        
#&amp;gt;   SFLAG16 VALUE17 MFLAG17 QFLAG17 SFLAG17 VALUE18 MFLAG18 QFLAG18 SFLAG18
#&amp;gt; 1           -9999      NA                   -9999      NA                
#&amp;gt; 2       E       0      NA               E       0      NA               E
#&amp;gt;   VALUE19 MFLAG19 QFLAG19 SFLAG19 VALUE20 MFLAG20 QFLAG20 SFLAG20 VALUE21
#&amp;gt; 1   -9999      NA      NA           -9999      NA      NA           -9999
#&amp;gt; 2       0      NA      NA       E       0      NA      NA       E       0
#&amp;gt;   MFLAG21 QFLAG21 SFLAG21 VALUE22 MFLAG22 QFLAG22 SFLAG22 VALUE23 MFLAG23
#&amp;gt; 1      NA                   -9999      NA                      22      NA
#&amp;gt; 2      NA               E       0      NA               E       0      NA
#&amp;gt;   QFLAG23 SFLAG23 VALUE24 MFLAG24 QFLAG24 SFLAG24 VALUE25 MFLAG25 QFLAG25
#&amp;gt; 1      NA       E       9      NA      NA       E       5      NA      NA
#&amp;gt; 2      NA       E       0      NA      NA       E       0      NA      NA
#&amp;gt;   SFLAG25 VALUE26 MFLAG26 QFLAG26 SFLAG26 VALUE27 MFLAG27 QFLAG27 SFLAG27
#&amp;gt; 1       E       0      NA               E      86      NA      NA       E
#&amp;gt; 2       E       0      NA               E       0      NA      NA       E
#&amp;gt;   VALUE28 MFLAG28 QFLAG28 SFLAG28 VALUE29 MFLAG29 QFLAG29 SFLAG29 VALUE30
#&amp;gt; 1       0      NA      NA       E      28      NA      NA       E       0
#&amp;gt; 2       0      NA      NA       E       0      NA      NA       E       0
#&amp;gt;   MFLAG30 QFLAG30 SFLAG30 VALUE31 MFLAG31 QFLAG31 SFLAG31
#&amp;gt; 1      NA               E   -9999      NA      NA        
#&amp;gt; 2      NA               E      57      NA      NA       E
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;You can also get to datasets by searching by station id, date min, date max, and variable. E.g.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;ghcnd_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;AGE00147704&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;var&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;PRCP&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $prcp
#&amp;gt; Source: local data frame [9,803 x 6]
#&amp;gt; 
#&amp;gt;             id  prcp       date mflag qflag sflag
#&amp;gt; 1  AGE00147704 -9999 1909-11-01    NA            
#&amp;gt; 2  AGE00147704    23 1909-12-01    NA           E
#&amp;gt; 3  AGE00147704    81 1910-01-01    NA           E
#&amp;gt; 4  AGE00147704     0 1910-02-01    NA           E
#&amp;gt; 5  AGE00147704    18 1910-03-01    NA           E
#&amp;gt; 6  AGE00147704     0 1910-04-01    NA           E
#&amp;gt; 7  AGE00147704   223 1910-05-01    NA           E
#&amp;gt; 8  AGE00147704     0 1910-06-01    NA           E
#&amp;gt; 9  AGE00147704     0 1910-07-01    NA           E
#&amp;gt; 10 AGE00147704     0 1910-08-01    NA           E
#&amp;gt; ..         ...   ...        ...   ...   ...   ...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;isd&quot;&gt;ISD&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;ISD = Integrated Surface Database&lt;/li&gt;
  &lt;li&gt;Data comes from an FTP server&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;You’ll likely first want to run &lt;code class=&quot;highlighter-rouge&quot;&gt;isd_stations()&lt;/code&gt; to get list of stations&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;stations&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isd_stations&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stations&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   usaf  wban station_name ctry state icao lat lon elev_m    begin      end
#&amp;gt; 1 7005 99999   CWOS 07005                  NA  NA     NA 20120127 20120127
#&amp;gt; 2 7011 99999   CWOS 07011                  NA  NA     NA 20111025 20121129
#&amp;gt; 3 7018 99999   WXPOD 7018                   0   0   7018 20110309 20130730
#&amp;gt; 4 7025 99999   CWOS 07025                  NA  NA     NA 20120127 20120127
#&amp;gt; 5 7026 99999   WXPOD 7026   AF              0   0   7026 20120713 20141120
#&amp;gt; 6 7034 99999   CWOS 07034                  NA  NA     NA 20121024 20121106
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then get data from particular stations, like&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;isd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;usaf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;011490&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wban&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;99999&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;year&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1986&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;ISD Data&amp;gt;
#&amp;gt; Size: 1328 X 85
#&amp;gt; 
#&amp;gt;    total_chars usaf_station wban_station     date time date_flag latitude
#&amp;gt; 1           50        11490        99999 19860101    0         4    66267
#&amp;gt; 2          123        11490        99999 19860101  600         4    66267
#&amp;gt; 3           50        11490        99999 19860101 1200         4    66267
#&amp;gt; 4           94        11490        99999 19860101 1800         4    66267
#&amp;gt; 5           50        11490        99999 19860102    0         4    66267
#&amp;gt; 6          123        11490        99999 19860102  600         4    66267
#&amp;gt; 7           50        11490        99999 19860102 1200         4    66267
#&amp;gt; 8           94        11490        99999 19860102 1800         4    66267
#&amp;gt; 9           50        11490        99999 19860103    0         4    66267
#&amp;gt; 10         123        11490        99999 19860103  600         4    66267
#&amp;gt; ..         ...          ...          ...      ...  ...       ...      ...
#&amp;gt; Variables not shown: longitude (int), type_code (chr), elevation (int),
#&amp;gt;      call_letter (int), quality (chr), wind_direction (int),
#&amp;gt;      wind_direction_quality (int), wind_code (chr), wind_speed (int),
#&amp;gt;      wind_speed_quality (int), ceiling_height (int),
#&amp;gt;      ceiling_height_quality (int), ceiling_height_determination (chr),
#&amp;gt;      ceiling_height_cavok (chr), visibility_distance (int),
#&amp;gt;      visibility_distance_quality (int), visibility_code (chr),
#&amp;gt;      visibility_code_quality (int), temperature (int), temperature_quality
#&amp;gt;      (int), temperature_dewpoint (int), temperature_dewpoint_quality
#&amp;gt;      (int), air_pressure (int), air_pressure_quality (int),
#&amp;gt;      AG1.precipitation (chr), AG1.discrepancy (int), AG1.est_water_depth
#&amp;gt;      (int), GF1.sky_condition (chr), GF1.coverage (int),
#&amp;gt;      GF1.opaque_coverage (int), GF1.coverage_quality (int),
#&amp;gt;      GF1.lowest_cover (int), GF1.lowest_cover_quality (int),
#&amp;gt;      GF1.low_cloud_genus (int), GF1.low_cloud_genus_quality (int),
#&amp;gt;      GF1.lowest_cloud_base_height (int),
#&amp;gt;      GF1.lowest_cloud_base_height_quality (int), GF1.mid_cloud_genus
#&amp;gt;      (int), GF1.mid_cloud_genus_quality (int), GF1.high_cloud_genus (int),
#&amp;gt;      GF1.high_cloud_genus_quality (int), MD1.atmospheric_change (chr),
#&amp;gt;      MD1.tendency (int), MD1.tendency_quality (int), MD1.three_hr (int),
#&amp;gt;      MD1.three_hr_quality (int), MD1.twentyfour_hr (int),
#&amp;gt;      MD1.twentyfour_hr_quality (int), REM.remarks (chr), REM.identifier
#&amp;gt;      (chr), REM.length_quantity (int), REM.comment (chr), KA1.extreme_temp
#&amp;gt;      (chr), KA1.period_quantity (int), KA1.max_min (chr), KA1.temp (int),
#&amp;gt;      KA1.temp_quality (int), AY1.manual_occurrence (chr),
#&amp;gt;      AY1.condition_code (int), AY1.condition_quality (int), AY1.period
#&amp;gt;      (int), AY1.period_quality (int), AY2.manual_occurrence (chr),
#&amp;gt;      AY2.condition_code (int), AY2.condition_quality (int), AY2.period
#&amp;gt;      (int), AY2.period_quality (int), MW1.first_weather_reported (chr),
#&amp;gt;      MW1.condition (int), MW1.condition_quality (int),
#&amp;gt;      EQD.observation_identifier (chr), EQD.observation_text (int),
#&amp;gt;      EQD.reason_code (int), EQD.parameter (chr),
#&amp;gt;      EQD.observation_identifier.1 (chr), EQD.observation_text.1 (int),
#&amp;gt;      EQD.reason_code.1 (int), EQD.parameter.1 (chr)
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;severe-weather&quot;&gt;Severe weather&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;SWDI = Severe Weather Data Inventory&lt;/li&gt;
  &lt;li&gt;From the SWDI site&lt;/li&gt;
&lt;/ul&gt;

&lt;blockquote&gt;
  &lt;p&gt;The Severe Weather Data Inventory (SWDI) is an integrated database of severe weather records for the United States. The records in SWDI come from a variety of sources in the NCDC archive.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;swdi()&lt;/code&gt; function allows you to get data in xml, csv, shp, or kmz format. You can get data from many different datasets:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;nx3tvs NEXRAD Level-3 Tornado Vortex Signatures (point)&lt;/li&gt;
  &lt;li&gt;nx3meso NEXRAD Level-3 Mesocyclone Signatures (point)&lt;/li&gt;
  &lt;li&gt;nx3hail NEXRAD Level-3 Hail Signatures (point)&lt;/li&gt;
  &lt;li&gt;nx3structure NEXRAD Level-3 Storm Cell Structure Information (point)&lt;/li&gt;
  &lt;li&gt;plsr Preliminary Local Storm Reports (point)&lt;/li&gt;
  &lt;li&gt;warn Severe Thunderstorm, Tornado, Flash Flood and Special Marine warnings (polygon)&lt;/li&gt;
  &lt;li&gt;nldn Lightning strikes from Vaisala (.gov and .mil ONLY) (point)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;An example: Get all &lt;code class=&quot;highlighter-rouge&quot;&gt;plsr&lt;/code&gt; within the bounding box (-91,30,-90,31)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;swdi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dataset&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;plsr&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;startdate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;20060505&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;enddate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;20060510&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;bbox&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-91&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-90&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;31&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $meta
#&amp;gt; $meta$totalCount
#&amp;gt; numeric(0)
#&amp;gt; 
#&amp;gt; $meta$totalTimeInSeconds
#&amp;gt; [1] 0
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $data
#&amp;gt; Source: local data frame [5 x 8]
#&amp;gt; 
#&amp;gt;                  ztime     id        event magnitude            city
#&amp;gt; 1 2006-05-09T02:20:00Z 427540         HAIL         1    5 E KENTWOOD
#&amp;gt; 2 2006-05-09T02:40:00Z 427536         HAIL         1    MOUNT HERMAN
#&amp;gt; 3 2006-05-09T02:40:00Z 427537 TSTM WND DMG     -9999    MOUNT HERMAN
#&amp;gt; 4 2006-05-09T03:00:00Z 427199         HAIL         0     FRANKLINTON
#&amp;gt; 5 2006-05-09T03:17:00Z 427200      TORNADO     -9999 5 S FRANKLINTON
#&amp;gt; Variables not shown: county (chr), state (chr), source (chr)
#&amp;gt; 
#&amp;gt; $shape
#&amp;gt;                  shape
#&amp;gt; 1 POINT (-90.43 30.93)
#&amp;gt; 2  POINT (-90.3 30.96)
#&amp;gt; 3  POINT (-90.3 30.96)
#&amp;gt; 4 POINT (-90.14 30.85)
#&amp;gt; 5 POINT (-90.14 30.78)
#&amp;gt; 
#&amp;gt; attr(,&quot;class&quot;)
#&amp;gt; [1] &quot;swdi&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;sea-ice&quot;&gt;Sea ice&lt;/h2&gt;

&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;seaice()&lt;/code&gt; function simply grabs shape files that describe sea ice cover at the Northa and South poles, and can be useful for examining change through time in sea ice cover, among other things.&lt;/p&gt;

&lt;p&gt;An example: Plot sea ice cover for April 1990 for the North pole.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;urls&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;seaiceeurls&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;Apr&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pole&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;N&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;yr&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1990&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;seaice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;urls&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;ggplot2&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;long&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;geom_polygon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;steelblue&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;theme_ice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-07-07-weather-data-with-rnoaa/unnamed-chunk-13-1.png&quot; alt=&quot;plot of chunk unnamed-chunk-13&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;buoys&quot;&gt;Buoys&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Get NOAA buoy data from the National Buoy Data Center&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Using buoy data requires the &lt;code class=&quot;highlighter-rouge&quot;&gt;ncdf&lt;/code&gt; package. Make sure you have that installed, like &lt;code class=&quot;highlighter-rouge&quot;&gt;install.packages(&quot;ncdf&quot;)&lt;/code&gt;. &lt;code class=&quot;highlighter-rouge&quot;&gt;buoy()&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;buoys()&lt;/code&gt; will fail if you don’t have &lt;code class=&quot;highlighter-rouge&quot;&gt;ncdf&lt;/code&gt; installed.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;buoys()&lt;/code&gt; - Get available buoys given a dataset name&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;buoys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dataset&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;cwind&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;      id
#&amp;gt; 1 41001
#&amp;gt; 2 41002
#&amp;gt; 3 41004
#&amp;gt; 4 41006
#&amp;gt; 5 41008
#&amp;gt; 6 41009
#&amp;gt;                                                                       url
#&amp;gt; 1 http://dods.ndbc.noaa.gov/thredds/catalog/data/cwind/41001/catalog.html
#&amp;gt; 2 http://dods.ndbc.noaa.gov/thredds/catalog/data/cwind/41002/catalog.html
#&amp;gt; 3 http://dods.ndbc.noaa.gov/thredds/catalog/data/cwind/41004/catalog.html
#&amp;gt; 4 http://dods.ndbc.noaa.gov/thredds/catalog/data/cwind/41006/catalog.html
#&amp;gt; 5 http://dods.ndbc.noaa.gov/thredds/catalog/data/cwind/41008/catalog.html
#&amp;gt; 6 http://dods.ndbc.noaa.gov/thredds/catalog/data/cwind/41009/catalog.html
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;buoy()&lt;/code&gt; - Get data for a buoy - if no year or datatype specified, we get the first file&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;buoy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dataset&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;cwind&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;buoyid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;46085&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Dimensions (rows/cols): [33486 X 5] 
#&amp;gt; 2 variables: [wind_dir, wind_spd] 
#&amp;gt; 
#&amp;gt;                    time latitude longitude wind_dir wind_spd
#&amp;gt; 1  2007-05-05T02:00:00Z   55.855  -142.559      331      2.8
#&amp;gt; 2  2007-05-05T02:10:00Z   55.855  -142.559      328      2.6
#&amp;gt; 3  2007-05-05T02:20:00Z   55.855  -142.559      329      2.2
#&amp;gt; 4  2007-05-05T02:30:00Z   55.855  -142.559      356      2.1
#&amp;gt; 5  2007-05-05T02:40:00Z   55.855  -142.559      360      1.5
#&amp;gt; 6  2007-05-05T02:50:00Z   55.855  -142.559       10      1.9
#&amp;gt; 7  2007-05-05T03:00:00Z   55.855  -142.559       10      2.2
#&amp;gt; 8  2007-05-05T03:10:00Z   55.855  -142.559       14      2.2
#&amp;gt; 9  2007-05-05T03:20:00Z   55.855  -142.559       16      2.1
#&amp;gt; 10 2007-05-05T03:30:00Z   55.855  -142.559       22      1.6
#&amp;gt; ..                  ...      ...       ...      ...      ...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;tornadoes&quot;&gt;Tornadoes&lt;/h2&gt;

&lt;p&gt;The function &lt;code class=&quot;highlighter-rouge&quot;&gt;tornadoes()&lt;/code&gt; gets tornado data from &lt;a href=&quot;http://www.spc.noaa.gov/gis/svrgis/&quot;&gt;http://www.spc.noaa.gov/gis/svrgis/&lt;/a&gt;.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;shp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tornadoes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;sp&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-07-07-weather-data-with-rnoaa/tornadoes.png&quot; alt=&quot;tornadoes&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;historical-observing-metadata-repository&quot;&gt;Historical Observing Metadata Repository&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;HOMR = Historical Observing Metadata Repository&lt;/li&gt;
  &lt;li&gt;Data from RESTful API at &lt;a href=&quot;http://www.ncdc.noaa.gov/homr/api&quot;&gt;http://www.ncdc.noaa.gov/homr/api&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;homr_definitions()&lt;/code&gt; gets you definitions and metadata for datasets&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;homr_definitions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Source: local data frame [6 x 7]
#&amp;gt; 
#&amp;gt;   defType  abbr                fullName    displayName
#&amp;gt; 1     ids GHCND        GHCND IDENTIFIER       GHCND ID
#&amp;gt; 2     ids  COOP             COOP NUMBER        COOP ID
#&amp;gt; 3     ids  WBAN             WBAN NUMBER        WBAN ID
#&amp;gt; 4     ids   FAA FAA LOCATION IDENTIFIER         FAA ID
#&amp;gt; 5     ids  ICAO                 ICAO ID        ICAO ID
#&amp;gt; 6     ids TRANS          TRANSMITTAL ID Transmittal ID
#&amp;gt; Variables not shown: description (chr), cssaName (chr), ghcndName (chr)
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;homr()&lt;/code&gt; gets you metadata for stations given query parameters. In this example, search for data for the state of Delaware&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;homr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;DE&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# the stations
#&amp;gt;  [1] &quot;10001871&quot; &quot;10100162&quot; &quot;10100164&quot; &quot;10100166&quot; &quot;20004155&quot; &quot;20004158&quot;
#&amp;gt;  [7] &quot;20004160&quot; &quot;20004162&quot; &quot;20004163&quot; &quot;20004168&quot; &quot;20004171&quot; &quot;20004176&quot;
#&amp;gt; [13] &quot;20004178&quot; &quot;20004179&quot; &quot;20004180&quot; &quot;20004182&quot; &quot;20004184&quot; &quot;20004185&quot;
#&amp;gt; [19] &quot;30001831&quot; &quot;30017384&quot; &quot;30020917&quot; &quot;30021161&quot; &quot;30021998&quot; &quot;30022674&quot;
#&amp;gt; [25] &quot;30026770&quot; &quot;30027455&quot; &quot;30032423&quot; &quot;30032685&quot; &quot;30034222&quot; &quot;30039554&quot;
#&amp;gt; [31] &quot;30043742&quot; &quot;30046662&quot; &quot;30046814&quot; &quot;30051475&quot; &quot;30057217&quot; &quot;30063570&quot;
#&amp;gt; [37] &quot;30064900&quot; &quot;30065901&quot; &quot;30067636&quot; &quot;30069663&quot; &quot;30075067&quot; &quot;30077378&quot;
#&amp;gt; [43] &quot;30077857&quot; &quot;30077923&quot; &quot;30077988&quot; &quot;30079088&quot; &quot;30079240&quot; &quot;30082430&quot;
#&amp;gt; [49] &quot;30084216&quot; &quot;30084262&quot; &quot;30084537&quot; &quot;30084796&quot; &quot;30094582&quot; &quot;30094639&quot;
#&amp;gt; [55] &quot;30094664&quot; &quot;30094670&quot; &quot;30094683&quot; &quot;30094730&quot; &quot;30094806&quot; &quot;30094830&quot;
#&amp;gt; [61] &quot;30094917&quot; &quot;30094931&quot; &quot;30094936&quot; &quot;30094991&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;You can index to each one to get more data&lt;/p&gt;

&lt;h2 id=&quot;storms&quot;&gt;Storms&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Data from: International Best Track Archive for Climate Stewardship (IBTrACS)&lt;/li&gt;
  &lt;li&gt;Data comes from an FTP server&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Flat files (csv’s) are served up as well as shp files. In this example, plot storm data for the year 1940&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res3&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;storm_shp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;year&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1940&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;NOAA Storm Shp Files&amp;gt;
#&amp;gt; Path: ~/.rnoaa/storms/year/Year.1940.ibtracs_all_points.v03r06.shp
#&amp;gt; Basin: &amp;lt;NA&amp;gt;
#&amp;gt; Storm: &amp;lt;NA&amp;gt;
#&amp;gt; Year: 1940
#&amp;gt; Type: points
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res3shp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;storm_shp_read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res3shp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-07-07-weather-data-with-rnoaa/unnamed-chunk-19-1.png&quot; alt=&quot;plot of chunk unnamed-chunk-19&quot; /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>rerddap - General purpose R client for ERDDAP servers</title>
   <link href="http://recology.info//2015/06/rerddap/"/>
   <updated>2015-06-24T00:00:00-07:00</updated>
   <id>http://recology.info//2015/06/rerddap</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://upwell.pfeg.noaa.gov/erddap/information.html&quot;&gt;ERDDAP&lt;/a&gt; is a data server that gives you a simple, consistent way to download subsets of gridded and tabular scientific datasets in common file formats and make graphs and maps.  Besides it’s own &lt;a href=&quot;http://upwell.pfeg.noaa.gov/erddap/rest.html&quot;&gt;RESTful interface&lt;/a&gt;, much of which is designed based on &lt;a href=&quot;https://en.wikipedia.org/wiki/OPeNDAP&quot;&gt;OPeNDAP&lt;/a&gt;, ERDDAP can act as an OPeNDAP server and as a &lt;a href=&quot;https://en.wikipedia.org/wiki/Web_Map_Service&quot;&gt;WMS&lt;/a&gt; server for gridded data.&lt;/p&gt;

&lt;p&gt;ERDDAP is a powerful tool - in a world of heterogeneous data, it’s often hard to combine data and serve it through the same interface, with tools for querying/filtering/subsetting the data. That is exactly what ERDDAP does. Heterogeneous data sets often have some similarities, such as latitude/longitude data and usually a time component, but other variables vary widely.&lt;/p&gt;

&lt;h2 id=&quot;netcdf&quot;&gt;NetCDF&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;rerddap&lt;/code&gt; supports &lt;a href=&quot;https://en.wikipedia.org/wiki/NetCDF&quot;&gt;NetCDF format&lt;/a&gt;, and is the default when using the &lt;code class=&quot;highlighter-rouge&quot;&gt;griddap()&lt;/code&gt; function. We use &lt;code class=&quot;highlighter-rouge&quot;&gt;ncdf&lt;/code&gt; by default, but you can choose to use &lt;code class=&quot;highlighter-rouge&quot;&gt;ncdf4&lt;/code&gt; instead.&lt;/p&gt;

&lt;h2 id=&quot;caching&quot;&gt;Caching&lt;/h2&gt;

&lt;p&gt;Data files downloaded are cached in a single hidden directory &lt;code class=&quot;highlighter-rouge&quot;&gt;~/.rerddap&lt;/code&gt; on your machine. It’s hidden so that you don’t accidentally delete the data, but you can still easily delete the data if you like, open files, move them around, etc.&lt;/p&gt;

&lt;p&gt;When you use &lt;code class=&quot;highlighter-rouge&quot;&gt;griddap()&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;tabledap()&lt;/code&gt; functions, we construct a &lt;a href=&quot;https://en.wikipedia.org/wiki/MD5#MD5_hashes&quot;&gt;MD5 hash&lt;/a&gt; from the base URL, and any query parameters - this way each query is separately cached. Once we have the hash, we look in &lt;code class=&quot;highlighter-rouge&quot;&gt;~/.rerddap&lt;/code&gt; for a matching hash. If there’s a match we use that file on disk - if no match, we make a http request for the data to the ERDDAP server you specify.&lt;/p&gt;

&lt;h2 id=&quot;erddap-servers&quot;&gt;ERDDAP servers&lt;/h2&gt;

&lt;p&gt;You can get a data.frame of ERDDAP servers using the function &lt;code class=&quot;highlighter-rouge&quot;&gt;servers()&lt;/code&gt;. Most I think serve some kind of NOAA data, but there are a few that aren’t NOAA data. Here are a few:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;servers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                                                                            name
#&amp;gt; 1                                                         Marine Domain Awareness (MDA) - Italy
#&amp;gt; 2                                                                    Marine Institute - Ireland
#&amp;gt; 3                                                      CoastWatch Caribbean/Gulf of Mexico Node
#&amp;gt; 4                                                                    CoastWatch West Coast Node
#&amp;gt; 5                    NOAA IOOS CeNCOOS (Central and Northern California Ocean Observing System)
#&amp;gt; 6 NOAA IOOS NERACOOS (Northeastern Regional Association of Coastal and Ocean Observing Systems)
#&amp;gt;                                        url
#&amp;gt; 1 https://bluehub.jrc.ec.europa.eu/erddap/
#&amp;gt; 2          http://erddap.marine.ie/erddap/
#&amp;gt; 3      http://cwcgom.aoml.noaa.gov/erddap/
#&amp;gt; 4  http://coastwatch.pfeg.noaa.gov/erddap/
#&amp;gt; 5    http://erddap.axiomalaska.com/erddap/
#&amp;gt; 6          http://www.neracoos.org/erddap/
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;p&gt;From CRAN&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rerddap&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Or development version from GitHub&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropensci/rerddap&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;rerddap&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;search&quot;&gt;Search&lt;/h2&gt;

&lt;p&gt;First, you likely want to search for data, specifying whether to search for either &lt;code class=&quot;highlighter-rouge&quot;&gt;griddadp&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;tabledap&lt;/code&gt; datasets. The default is &lt;code class=&quot;highlighter-rouge&quot;&gt;griddap&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;ed_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;size&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;which&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;table&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 11 results, showing first 20 
#&amp;gt;                                                                                         title
#&amp;gt; 1                                                                          CalCOFI Fish Sizes
#&amp;gt; 2                                                                        CalCOFI Larvae Sizes
#&amp;gt; 3                Channel Islands, Kelp Forest Monitoring, Size and Frequency, Natural Habitat
#&amp;gt; 4                                                         CalCOFI Larvae Counts Positive Tows
#&amp;gt; 5                                                                                CalCOFI Tows
#&amp;gt; 7                                                  OBIS - ARGOS Satellite Tracking of Animals
#&amp;gt; 8                                                     GLOBEC NEP MOCNESS Plankton (MOC1) Data
#&amp;gt; 9                                                 GLOBEC NEP Vertical Plankton Tow (VPT) Data
#&amp;gt; 10                            NWFSC Observer Fixed Gear Data, off West Coast of US, 2002-2006
#&amp;gt; 11                                 NWFSC Observer Trawl Data, off West Coast of US, 2002-2006
#&amp;gt; 12 AN EXPERIMENTAL DATASET: Underway Sea Surface Temperature and Salinity Aboard the Oleander
#&amp;gt;             dataset_id
#&amp;gt; 1     erdCalCOFIfshsiz
#&amp;gt; 2     erdCalCOFIlrvsiz
#&amp;gt; 3       erdCinpKfmSFNH
#&amp;gt; 4  erdCalCOFIlrvcntpos
#&amp;gt; 5       erdCalCOFItows
#&amp;gt; 7            aadcArgos
#&amp;gt; 8        erdGlobecMoc1
#&amp;gt; 9         erdGlobecVpt
#&amp;gt; 10  nwioosObsFixed2002
#&amp;gt; 11  nwioosObsTrawl2002
#&amp;gt; 12            nodcPJJU
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;ed_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;size&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;which&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;grid&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 6 results, showing first 20 
#&amp;gt;                                                                                                   title
#&amp;gt; 6                                                       NOAA Global Coral Bleaching Monitoring Products
#&amp;gt; 13        USGS COAWST Forecast, US East Coast and Gulf of Mexico (Experimental) [time][eta_rho][xi_rho]
#&amp;gt; 14            USGS COAWST Forecast, US East Coast and Gulf of Mexico (Experimental) [time][eta_u][xi_u]
#&amp;gt; 15            USGS COAWST Forecast, US East Coast and Gulf of Mexico (Experimental) [time][eta_v][xi_v]
#&amp;gt; 16 USGS COAWST Forecast, US East Coast and Gulf of Mexico (Experimental) [time][s_rho][eta_rho][xi_rho]
#&amp;gt; 17  USGS COAWST Forecast, US East Coast and Gulf of Mexico (Experimental) [time][Nbed][eta_rho][xi_rho]
#&amp;gt;             dataset_id
#&amp;gt; 6             NOAA_DHW
#&amp;gt; 13 whoi_ed12_89ce_9592
#&amp;gt; 14 whoi_61c3_0b5d_cd61
#&amp;gt; 15 whoi_62d0_9d64_c8ff
#&amp;gt; 16 whoi_7dd7_db97_4bbe
#&amp;gt; 17 whoi_a4fb_2c9c_16a7
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;This gives back dataset titles and identifiers - with which you should be able to get a sense for which dataset you may want to fetch.&lt;/p&gt;

&lt;h2 id=&quot;information&quot;&gt;Information&lt;/h2&gt;

&lt;p&gt;After searching you can get more information on a single dataset&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;whoi_62d0_9d64_c8ff&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;ERDDAP info&amp;gt; whoi_62d0_9d64_c8ff 
#&amp;gt;  Dimensions (range):  
#&amp;gt;      time: (2012-06-25T01:00:00Z, 2015-06-24T00:00:00Z) 
#&amp;gt;      eta_v: (0, 334) 
#&amp;gt;      xi_v: (0, 895) 
#&amp;gt;  Variables:  
#&amp;gt;      bedload_Vsand_01: 
#&amp;gt;          Units: kilogram meter-1 s-1 
#&amp;gt;      bedload_Vsand_02: 
#&amp;gt;          Units: kilogram meter-1 s-1 
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Which is a simple S3 list but prints out pretty, so it’s easy to quickly scan the printed output and see what you need to see to proceed. That is, in the next step you want to get the dataset, and you’ll want to specify your search using some combination of values for latitude, longitude, and time.&lt;/p&gt;

&lt;h2 id=&quot;griddap-gridded-data&quot;&gt;griddap (gridded) data&lt;/h2&gt;

&lt;p&gt;First, get information on a dataset to see time range, lat/long range, and variables.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;noaa_esrl_027d_0fb5_5d38&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;ERDDAP info&amp;gt; noaa_esrl_027d_0fb5_5d38 
#&amp;gt;  Dimensions (range):  
#&amp;gt;      time: (1850-01-01T00:00:00Z, 2014-05-01T00:00:00Z) 
#&amp;gt;      latitude: (87.5, -87.5) 
#&amp;gt;      longitude: (-177.5, 177.5) 
#&amp;gt;  Variables:  
#&amp;gt;      air: 
#&amp;gt;          Range: -20.9, 19.5 
#&amp;gt;          Units: degC
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then query for gridded data using the &lt;code class=&quot;highlighter-rouge&quot;&gt;griddap()&lt;/code&gt; function&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;griddap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;2012-01-01&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;2012-01-30&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;latitude&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;21&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;longitude&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-70&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;ERDDAP griddap&amp;gt; noaa_esrl_027d_0fb5_5d38
#&amp;gt;    Path: [~/.rerddap/648ed11e8b911b65e39eb63c8df339df.nc]
#&amp;gt;    Last updated: [2015-05-09 08:31:10]
#&amp;gt;    File size:    [0 mb]
#&amp;gt;    Dimensions (dims/vars):   [3 X 1]
#&amp;gt;    Dim names: time, latitude, longitude
#&amp;gt;    Variable names: CRUTEM3: Surface Air Temperature Monthly Anomaly
#&amp;gt;    data.frame (rows/columns):   [18 X 4]
#&amp;gt;                    time latitude longitude  air
#&amp;gt; 1  2012-01-01T00:00:00Z     22.5     -77.5   NA
#&amp;gt; 2  2012-01-01T00:00:00Z     22.5     -77.5   NA
#&amp;gt; 3  2012-01-01T00:00:00Z     22.5     -77.5   NA
#&amp;gt; 4  2012-01-01T00:00:00Z     22.5     -77.5 -0.1
#&amp;gt; 5  2012-01-01T00:00:00Z     22.5     -77.5   NA
#&amp;gt; 6  2012-01-01T00:00:00Z     22.5     -77.5 -0.2
#&amp;gt; 7  2012-01-01T00:00:00Z     17.5     -72.5  0.2
#&amp;gt; 8  2012-01-01T00:00:00Z     17.5     -72.5   NA
#&amp;gt; 9  2012-01-01T00:00:00Z     17.5     -72.5  0.3
#&amp;gt; 10 2012-02-01T00:00:00Z     17.5     -72.5   NA
#&amp;gt; ..                  ...      ...       ...  ...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The output of &lt;code class=&quot;highlighter-rouge&quot;&gt;griddap()&lt;/code&gt; is a list that you can explore further. Get the summary&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;summary&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;file ~/.rerddap/648ed11e8b911b65e39eb63c8df339df.nc has 3 dimensions:&quot;
#&amp;gt; [1] &quot;time   Size: 2&quot;
#&amp;gt; [1] &quot;latitude   Size: 3&quot;
#&amp;gt; [1] &quot;longitude   Size: 3&quot;
#&amp;gt; [1] &quot;------------------------&quot;
#&amp;gt; [1] &quot;file ~/.rerddap/648ed11e8b911b65e39eb63c8df339df.nc has 1 variables:&quot;
#&amp;gt; [1] &quot;float air[longitude,latitude,time]  Longname:CRUTEM3: Surface Air Temperature Monthly Anomaly Missval:-9.96920996838687e+36&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Or get the dimension variables (just the names of the variables for brevity here)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;summary&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;time&quot;      &quot;latitude&quot;  &quot;longitude&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Get the data.frame (beware: you may want to just look at the &lt;code class=&quot;highlighter-rouge&quot;&gt;head&lt;/code&gt; of the data.frame if large)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                    time latitude longitude   air
#&amp;gt; 1  2012-01-01T00:00:00Z     22.5     -77.5    NA
#&amp;gt; 2  2012-01-01T00:00:00Z     22.5     -77.5    NA
#&amp;gt; 3  2012-01-01T00:00:00Z     22.5     -77.5    NA
#&amp;gt; 4  2012-01-01T00:00:00Z     22.5     -77.5 -0.10
#&amp;gt; 5  2012-01-01T00:00:00Z     22.5     -77.5    NA
#&amp;gt; 6  2012-01-01T00:00:00Z     22.5     -77.5 -0.20
#&amp;gt; 7  2012-01-01T00:00:00Z     17.5     -72.5  0.20
#&amp;gt; 8  2012-01-01T00:00:00Z     17.5     -72.5    NA
#&amp;gt; 9  2012-01-01T00:00:00Z     17.5     -72.5  0.30
#&amp;gt; 10 2012-02-01T00:00:00Z     17.5     -72.5    NA
#&amp;gt; 11 2012-02-01T00:00:00Z     17.5     -72.5    NA
#&amp;gt; 12 2012-02-01T00:00:00Z     17.5     -72.5    NA
#&amp;gt; 13 2012-02-01T00:00:00Z     12.5     -67.5  0.40
#&amp;gt; 14 2012-02-01T00:00:00Z     12.5     -67.5    NA
#&amp;gt; 15 2012-02-01T00:00:00Z     12.5     -67.5  0.20
#&amp;gt; 16 2012-02-01T00:00:00Z     12.5     -67.5  0.00
#&amp;gt; 17 2012-02-01T00:00:00Z     12.5     -67.5    NA
#&amp;gt; 18 2012-02-01T00:00:00Z     12.5     -67.5  0.32
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;You can actually still explore the original netcdf summary object, e.g.,&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;summary&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dim&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $name
#&amp;gt; [1] &quot;time&quot;
#&amp;gt; 
#&amp;gt; $len
#&amp;gt; [1] 2
#&amp;gt; 
#&amp;gt; $unlim
#&amp;gt; [1] FALSE
#&amp;gt; 
#&amp;gt; $id
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; $dimvarid
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; $units
#&amp;gt; [1] &quot;seconds since 1970-01-01T00:00:00Z&quot;
#&amp;gt; 
#&amp;gt; $vals
#&amp;gt; [1] 1325376000 1328054400
#&amp;gt; 
#&amp;gt; $create_dimvar
#&amp;gt; [1] TRUE
#&amp;gt; 
#&amp;gt; attr(,&quot;class&quot;)
#&amp;gt; [1] &quot;dim.ncdf&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;tabledap-tabular-data&quot;&gt;tabledap (tabular) data&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;tabledap&lt;/code&gt; is data that is not gridded by lat/lon/time. In addition, the query interface is a bit different. Notice that you can do less than, more than, equal to type queries, but they are specified as character strings.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;erdCalCOFIfshsiz&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;ERDDAP info&amp;gt; erdCalCOFIfshsiz 
#&amp;gt;  Variables:  
#&amp;gt;      calcofi_species_code: 
#&amp;gt;          Range: 19, 1550 
#&amp;gt;      common_name: 
#&amp;gt;      cruise: 
#&amp;gt;      fish_1000m3: 
#&amp;gt;          Units: Fish per 1,000 cubic meters of water sampled 
#&amp;gt;      fish_count: 
#&amp;gt;      fish_size: 
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tabledap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;time&amp;gt;=2001-07-07&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;time&amp;lt;=2001-07-10&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                 &lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;longitude&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;latitude&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;fish_size&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;itis_tsn&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;scientific_name&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;ERDDAP tabledap&amp;gt; erdCalCOFIfshsiz
#&amp;gt;    Path: [~/.rerddap/f013f9ee09bdb4184928d533e575e948.csv]
#&amp;gt;    Last updated: [2015-05-09 08:31:21]
#&amp;gt;    File size:    [0.03 mb]
#&amp;gt;    Dimensions:   [558 X 5]
#&amp;gt; 
#&amp;gt;     longitude  latitude fish_size itis_tsn       scientific_name
#&amp;gt; 2     -118.26    33.255      22.9   623745 Nannobrachium ritteri
#&amp;gt; 3     -118.26    33.255      22.9   623745 Nannobrachium ritteri
#&amp;gt; 4  -118.10667 32.738335      31.5   623625  Lipolagus ochotensis
#&amp;gt; 5  -118.10667 32.738335      48.3   623625  Lipolagus ochotensis
#&amp;gt; 6  -118.10667 32.738335      15.5   162221 Argyropelecus sladeni
#&amp;gt; 7  -118.10667 32.738335      16.3   162221 Argyropelecus sladeni
#&amp;gt; 8  -118.10667 32.738335      17.8   162221 Argyropelecus sladeni
#&amp;gt; 9  -118.10667 32.738335      18.2   162221 Argyropelecus sladeni
#&amp;gt; 10 -118.10667 32.738335      19.2   162221 Argyropelecus sladeni
#&amp;gt; 11 -118.10667 32.738335      20.0   162221 Argyropelecus sladeni
#&amp;gt; ..        ...       ...       ...      ...                   ...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Since both &lt;code class=&quot;highlighter-rouge&quot;&gt;griddap()&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;tabledap()&lt;/code&gt; give back data.frame’s, it’s easy to do downstream manipulation. For example, we can use &lt;code class=&quot;highlighter-rouge&quot;&gt;dplyr&lt;/code&gt; to filter, summarize, group, and sort:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;dplyr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fish_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fish_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tbl_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fish_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;group_by&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scientific_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;summarise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mean_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mean&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fish_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;arrange&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;desc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mean_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Source: local data frame [20 x 2]
#&amp;gt; 
#&amp;gt;                 scientific_name mean_size
#&amp;gt; 1       Idiacanthus antrostomus 253.00000
#&amp;gt; 2            Stomias atriventer 189.25000
#&amp;gt; 3            Lestidiops ringens  98.70000
#&amp;gt; 4     Tarletonbeania crenularis  56.50000
#&amp;gt; 5      Ceratoscopelus townsendi  53.70000
#&amp;gt; 6     Stenobrachius leucopsarus  47.74538
#&amp;gt; 7               Sardinops sagax  47.00000
#&amp;gt; 8         Nannobrachium ritteri  43.30250
#&amp;gt; 9         Bathylagoides wesethi  43.09167
#&amp;gt; 10         Vinciguerria lucetia  42.00000
#&amp;gt; 11       Cyclothone acclinidens  40.80000
#&amp;gt; 12         Lipolagus ochotensis  39.72500
#&amp;gt; 13        Leuroglossus stilbius  38.35385
#&amp;gt; 14        Triphoturus mexicanus  38.21342
#&amp;gt; 15                Diaphus theta  37.88571
#&amp;gt; 16       Trachipterus altivelis  37.70000
#&amp;gt; 17 Symbolophorus californiensis  37.66000
#&amp;gt; 18         Nannobrachium regale  37.50000
#&amp;gt; 19         Merluccius productus  36.61333
#&amp;gt; 20        Argyropelecus sladeni  32.43333
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then make a cute little plot&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ggplot2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reorder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scientific_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mean_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mean_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;geom_bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;identity&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;coord_flip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;theme_grey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Mean Size&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Species&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-06-24-rerddap/unnamed-chunk-19-1.png&quot; alt=&quot;plot of chunk unnamed-chunk-19&quot; /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>iDigBio - a new data source in spocc</title>
   <link href="http://recology.info//2015/06/idigbio-in-spocc/"/>
   <updated>2015-06-08T00:00:00-07:00</updated>
   <id>http://recology.info//2015/06/idigbio-in-spocc</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;https://www.idigbio.org/&quot;&gt;iDigBio&lt;/a&gt;, or &lt;em&gt;Integrated Digitized Biocollections&lt;/em&gt;, collects and provides access to species occurrence data, and associated metadata (e.g., images of specimens, when provided). They collect data from &lt;a href=&quot;https://www.idigbio.org/portal/publishers&quot;&gt;a lot of different providers&lt;/a&gt;. They have a nice web interface for searching, check out &lt;a href=&quot;https://www.idigbio.org/portal/search&quot;&gt;idigbio.org/portal/search&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;spocc&lt;/code&gt; is a package we’ve been working on at &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt; for a while now - it is a one stop shop for retrieving species ocurrence data. As new sources of species occurrence data come to our attention, and are available via a RESTful API, we incorporate them into &lt;code class=&quot;highlighter-rouge&quot;&gt;spocc&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;I attended last week a &lt;a href=&quot;https://github.com/idigbio-api-hackathon/HackathonCentral/&quot;&gt;hackathon put on by iDigBio&lt;/a&gt;. One of the projects I worked on was integrating iDigBio into &lt;code class=&quot;highlighter-rouge&quot;&gt;spocc&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;With the addition of iDigBio, we now have in &lt;code class=&quot;highlighter-rouge&quot;&gt;spocc&lt;/code&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.gbif.org/&quot;&gt;GBIF&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.inaturalist.org/&quot;&gt;iNaturalist&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://bison.usgs.ornl.gov/&quot;&gt;USGS Bison&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://ebird.org/content/ebird/&quot;&gt;eBird&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://ecoengine.berkeley.edu/&quot;&gt;Ecoengine&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://vertnet.org/&quot;&gt;Vertnet&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.idigbio.org/&quot;&gt;iDigBio&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The following is a quick demo of getting iDigBio data in &lt;code class=&quot;highlighter-rouge&quot;&gt;spocc&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;p&gt;Get updated versions of &lt;code class=&quot;highlighter-rouge&quot;&gt;rgbif&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;ridigbio&lt;/code&gt; first. And get &lt;code class=&quot;highlighter-rouge&quot;&gt;leaflet&lt;/code&gt; to make an interactive map.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropensci/rgbif&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;iDigBio/ridigbio&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;rstudio/leaflet&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropensci/spocc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;spocc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;use-ridigbio---the-r-client-for-idigbio&quot;&gt;Use ridigbio - the R client for iDigBio&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ridigbio&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;idig_search_records&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rq&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;genus&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;acer&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                   uuid
#&amp;gt; 1 00041678-5df1-4a23-ba78-8c12f60af369
#&amp;gt; 2 00072caf-0f24-447f-b68e-a20299f6afc7
#&amp;gt; 3 000a6b9b-0bbd-46f6-82cb-848c30c46313
#&amp;gt; 4 001d05e0-9c86-466d-957d-e73e2ce64fbe
#&amp;gt; 5 0022a2da-bc97-4bef-b2a5-b8a9944fc677
#&amp;gt;                                    occurrenceid catalognumber      family
#&amp;gt; 1 urn:uuid:b275f928-5c0d-4832-ae82-fde363d8fde1          &amp;lt;NA&amp;gt; sapindaceae
#&amp;gt; 2          40428b90-27a5-11e3-8d47-005056be0003   lsu00049997   aceraceae
#&amp;gt; 3          02ca5aae-d8ab-492f-af10-e005b96c2295        191243 sapindaceae
#&amp;gt; 4                     urn:catalog:cas:ds:679715      ds679715 sapindaceae
#&amp;gt; 5          b12bd651-2c6b-11e3-b3b8-180373cac83e         41898 sapindaceae
#&amp;gt;   genus  scientificname       country stateprovince geopoint.lat
#&amp;gt; 1  acer     acer rubrum united states      illinois         &amp;lt;NA&amp;gt;
#&amp;gt; 2  acer    acer negundo united states     louisiana         &amp;lt;NA&amp;gt;
#&amp;gt; 3  acer            &amp;lt;NA&amp;gt; united states      new york         &amp;lt;NA&amp;gt;
#&amp;gt; 4  acer acer circinatum united states    california      41.8714
#&amp;gt; 5  acer     acer rubrum united states      maryland   39.4197222
#&amp;gt;   geopoint.lon             datecollected           collector
#&amp;gt; 1         &amp;lt;NA&amp;gt; 1967-06-25T00:00:00+00:00     john e. ebinger
#&amp;gt; 2         &amp;lt;NA&amp;gt; 1991-04-19T00:00:00+00:00     alan w. lievens
#&amp;gt; 3         &amp;lt;NA&amp;gt;                      &amp;lt;NA&amp;gt; stephen f. hilfiker
#&amp;gt; 4    -123.8503 1930-10-27T00:00:00+00:00        carl b. wolf
#&amp;gt; 5  -77.1227778 1980-04-29T00:00:00+00:00         doweary, d.
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;use-spocc&quot;&gt;Use spocc&lt;/h2&gt;

&lt;h3 id=&quot;scientific-name-search&quot;&gt;Scientific name search&lt;/h3&gt;

&lt;p&gt;Same search as above with &lt;code class=&quot;highlighter-rouge&quot;&gt;ridigbio&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;occ&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Acer&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;idigbio&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Searched: idigbio
#&amp;gt; Occurrences - Found: 379, Returned: 5
#&amp;gt; Search type: Scientific
#&amp;gt;   idigbio: Acer (5)
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;geographic-search&quot;&gt;Geographic search&lt;/h3&gt;

&lt;p&gt;iDigBio uses Elasticsearch syntax to define a geographic search, but all you need to do is give a numeric vector of length 4 defining a bounding box, and you’re good to go.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;bounds&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-120&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;occ&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;idigbio&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geometry&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bounds&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Searched: idigbio
#&amp;gt; Occurrences - Found: 346,737, Returned: 10
#&amp;gt; Search type: Geometry
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;w-or-wo-coordinates&quot;&gt;W/ or W/O Coordinates&lt;/h3&gt;

&lt;p&gt;Don’t pass &lt;code class=&quot;highlighter-rouge&quot;&gt;has_coords&lt;/code&gt; (gives data w/ and w/o coordinates data)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;occ&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Acer&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;idigbio&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Searched: idigbio
#&amp;gt; Occurrences - Found: 379, Returned: 5
#&amp;gt; Search type: Scientific
#&amp;gt;   idigbio: Acer (5)
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Only records with coordinates data&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;occ&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Acer&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;idigbio&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;has_coords&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Searched: idigbio
#&amp;gt; Occurrences - Found: 16, Returned: 5
#&amp;gt; Search type: Scientific
#&amp;gt;   idigbio: Acer (5)
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Only records without coordinates data&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;occ&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Acer&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;idigbio&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;has_coords&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Searched: idigbio
#&amp;gt; Occurrences - Found: 363, Returned: 5
#&amp;gt; Search type: Scientific
#&amp;gt;   idigbio: Acer (5)
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;make-an-interactive-map&quot;&gt;Make an interactive map&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;leaflet&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;bounds&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-120&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;leaflet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;addTiles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;addMarkers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;longitude&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;latitude&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;popup&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;addRectangles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;lng1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bounds&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lat1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bounds&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;lng2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bounds&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lat2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bounds&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fillColor&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;transparent&quot;&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-06-08-idigbio-in-spocc/plot.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>openadds - open addresses client</title>
   <link href="http://recology.info//2015/05/openadds/"/>
   <updated>2015-05-18T00:00:00-07:00</updated>
   <id>http://recology.info//2015/05/openadds</id>
   <content type="html">&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;openadds&lt;/code&gt; talks to &lt;a href=&quot;http://openaddresses.io/&quot;&gt;Openaddresses.io&lt;/a&gt;. a run down of its things:&lt;/p&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sckott/openadds&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;openadds&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;list-datasets&quot;&gt;List datasets&lt;/h2&gt;

&lt;p&gt;Scrapes links to datasets from the openaddresses site&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;oa_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;http://data.openaddresses.io.s3.amazonaws.com/20150511/au-tas-launceston.csv&quot;   
#&amp;gt; [2] &quot;http://s3.amazonaws.com/data.openaddresses.io/20141127/au-victoria.zip&quot;         
#&amp;gt; [3] &quot;http://data.openaddresses.io.s3.amazonaws.com/20150511/be-flanders.zip&quot;         
#&amp;gt; [4] &quot;http://data.openaddresses.io.s3.amazonaws.com/20150417/ca-ab-calgary.zip&quot;       
#&amp;gt; [5] &quot;http://data.openaddresses.io.s3.amazonaws.com/20150511/ca-ab-grande_prairie.zip&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;search-for-datasets&quot;&gt;Search for datasets&lt;/h2&gt;

&lt;p&gt;Uses &lt;code class=&quot;highlighter-rouge&quot;&gt;oa_list()&lt;/code&gt; internally, then searches through columns requested.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;oa_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;country&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;us&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ca&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Source: local data frame [68 x 5]
#&amp;gt; 
#&amp;gt;    country state             city  ext
#&amp;gt; 1       us    ca san_mateo_county .zip
#&amp;gt; 2       us    ca   alameda_county .zip
#&amp;gt; 3       us    ca   alameda_county .zip
#&amp;gt; 4       us    ca           amador .zip
#&amp;gt; 5       us    ca           amador .zip
#&amp;gt; 6       us    ca      bakersfield .zip
#&amp;gt; 7       us    ca      bakersfield .zip
#&amp;gt; 8       us    ca         berkeley .zip
#&amp;gt; 9       us    ca         berkeley .zip
#&amp;gt; 10      us    ca     butte_county .zip
#&amp;gt; ..     ...   ...              ...  ...
#&amp;gt; Variables not shown: url (chr)
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;get-data&quot;&gt;Get data&lt;/h2&gt;

&lt;p&gt;Passing in a URL&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;oa_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Openaddresses data&amp;gt; ~/.openadds/ca-ab-calgary.zip
#&amp;gt; Dimensions [350962, 13]
#&amp;gt; 
#&amp;gt;    OBJECTID ADDRESS_TY                 ADDRESS    STREET_NAM STREET_TYP
#&amp;gt; 0    757023     Parcel  249 SAGE MEADOWS CI NW  SAGE MEADOWS         CI
#&amp;gt; 1    757022     Parcel           2506 17 ST SE            17         ST
#&amp;gt; 2    757021     Parcel     305 EVANSPARK GD NW     EVANSPARK         GD
#&amp;gt; 3    757020     Parcel     321 EVANSPARK GD NW     EVANSPARK         GD
#&amp;gt; 4    757019     Parcel   204 EVANSBROOKE LD NW   EVANSBROOKE         LD
#&amp;gt; 5    757018     Parcel   200 EVANSBROOKE LD NW   EVANSBROOKE         LD
#&amp;gt; 6    757017     Parcel 219 HIDDEN VALLEY LD NW HIDDEN VALLEY         LD
#&amp;gt; 7    757016     Parcel 211 HIDDEN VALLEY LD NW HIDDEN VALLEY         LD
#&amp;gt; 8    757015     Parcel 364 HIDDEN VALLEY LD NW HIDDEN VALLEY         LD
#&amp;gt; 9    757014     Parcel 348 HIDDEN VALLEY LD NW HIDDEN VALLEY         LD
#&amp;gt; ..      ...        ...                     ...           ...        ...
#&amp;gt; Variables not shown: STREET_QUA (fctr), HOUSE_NUMB (int), HOUSE_ALPH
#&amp;gt;      (fctr), SUITE_NUMB (int), SUITE_ALPH (fctr), LONGITUDE (dbl),
#&amp;gt;      LATITUDE (dbl), COMM_NAME (fctr)
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;First getting URL for dataset through &lt;code class=&quot;highlighter-rouge&quot;&gt;as_openadd()&lt;/code&gt;, then passing to &lt;code class=&quot;highlighter-rouge&quot;&gt;oa_get()&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as_openadd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;us&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;nm&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;hidalgo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;&amp;lt;OpenAddreses&amp;gt;&amp;gt; 
#&amp;gt;   &amp;lt;&amp;lt;country&amp;gt;&amp;gt; us
#&amp;gt;   &amp;lt;&amp;lt;state&amp;gt;&amp;gt; nm
#&amp;gt;   &amp;lt;&amp;lt;city&amp;gt;&amp;gt; hidalgo
#&amp;gt;   &amp;lt;&amp;lt;extension&amp;gt;&amp;gt; .csv
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;oa_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Openaddresses data&amp;gt; ~/.openadds/us-nm-hidalgo.csv
#&amp;gt; Dimensions [170659, 37]
#&amp;gt; 
#&amp;gt;    OBJECTID Shape ADD_NUM ADD_SUF PRE_MOD PRE_DIR PRE_TYPE         ST_NAME
#&amp;gt; 1         1    NA     422                       S                      2ND
#&amp;gt; 2         2    NA    1413                       S                      4TH
#&amp;gt; 3         3    NA     412                       E                 CHAMPION
#&amp;gt; 4         4    NA     110                       E                   SAMANO
#&amp;gt; 5         5    NA    2608                       W          FREDDY GONZALEZ
#&amp;gt; 6         6    NA    2604                       W          FREDDY GONZALEZ
#&amp;gt; 7         7    NA    1123                       W                      FAY
#&amp;gt; 8         8    NA     417                       S                      2ND
#&amp;gt; 9         9    NA    4551                       E                    TEXAS
#&amp;gt; 10       10    NA     810                                        DRIFTWOOD
#&amp;gt; ..      ...   ...     ...     ...     ...     ...      ...             ...
#&amp;gt; Variables not shown: ST_TYPE (chr), POS_DIR (chr), POS_MOD (chr), ESN
#&amp;gt;      (int), MSAG_COMM (chr), PARCEL_ID (chr), PLACE_TYPE (chr), LANDMARK
#&amp;gt;      (chr), BUILDING (chr), UNIT (chr), ROOM (chr), FLOOR (int), LOC_NOTES
#&amp;gt;      (chr), ST_ALIAS (chr), FULL_ADDR (chr), ZIP (chr), POSTAL_COM (chr),
#&amp;gt;      MUNICIPAL (chr), COUNTY (chr), STATE (chr), SOURCE (chr), REGION
#&amp;gt;      (chr), EXCH (chr), LAT (dbl), LONG (dbl), PICTURE (chr), OA:x (dbl),
#&amp;gt;      OA:y (dbl), OA:geom (chr)
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;combine-multiple-datasets&quot;&gt;Combine multiple datasets&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;combine&lt;/code&gt; attemps to guess lat/long and address columns, but definitely more work to do to make 
this work for most cases. Lat/long and address columns vary among every dataset - some datasets
have no lat/long data, some have no address data.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;out2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;oa_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;32&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alldat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;oa_combine&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;out2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Source: local data frame [418,623 x 4]
#&amp;gt; 
#&amp;gt;          lon      lat                 address           dataset
#&amp;gt; 1  -114.1303 51.17188  249 SAGE MEADOWS CI NW ca-ab-calgary.zip
#&amp;gt; 2  -114.0190 51.03168           2506 17 ST SE ca-ab-calgary.zip
#&amp;gt; 3  -114.1175 51.17497     305 EVANSPARK GD NW ca-ab-calgary.zip
#&amp;gt; 4  -114.1175 51.17461     321 EVANSPARK GD NW ca-ab-calgary.zip
#&amp;gt; 5  -114.1212 51.16268   204 EVANSBROOKE LD NW ca-ab-calgary.zip
#&amp;gt; 6  -114.1213 51.16264   200 EVANSBROOKE LD NW ca-ab-calgary.zip
#&amp;gt; 7  -114.1107 51.14784 219 HIDDEN VALLEY LD NW ca-ab-calgary.zip
#&amp;gt; 8  -114.1108 51.14768 211 HIDDEN VALLEY LD NW ca-ab-calgary.zip
#&amp;gt; 9  -114.1121 51.14780 364 HIDDEN VALLEY LD NW ca-ab-calgary.zip
#&amp;gt; 10 -114.1117 51.14800 348 HIDDEN VALLEY LD NW ca-ab-calgary.zip
#&amp;gt; ..       ...      ...                     ...               ...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;map-data&quot;&gt;Map data&lt;/h2&gt;

&lt;p&gt;Get some data&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;oa_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Openaddresses data&amp;gt; ~/.openadds/us-ca-sonoma_county.zip
#&amp;gt; Dimensions [217243, 5]
#&amp;gt; 
#&amp;gt;          LON      LAT  NUMBER          STREET POSTCODE
#&amp;gt; 1  -122.5327 38.29779 3771  A       Cory Lane       NA
#&amp;gt; 2  -122.5422 38.30354   18752 White Oak Drive       NA
#&amp;gt; 3  -122.5412 38.30327   18749 White Oak Drive       NA
#&amp;gt; 4  -122.3997 38.26122    3552       Napa Road       NA
#&amp;gt; 5  -122.5425 38.30404    3998 White Oak Court       NA
#&amp;gt; 6  -122.5429 38.30434    4026 White Oak Court       NA
#&amp;gt; 7  -122.5430 38.30505    4039 White Oak Court       NA
#&amp;gt; 8  -122.5417 38.30504    4017 White Oak Court       NA
#&amp;gt; 9  -122.5409 38.30436   18702 White Oak Drive       NA
#&amp;gt; 10 -122.5403 38.30392   18684 White Oak Drive       NA
#&amp;gt; ..       ...      ...     ...             ...      ...
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Make an interactive map (not all data)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;leaflet&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;oa_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;oa_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;country&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;us&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;city&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;boulder&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;oa_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;oa_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;country&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;us&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;city&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;gunnison&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;oa_combine&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;leaflet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;addTiles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;addCircles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lng&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;popup&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;address&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-05-18-openadds/map.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;to-do&quot;&gt;To do&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Surely there are many datasets that won’t work in &lt;code class=&quot;highlighter-rouge&quot;&gt;oa_combine()&lt;/code&gt; - gotta go through many more.&lt;/li&gt;
  &lt;li&gt;An easy viz function wrapping &lt;code class=&quot;highlighter-rouge&quot;&gt;leaflet&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Since you can get a lot of spatial data quickly, easy way to visualize big data, maybe marker clusters?&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>lawn - a new package to do geospatial analysis</title>
   <link href="http://recology.info//2015/05/mow-the-lawn/"/>
   <updated>2015-05-18T00:00:00-07:00</updated>
   <id>http://recology.info//2015/05/mow-the-lawn</id>
   <content type="html">&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;lawn&lt;/code&gt; is an R wrapper for the Javascript library &lt;a href=&quot;http://turfjs.org/&quot;&gt;turf.js&lt;/a&gt; for advanced geospatial analysis. In addition, we have a few functions to interface with the &lt;a href=&quot;https://github.com/mapbox/geojson-random&quot;&gt;geojson-random&lt;/a&gt; Javascript library.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;lawn&lt;/code&gt; includes traditional spatial operations, helper functions for creating GeoJSON data, and data classification and statistics tools.&lt;/p&gt;

&lt;p&gt;There is an additional helper function (see &lt;code class=&quot;highlighter-rouge&quot;&gt;view()&lt;/code&gt;) in this package to help visualize data with interactive maps via the &lt;code class=&quot;highlighter-rouge&quot;&gt;leaflet&lt;/code&gt; package (&lt;a href=&quot;https://github.com/rstudio/leaflet&quot;&gt;https://github.com/rstudio/leaflet&lt;/a&gt;). Note that &lt;code class=&quot;highlighter-rouge&quot;&gt;leaflet&lt;/code&gt; is not required to install &lt;code class=&quot;highlighter-rouge&quot;&gt;lawn&lt;/code&gt; - it’s in Suggests, not Imports or Depends.&lt;/p&gt;

&lt;p&gt;Use cases for this package include (but not limited to, obs.) the following (all below assumes GeoJSON format):&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Create random spatial data.&lt;/li&gt;
  &lt;li&gt;Convert among spatial data types (e.g. &lt;code class=&quot;highlighter-rouge&quot;&gt;Polygon&lt;/code&gt; to &lt;code class=&quot;highlighter-rouge&quot;&gt;FeatureCollection&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;Transform objects, including merging many, simplifying, calculating hulls, etc.&lt;/li&gt;
  &lt;li&gt;Measuring objects&lt;/li&gt;
  &lt;li&gt;Performing interpolation of objects&lt;/li&gt;
  &lt;li&gt;Aggregating data (aka properties) associated with objects&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;p&gt;Stable &lt;code class=&quot;highlighter-rouge&quot;&gt;lawn&lt;/code&gt; version from CRAN - this should fetch &lt;code class=&quot;highlighter-rouge&quot;&gt;leaflet&lt;/code&gt;, which is not on CRAN, but in a &lt;code class=&quot;highlighter-rouge&quot;&gt;drat&lt;/code&gt; repo (let me know if it doesn’t)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;lawn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Or, the development version from Github&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropensci/lawn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;lawn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;view&quot;&gt;view&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;lawn&lt;/code&gt; includes a tiny helper function for visualizing geojson. For examples below, we’ll make liberal use of the &lt;code class=&quot;highlighter-rouge&quot;&gt;lawn::view()&lt;/code&gt; function to visualize what it is the heck we’re doing. mkay, lets roll…&lt;/p&gt;

&lt;p&gt;We’ve tried to make &lt;code class=&quot;highlighter-rouge&quot;&gt;view()&lt;/code&gt; work with as many inputs as possible, from class &lt;code class=&quot;highlighter-rouge&quot;&gt;character&lt;/code&gt; containing
json to the class &lt;code class=&quot;highlighter-rouge&quot;&gt;json&lt;/code&gt; from the &lt;code class=&quot;highlighter-rouge&quot;&gt;jsonlite&lt;/code&gt; package, to the class &lt;code class=&quot;highlighter-rouge&quot;&gt;list&lt;/code&gt; to all of the GeoJSON outputs
from functions in &lt;code class=&quot;highlighter-rouge&quot;&gt;lawn&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;view&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lawn_data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;points_average&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-05-18-mow-the-lawn/map1.png&quot; alt=&quot;map1&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Here, we sample at random two points from the same dataset just viewed.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;lawn_sample&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lawn_data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;points_average&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;view&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-05-18-mow-the-lawn/map2.png&quot; alt=&quot;map2&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;make-some-geojson-data&quot;&gt;Make some geojson data&lt;/h2&gt;

&lt;p&gt;Point&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;lawn_point&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-74.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $type
#&amp;gt; [1] &quot;Feature&quot;
#&amp;gt; 
#&amp;gt; $geometry
#&amp;gt; $geometry$type
#&amp;gt; [1] &quot;Point&quot;
#&amp;gt; 
#&amp;gt; $geometry$coordinates
#&amp;gt; [1] -74.5  40.0
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $properties
#&amp;gt; named list()
#&amp;gt; 
#&amp;gt; attr(,&quot;class&quot;)
#&amp;gt; [1] &quot;point&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;lawn_point&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-74.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;view&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-05-18-mow-the-lawn/point.png&quot; alt=&quot;point&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Polygon&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;rings&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-2.275543&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;53.464547&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-2.275543&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;53.489271&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-2.215118&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;53.489271&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-2.215118&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;53.464547&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-2.275543&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;53.464547&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;lawn_polygon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $type
#&amp;gt; [1] &quot;Feature&quot;
#&amp;gt; 
#&amp;gt; $geometry
#&amp;gt; $geometry$type
#&amp;gt; [1] &quot;Polygon&quot;
#&amp;gt; 
#&amp;gt; $geometry$coordinates
#&amp;gt; , , 1
#&amp;gt; 
#&amp;gt;           [,1]      [,2]      [,3]      [,4]      [,5]
#&amp;gt; [1,] -2.275543 -2.275543 -2.215118 -2.215118 -2.275543
#&amp;gt; 
#&amp;gt; , , 2
#&amp;gt; 
#&amp;gt;          [,1]     [,2]     [,3]     [,4]     [,5]
#&amp;gt; [1,] 53.46455 53.48927 53.48927 53.46455 53.46455
#&amp;gt; 
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $properties
#&amp;gt; named list()
#&amp;gt; 
#&amp;gt; attr(,&quot;class&quot;)
#&amp;gt; [1] &quot;polygon&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;lawn_polygon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;view&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-05-18-mow-the-lawn/polygon.png&quot; alt=&quot;polygon&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Random set of points&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;lawn_random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $type
#&amp;gt; [1] &quot;FeatureCollection&quot;
#&amp;gt; 
#&amp;gt; $features
#&amp;gt;      type geometry.type  geometry.coordinates
#&amp;gt; 1 Feature         Point -137.46327, -63.46154
#&amp;gt; 2 Feature         Point  -110.68426, 83.10533
#&amp;gt; 
#&amp;gt; attr(,&quot;class&quot;)
#&amp;gt; [1] &quot;featurecollection&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;lawn_random&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;view&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-05-18-mow-the-lawn/lawn_random.png&quot; alt=&quot;rand1&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Or, use a different Javascript library (&lt;a href=&quot;https://github.com/mapbox/geojson-random&quot;&gt;geojson-random&lt;/a&gt;) to create random features.&lt;/p&gt;

&lt;p&gt;Positions&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gr_position&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] -179.77996   45.99018
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Points&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gr_point&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $type
#&amp;gt; [1] &quot;FeatureCollection&quot;
#&amp;gt; 
#&amp;gt; $features
#&amp;gt;      type geometry.type geometry.coordinates
#&amp;gt; 1 Feature         Point   5.83895, -27.77218
#&amp;gt; 2 Feature         Point   78.50177, 14.95840
#&amp;gt; 
#&amp;gt; attr(,&quot;class&quot;)
#&amp;gt; [1] &quot;featurecollection&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gr_point&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;view&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-05-18-mow-the-lawn/geojsonrandom_points.png&quot; alt=&quot;rand2&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Polygons&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gr_polygon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vertices&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max_radial_length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $type
#&amp;gt; [1] &quot;FeatureCollection&quot;
#&amp;gt; 
#&amp;gt; $features
#&amp;gt;      type geometry.type
#&amp;gt; 1 Feature       Polygon
#&amp;gt;                                                                                                           geometry.coordinates
#&amp;gt; 1 67.58827, 67.68551, 67.00091, 66.70156, 65.72578, 67.58827, -42.11340, -42.69850, -43.54866, -42.42758, -41.76731, -42.11340
#&amp;gt; 
#&amp;gt; attr(,&quot;class&quot;)
#&amp;gt; [1] &quot;featurecollection&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gr_polygon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vertices&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max_radial_length&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;view&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-05-18-mow-the-lawn/geojsonrandom_polygons.png&quot; alt=&quot;rand3&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;count&quot;&gt;count&lt;/h2&gt;

&lt;p&gt;Count number of points within polygons, appends a new field to properties (see the &lt;code class=&quot;highlighter-rouge&quot;&gt;count&lt;/code&gt; field)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;lawn_count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;polygons&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lawn_data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;polygons_count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;points&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lawn_data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;points_count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $type
#&amp;gt; [1] &quot;FeatureCollection&quot;
#&amp;gt; 
#&amp;gt; $features
#&amp;gt;      type pt_count geometry.type
#&amp;gt; 1 Feature        2       Polygon
#&amp;gt; 2 Feature        0       Polygon
#&amp;gt;                                                                                           geometry.coordinates
#&amp;gt; 1 -112.07239, -112.07239, -112.02810, -112.02810, -112.07239, 46.58659, 46.61761, 46.61761, 46.58659, 46.58659
#&amp;gt; 2 -112.02398, -112.02398, -111.96613, -111.96613, -112.02398, 46.57043, 46.61502, 46.61502, 46.57043, 46.57043
#&amp;gt; 
#&amp;gt; attr(,&quot;class&quot;)
#&amp;gt; [1] &quot;featurecollection&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;distance&quot;&gt;distance&lt;/h2&gt;

&lt;p&gt;Define two points&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;{
 &quot;type&quot;: &quot;Feature&quot;,
 &quot;properties&quot;: {},
 &quot;geometry&quot;: {
   &quot;type&quot;: &quot;Point&quot;,
   &quot;coordinates&quot;: [-75.343, 39.984]
 }
}&#39;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;{
  &quot;type&quot;: &quot;Feature&quot;,
  &quot;properties&quot;: {},
  &quot;geometry&quot;: {
    &quot;type&quot;: &quot;Point&quot;,
    &quot;coordinates&quot;: [-75.534, 39.123]
  }
}&#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Calculate distance, default units is kilometers (default output: &lt;code class=&quot;highlighter-rouge&quot;&gt;km&lt;/code&gt;)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;lawn_distance&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 97.15958
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;sample-from-a-featurecollection&quot;&gt;sample from a FeatureCollection&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lawn_data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;points_average&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; {
#&amp;gt;   &quot;type&quot;: &quot;FeatureCollection&quot;,
#&amp;gt;   &quot;features&quot;: [
#&amp;gt;     {
#&amp;gt;       &quot;type&quot;: &quot;Feature&quot;,
#&amp;gt;       &quot;properties&quot;: {
#&amp;gt;         &quot;population&quot;: 200
#&amp;gt;       },
#&amp;gt;       &quot;geometry&quot;: {
#&amp;gt;         &quot;type&quot;: &quot;Point&quot;,
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Sample 2 points at random&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;lawn_sample&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $type
#&amp;gt; [1] &quot;FeatureCollection&quot;
#&amp;gt; 
#&amp;gt; $features
#&amp;gt;      type population geometry.type geometry.coordinates
#&amp;gt; 1 Feature        200         Point   10.80643, 59.90891
#&amp;gt; 2 Feature        600         Point   10.71579, 59.90478
#&amp;gt; 
#&amp;gt; attr(,&quot;class&quot;)
#&amp;gt; [1] &quot;featurecollection&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;extent&quot;&gt;extent&lt;/h2&gt;

&lt;p&gt;Calculates the extent of all input features in a FeatureCollection, and returns a bounding box.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;lawn_extent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lawn_data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;points_average&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 10.71579 59.90478 10.80643 59.93162
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;buffer&quot;&gt;buffer&lt;/h2&gt;

&lt;p&gt;Calculates a buffer for input features for a given radius.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;{
 &quot;type&quot;: &quot;Feature&quot;,
 &quot;properties&quot;: {},
 &quot;geometry&quot;: {
     &quot;type&quot;: &quot;Polygon&quot;,
     &quot;coordinates&quot;: [[
       [-112.072391,46.586591],
       [-112.072391,46.61761],
       [-112.028102,46.61761],
       [-112.028102,46.586591],
       [-112.072391,46.586591]
     ]]
   }
}&#39;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;view&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-05-18-mow-the-lawn/buffer1.png&quot; alt=&quot;buffer1&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;lawn_buffer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;miles&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;view&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-05-18-mow-the-lawn/buffer2.png&quot; alt=&quot;buffer2&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;union-polygons-together&quot;&gt;Union polygons together&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;poly1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;{
 &quot;type&quot;: &quot;Feature&quot;,
 &quot;properties&quot;: {
   &quot;fill&quot;: &quot;#0f0&quot;
 },
 &quot;geometry&quot;: {
   &quot;type&quot;: &quot;Polygon&quot;,
   &quot;coordinates&quot;: [[
     [-122.801742, 45.48565],
     [-122.801742, 45.60491],
     [-122.584762, 45.60491],
     [-122.584762, 45.48565],
     [-122.801742, 45.48565]
    ]]
 }
}&#39;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;poly2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;{
 &quot;type&quot;: &quot;Feature&quot;,
 &quot;properties&quot;: {
   &quot;fill&quot;: &quot;#00f&quot;
 },
 &quot;geometry&quot;: {
   &quot;type&quot;: &quot;Polygon&quot;,
   &quot;coordinates&quot;: [[
     [-122.520217, 45.535693],
     [-122.64038, 45.553967],
     [-122.720031, 45.526554],
     [-122.669906, 45.507309],
     [-122.723464, 45.446643],
     [-122.532577, 45.408574],
     [-122.487258, 45.477466],
     [-122.520217, 45.535693]
     ]]
 }
}&#39;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;view&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;poly1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-05-18-mow-the-lawn/union1.png&quot; alt=&quot;union1&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;view&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;poly2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-05-18-mow-the-lawn/union2.png&quot; alt=&quot;union2&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Visualize union-ed polygons&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;lawn_union&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;poly1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;poly2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;view&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-05-18-mow-the-lawn/union3.png&quot; alt=&quot;union3&quot; /&gt;&lt;/p&gt;

&lt;p&gt;See also &lt;code class=&quot;highlighter-rouge&quot;&gt;lawn_merge()&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;lawn_intersect()&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;lint-input-geojson&quot;&gt;lint input geojson&lt;/h2&gt;

&lt;p&gt;For most functions, you can lint your input geojson data to make sure it is proper geojson. We use 
the javascript library &lt;a href=&quot;https://github.com/mapbox/geojsonhint&quot;&gt;geojsonhint&lt;/a&gt;. See the &lt;code class=&quot;highlighter-rouge&quot;&gt;lint&lt;/code&gt; parameter.&lt;/p&gt;

&lt;p&gt;Good GeoJSON&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;{
  &quot;type&quot;: &quot;FeatureCollection&quot;,
  &quot;features&quot;: [
    {
      &quot;type&quot;: &quot;Feature&quot;,
      &quot;properties&quot;: {
        &quot;population&quot;: 200
      },
      &quot;geometry&quot;: {
        &quot;type&quot;: &quot;Point&quot;,
        &quot;coordinates&quot;: [10.724029, 59.926807]
      }
    }
  ]
}&#39;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;lawn_extent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 10.72403 59.92681 10.72403 59.92681
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Bad GeoJSON&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;{
  &quot;type&quot;: &quot;FeatureCollection&quot;,
  &quot;features&quot;: [
    {
      &quot;type&quot;: &quot;Feature&quot;,
      &quot;properties&quot;: {
        &quot;population&quot;: 200
      },
      &quot;geometry&quot;: {
        &quot;type&quot;: &quot;Point&quot;
      }
    }
  ]
}&#39;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;lawn_extent&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lint&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Error: Line 1 - &quot;coordinates&quot; property required
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;to-do&quot;&gt;To do&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;As Turf.js changes, we’ll update &lt;code class=&quot;highlighter-rouge&quot;&gt;lawn&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Performance improvements. We realize that this package is slower than the C based &lt;code class=&quot;highlighter-rouge&quot;&gt;rgdal&lt;/code&gt;/&lt;code class=&quot;highlighter-rouge&quot;&gt;rgeos&lt;/code&gt; - we are looking into ways to increaes performance to get closer to the performance of those packages.&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>geojsonio - a new package to do geojson things</title>
   <link href="http://recology.info//2015/04/geojson-io/"/>
   <updated>2015-04-30T00:00:00-07:00</updated>
   <id>http://recology.info//2015/04/geojson-io</id>
   <content type="html">&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;geojsonio&lt;/code&gt; converts geographic data to GeoJSON and TopoJSON formats - though the focus is mostly on GeoJSON&lt;/p&gt;

&lt;p&gt;For those not familiar GeoJSON it is a format for encoding a variety of geographic data structures. GeoJSON supports the following geometry types: Point, LineString, Polygon, MultiPoint, MultiLineString, MultiPolygon, and GeometryCollection. These geometry types are also found in &lt;a href=&quot;http://en.wikipedia.org/wiki/Well-known_text&quot;&gt;well known text (WKT)&lt;/a&gt;, and have equivalents in R’s spatial classes. Read the &lt;a href=&quot;http://geojson.org/geojson-spec.html&quot;&gt;spec&lt;/a&gt; for more detailed information.&lt;/p&gt;

&lt;p&gt;Other great geojson resources:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;GeoJSON lint - lint your geojson - &lt;a href=&quot;http://geojsonlint.com/&quot;&gt;http://geojsonlint.com/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;GeoJSON.io - make maps with geojson input or draw maps and get geojson - &lt;a href=&quot;http://geojson.io/&quot;&gt;http://geojson.io/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Functions in this package are organized first around what you’re working with or want to get, geojson or topojson, then convert to or read from various formats:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;geojson_list()&lt;/code&gt; - convert to GeoJSON as R list format&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;geojson_json()&lt;/code&gt; - convert to GeoJSON as json&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;geojson_read()&lt;/code&gt;/&lt;code class=&quot;highlighter-rouge&quot;&gt;topojson_read()&lt;/code&gt; - read a GeoJSON/TopoJSON file from file path or URL&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;geojson_write()&lt;/code&gt; - write a GeoJSON file locally (no write TopoJSON yet)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Each of the above functions have methods for various objects/classes, including &lt;code class=&quot;highlighter-rouge&quot;&gt;numeric&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;data.frame&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;list&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;SpatialPolygons&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;SpatialLines&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;SpatialPoints&lt;/code&gt;, etc. (including the classes in &lt;code class=&quot;highlighter-rouge&quot;&gt;rgeos&lt;/code&gt;)&lt;/p&gt;

&lt;p&gt;Use cases for this package include (but not limited to, obs.) the following:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Get data in GeoJSON json format, and you want to get it into a list in R.&lt;/li&gt;
  &lt;li&gt;Get data into GeoJSON format to use downstream to make a interactive map
    &lt;ul&gt;
      &lt;li&gt;in R (e.g., with &lt;a href=&quot;https://github.com/rstudio/leaflet&quot;&gt;leaflet&lt;/a&gt;)&lt;/li&gt;
      &lt;li&gt;or in another context (e.g., using javascript with mapbox/leaflet)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Data is in a data.frame/matrix/list and you want to make GeoJSON format data.&lt;/li&gt;
  &lt;li&gt;Data is in one of the many spatial classes (e.g., &lt;code class=&quot;highlighter-rouge&quot;&gt;SpatialPoints&lt;/code&gt;) and you want GeoJSON&lt;/li&gt;
  &lt;li&gt;You need to add styling to your data - can do with this package for certain data types.&lt;/li&gt;
  &lt;li&gt;You want to check that your GeoJSON data is valid - two ways to do it in geojsonio.&lt;/li&gt;
  &lt;li&gt;Combine objects together (e.g., a point and a line), either from two &lt;code class=&quot;highlighter-rouge&quot;&gt;geo_list&lt;/code&gt; objects, or two &lt;code class=&quot;highlighter-rouge&quot;&gt;json&lt;/code&gt; objects. See &lt;code class=&quot;highlighter-rouge&quot;&gt;?geojson-add&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;p&gt;See the github repo for notes about dependencies &lt;a href=&quot;https://github.com/ropensci/geojsonio#install&quot;&gt;https://github.com/ropensci/geojsonio#install&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;CRAN version or the dev version from GitHub&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;geojsonio&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sckott/geojsonio&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;geojsonio&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;geojson&quot;&gt;GeoJSON&lt;/h2&gt;

&lt;h3 id=&quot;convert-various-formats-to-geojson&quot;&gt;Convert various formats to geojson&lt;/h3&gt;

&lt;p&gt;From a &lt;code class=&quot;highlighter-rouge&quot;&gt;numeric&lt;/code&gt; vector of length 2&lt;/p&gt;

&lt;p&gt;as &lt;em&gt;json&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;geojson_json&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;32.45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-99.74&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; {&quot;type&quot;:&quot;FeatureCollection&quot;,&quot;features&quot;:[{&quot;type&quot;:&quot;Feature&quot;,&quot;geometry&quot;:{&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[32.45,-99.74]},&quot;properties&quot;:{}}]}
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;as a &lt;strong&gt;list&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;geojson_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;32.45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-99.74&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $type
#&amp;gt; [1] &quot;FeatureCollection&quot;
#&amp;gt; 
#&amp;gt; $features
#&amp;gt; $features[[1]]
#&amp;gt; $features[[1]]$type
#&amp;gt; [1] &quot;Feature&quot;
#&amp;gt; 
#&amp;gt; $features[[1]]$geometry
#&amp;gt; $features[[1]]$geometry$type
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;From a &lt;code class=&quot;highlighter-rouge&quot;&gt;data.frame&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;as &lt;strong&gt;json&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;geojson_json&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;us_cities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;lat&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lon&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;long&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; {&quot;type&quot;:&quot;FeatureCollection&quot;,&quot;features&quot;:[{&quot;type&quot;:&quot;Feature&quot;,&quot;geometry&quot;:{&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[-99.74,32.45]},&quot;properties&quot;:{&quot;name&quot;:&quot;Abilene TX&quot;,&quot;country.etc&quot;:&quot;TX&quot;,&quot;pop&quot;:&quot;113888&quot;,&quot;capital&quot;:&quot;0&quot;}},{&quot;type&quot;:&quot;Feature&quot;,&quot;geometry&quot;:{&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[-81.52,41.08]},&quot;properties&quot;:{&quot;name&quot;:&quot;Akron OH&quot;,&quot;country.etc&quot;:&quot;OH&quot;,&quot;pop&quot;:&quot;206634&quot;,&quot;capital&quot;:&quot;0&quot;}}]}
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;as a &lt;strong&gt;list&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;geojson_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;us_cities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;lat&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lon&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;long&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $type
#&amp;gt; [1] &quot;FeatureCollection&quot;
#&amp;gt; 
#&amp;gt; $features
#&amp;gt; $features[[1]]
#&amp;gt; $features[[1]]$type
#&amp;gt; [1] &quot;Feature&quot;
#&amp;gt; 
#&amp;gt; $features[[1]]$geometry
#&amp;gt; $features[[1]]$geometry$type
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;From &lt;code class=&quot;highlighter-rouge&quot;&gt;SpatialPolygons&lt;/code&gt; class&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;sp&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;poly1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Polygons&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Polygon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-90&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-85&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))),&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;poly2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Polygons&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Polygon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-90&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-75&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-90&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))),&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sp_poly&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SpatialPolygons&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;poly1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;poly2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; An object of class &quot;SpatialPolygons&quot;
#&amp;gt; Slot &quot;polygons&quot;:
#&amp;gt; [[1]]
#&amp;gt; An object of class &quot;Polygons&quot;
#&amp;gt; Slot &quot;Polygons&quot;:
#&amp;gt; [[1]]
#&amp;gt; An object of class &quot;Polygon&quot;
#&amp;gt; Slot &quot;labpt&quot;:
#&amp;gt; [1] -91.66667  45.00000
#&amp;gt; 
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;to &lt;strong&gt;json&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;geojson_json&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sp_poly&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; {&quot;type&quot;:&quot;FeatureCollection&quot;,&quot;features&quot;:[{&quot;type&quot;:&quot;Feature&quot;,&quot;id&quot;:1,&quot;properties&quot;:{&quot;dummy&quot;:0},&quot;geometry&quot;:{&quot;type&quot;:&quot;Polygon&quot;,&quot;coordinates&quot;:[[[-100,40],[-90,50],[-85,45],[-100,40]]]}},{&quot;type&quot;:&quot;Feature&quot;,&quot;id&quot;:2,&quot;properties&quot;:{&quot;dummy&quot;:0},&quot;geometry&quot;:{&quot;type&quot;:&quot;Polygon&quot;,&quot;coordinates&quot;:[[[-90,30],[-80,40],[-75,35],[-90,30]]]}}]}
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;to a &lt;strong&gt;list&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;geojson_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sp_poly&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $type
#&amp;gt; [1] &quot;FeatureCollection&quot;
#&amp;gt; 
#&amp;gt; $features
#&amp;gt; $features[[1]]
#&amp;gt; $features[[1]]$type
#&amp;gt; [1] &quot;Feature&quot;
#&amp;gt; 
#&amp;gt; $features[[1]]$id
#&amp;gt; [1] 1
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;From &lt;code class=&quot;highlighter-rouge&quot;&gt;SpatialPoints&lt;/code&gt; class&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SpatialPoints&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; SpatialPoints:
#&amp;gt;      x y
#&amp;gt; [1,] 1 3
#&amp;gt; [2,] 2 2
#&amp;gt; [3,] 3 5
#&amp;gt; [4,] 4 1
#&amp;gt; [5,] 5 4
#&amp;gt; Coordinate Reference System (CRS) arguments: NA
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;to &lt;strong&gt;json&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;geojson_json&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; {&quot;type&quot;:&quot;FeatureCollection&quot;,&quot;features&quot;:[{&quot;type&quot;:&quot;Feature&quot;,&quot;id&quot;:1,&quot;properties&quot;:{&quot;dat&quot;:1},&quot;geometry&quot;:{&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[1,3]}},{&quot;type&quot;:&quot;Feature&quot;,&quot;id&quot;:2,&quot;properties&quot;:{&quot;dat&quot;:2},&quot;geometry&quot;:{&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[2,2]}},{&quot;type&quot;:&quot;Feature&quot;,&quot;id&quot;:3,&quot;properties&quot;:{&quot;dat&quot;:3},&quot;geometry&quot;:{&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[3,5]}},{&quot;type&quot;:&quot;Feature&quot;,&quot;id&quot;:4,&quot;properties&quot;:{&quot;dat&quot;:4},&quot;geometry&quot;:{&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[4,1]}},{&quot;type&quot;:&quot;Feature&quot;,&quot;id&quot;:5,&quot;properties&quot;:{&quot;dat&quot;:5},&quot;geometry&quot;:{&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[5,4]}}]}
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;to a &lt;strong&gt;list&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;geojson_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $type
#&amp;gt; [1] &quot;FeatureCollection&quot;
#&amp;gt; 
#&amp;gt; $features
#&amp;gt; $features[[1]]
#&amp;gt; $features[[1]]$type
#&amp;gt; [1] &quot;Feature&quot;
#&amp;gt; 
#&amp;gt; $features[[1]]$id
#&amp;gt; [1] 1
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;combine-objects&quot;&gt;Combine objects&lt;/h3&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;geo_list&lt;/code&gt; + &lt;code class=&quot;highlighter-rouge&quot;&gt;geo_list&lt;/code&gt;&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Note: &lt;code class=&quot;highlighter-rouge&quot;&gt;geo_list&lt;/code&gt; is the output type from &lt;code class=&quot;highlighter-rouge&quot;&gt;geojson_list()&lt;/code&gt;, it’s just a list with a class attached so we know it’s geojson :)&lt;/p&gt;
&lt;/blockquote&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;vec&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-99.74&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;32.45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geojson_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vec&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;vecs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;101.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geojson_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vecs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geometry&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;polygon&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $type
#&amp;gt; [1] &quot;FeatureCollection&quot;
#&amp;gt; 
#&amp;gt; $features
#&amp;gt; $features[[1]]
#&amp;gt; $features[[1]]$type
#&amp;gt; [1] &quot;Feature&quot;
#&amp;gt; 
#&amp;gt; $features[[1]]$geometry
#&amp;gt; $features[[1]]$geometry$type
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;json&lt;/code&gt; + &lt;code class=&quot;highlighter-rouge&quot;&gt;json&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geojson_json&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-99.74&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;32.45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;vecs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;101.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;101.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geojson_json&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vecs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geometry&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;polygon&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; {&quot;type&quot;:&quot;FeatureCollection&quot;,&quot;features&quot;:[{&quot;type&quot;:&quot;Feature&quot;,&quot;geometry&quot;:{&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[-99.74,32.45]},&quot;properties&quot;:{}},{&quot;type&quot;:&quot;Feature&quot;,&quot;geometry&quot;:{&quot;type&quot;:&quot;Polygon&quot;,&quot;coordinates&quot;:[[[100,0],[101,0],[101,1],[100,1],[100,0]]]},&quot;properties&quot;:[]}]}
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;write-geojson&quot;&gt;Write geojson&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;geojson_write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;us_cities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;lat&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lon&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;long&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;geojson&amp;gt;
#&amp;gt;   Path:       myfile.geojson
#&amp;gt;   From class: data.frame
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;topojson&quot;&gt;Topojson&lt;/h2&gt;

&lt;p&gt;In the current version of this package you can read topojson. Writing topojson was in this package, but is gone for now - will come back later as in interface to &lt;a href=&quot;https://github.com/mbostock/topojson&quot;&gt;topojson&lt;/a&gt; via &lt;a href=&quot;https://github.com/jeroenooms/V8&quot;&gt;V8&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Read from a file&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;system.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;examples&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;us_states.topojson&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;geojsonio&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;topojson_read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Read from a URL&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;https://raw.githubusercontent.com/shawnbot/d3-cartogram/master/data/us-states.topojson&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;topojson_read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;lint-geojson&quot;&gt;Lint geojson&lt;/h2&gt;

&lt;p&gt;There are two ways to do this in this package.&lt;/p&gt;

&lt;h3 id=&quot;lint-locally&quot;&gt;lint, locally&lt;/h3&gt;

&lt;p&gt;Uses the javascript library &lt;a href=&quot;https://github.com/mapbox/geojsonhint&quot;&gt;geojsonhint&lt;/a&gt; from Mapbox. We’re running this locally via the &lt;a href=&quot;http://cran.rstudio.com/web/packages/V8/&quot;&gt;V8&lt;/a&gt; package.&lt;/p&gt;

&lt;p&gt;Good&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;lint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;{&quot;type&quot;: &quot;Point&quot;, &quot;coordinates&quot;: [-100, 80]}&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;valid&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Bad&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;lint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;{&quot;type&quot;: &quot;Rhombus&quot;, &quot;coordinates&quot;: [[1, 2], [3, 4], [5, 6]]}&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $message
#&amp;gt; [1] &quot;The type Rhombus is unknown&quot;
#&amp;gt; 
#&amp;gt; $line
#&amp;gt; [1] 1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;validate-with-a-web-service&quot;&gt;validate, with a web service&lt;/h3&gt;

&lt;p&gt;Uses the web service at &lt;a href=&quot;http://geojsonlint.com/&quot;&gt;http://geojsonlint.com/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Good&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;validate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;{&quot;type&quot;: &quot;Point&quot;, &quot;coordinates&quot;: [-100, 80]}&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $status
#&amp;gt; [1] &quot;ok&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Bad&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;validate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;{&quot;type&quot;: &quot;Rhombus&quot;, &quot;coordinates&quot;: [[1, 2], [3, 4], [5, 6]]}&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $message
#&amp;gt; [1] &quot;\&quot;Rhombus\&quot; is not a valid GeoJSON type.&quot;
#&amp;gt; 
#&amp;gt; $status
#&amp;gt; [1] &quot;error&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;to-do&quot;&gt;To do&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;I’d like to replace &lt;code class=&quot;highlighter-rouge&quot;&gt;rgdal&lt;/code&gt; with javascript libraries to read from various file types (kml, shp, etc.) and convert to geojson. This is &lt;a href=&quot;https://github.com/ropensci/geojsonio/tree/js&quot;&gt;in development&lt;/a&gt;, and will come in the next version of this package most likely. This should make installation a bit easier as we won’t have to depend on &lt;code class=&quot;highlighter-rouge&quot;&gt;rgdal&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;GDAL&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Performance improvements. Some operations already use the gdal or geos C libraries, so are quite fast, though the round trip to disk and back does take significant time. I’d like to speed this up.&lt;/li&gt;
  &lt;li&gt;More input types. We already have operations (json, list, etc.) for lots of input types (data.frame, list, sp classes), but likely there will be more added.&lt;/li&gt;
  &lt;li&gt;Most likely add functions &lt;code class=&quot;highlighter-rouge&quot;&gt;topojson_list()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;topojson_json()&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>the new way - httsnap</title>
   <link href="http://recology.info//2015/04/the-new-way/"/>
   <updated>2015-04-29T00:00:00-07:00</updated>
   <id>http://recology.info//2015/04/the-new-way</id>
   <content type="html">&lt;p&gt;Inspired by &lt;code class=&quot;highlighter-rouge&quot;&gt;httpie&lt;/code&gt;, a Python command line client as a sort of drop in replacement for &lt;code class=&quot;highlighter-rouge&quot;&gt;curl&lt;/code&gt;, I am playing around with something similar-ish in R, at least in spirit. I started a little R pkg called &lt;code class=&quot;highlighter-rouge&quot;&gt;httsnap&lt;/code&gt; with the following ideas:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;The web is increasingly a JSON world, so set &lt;code class=&quot;highlighter-rouge&quot;&gt;content-type&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;accept&lt;/code&gt; headers to &lt;code class=&quot;highlighter-rouge&quot;&gt;applications/json&lt;/code&gt; by default&lt;/li&gt;
  &lt;li&gt;The workflow follows logically, or at least should, from, &lt;em&gt;hey, I got this url&lt;/em&gt;, to &lt;em&gt;i need to add some options&lt;/em&gt;, to &lt;em&gt;execute request&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;Whenever possible, transform output to data.frame’s - facilitating downstream manipulation via &lt;code class=&quot;highlighter-rouge&quot;&gt;dplyr&lt;/code&gt;, etc.&lt;/li&gt;
  &lt;li&gt;Do &lt;code class=&quot;highlighter-rouge&quot;&gt;GET&lt;/code&gt; requests by default. Specify a different type if you don’t want &lt;code class=&quot;highlighter-rouge&quot;&gt;GET&lt;/code&gt;. Some functionality does GET by default, though in some cases you need to specify GET&lt;/li&gt;
  &lt;li&gt;You can use non-standard evaluation to easily pass in query parameters without worrying about &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;amp;&lt;/code&gt;’s, URL escaping, etc. (see &lt;code class=&quot;highlighter-rouge&quot;&gt;Query()&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;Same for body params (see &lt;code class=&quot;highlighter-rouge&quot;&gt;Body()&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;p&gt;Install and load &lt;code class=&quot;highlighter-rouge&quot;&gt;httsnap&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sckott/httsnap&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;httsnap&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;dplyr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;functions-so-far&quot;&gt;Functions so far&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Get&lt;/code&gt; - GET request&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Query&lt;/code&gt; - add query parameters&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Authenticate&lt;/code&gt; - add authentication details&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Progress&lt;/code&gt; - add progress bar&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Timeout&lt;/code&gt; - add a timeout&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;User_agent&lt;/code&gt; - add a user agent&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Verbose&lt;/code&gt; - give verbose output&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Body&lt;/code&gt; - add a body&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;h&lt;/code&gt; - add headers by key-value pair&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;These are named to avoid conflict with &lt;code class=&quot;highlighter-rouge&quot;&gt;httr&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&quot;intro&quot;&gt;Intro&lt;/h2&gt;

&lt;p&gt;A simple &lt;code class=&quot;highlighter-rouge&quot;&gt;GET&lt;/code&gt; request&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://httpbin.org/get&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $args
#&amp;gt; named list()
#&amp;gt; 
#&amp;gt; $headers
#&amp;gt; $headers$Accept
#&amp;gt; [1] &quot;application/json, text/xml, application/xml, */*&quot;
#&amp;gt; 
#&amp;gt; $headers$`Accept-Encoding`
#&amp;gt; [1] &quot;gzip&quot;
#&amp;gt; 
#&amp;gt; $headers$Host
#&amp;gt; [1] &quot;httpbin.org&quot;
#&amp;gt; 
#&amp;gt; $headers$`User-Agent`
#&amp;gt; [1] &quot;curl/7.37.1 Rcurl/1.95.4.1 httr/0.6.1 httsnap/0.0.2.99&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $origin
#&amp;gt; [1] &quot;24.21.209.71&quot;
#&amp;gt; 
#&amp;gt; $url
#&amp;gt; [1] &quot;http://httpbin.org/get&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;You’ll notice that &lt;code class=&quot;highlighter-rouge&quot;&gt;Get()&lt;/code&gt; doesn’t just get the response, but also checks for whether it was a good response (the HTTP status code), and extracts the data.&lt;/p&gt;

&lt;p&gt;Or you can just pass the URL into the function itself&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;Get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://httpbin.org/get&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $args
#&amp;gt; named list()
#&amp;gt; 
#&amp;gt; $headers
#&amp;gt; $headers$Accept
#&amp;gt; [1] &quot;application/json, text/xml, application/xml, */*&quot;
#&amp;gt; 
#&amp;gt; $headers$`Accept-Encoding`
#&amp;gt; [1] &quot;gzip&quot;
#&amp;gt; 
#&amp;gt; $headers$Host
#&amp;gt; [1] &quot;httpbin.org&quot;
#&amp;gt; 
#&amp;gt; $headers$`User-Agent`
#&amp;gt; [1] &quot;curl/7.37.1 Rcurl/1.95.4.1 httr/0.6.1 httsnap/0.0.2.99&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $origin
#&amp;gt; [1] &quot;24.21.209.71&quot;
#&amp;gt; 
#&amp;gt; $url
#&amp;gt; [1] &quot;http://httpbin.org/get&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;You can buid up options by calling functions via pipes, and see what the options look like&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://httpbin.org/get&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Progress&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Verbose&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;http request&amp;gt; 
#&amp;gt;   url: http://httpbin.org/get
#&amp;gt;   config: 
#&amp;gt; Config: 
#&amp;gt; List of 4
#&amp;gt;  $ noprogress      :FALSE
#&amp;gt;  $ progressfunction:function (...)  
#&amp;gt;  $ debugfunction   :function (...)  
#&amp;gt;  $ verbose         :TRUE
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then execute the GET request when you’re ready&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://httpbin.org/get&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Progress&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Verbose&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $args
#&amp;gt; named list()
#&amp;gt; 
#&amp;gt; $headers
#&amp;gt; $headers$Accept
#&amp;gt; [1] &quot;application/json, text/xml, application/xml, */*&quot;
#&amp;gt; 
#&amp;gt; $headers$`Accept-Encoding`
#&amp;gt; [1] &quot;gzip&quot;
#&amp;gt; 
#&amp;gt; $headers$Host
#&amp;gt; [1] &quot;httpbin.org&quot;
#&amp;gt; 
#&amp;gt; $headers$`User-Agent`
#&amp;gt; [1] &quot;curl/7.37.1 Rcurl/1.95.4.1 httr/0.6.1 httsnap/0.0.2.99&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $origin
#&amp;gt; [1] &quot;24.21.209.71&quot;
#&amp;gt; 
#&amp;gt; $url
#&amp;gt; [1] &quot;http://httpbin.org/get&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;example-1&quot;&gt;Example 1&lt;/h2&gt;

&lt;p&gt;Get scholarly article metadata from the Crossref API&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://api.crossref.org/works&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ecology&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;err&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;err&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;items&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DOI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;publisher&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                            DOI                title
#&amp;gt; 1          10.4996/fireecology         Fire Ecology
#&amp;gt; 2              10.5402/ecology         ISRN Ecology
#&amp;gt; 3                 10.1155/8641         ISRN Ecology
#&amp;gt; 4      10.1111/(issn)1526-100x  Restoration Ecology
#&amp;gt; 5        10.1007/248.1432-184x    Microbial Ecology
#&amp;gt; 6      10.1007/10144.1438-390x   Population Ecology
#&amp;gt; 7      10.1007/10452.1573-5125      Aquatic Ecology
#&amp;gt; 8      10.1007/10682.1573-8477 Evolutionary Ecology
#&amp;gt; 9      10.1007/10745.1572-9915        Human Ecology
#&amp;gt; 10     10.1007/10980.1572-9761    Landscape Ecology
#&amp;gt; 11     10.1007/11258.1573-5052        Plant Ecology
#&amp;gt; 12     10.1007/12080.1874-1746  Theoretical Ecology
#&amp;gt; 13     10.1111/(issn)1442-9993      Austral Ecology
#&amp;gt; 14     10.1111/(issn)1439-0485       Marine Ecology
#&amp;gt; 15     10.1111/(issn)1365-2435   Functional Ecology
#&amp;gt; 16     10.1111/(issn)1365-294x    Molecular Ecology
#&amp;gt; 17     10.1111/(issn)1461-0248      Ecology Letters
#&amp;gt; 18   10.1002/9780470979365.ch7  Behavioural Ecology
#&amp;gt; 19 10.1111/fec.2007.21.issue-5                     
#&amp;gt; 20     10.1111/rec.0.0.issue-0                     
#&amp;gt;                            publisher
#&amp;gt; 1       Association for Fire Ecology
#&amp;gt; 2     Hindawi Publishing Corporation
#&amp;gt; 3     Hindawi Publishing Corporation
#&amp;gt; 4                    Wiley-Blackwell
#&amp;gt; 5  Springer Science + Business Media
#&amp;gt; 6  Springer Science + Business Media
#&amp;gt; 7  Springer Science + Business Media
#&amp;gt; 8  Springer Science + Business Media
#&amp;gt; 9  Springer Science + Business Media
#&amp;gt; 10 Springer Science + Business Media
#&amp;gt; 11 Springer Science + Business Media
#&amp;gt; 12 Springer Science + Business Media
#&amp;gt; 13                   Wiley-Blackwell
#&amp;gt; 14                   Wiley-Blackwell
#&amp;gt; 15                   Wiley-Blackwell
#&amp;gt; 16                   Wiley-Blackwell
#&amp;gt; 17                   Wiley-Blackwell
#&amp;gt; 18                   Wiley-Blackwell
#&amp;gt; 19                   Wiley-Blackwell
#&amp;gt; 20                   Wiley-Blackwell
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;example-2&quot;&gt;Example 2&lt;/h2&gt;

&lt;p&gt;Get Public Library of Science article metadata via their API, make a histogram of number of tweets for each article&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://api.plos.org/search&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;*:*&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;json&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;fl&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;id,journal,alm_twitterCount&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
        &lt;span class=&quot;n&quot;&gt;fq&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;alm_twitterCount:[100 TO 10000]&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;err&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;response&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;err&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;docs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;err&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alm_twitterCount&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;hist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-04-29-the-new-way/unnamed-chunk-9-1.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;notes&quot;&gt;Notes&lt;/h2&gt;

&lt;p&gt;Okay, so this isn’t drastically different from what &lt;code class=&quot;highlighter-rouge&quot;&gt;httr&lt;/code&gt; already does, but its early days.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Faster solr with csv</title>
   <link href="http://recology.info//2015/03/faster-solr/"/>
   <updated>2015-03-20T00:00:00-07:00</updated>
   <id>http://recology.info//2015/03/faster-solr</id>
   <content type="html">&lt;p&gt;With the &lt;a href=&quot;https://github.com/ropensci/solr/issues/47&quot;&gt;help of user input&lt;/a&gt;, I’ve tweaked &lt;code class=&quot;highlighter-rouge&quot;&gt;solr&lt;/code&gt; just a bit to make things faster using default setings. I imagine the main interface for people using the &lt;code class=&quot;highlighter-rouge&quot;&gt;solr&lt;/code&gt; R client is via &lt;code class=&quot;highlighter-rouge&quot;&gt;solr_search()&lt;/code&gt;, which used to have &lt;code class=&quot;highlighter-rouge&quot;&gt;wt=json&lt;/code&gt; by default. Changing this to &lt;code class=&quot;highlighter-rouge&quot;&gt;wt=csv&lt;/code&gt; gives better performance. And it sorta makes sense to use csv, as the point of using an R client is probably do get data eventually into a data.frame, so it makes sense to go csv format (Already in tabular format) if it’s faster too.&lt;/p&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;p&gt;Install and load &lt;code class=&quot;highlighter-rouge&quot;&gt;solr&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropensci/solr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;solr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;microbenchmark&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;setup&quot;&gt;Setup&lt;/h2&gt;

&lt;p&gt;Define base url and fields to return&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;http://api.plos.org/search&#39;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;id&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;cross_published_journal_name&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;cross_published_journal_key&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;&#39;cross_published_journal_eissn&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;pmid&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;pmcid&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;publisher&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;journal&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;&#39;publication_date&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;article_type&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;article_type_facet&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;author&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;&#39;author_facet&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;volume&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;issue&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;elocation_id&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;author_display&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;s1&quot;&gt;&#39;competing_interest&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;copyright&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;json&quot;&gt;json&lt;/h2&gt;

&lt;p&gt;The previous default for &lt;code class=&quot;highlighter-rouge&quot;&gt;solr_search()&lt;/code&gt; used &lt;code class=&quot;highlighter-rouge&quot;&gt;json&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;solr_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;*:*&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;base&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;json&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Source: local data frame [10 x 19]
#&amp;gt; 
#&amp;gt;                                                                    id
#&amp;gt; 1             10.1371/annotation/856f0890-9d85-4719-8e54-c27530ac94f4
#&amp;gt; 2       10.1371/annotation/856f0890-9d85-4719-8e54-c27530ac94f4/title
#&amp;gt; 3    10.1371/annotation/856f0890-9d85-4719-8e54-c27530ac94f4/abstract
#&amp;gt; 4  10.1371/annotation/856f0890-9d85-4719-8e54-c27530ac94f4/references
#&amp;gt; 5        10.1371/annotation/856f0890-9d85-4719-8e54-c27530ac94f4/body
#&amp;gt; 6             10.1371/annotation/8551e3d5-fdd5-413b-a253-170ba13b7525
#&amp;gt; 7       10.1371/annotation/8551e3d5-fdd5-413b-a253-170ba13b7525/title
#&amp;gt; 8    10.1371/annotation/8551e3d5-fdd5-413b-a253-170ba13b7525/abstract
#&amp;gt; 9  10.1371/annotation/8551e3d5-fdd5-413b-a253-170ba13b7525/references
#&amp;gt; 10       10.1371/annotation/8551e3d5-fdd5-413b-a253-170ba13b7525/body
#&amp;gt; Variables not shown: cross_published_journal_name (chr),
#&amp;gt;   cross_published_journal_key (chr), cross_published_journal_eissn (chr),
#&amp;gt;   pmid (chr), pmcid (chr), publisher (chr), journal (chr),
#&amp;gt;   publication_date (chr), article_type (chr), article_type_facet (chr),
#&amp;gt;   author (chr), author_facet (chr), volume (int), issue (int),
#&amp;gt;   elocation_id (chr), author_display (chr), competing_interest (chr),
#&amp;gt;   copyright (chr)
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;csv&quot;&gt;csv&lt;/h2&gt;

&lt;p&gt;The default &lt;code class=&quot;highlighter-rouge&quot;&gt;wt&lt;/code&gt; setting is now &lt;code class=&quot;highlighter-rouge&quot;&gt;csv&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;solr_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;*:*&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;base&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;json&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Source: local data frame [10 x 19]
#&amp;gt; 
#&amp;gt;                                                                    id
#&amp;gt; 1             10.1371/annotation/856f0890-9d85-4719-8e54-c27530ac94f4
#&amp;gt; 2       10.1371/annotation/856f0890-9d85-4719-8e54-c27530ac94f4/title
#&amp;gt; 3    10.1371/annotation/856f0890-9d85-4719-8e54-c27530ac94f4/abstract
#&amp;gt; 4  10.1371/annotation/856f0890-9d85-4719-8e54-c27530ac94f4/references
#&amp;gt; 5        10.1371/annotation/856f0890-9d85-4719-8e54-c27530ac94f4/body
#&amp;gt; 6             10.1371/annotation/8551e3d5-fdd5-413b-a253-170ba13b7525
#&amp;gt; 7       10.1371/annotation/8551e3d5-fdd5-413b-a253-170ba13b7525/title
#&amp;gt; 8    10.1371/annotation/8551e3d5-fdd5-413b-a253-170ba13b7525/abstract
#&amp;gt; 9  10.1371/annotation/8551e3d5-fdd5-413b-a253-170ba13b7525/references
#&amp;gt; 10       10.1371/annotation/8551e3d5-fdd5-413b-a253-170ba13b7525/body
#&amp;gt; Variables not shown: cross_published_journal_name (chr),
#&amp;gt;   cross_published_journal_key (chr), cross_published_journal_eissn (chr),
#&amp;gt;   pmid (chr), pmcid (chr), publisher (chr), journal (chr),
#&amp;gt;   publication_date (chr), article_type (chr), article_type_facet (chr),
#&amp;gt;   author (chr), author_facet (chr), volume (int), issue (int),
#&amp;gt;   elocation_id (chr), author_display (chr), competing_interest (chr),
#&amp;gt;   copyright (chr)
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;compare-times&quot;&gt;Compare times&lt;/h2&gt;

&lt;p&gt;When parsing to a data.frame (which &lt;code class=&quot;highlighter-rouge&quot;&gt;solr_search()&lt;/code&gt; does by default), csv is quite a bit faster.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;microbenchmark&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;json&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;solr_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;*:*&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;base&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;json&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;verbose&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;csv&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;solr_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;*:*&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;base&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;verbose&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;times&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Unit: milliseconds
#&amp;gt;  expr      min       lq      mean    median        uq       max neval cld
#&amp;gt;  json 965.7043 1013.014 1124.1229 1086.3225 1227.9054 1441.8332    20   b
#&amp;gt;   csv 509.6573  520.089  541.5784  532.4546  548.0303  723.7575    20  a
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;json-vs-xml-vs-csv&quot;&gt;json vs xml vs csv&lt;/h2&gt;

&lt;p&gt;When getting raw data, csv is best, json next, then xml pulling up the rear.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;microbenchmark&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;json&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;solr_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;*:*&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;base&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;json&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;verbose&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;raw&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;csv&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;solr_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;*:*&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;base&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;verbose&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;raw&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;xml&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;solr_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;*:*&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;base&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;xml&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;verbose&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;raw&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;times&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Unit: milliseconds
#&amp;gt;  expr       min       lq      mean    median        uq       max neval cld
#&amp;gt;  json 1110.9515 1142.478 1198.9981 1169.0808 1195.5709 1518.7412    10  b 
#&amp;gt;   csv  801.6871  802.516  826.0655  819.1532  835.0512  873.4266    10 a  
#&amp;gt;   xml 1507.1111 1554.002 1618.5963 1617.5208 1671.0026 1740.4448    10   c
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;notes&quot;&gt;Notes&lt;/h2&gt;

&lt;p&gt;Note that &lt;code class=&quot;highlighter-rouge&quot;&gt;wt=csv&lt;/code&gt; is only available in &lt;code class=&quot;highlighter-rouge&quot;&gt;solr_search()&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;solr_all()&lt;/code&gt; because csv writer 
only returns the docs element in csv, dropping other elements, including facets, mlt, groups, 
stats, etc.&lt;/p&gt;

&lt;p&gt;Also, note the http client used in &lt;code class=&quot;highlighter-rouge&quot;&gt;solr&lt;/code&gt; is &lt;code class=&quot;highlighter-rouge&quot;&gt;httr&lt;/code&gt;, which passes in a gzip compression header by default, so as long as the server serving up the Solr data has compression turned on, that’s all set.&lt;/p&gt;

&lt;p&gt;Another way I’ve sped things up is if you use &lt;code class=&quot;highlighter-rouge&quot;&gt;wt=json&lt;/code&gt; then parse to a data.frame, it uses &lt;code class=&quot;highlighter-rouge&quot;&gt;dplyr&lt;/code&gt; which sped things up considerably.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>PUT dataframes on your couch</title>
   <link href="http://recology.info//2015/03/couch-dataframes/"/>
   <updated>2015-03-12T00:00:00-07:00</updated>
   <id>http://recology.info//2015/03/couch-dataframes</id>
   <content type="html">&lt;p&gt;It would be nice to easily push each row or column of a data.frame into CouchDB instead of having to prepare them yourself into JSON, then push in to couch. I recently added ability to push data.frame’s into couch using the normal &lt;code class=&quot;highlighter-rouge&quot;&gt;PUT /{db}&lt;/code&gt; method, and added support for the couch bulk API.&lt;/p&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;devtools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sckott/sofa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sofa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;put-db&quot;&gt;PUT /db&lt;/h2&gt;

&lt;p&gt;You can write directly from a data.frame, either by rows or columns. First, rows:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#&amp;gt; $ok
#&amp;gt; [1] TRUE
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Create a database&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;db_create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;mtcarsdb&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $ok
#&amp;gt; [1] TRUE
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doc_create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mtcars&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;mtcarsdb&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;how&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rows&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`Mazda RX4`
#&amp;gt; $`Mazda RX4`$ok
#&amp;gt; [1] TRUE
#&amp;gt; 
#&amp;gt; $`Mazda RX4`$id
#&amp;gt; [1] &quot;0063109bfb1c15765854cbc9525c3a7a&quot;
#&amp;gt; 
#&amp;gt; $`Mazda RX4`$rev
#&amp;gt; [1] &quot;1-3946941c894a874697554e3e6d9bc176&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $`Mazda RX4 Wag`
#&amp;gt; $`Mazda RX4 Wag`$ok
#&amp;gt; [1] TRUE
#&amp;gt; 
#&amp;gt; $`Mazda RX4 Wag`$id
#&amp;gt; [1] &quot;0063109bfb1c15765854cbc9525c461d&quot;
#&amp;gt; 
#&amp;gt; $`Mazda RX4 Wag`$rev
#&amp;gt; [1] &quot;1-273ff17a938cb956cba21051ab428b95&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then by columns&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doc_create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mtcars&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;mtcarsdb&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;how&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;columns&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $mpg
#&amp;gt; $mpg$ok
#&amp;gt; [1] TRUE
#&amp;gt; 
#&amp;gt; $mpg$id
#&amp;gt; [1] &quot;0063109bfb1c15765854cbc9525d4f1f&quot;
#&amp;gt; 
#&amp;gt; $mpg$rev
#&amp;gt; [1] &quot;1-4b83d0ef53a28849a872d47ad03fef9a&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $cyl
#&amp;gt; $cyl$ok
#&amp;gt; [1] TRUE
#&amp;gt; 
#&amp;gt; $cyl$id
#&amp;gt; [1] &quot;0063109bfb1c15765854cbc9525d57d3&quot;
#&amp;gt; 
#&amp;gt; $cyl$rev
#&amp;gt; [1] &quot;1-c21bfa5425c67743f0826fd4b44b0dbf&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;bulk-api&quot;&gt;Bulk API&lt;/h2&gt;

&lt;p&gt;The bulk API will/should be faster for larger data.frames&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#&amp;gt; $ok
#&amp;gt; [1] TRUE
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;We’ll use part of the diamonds dataset&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ggplot2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;diamonds&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;20000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Create a database&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;db_create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;bulktest&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $ok
#&amp;gt; [1] TRUE
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Load by row (could instead do each column, see &lt;code class=&quot;highlighter-rouge&quot;&gt;how&lt;/code&gt; parameter), printing the time it takes&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bulk_create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;bulktest&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;    user  system elapsed 
#&amp;gt;  16.832   6.039  24.432
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The returned data is the same as with &lt;code class=&quot;highlighter-rouge&quot;&gt;doc_create()&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]
#&amp;gt; [[1]]$ok
#&amp;gt; [1] TRUE
#&amp;gt; 
#&amp;gt; [[1]]$id
#&amp;gt; [1] &quot;0063109bfb1c15765854cbc9525d8b8d&quot;
#&amp;gt; 
#&amp;gt; [[1]]$rev
#&amp;gt; [1] &quot;1-f407fe4935af7fd17c101f13d3c81679&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; [[2]]
#&amp;gt; [[2]]$ok
#&amp;gt; [1] TRUE
#&amp;gt; 
#&amp;gt; [[2]]$id
#&amp;gt; [1] &quot;0063109bfb1c15765854cbc9525d998b&quot;
#&amp;gt; 
#&amp;gt; [[2]]$rev
#&amp;gt; [1] &quot;1-cf8b9a9dcdc026052a663d6fef8a36fe&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;So that’s 20,000 rows in not that much time, not bad.&lt;/p&gt;

&lt;h3 id=&quot;not-dataframes&quot;&gt;not dataframes&lt;/h3&gt;

&lt;p&gt;You can also pass in lists or vectors of json as character strings, e.g.,&lt;/p&gt;

&lt;p&gt;&lt;em&gt;lists&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#&amp;gt; $ok
#&amp;gt; [1] TRUE
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;row.names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mtcars&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NULL&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# get rid of row.names
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lst&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;parse_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mtcars&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tojson&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;db_create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;bulkfromlist&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $ok
#&amp;gt; [1] TRUE
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bulk_create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lst&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;bulkfromlist&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]
#&amp;gt; [[1]]$ok
#&amp;gt; [1] TRUE
#&amp;gt; 
#&amp;gt; [[1]]$id
#&amp;gt; [1] &quot;ba70c46d73707662b1e204a90fcd9bb8&quot;
#&amp;gt; 
#&amp;gt; [[1]]$rev
#&amp;gt; [1] &quot;1-3946941c894a874697554e3e6d9bc176&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; [[2]]
#&amp;gt; [[2]]$ok
#&amp;gt; [1] TRUE
#&amp;gt; 
#&amp;gt; [[2]]$id
#&amp;gt; [1] &quot;ba70c46d73707662b1e204a90fcda9f6&quot;
#&amp;gt; 
#&amp;gt; [[2]]$rev
#&amp;gt; [1] &quot;1-273ff17a938cb956cba21051ab428b95&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;em&gt;json&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#&amp;gt; $ok
#&amp;gt; [1] TRUE
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;strs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;parse_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mtcars&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;columns&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;db_create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;bulkfromchr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $ok
#&amp;gt; [1] TRUE
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bulk_create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;bulkfromchr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]
#&amp;gt; [[1]]$ok
#&amp;gt; [1] TRUE
#&amp;gt; 
#&amp;gt; [[1]]$id
#&amp;gt; [1] &quot;ba70c46d73707662b1e204a90fce8c20&quot;
#&amp;gt; 
#&amp;gt; [[1]]$rev
#&amp;gt; [1] &quot;1-4b83d0ef53a28849a872d47ad03fef9a&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; [[2]]
#&amp;gt; [[2]]$ok
#&amp;gt; [1] TRUE
#&amp;gt; 
#&amp;gt; [[2]]$id
#&amp;gt; [1] &quot;ba70c46d73707662b1e204a90fce9bc1&quot;
#&amp;gt; 
#&amp;gt; [[2]]$rev
#&amp;gt; [1] &quot;1-c21bfa5425c67743f0826fd4b44b0dbf&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>csl - an R client for Citation Style Language data</title>
   <link href="http://recology.info//2015/03/csl-client/"/>
   <updated>2015-03-11T00:00:00-07:00</updated>
   <id>http://recology.info//2015/03/csl-client</id>
   <content type="html">&lt;p&gt;CSL (Citation Style Language) is used quite widely now to specify citations in a standard fashion. &lt;code class=&quot;highlighter-rouge&quot;&gt;csl&lt;/code&gt; is an R client for exploring CSL styles, and is inspired by the Ruby gem &lt;a href=&quot;https://github.com/inukshuk/csl-ruby&quot;&gt;csl&lt;/a&gt;. For example, csl is given back in the PLOS Lagotto article level metric API (follow &lt;a href=&quot;http://alm.plos.org/api/v5/articles?ids=10.1371%252Fjournal.pone.0025110&amp;amp;info=detail&amp;amp;source_id=crossref&quot;&gt;http://alm.plos.org/api/v5/articles?ids=10.1371%252Fjournal.pone.0025110&amp;amp;info=detail&amp;amp;source_id=crossref&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Let me know if you have any feedback at the repo &lt;a href=&quot;https://github.com/ropensci/csl&quot;&gt;https://github.com/ropensci/csl&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;devtools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropensci/csl&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;csl&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;load-csl-style-from-a-url&quot;&gt;Load CSL style from a URL&lt;/h2&gt;

&lt;p&gt;You can load CSL styles from either a URL or a local file on your machine. Firt, from a URL. In this case from the Zotero style repository, for the American Journal or Political Science.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;jps&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;style_load&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;http://www.zotero.org/styles/american-journal-of-political-science&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;A list is returned, which you can index to various parts of the style specification.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;jps&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;info&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $title
#&amp;gt; [1] &quot;American Journal of Political Science&quot;
#&amp;gt; 
#&amp;gt; $title_short
#&amp;gt; [1] &quot;AJPS&quot;
#&amp;gt; 
#&amp;gt; $id
#&amp;gt; [1] &quot;http://www.zotero.org/styles/american-journal-of-political-science&quot;
#&amp;gt; 
#&amp;gt; $author
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;jps&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;American Journal of Political Science&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;jps&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;citation_format&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;author-date&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;jps&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;links_template&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;http://www.zotero.org/styles/american-political-science-association&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;jps&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;editor&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $editor
#&amp;gt; $editor$variable
#&amp;gt; [1] &quot;editor&quot;
#&amp;gt; 
#&amp;gt; $editor$delimiter
#&amp;gt; [1] &quot;, &quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $label
#&amp;gt; $label$form
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;jps&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;author&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $author
#&amp;gt; $author$variable
#&amp;gt; [1] &quot;author&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $label
#&amp;gt; $label$form
#&amp;gt; [1] &quot;short&quot;
#&amp;gt; 
#&amp;gt; $label$prefix
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;get-raw-xml&quot;&gt;Get raw XML&lt;/h2&gt;

&lt;p&gt;You can also get raw XML if you’d rather deal with that format.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;style_xml&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;http://www.zotero.org/styles/american-journal-of-political-science&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;?xml version=&quot;1.0&quot; encoding=&quot;utf-8&quot;?&amp;gt;
#&amp;gt; &amp;lt;style xmlns=&quot;http://purl.org/net/xbiblio/csl&quot; class=&quot;in-text&quot; version=&quot;1.0&quot; demote-non-dropping-particle=&quot;sort-only&quot; default-locale=&quot;en-US&quot;&amp;gt;
#&amp;gt;   &amp;lt;info&amp;gt;
#&amp;gt;     &amp;lt;title&amp;gt;American Journal of Political Science&amp;lt;/title&amp;gt;
#&amp;gt;     &amp;lt;title-short&amp;gt;AJPS&amp;lt;/title-short&amp;gt;
#&amp;gt;     &amp;lt;id&amp;gt;http://www.zotero.org/styles/american-journal-of-political-science&amp;lt;/id&amp;gt;
#&amp;gt;     &amp;lt;link href=&quot;http://www.zotero.org/styles/american-journal-of-political-science&quot; rel=&quot;self&quot;/&amp;gt;
#&amp;gt;     &amp;lt;link href=&quot;http://www.zotero.org/styles/american-political-science-association&quot; rel=&quot;template&quot;/&amp;gt;
#&amp;gt;     &amp;lt;link href=&quot;http://www.ajps.org/AJPS%20Style%20Guide.pdf&quot; rel=&quot;documentation&quot;/&amp;gt;
#&amp;gt;     &amp;lt;author&amp;gt;
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;get-styles&quot;&gt;Get styles&lt;/h2&gt;

&lt;p&gt;There is a GitHub repository of CSL styles at  &lt;a href=&quot;https://github.com/citation-style-language/styles-distribution&quot;&gt;https://github.com/citation-style-language/styles-distribution&lt;/a&gt;. These don’t come with the &lt;code class=&quot;highlighter-rouge&quot;&gt;csl&lt;/code&gt; package, so you have to run &lt;code class=&quot;highlighter-rouge&quot;&gt;get_styles()&lt;/code&gt; to get them on your machine. The default path is &lt;code class=&quot;highlighter-rouge&quot;&gt;Sys.getenv(&quot;HOME&quot;)/styles&lt;/code&gt;, which for me is &lt;code class=&quot;highlighter-rouge&quot;&gt;/Users/sacmac/styles&lt;/code&gt;. You can change where files are saved by using the &lt;code class=&quot;highlighter-rouge&quot;&gt;path&lt;/code&gt; parameter.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;get_styles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 
#&amp;gt; Done! Files put in /Users/sacmac/styles
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;After getting styles locally you can load them just as we did with &lt;code class=&quot;highlighter-rouge&quot;&gt;style_load()&lt;/code&gt;, but from your machine. However, since the file is local, we can make this easier by allowing just the name of the style, like&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;style_load&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;apa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $info
#&amp;gt; $info$title
#&amp;gt; [1] &quot;American Psychological Association 6th edition&quot;
#&amp;gt; 
#&amp;gt; $info$title_short
#&amp;gt; [1] &quot;APA&quot;
#&amp;gt; 
#&amp;gt; $info$id
#&amp;gt; [1] &quot;http://www.zotero.org/styles/apa&quot;
#&amp;gt; 
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;If you are unsure if a style exists, you can use &lt;code class=&quot;highlighter-rouge&quot;&gt;style_exists()&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;style_exists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;helloworld&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] FALSE
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;style_exists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;acs-nano&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] TRUE
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;In addition, you can list the path for a single style, more than 1, or all styles with &lt;code class=&quot;highlighter-rouge&quot;&gt;styles()&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;styles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;apa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;/Users/sacmac/styles/apa.csl&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;All of them, truncated for blog brevity&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;styles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $independent
#&amp;gt;    [1] &quot;academy-of-management-review&quot;                                                         
#&amp;gt;    [2] &quot;acm-sig-proceedings-long-author-list&quot;                                                 
#&amp;gt;    [3] &quot;acm-sig-proceedings&quot;                                                                  
#&amp;gt;    [4] &quot;acm-sigchi-proceedings-extended-abstract-format&quot;                                      
#&amp;gt;    [5] &quot;acm-sigchi-proceedings&quot;                                                               
#&amp;gt;    [6] &quot;acm-siggraph&quot;                                                                         
#&amp;gt;    [7] &quot;acs-nano&quot;                                                                             
#&amp;gt;    [8] &quot;acta-anaesthesiologica-scandinavica&quot;                                                  
#&amp;gt;    [9] &quot;acta-anaesthesiologica-taiwanica&quot;                                                     
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;get-locales&quot;&gt;Get locales&lt;/h2&gt;

&lt;p&gt;In addition to styles, there is a GitHub repo for locales at  &lt;a href=&quot;https://github.com/citation-style-language/locales&quot;&gt;https://github.com/citation-style-language/locales&lt;/a&gt;. These also don’t come with the &lt;code class=&quot;highlighter-rouge&quot;&gt;csl&lt;/code&gt; package, so you have to run &lt;code class=&quot;highlighter-rouge&quot;&gt;get_locales()&lt;/code&gt; to get them on your machine. Same goes here for paths as above for styles.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;get_locales&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 
#&amp;gt; Done! Files put in /Users/sacmac/locales
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

</content>
 </entry>
 
 <entry>
   <title>Elasticsearch backup and restore</title>
   <link href="http://recology.info//2015/02/elasticsearch-backup-restore/"/>
   <updated>2015-02-26T21:00:00-08:00</updated>
   <id>http://recology.info//2015/02/elasticsearch-backup-restore</id>
   <content type="html">&lt;h2 id=&quot;setup-backup&quot;&gt;setup backup&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;curl -XPUT &#39;http://localhost:9200/_snapshot/my_backup/&#39; -d &#39;{
    &quot;type&quot;: &quot;fs&quot;,
    &quot;settings&quot;: {
        &quot;location&quot;: &quot;/Users/sacmac/esbackups/my_backup&quot;,
        &quot;compress&quot;: true
    }
}&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;create-backup&quot;&gt;create backup&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;http PUT &quot;localhost:9200/_snapshot/my_backup/snapshot_2?wait_for_completion=true&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;get-info-on-snapshot&quot;&gt;get info on snapshot&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;http &quot;localhost:9200/_snapshot/my_backup/snapshot_2&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;restore&quot;&gt;restore&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;curl -XPOST &quot;localhost:9200/_snapshot/my_backup/snapshot_2/_restore&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;partial-restore-including-various-options-that-can-be-used&quot;&gt;partial restore, including various options that can be used&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;curl -XPOST &quot;localhost:9200/_snapshot/my_backup/snapshot_2/_restore&quot; -d &#39;{
    &quot;indices&quot;: &quot;index_1,index_2&quot;,
    &quot;ignore_unavailable&quot;: &quot;true&quot;,
    &quot;include_global_state&quot;: false,
    &quot;rename_pattern&quot;: &quot;index_(.+)&quot;,
    &quot;rename_replacement&quot;: &quot;restored_index_$1&quot;
}&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>note to self, secure elasticsearch</title>
   <link href="http://recology.info//2015/02/secure-elasticsearch/"/>
   <updated>2015-02-26T10:00:00-08:00</updated>
   <id>http://recology.info//2015/02/secure-elasticsearch</id>
   <content type="html">&lt;p&gt;Recently I spun up a box on a cloud hosting provider planning to make a tens of thousdands of queries to an Elasticsearch instance on the same box. I could have done this on my own machine, but didn’t want to take up compute resources.&lt;/p&gt;

&lt;p&gt;I installed R and Elasticsearch on the box, then went about doing my thang.&lt;/p&gt;

&lt;p&gt;A day later when things were still running, the hosting provider sent me a message that apparently my box had been serving up a DDoS attack.&lt;/p&gt;

&lt;p&gt;This was incredibly surprising, as I don’t even know how to do such a thing.&lt;/p&gt;

&lt;p&gt;After some digging it seems that the culprit was likely Elasticsearch, as a number of tutorials/blog posts state that Elaticsearch is insecure by default, so if it’s exposed on a public port, someone can hack in. I had only used Elasticsearch locally on my own machine, so I hadn’t thought about security. Here’s a few resources for security help:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.digitalocean.com/community/tutorials/how-to-install-elasticsearch-on-an-ubuntu-vps&quot;&gt;DigitalOcean tutorial no. 1&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://www.digitalocean.com/community/tutorials/elasticsearch-fluentd-and-kibana-open-source-log-search-and-visualization&quot;&gt;DigitalOcean tutorial no. 2&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://saskia-vola.com/install-secure-elasticsearch-1-x-digital-ocean/&quot;&gt;Blog post on securing ES&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://stackoverflow.com/questions/26006373/how-to-secure-a-digital-ocean-elasticsearch-cluster&quot;&gt;SO answer on securing ES&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Trying to narrow down the various pieces of advice for securing Elasticsearch, here’s a list:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Use &lt;code class=&quot;highlighter-rouge&quot;&gt;iptables&lt;/code&gt; (or rather &lt;a href=&quot;http://en.wikipedia.org/wiki/Nftables&quot;&gt;nftables&lt;/a&gt;?) to firewall the box&lt;/li&gt;
  &lt;li&gt;Whitelist certain trusted IPs&lt;/li&gt;
  &lt;li&gt;Use the &lt;a href=&quot;https://github.com/Asquera/elasticsearch-http-basic&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;elasticsearch-http-basic&lt;/code&gt;&lt;/a&gt; plugin, adds basic username/pwd login&lt;/li&gt;
  &lt;li&gt;Remove public access: use &lt;code class=&quot;highlighter-rouge&quot;&gt;network.bind_host: localhost&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;script.disable_dynamic: true&lt;/code&gt; in the &lt;code class=&quot;highlighter-rouge&quot;&gt;elasticsearch.yml&lt;/code&gt; config file &lt;a href=&quot;https://www.digitalocean.com/community/tutorials/how-to-install-elasticsearch-on-an-ubuntu-vps&quot;&gt;from&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Elasticsearch provides a new feature for security that’s built into Elasticsearch, &lt;a href=&quot;http://www.elasticsearch.org/overview/shield/&quot;&gt;Shield&lt;/a&gt;, but I believe it’s only available to enterprise customers. Boo.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Package development</title>
   <link href="http://recology.info//2015/02/package-dev/"/>
   <updated>2015-02-14T00:00:00-08:00</updated>
   <id>http://recology.info//2015/02/package-dev</id>
   <content type="html">&lt;p&gt;Someone asked recently about tips for package development workflow to optimize a successful submission to CRAN.&lt;/p&gt;

&lt;p&gt;The ultimate guide is probably &lt;a href=&quot;http://r-pkgs.had.co.nz/&quot;&gt;Hadley’s book on package development&lt;/a&gt;, but here’s more of a bulleted list of some things I do.&lt;/p&gt;

&lt;h2 id=&quot;use-rstudio&quot;&gt;Use RStudio&lt;/h2&gt;

&lt;p&gt;Choice of text editor/IDE is always contentious, but for R package development, RStudio makes it so easy, including keyboard shortcuts for lots of steps that you need to make development faster. See the &lt;a href=&quot;https://support.rstudio.com/hc/en-us/articles/200711853-Keyboard-Shortcuts&quot;&gt;cheatsheet&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;documentation-and-roxygen2&quot;&gt;Documentation and roxygen2&lt;/h2&gt;

&lt;p&gt;You can always write your manual files (&lt;code class=&quot;highlighter-rouge&quot;&gt;.Rd&lt;/code&gt;) files by hand, but to avoid mistakes including missing and duplicate parameter definitions, and other things, simply write documentation alongside your code with &lt;a href=&quot;http://cran.r-project.org/web/packages/roxygen2/index.html&quot;&gt;roxygen2&lt;/a&gt;. The RStudio IDE includes a keyboard shortcut (shift+cmd+D on Mac) to generate manual files from your roxygen documentation.&lt;/p&gt;

&lt;p&gt;When you run either &lt;code class=&quot;highlighter-rouge&quot;&gt;R CMD CHECK&lt;/code&gt; in your terminal or &lt;code class=&quot;highlighter-rouge&quot;&gt;devtools::check()&lt;/code&gt; or simply using keyboard shortcuts in RStudio, you may notice problems with documentation, upon which you can make fixes, quickly re-document the whole package, then run check again. Iterating on this process is very easy with RStudio keyboard shortcuts.&lt;/p&gt;

&lt;h2 id=&quot;examples&quot;&gt;Examples&lt;/h2&gt;

&lt;p&gt;CRAN checks now actually run code examples wrapped in &lt;code class=&quot;highlighter-rouge&quot;&gt;\donttest&lt;/code&gt;. So if you have examples that may throw warnings or errors on purpose or accident, make sure to wrap them in &lt;code class=&quot;highlighter-rouge&quot;&gt;\dontrun&lt;/code&gt;. Ripley used to complain that at least some examples in the package should run on check, but I haven’t heard this complaint in a while.&lt;/p&gt;

&lt;h2 id=&quot;first-submission-of-the-package&quot;&gt;First submission of the package?&lt;/h2&gt;

&lt;p&gt;If it is your first submission of the package:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Include the sentence in your submission &lt;em&gt;I have read and agree to the the CRAN policies at http://cran.r-project.org/web/packages/policies.html&lt;/em&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;code&quot;&gt;Code&lt;/h2&gt;

&lt;p&gt;CRAN maintainers generally don’t look at code in my experience, but they may in the case of some examples or tests not passing on submission.&lt;/p&gt;

&lt;h2 id=&quot;tests&quot;&gt;Tests&lt;/h2&gt;

&lt;p&gt;If you have tests in your package, and you should, think about whether your tests are likely to fail in some scenarios. For example, I mostly write packages that work with web APIs, all of which are not under my control, meaning they could fail at any time, causing tests to fail on CRAN (CRAN runs check once per day I think).&lt;/p&gt;

&lt;p&gt;If you do have tests may fail, think about ignoring tests all together on CRAN. If you do this, it’s especially important to use continuous integration on your own. For example, use &lt;a href=&quot;https://travis-ci.org/&quot;&gt;Travis-CI&lt;/a&gt;, which will run check on your package on each change. If you have a package that works with web APIs, it’s important to check your package functionality even when you aren’t changing it since the resource your package works with can change. So run tests e.g. once per day - you can &lt;a href=&quot;https://github.com/ropensci/travis-restarts&quot;&gt;do something like we do using a bit of Ruby code&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;continuous-integration&quot;&gt;Continuous integration&lt;/h2&gt;

&lt;p&gt;I just talked about this above, but a few more thoughts. This is a relatively easy thing to do, its free, and at least I think it greatly pays off once set up. In addition, you can do more than just test code, and run checks. You can deploy artifacts to various places. That is, for example, you could at the end of a build on Travis-CI, push a binary of the package to Dropbox, or Amazon S3. A few good options that I’ve used:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://travis-ci.org/&quot;&gt;Travis-CI&lt;/a&gt; (&lt;a href=&quot;https://github.com/craigcitro/r-travis&quot;&gt;R integration&lt;/a&gt;) - Linux/unix builds&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.appveyor.com/&quot;&gt;Appveyor&lt;/a&gt; (&lt;a href=&quot;https://github.com/krlmlr/r-appveyor&quot;&gt;R integration&lt;/a&gt;) - Windows builds&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;There are other options, but I haven’t used them…&lt;/p&gt;

&lt;h2 id=&quot;description-file&quot;&gt;DESCRIPTION file&lt;/h2&gt;

&lt;p&gt;In addition to following &lt;a href=&quot;http://cran.r-project.org/doc/manuals/R-exts.html#The-DESCRIPTION-file&quot;&gt;CRAN’s guidelines&lt;/a&gt; (and search &lt;em&gt;description&lt;/em&gt; in the &lt;a href=&quot;http://cran.r-project.org/web/packages/policies.html&quot;&gt;CRAN policies&lt;/a&gt;), some tips for some of the parts of the file.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Title: must be sentence case, no period at end&lt;/li&gt;
  &lt;li&gt;Description: Don’t use the phrase &lt;em&gt;This package&lt;/em&gt;&lt;/li&gt;
  &lt;li&gt;Watch out for &lt;em&gt;possibly mis-spelled words&lt;/em&gt; warnings on check. They will reject your package for very minor mis-spellings.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;use-cran-commentsmd-file&quot;&gt;Use cran-comments.md file&lt;/h2&gt;

&lt;p&gt;Hadley supports this in &lt;code class=&quot;highlighter-rouge&quot;&gt;devtools&lt;/code&gt;. Put a file named &lt;code class=&quot;highlighter-rouge&quot;&gt;cran-comments.md&lt;/code&gt; in the root of your package. In this file, include the comments you would submit for the package (e.g., I agree to cran policies…this package passed all checks…etc). Rembmer to put &lt;code class=&quot;highlighter-rouge&quot;&gt;cran-comments.md&lt;/code&gt; in the &lt;code class=&quot;highlighter-rouge&quot;&gt;.Rbuildignore&lt;/code&gt; file in the root of your package so that &lt;code class=&quot;highlighter-rouge&quot;&gt;R CMD CHECK&lt;/code&gt; doesn’t complain. When you use the &lt;code class=&quot;highlighter-rouge&quot;&gt;devtools::release()&lt;/code&gt; function, it will look for this file, and automatically throw in your submission comments. Doing this and using &lt;code class=&quot;highlighter-rouge&quot;&gt;release()&lt;/code&gt; means you don’t have to worry about Brian Ripley complaining about rich text emails.&lt;/p&gt;

&lt;h2 id=&quot;cran-policy-changes&quot;&gt;CRAN policy changes&lt;/h2&gt;

&lt;p&gt;If you’re on Twitter, watch the &lt;code class=&quot;highlighter-rouge&quot;&gt;#rstats&lt;/code&gt; hashtag to be more likely to notice any upcoming changes in package submission policies. Also can follow Dirk’s &lt;a href=&quot;https://github.com/eddelbuettel/crp&quot;&gt;CRAN policy watch repo&lt;/a&gt;.&lt;/p&gt;

&lt;h2 id=&quot;other-things&quot;&gt;Other things&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://hilaryparker.com/2014/04/29/writing-an-r-package-from-scratch/&quot;&gt;Hilary Parker’s blog post&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://r-pkgs.had.co.nz/&quot;&gt;Hadley’s book on package development&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>httping - ping and time http requests</title>
   <link href="http://recology.info//2015/01/httping/"/>
   <updated>2015-01-30T00:00:00-08:00</updated>
   <id>http://recology.info//2015/01/httping</id>
   <content type="html">&lt;p&gt;I’ve been working on a little thing called &lt;code class=&quot;highlighter-rouge&quot;&gt;httping&lt;/code&gt; - a small R package that started as a pkg to Ping urls and time requests. It’s a port of the Ruby gem &lt;a href=&quot;https://github.com/jpignata/httping&quot;&gt;httping&lt;/a&gt;. The &lt;code class=&quot;highlighter-rouge&quot;&gt;httr&lt;/code&gt; package is in &lt;code class=&quot;highlighter-rouge&quot;&gt;Depends&lt;/code&gt; in this package, so its functions can be called directly, without having to load &lt;code class=&quot;highlighter-rouge&quot;&gt;httr&lt;/code&gt; explicitly yourself.&lt;/p&gt;

&lt;p&gt;In addition to timing requests, I’ve been tinkering with how to make http requests, with curl options accepting and returning the same object so they can be chained together, and then that object passed to a http verb like &lt;code class=&quot;highlighter-rouge&quot;&gt;GET&lt;/code&gt;. Maybe this is a bad idea, but maybe not.&lt;/p&gt;

&lt;h2 id=&quot;installation&quot;&gt;Installation&lt;/h2&gt;

&lt;p&gt;Install:&lt;/p&gt;

&lt;p&gt;One non-CRAN dep (&lt;code class=&quot;highlighter-rouge&quot;&gt;httpcode&lt;/code&gt;) needs to be installed first.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;devtools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sckott/httpcode&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sckott/httping&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then load package&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;httping&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;time-requests&quot;&gt;Time requests&lt;/h2&gt;

&lt;p&gt;The idea with &lt;code class=&quot;highlighter-rouge&quot;&gt;time()&lt;/code&gt; is to provide easy to use and understand information on how long http requests take to run. You should be able to pass in any &lt;code class=&quot;highlighter-rouge&quot;&gt;httr&lt;/code&gt; verbs (&lt;code class=&quot;highlighter-rouge&quot;&gt;GET()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;POST()&lt;/code&gt;, etc.) to &lt;code class=&quot;highlighter-rouge&quot;&gt;time()&lt;/code&gt;. &lt;code class=&quot;highlighter-rouge&quot;&gt;time()&lt;/code&gt; repeats whatever http request you pass to it by default 10 times, but you can set the number of times to repeat in the &lt;code class=&quot;highlighter-rouge&quot;&gt;count&lt;/code&gt; parameter. In addition, the &lt;code class=&quot;highlighter-rouge&quot;&gt;flood&lt;/code&gt; parameter controls whether there is a delay between requests or not, and &lt;code class=&quot;highlighter-rouge&quot;&gt;delay&lt;/code&gt; controls length of the delay.&lt;/p&gt;

&lt;p&gt;A &lt;code class=&quot;highlighter-rouge&quot;&gt;GET&lt;/code&gt; request&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://google.com&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 29.392 kb - http://www.google.com/ code:200 time(ms):92.444
#&amp;gt; 29.392 kb - http://www.google.com/ code:200 time(ms):82.127
#&amp;gt; 29.392 kb - http://www.google.com/ code:200 time(ms):85.587
#&amp;gt; &amp;lt;http time&amp;gt;
#&amp;gt;   Avg. min (ms):  82.127
#&amp;gt;   Avg. max (ms):  92.444
#&amp;gt;   Avg. mean (ms): 86.71933
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;A &lt;code class=&quot;highlighter-rouge&quot;&gt;POST&lt;/code&gt; request&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;POST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://httpbin.org/post&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;A simple text string&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 10.144 kb - http://httpbin.org/post code:200 time(ms):267.574
#&amp;gt; 10.144 kb - http://httpbin.org/post code:200 time(ms):113.309
#&amp;gt; 10.144 kb - http://httpbin.org/post code:200 time(ms):99.938
#&amp;gt; &amp;lt;http time&amp;gt;
#&amp;gt;   Avg. min (ms):  99.938
#&amp;gt;   Avg. max (ms):  267.574
#&amp;gt;   Avg. mean (ms): 160.2737
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The return object is a list with slots for all the &lt;code class=&quot;highlighter-rouge&quot;&gt;httr&lt;/code&gt; response objects, the times for each request, and the average times. The number of requests, and the delay between requests are included as attributes.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://google.com&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 29.392 kb - http://www.google.com/ code:200 time(ms):82.086
#&amp;gt; 29.392 kb - http://www.google.com/ code:200 time(ms):78.15
#&amp;gt; 29.392 kb - http://www.google.com/ code:200 time(ms):79.763
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;attributes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $names
#&amp;gt; [1] &quot;times&quot;    &quot;averages&quot; &quot;request&quot; 
#&amp;gt; 
#&amp;gt; $count
#&amp;gt; [1] 3
#&amp;gt; 
#&amp;gt; $delay
#&amp;gt; [1] 0.5
#&amp;gt; 
#&amp;gt; $class
#&amp;gt; [1] &quot;http_time&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Or print a summary of a response, gives more detail&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;summary&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;http time, averages (min max mean)&amp;gt;
#&amp;gt;   Total (s):           78.15 82.086 79.99967
#&amp;gt;   Tedirect (s):        26.695 34.319 29.80633
#&amp;gt;   Namelookup time (s): 0.025 0.03 0.028
#&amp;gt;   Connect (s):         0.028 0.034 0.032
#&amp;gt;   Pretransfer (s):     0.069 0.081 0.07633333
#&amp;gt;   Starttransfer (s):   45.44 49.326 47.95867
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Messages are printed using &lt;code class=&quot;highlighter-rouge&quot;&gt;cat&lt;/code&gt;, so you can suppress those using &lt;code class=&quot;highlighter-rouge&quot;&gt;verbose=FALSE&lt;/code&gt;, like&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://google.com&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;verbose&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;http time&amp;gt;
#&amp;gt;   Avg. min (ms):  86.12
#&amp;gt;   Avg. max (ms):  94.035
#&amp;gt;   Avg. mean (ms): 89.12467
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;ping-an-endpoint&quot;&gt;Ping an endpoint&lt;/h2&gt;

&lt;p&gt;The idea with &lt;code class=&quot;highlighter-rouge&quot;&gt;ping()&lt;/code&gt; is to simply return the http status code along with a message describing what that code means. That’s it.&lt;/p&gt;

&lt;p&gt;This function is a bit different, accepts a url as first parameter, but can accept any args passed on to &lt;code class=&quot;highlighter-rouge&quot;&gt;httr&lt;/code&gt; verb functions, like &lt;code class=&quot;highlighter-rouge&quot;&gt;GET&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;POST&lt;/code&gt;,  etc.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://google.com&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ping&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;http ping&amp;gt; 200
#&amp;gt;   Message: OK
#&amp;gt;   Description: Request fulfilled, document follows
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Or pass in additional arguments to modify request&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://google.com&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ping&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;verbose&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; -&amp;gt; GET / HTTP/1.1
#&amp;gt; -&amp;gt; User-Agent: curl/7.37.1 Rcurl/1.95.4.5 httr/0.6.1
#&amp;gt; -&amp;gt; Host: google.com
#&amp;gt; -&amp;gt; Accept-Encoding: gzip
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cutoff&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;even-simpler-verbs&quot;&gt;Even simpler verbs&lt;/h2&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;httr&lt;/code&gt; is already easy, but &lt;code class=&quot;highlighter-rouge&quot;&gt;Get()&lt;/code&gt;:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Allows use of an intuitive chaining workflow&lt;/li&gt;
  &lt;li&gt;Parses data for you using &lt;code class=&quot;highlighter-rouge&quot;&gt;httr&lt;/code&gt; built in format guesser, which should work in most cases&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;A simple GET request&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://httpbin.org/get&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $args
#&amp;gt; named list()
#&amp;gt; 
#&amp;gt; $headers
#&amp;gt; $headers$Accept
#&amp;gt; [1] &quot;application/json, text/xml, application/xml, */*&quot;
#&amp;gt; 
#&amp;gt; $headers$`Accept-Encoding`
#&amp;gt; [1] &quot;gzip&quot;
#&amp;gt; 
#&amp;gt; $headers$Host
#&amp;gt; [1] &quot;httpbin.org&quot;
#&amp;gt; 
#&amp;gt; $headers$`User-Agent`
#&amp;gt; [1] &quot;curl/7.37.1 Rcurl/1.95.4.5 httr/0.6.1&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $origin
#&amp;gt; [1] &quot;24.21.209.71&quot;
#&amp;gt; 
#&amp;gt; $url
#&amp;gt; [1] &quot;http://httpbin.org/get&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;You can buid up options by calling functions&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://httpbin.org/get&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Progress&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Verbose&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;http request&amp;gt; 
#&amp;gt;   url: http://httpbin.org/get
#&amp;gt;   config: 
#&amp;gt; Config: 
#&amp;gt; List of 4
#&amp;gt;  $ noprogress      :FALSE
#&amp;gt;  $ progressfunction:function (...)  
#&amp;gt;  $ debugfunction   :function (...)  
#&amp;gt;  $ verbose         :TRUE
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then eventually execute the GET request&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://httpbin.org/get&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Verbose&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Progress&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;Get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; -&amp;gt; GET /get HTTP/1.1
#&amp;gt; -&amp;gt; User-Agent: curl/7.37.1 Rcurl/1.95.4.5 httr/0.6.1
#&amp;gt; -&amp;gt; Host: httpbin.org
#&amp;gt; -&amp;gt; Accept-Encoding: gzip
#&amp;gt; -&amp;gt; Accept: application/json, text/xml, application/xml, */*
#&amp;gt; -&amp;gt; 
#&amp;gt; &amp;lt;- HTTP/1.1 200 OK
#&amp;gt; &amp;lt;- Server: nginx
#&amp;gt; &amp;lt;- Date: Fri, 30 Jan 2015 17:38:58 GMT
#&amp;gt; &amp;lt;- Content-Type: application/json
#&amp;gt; &amp;lt;- Content-Length: 288
#&amp;gt; &amp;lt;- Connection: keep-alive
#&amp;gt; &amp;lt;- Access-Control-Allow-Origin: *
#&amp;gt; &amp;lt;- Access-Control-Allow-Credentials: true
#&amp;gt; &amp;lt;- 
#&amp;gt;   |=======================================| 100%
#&amp;gt; 
#&amp;gt; $args
#&amp;gt; named list()
#&amp;gt; 
#&amp;gt; $headers
#&amp;gt; $headers$Accept
#&amp;gt; [1] &quot;application/json, text/xml, application/xml, */*&quot;
#&amp;gt; 
#&amp;gt; $headers$`Accept-Encoding`
#&amp;gt; [1] &quot;gzip&quot;
#&amp;gt; 
#&amp;gt; $headers$Host
#&amp;gt; [1] &quot;httpbin.org&quot;
#&amp;gt; 
#&amp;gt; $headers$`User-Agent`
#&amp;gt; [1] &quot;curl/7.37.1 Rcurl/1.95.4.5 httr/0.6.1&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $origin
#&amp;gt; [1] &quot;24.21.209.71&quot;
#&amp;gt; 
#&amp;gt; $url
#&amp;gt; [1] &quot;http://httpbin.org/get&quot;
#&amp;gt; 
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>elastic - Elasticsearch from R</title>
   <link href="http://recology.info//2015/01/elasticsearch/"/>
   <updated>2015-01-29T00:00:00-08:00</updated>
   <id>http://recology.info//2015/01/elasticsearch</id>
   <content type="html">&lt;p&gt;We’ve (ropensci) been working on an R client for interacting with &lt;a href=&quot;http://www.elasticsearch.org/&quot;&gt;Elasticsearch&lt;/a&gt; for a while now, first commit was November 2013.&lt;/p&gt;

&lt;p&gt;Elasticsearch is a document database built on the JVM. &lt;code class=&quot;highlighter-rouge&quot;&gt;elastic&lt;/code&gt; interacts with the Elasticsearch HTTP API, and includes functions for setting connection details to Elasticsearch instances, loading bulk data, searching for documents with both HTTP query variables and JSON based body requests. In addition, &lt;code class=&quot;highlighter-rouge&quot;&gt;elastic&lt;/code&gt; provides functions for interacting with APIs for indices, documents, nodes, clusters, an interface to the cat API, and more.&lt;/p&gt;

&lt;p&gt;Here’s a few examples of what you can do.&lt;/p&gt;

&lt;p&gt;Note: &lt;code class=&quot;highlighter-rouge&quot;&gt;elastic&lt;/code&gt; was just pushed to CRAN. It just got accepted, so binaries may not be available, try again soon, or install from Github, or install from source from CRAN like &lt;code class=&quot;highlighter-rouge&quot;&gt;install.packages(&quot;http://cran.r-project.org/src/contrib/elastic_0.3.0.tar.gz&quot;, repos=NULL, type=&quot;source&quot;)&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;installation&quot;&gt;Installation&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;elastic&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Or install development version:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;devtools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropensci/elastic&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then load package&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;elastic&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;install-elasticsearch&quot;&gt;Install Elasticsearch&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/_installation.html&quot;&gt;Elasticsearch installation help&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Unix (linux/osx)&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Replace &lt;code class=&quot;highlighter-rouge&quot;&gt;1.4.1&lt;/code&gt; with the version you are working with.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Download zip or tar file from Elasticsearch &lt;a href=&quot;http://www.elasticsearch.org/overview/elkdownloads/&quot;&gt;see here for download&lt;/a&gt;, e.g., &lt;code class=&quot;highlighter-rouge&quot;&gt;curl -L -O https://download.elasticsearch.org/elasticsearch/elasticsearch/elasticsearch-1.4.1.tar.gz&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Uncompress it: &lt;code class=&quot;highlighter-rouge&quot;&gt;tar -xvf elasticsearch-1.4.1.tar.gz&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Move it: &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo mv /path/to/elasticsearch-1.4.1 /usr/local&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Navigate to /usr/local: &lt;code class=&quot;highlighter-rouge&quot;&gt;cd /usr/local&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Add shortcut: &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo ln -s elasticsearch-1.4.1 elasticsearch&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;On OSX, you can install via Homebrew: &lt;code class=&quot;highlighter-rouge&quot;&gt;brew install elasticsearch&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Windows&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Windows users can follow the above, but unzip the zip file instead of uncompressing the tar file.&lt;/p&gt;

&lt;h2 id=&quot;start-elasticsearch&quot;&gt;Start Elasticsearch&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Navigate to elasticsearch: &lt;code class=&quot;highlighter-rouge&quot;&gt;cd /usr/local/elasticsearch&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Start elasticsearch: &lt;code class=&quot;highlighter-rouge&quot;&gt;bin/elasticsearch&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I create a little bash shortcut called &lt;code class=&quot;highlighter-rouge&quot;&gt;es&lt;/code&gt; that does both of the above commands in one step (&lt;code class=&quot;highlighter-rouge&quot;&gt;cd /usr/local/elasticsearch &amp;amp;&amp;amp; bin/elasticsearch&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Windows users should run the &lt;code class=&quot;highlighter-rouge&quot;&gt;elasticsearch.bat&lt;/code&gt; file&lt;/p&gt;

&lt;h2 id=&quot;initialize-connection&quot;&gt;Initialize connection&lt;/h2&gt;

&lt;p&gt;The function &lt;code class=&quot;highlighter-rouge&quot;&gt;connect()&lt;/code&gt; is used before doing anything else to set the connection details to your remote or local elasticsearch store. The details created by &lt;code class=&quot;highlighter-rouge&quot;&gt;connect()&lt;/code&gt; are written to your options for the current session, and are used by &lt;code class=&quot;highlighter-rouge&quot;&gt;elastic&lt;/code&gt; functions.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;connect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;On package load, your base url and port are set to &lt;code class=&quot;highlighter-rouge&quot;&gt;http://127.0.0.1&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;9200&lt;/code&gt;, respectively. You can of course override these settings per session or for all sessions.&lt;/p&gt;

&lt;h2 id=&quot;get-data&quot;&gt;Get data&lt;/h2&gt;

&lt;p&gt;Elasticsearch has a bulk load API to load data in fast. The format is pretty weird though. It’s sort of JSON, but would pass no JSON linter. I include a few data sets in &lt;code class=&quot;highlighter-rouge&quot;&gt;elastic&lt;/code&gt; so it’s easy to get up and running, and so when you run examples in this package they’ll actually run the same way (hopefully).&lt;/p&gt;

&lt;h3 id=&quot;shakespeare-data&quot;&gt;Shakespeare data&lt;/h3&gt;

&lt;p&gt;Elasticsearch provides some data on Shakespeare plays. I’ve provided a subset of this data in this package. Get the path for the file specific to your machine:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;shakespeare&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;system.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;examples&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;shakespeare_data.json&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;elastic&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then load the data into Elasticsearch:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;docs_bulk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shakespeare&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;public-library-of-science-plos-data&quot;&gt;Public Library of Science (PLOS) data&lt;/h3&gt;

&lt;p&gt;A dataset inluded in the &lt;code class=&quot;highlighter-rouge&quot;&gt;elastic&lt;/code&gt; package is metadata for PLOS scholarly articles.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;plosdat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;system.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;examples&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;plos_data.json&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;elastic&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;docs_bulk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plosdat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;global-biodiversity-information-facility-gbif-data&quot;&gt;Global Biodiversity Information Facility (GBIF) data&lt;/h3&gt;

&lt;p&gt;A dataset inluded in the &lt;code class=&quot;highlighter-rouge&quot;&gt;elastic&lt;/code&gt; package is data for GBIF species occurrence records. Get the file path, then load:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gbifdat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;system.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;examples&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;gbif_data.json&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;elastic&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;docs_bulk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gbifdat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;GBIF geo data with a coordinates element to allow &lt;code class=&quot;highlighter-rouge&quot;&gt;geo_shape&lt;/code&gt; queries&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gbifgeo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;system.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;examples&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;gbif_geo.json&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;elastic&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;docs_bulk&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gbifgeo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;the-search-function&quot;&gt;The Search function&lt;/h2&gt;

&lt;p&gt;The main interface to searching documents in your Elasticsearch store is the function &lt;code class=&quot;highlighter-rouge&quot;&gt;Search()&lt;/code&gt;. I nearly always develop R software using all lowercase, but R has a function called &lt;code class=&quot;highlighter-rouge&quot;&gt;search()&lt;/code&gt;, and I wanted to avoid collision with that function.&lt;/p&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Search()&lt;/code&gt; is an interface to both the HTTP search API (in which queries are passed in the URI of the request, meaning queries have to be relatively simple), as well as the POST API, or the Query DSL, in which queries are passed in the body of the request (so can be much more complex).&lt;/p&gt;

&lt;p&gt;There are a huge amount of ways you can search Elasticsearch documents - this tutorial covers some of them, and highlights the ways in which you interact with the R outputs.&lt;/p&gt;

&lt;h3 id=&quot;search-an-index&quot;&gt;Search an index&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;shakespeare&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;total&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 5000
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_index`
#&amp;gt; [1] &quot;shakespeare&quot;
#&amp;gt; 
#&amp;gt; $`_type`
#&amp;gt; [1] &quot;line&quot;
#&amp;gt; 
#&amp;gt; $`_id`
#&amp;gt; [1] &quot;4&quot;
#&amp;gt; 
#&amp;gt; $`_version`
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; $`_score`
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; $`_source`
#&amp;gt; $`_source`$line_id
#&amp;gt; [1] 5
#&amp;gt; 
#&amp;gt; $`_source`$play_name
#&amp;gt; [1] &quot;Henry IV&quot;
#&amp;gt; 
#&amp;gt; $`_source`$speech_number
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; $`_source`$line_number
#&amp;gt; [1] &quot;1.1.2&quot;
#&amp;gt; 
#&amp;gt; $`_source`$speaker
#&amp;gt; [1] &quot;KING HENRY IV&quot;
#&amp;gt; 
#&amp;gt; $`_source`$text_entry
#&amp;gt; [1] &quot;Find we a time for frighted peace to pant,&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;search-an-index-by-type&quot;&gt;Search an index by type&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;Search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;shakespeare&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;act&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_index`
#&amp;gt; [1] &quot;shakespeare&quot;
#&amp;gt; 
#&amp;gt; $`_type`
#&amp;gt; [1] &quot;act&quot;
#&amp;gt; 
#&amp;gt; $`_id`
#&amp;gt; [1] &quot;2227&quot;
#&amp;gt; 
#&amp;gt; $`_version`
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; $`_score`
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; $`_source`
#&amp;gt; $`_source`$line_id
#&amp;gt; [1] 2228
#&amp;gt; 
#&amp;gt; $`_source`$play_name
#&amp;gt; [1] &quot;Henry IV&quot;
#&amp;gt; 
#&amp;gt; $`_source`$speech_number
#&amp;gt; [1] 81
#&amp;gt; 
#&amp;gt; $`_source`$line_number
#&amp;gt; [1] &quot;&quot;
#&amp;gt; 
#&amp;gt; $`_source`$speaker
#&amp;gt; [1] &quot;FALSTAFF&quot;
#&amp;gt; 
#&amp;gt; $`_source`$text_entry
#&amp;gt; [1] &quot;ACT IV&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;return-certain-fields&quot;&gt;Return certain fields&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;Search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;shakespeare&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;play_name&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;speaker&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_index`
#&amp;gt; [1] &quot;shakespeare&quot;
#&amp;gt; 
#&amp;gt; $`_type`
#&amp;gt; [1] &quot;line&quot;
#&amp;gt; 
#&amp;gt; $`_id`
#&amp;gt; [1] &quot;4&quot;
#&amp;gt; 
#&amp;gt; $`_version`
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; $`_score`
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; $fields
#&amp;gt; $fields$speaker
#&amp;gt; $fields$speaker[[1]]
#&amp;gt; [1] &quot;KING HENRY IV&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $fields$play_name
#&amp;gt; $fields$play_name[[1]]
#&amp;gt; [1] &quot;Henry IV&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;sorting&quot;&gt;Sorting&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;Search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;shakespeare&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;act&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;text_entry&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]
#&amp;gt; [[1]]$`_index`
#&amp;gt; [1] &quot;shakespeare&quot;
#&amp;gt; 
#&amp;gt; [[1]]$`_type`
#&amp;gt; [1] &quot;act&quot;
#&amp;gt; 
#&amp;gt; [[1]]$`_id`
#&amp;gt; [1] &quot;2227&quot;
#&amp;gt; 
#&amp;gt; [[1]]$`_version`
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; [[1]]$`_score`
#&amp;gt; NULL
#&amp;gt; 
#&amp;gt; [[1]]$`_source`
#&amp;gt; [[1]]$`_source`$line_id
#&amp;gt; [1] 2228
#&amp;gt; 
#&amp;gt; [[1]]$`_source`$play_name
#&amp;gt; [1] &quot;Henry IV&quot;
#&amp;gt; 
#&amp;gt; [[1]]$`_source`$speech_number
#&amp;gt; [1] 81
#&amp;gt; 
#&amp;gt; [[1]]$`_source`$line_number
#&amp;gt; [1] &quot;&quot;
#&amp;gt; 
#&amp;gt; [[1]]$`_source`$speaker
#&amp;gt; [1] &quot;FALSTAFF&quot;
#&amp;gt; 
#&amp;gt; [[1]]$`_source`$text_entry
#&amp;gt; [1] &quot;ACT IV&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; [[1]]$sort
#&amp;gt; [[1]]$sort[[1]]
#&amp;gt; [1] &quot;act&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; 
#&amp;gt; [[2]]
#&amp;gt; [[2]]$`_index`
#&amp;gt; [1] &quot;shakespeare&quot;
#&amp;gt; 
#&amp;gt; [[2]]$`_type`
#&amp;gt; [1] &quot;act&quot;
#&amp;gt; 
#&amp;gt; [[2]]$`_id`
#&amp;gt; [1] &quot;2633&quot;
#&amp;gt; 
#&amp;gt; [[2]]$`_version`
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; [[2]]$`_score`
#&amp;gt; NULL
#&amp;gt; 
#&amp;gt; [[2]]$`_source`
#&amp;gt; [[2]]$`_source`$line_id
#&amp;gt; [1] 2634
#&amp;gt; 
#&amp;gt; [[2]]$`_source`$play_name
#&amp;gt; [1] &quot;Henry IV&quot;
#&amp;gt; 
#&amp;gt; [[2]]$`_source`$speech_number
#&amp;gt; [1] 9
#&amp;gt; 
#&amp;gt; [[2]]$`_source`$line_number
#&amp;gt; [1] &quot;&quot;
#&amp;gt; 
#&amp;gt; [[2]]$`_source`$speaker
#&amp;gt; [1] &quot;ARCHBISHOP OF YORK&quot;
#&amp;gt; 
#&amp;gt; [[2]]$`_source`$text_entry
#&amp;gt; [1] &quot;ACT V&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; [[2]]$sort
#&amp;gt; [[2]]$sort[[1]]
#&amp;gt; [1] &quot;act&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;paging&quot;&gt;Paging&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;Search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;shakespeare&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;text_entry&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $total
#&amp;gt; [1] 5000
#&amp;gt; 
#&amp;gt; $max_score
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; $hits
#&amp;gt; $hits[[1]]
#&amp;gt; $hits[[1]]$`_index`
#&amp;gt; [1] &quot;shakespeare&quot;
#&amp;gt; 
#&amp;gt; $hits[[1]]$`_type`
#&amp;gt; [1] &quot;line&quot;
#&amp;gt; 
#&amp;gt; $hits[[1]]$`_id`
#&amp;gt; [1] &quot;9&quot;
#&amp;gt; 
#&amp;gt; $hits[[1]]$`_version`
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; $hits[[1]]$`_score`
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; $hits[[1]]$fields
#&amp;gt; $hits[[1]]$fields$text_entry
#&amp;gt; $hits[[1]]$fields$text_entry[[1]]
#&amp;gt; [1] &quot;Nor more shall trenching war channel her fields,&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;queries&quot;&gt;Queries&lt;/h3&gt;

&lt;p&gt;Using the &lt;code class=&quot;highlighter-rouge&quot;&gt;q&lt;/code&gt; parameter you can pass in a query, which gets passed in the URI of the query. This type of query is less powerful than the below query passed in the body of the request, using the &lt;code class=&quot;highlighter-rouge&quot;&gt;body&lt;/code&gt; parameter.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;Search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;shakespeare&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;act&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;speaker:KING HENRY IV&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;total&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;query-dsl-searches---queries-sent-in-the-body-of-the-request&quot;&gt;Query DSL searches - queries sent in the body of the request&lt;/h3&gt;

&lt;p&gt;Pass in as an R list&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;aggs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aggs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stats&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;terms&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;field&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;text_entry&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;shakespeare&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aggs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_index`
#&amp;gt; [1] &quot;shakespeare&quot;
#&amp;gt; 
#&amp;gt; $`_type`
#&amp;gt; [1] &quot;line&quot;
#&amp;gt; 
#&amp;gt; $`_id`
#&amp;gt; [1] &quot;4&quot;
#&amp;gt; 
#&amp;gt; $`_version`
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; $`_score`
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; $`_source`
#&amp;gt; $`_source`$line_id
#&amp;gt; [1] 5
#&amp;gt; 
#&amp;gt; $`_source`$play_name
#&amp;gt; [1] &quot;Henry IV&quot;
#&amp;gt; 
#&amp;gt; $`_source`$speech_number
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; $`_source`$line_number
#&amp;gt; [1] &quot;1.1.2&quot;
#&amp;gt; 
#&amp;gt; $`_source`$speaker
#&amp;gt; [1] &quot;KING HENRY IV&quot;
#&amp;gt; 
#&amp;gt; $`_source`$text_entry
#&amp;gt; [1] &quot;Find we a time for frighted peace to pant,&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Or pass in as json query with newlines, easy to read&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;aggs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;{
    &quot;aggs&quot;: {
        &quot;stats&quot; : {
            &quot;terms&quot; : {
                &quot;field&quot; : &quot;text_entry&quot;
            }
        }
    }
}&#39;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;shakespeare&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aggs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_index`
#&amp;gt; [1] &quot;shakespeare&quot;
#&amp;gt; 
#&amp;gt; $`_type`
#&amp;gt; [1] &quot;line&quot;
#&amp;gt; 
#&amp;gt; $`_id`
#&amp;gt; [1] &quot;4&quot;
#&amp;gt; 
#&amp;gt; $`_version`
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; $`_score`
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; $`_source`
#&amp;gt; $`_source`$line_id
#&amp;gt; [1] 5
#&amp;gt; 
#&amp;gt; $`_source`$play_name
#&amp;gt; [1] &quot;Henry IV&quot;
#&amp;gt; 
#&amp;gt; $`_source`$speech_number
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; $`_source`$line_number
#&amp;gt; [1] &quot;1.1.2&quot;
#&amp;gt; 
#&amp;gt; $`_source`$speaker
#&amp;gt; [1] &quot;KING HENRY IV&quot;
#&amp;gt; 
#&amp;gt; $`_source`$text_entry
#&amp;gt; [1] &quot;Find we a time for frighted peace to pant,&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Or pass in collapsed json string&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;aggs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;{&quot;aggs&quot;:{&quot;stats&quot;:{&quot;terms&quot;:{&quot;field&quot;:&quot;text_entry&quot;}}}}&#39;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;shakespeare&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aggs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_index`
#&amp;gt; [1] &quot;shakespeare&quot;
#&amp;gt; 
#&amp;gt; $`_type`
#&amp;gt; [1] &quot;line&quot;
#&amp;gt; 
#&amp;gt; $`_id`
#&amp;gt; [1] &quot;4&quot;
#&amp;gt; 
#&amp;gt; $`_version`
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; $`_score`
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; $`_source`
#&amp;gt; $`_source`$line_id
#&amp;gt; [1] 5
#&amp;gt; 
#&amp;gt; $`_source`$play_name
#&amp;gt; [1] &quot;Henry IV&quot;
#&amp;gt; 
#&amp;gt; $`_source`$speech_number
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; $`_source`$line_number
#&amp;gt; [1] &quot;1.1.2&quot;
#&amp;gt; 
#&amp;gt; $`_source`$speaker
#&amp;gt; [1] &quot;KING HENRY IV&quot;
#&amp;gt; 
#&amp;gt; $`_source`$text_entry
#&amp;gt; [1] &quot;Find we a time for frighted peace to pant,&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;fuzzy-query&quot;&gt;Fuzzy query&lt;/h3&gt;

&lt;p&gt;Fuzzy query on numerics&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;fuzzy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fuzzy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;speech_number&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;shakespeare&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fuzzy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;total&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 523
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;fuzzy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fuzzy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;speech_number&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fuzziness&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;shakespeare&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fuzzy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;total&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1499
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;range-query&quot;&gt;Range query&lt;/h3&gt;

&lt;p&gt;With numeric&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decimalLongitude&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gte&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lte&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;gbif&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;total&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 24
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;decimalLongitude&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gte&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2.9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lte&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;gbif&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;total&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 166
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;With dates&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;eventDate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gte&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2012-01-01&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lte&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;now&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;gbif&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;total&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 899
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;eventDate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gte&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;2014-01-01&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lte&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;now&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;gbif&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;total&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 685
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;highlighting&quot;&gt;Highlighting&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;{
 &quot;query&quot;: {
   &quot;query_string&quot;: {
     &quot;query&quot; : &quot;cell&quot;
   }
 },
 &quot;highlight&quot;: {
   &quot;fields&quot;: {
     &quot;title&quot;: {&quot;number_of_fragments&quot;: 2}
   }
 }
}&#39;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;plos&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;article&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;total&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 57
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;highlight&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]])[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;c-FLIP Protects Eosinophils from TNF-α-Mediated &amp;lt;em&amp;gt;Cell&amp;lt;/em&amp;gt; Death In Vivo&quot;                          
#&amp;gt; [2] &quot;DUSP1 Is a Novel Target for Enhancing Pancreatic Cancer &amp;lt;em&amp;gt;Cell&amp;lt;/em&amp;gt; Sensitivity to Gemcitabine&quot;     
#&amp;gt; [3] &quot;Carbon Ion Radiation Inhibits Glioma and Endothelial &amp;lt;em&amp;gt;Cell&amp;lt;/em&amp;gt; Migration Induced by Secreted VEGF&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;scrolling-search---instead-of-paging&quot;&gt;Scrolling search - instead of paging&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;Search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;shakespeare&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a*&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;total&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 2747
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;shakespeare&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a*&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scroll&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1m&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;shakespeare&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a*&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scroll&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1m&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;search_type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;scan&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scroll&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scroll_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`_scroll_id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 50
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;shakespeare&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a*&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scroll&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;5m&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;search_type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;scan&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scroll&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scroll_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`_scroll_id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 2747
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Woohoo! Collected all 2747 documents in very little time.&lt;/p&gt;

&lt;h2 id=&quot;the-cat-api&quot;&gt;The cat API&lt;/h2&gt;

&lt;p&gt;List cat methods&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;cat_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; =^.^=
#&amp;gt; /_cat/allocation
#&amp;gt; /_cat/shards
#&amp;gt; /_cat/shards/{index}
#&amp;gt; /_cat/master
#&amp;gt; /_cat/nodes
#&amp;gt; /_cat/indices
#&amp;gt; /_cat/indices/{index}
#&amp;gt; /_cat/segments
#&amp;gt; /_cat/segments/{index}
#&amp;gt; /_cat/count
#&amp;gt; /_cat/count/{index}
#&amp;gt; /_cat/recovery
#&amp;gt; /_cat/recovery/{index}
#&amp;gt; /_cat/health
#&amp;gt; /_cat/pending_tasks
#&amp;gt; /_cat/aliases
#&amp;gt; /_cat/aliases/{alias}
#&amp;gt; /_cat/thread_pool
#&amp;gt; /_cat/plugins
#&amp;gt; /_cat/fielddata
#&amp;gt; /_cat/fielddata/{fields}
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Get aliases&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;cat_aliases&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; things plos - - - 
#&amp;gt; stuff  plos - - -
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Get indices&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;cat_indices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; yellow open plosmore     5 1  1000  0   3.5mb   3.5mb 
#&amp;gt; yellow open leotheadfadf 5 1     0  0    575b    575b 
#&amp;gt; red    open alsothat     3 2                          
#&amp;gt; yellow open gbif         5 1   899  0     1mb     1mb 
#&amp;gt; yellow open gbifgeopoint 5 1     0  0    575b    575b 
#&amp;gt; yellow open gbifnewgeo   5 1     2  0   5.8kb   5.8kb 
#&amp;gt; yellow open plos         5 1  1202 39  14.2mb  14.2mb 
#&amp;gt; yellow open leothedog    5 1     0  0    575b    575b 
#&amp;gt; yellow open shakespeare  5 1  5000  0     1mb     1mb 
#&amp;gt; yellow open gbifgeo      5 1   600  0 861.9kb 861.9kb 
#&amp;gt; yellow open plosbigdata  5 1 20000  0  53.6mb  53.6mb 
#&amp;gt; yellow open mapuris      5 1    31  0  34.4kb  34.4kb 
#&amp;gt; yellow open leothelion   5 1     0  0    575b    575b
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Get nodes&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;cat_nodes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Scotts-MacBook-Pro.local 192.168.1.104 6 79 3.44 d * Hellfire
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;work-with-indices&quot;&gt;Work with indices&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;index_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;shakespeare&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shakespeare&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mappings&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;line&quot;  &quot;scene&quot; &quot;act&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Check for index existence&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;index_exists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;shakespeare&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] TRUE
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Delete an index&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;index_delete&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;plos&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $acknowledged
#&amp;gt; [1] TRUE
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Create an index&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;index_create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;twitter&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $acknowledged
#&amp;gt; [1] TRUE
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;work-with-documents&quot;&gt;Work with documents&lt;/h2&gt;

&lt;p&gt;Get a document&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;docs_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;shakespeare&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;line&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_index`
#&amp;gt; [1] &quot;shakespeare&quot;
#&amp;gt; 
#&amp;gt; $`_type`
#&amp;gt; [1] &quot;line&quot;
#&amp;gt; 
#&amp;gt; $`_id`
#&amp;gt; [1] &quot;10&quot;
#&amp;gt; 
#&amp;gt; $`_version`
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; $found
#&amp;gt; [1] TRUE
#&amp;gt; 
#&amp;gt; $`_source`
#&amp;gt; $`_source`$line_id
#&amp;gt; [1] 11
#&amp;gt; 
#&amp;gt; $`_source`$play_name
#&amp;gt; [1] &quot;Henry IV&quot;
#&amp;gt; 
#&amp;gt; $`_source`$speech_number
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; $`_source`$line_number
#&amp;gt; [1] &quot;1.1.8&quot;
#&amp;gt; 
#&amp;gt; $`_source`$speaker
#&amp;gt; [1] &quot;KING HENRY IV&quot;
#&amp;gt; 
#&amp;gt; $`_source`$text_entry
#&amp;gt; [1] &quot;Nor bruise her flowerets with the armed hoofs&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Get certain fields&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;docs_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;shakespeare&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;line&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;play_name&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;speaker&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_index`
#&amp;gt; [1] &quot;shakespeare&quot;
#&amp;gt; 
#&amp;gt; $`_type`
#&amp;gt; [1] &quot;line&quot;
#&amp;gt; 
#&amp;gt; $`_id`
#&amp;gt; [1] &quot;10&quot;
#&amp;gt; 
#&amp;gt; $`_version`
#&amp;gt; [1] 1
#&amp;gt; 
#&amp;gt; $found
#&amp;gt; [1] TRUE
#&amp;gt; 
#&amp;gt; $fields
#&amp;gt; $fields$play_name
#&amp;gt; $fields$play_name[[1]]
#&amp;gt; [1] &quot;Henry IV&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $fields$speaker
#&amp;gt; $fields$speaker[[1]]
#&amp;gt; [1] &quot;KING HENRY IV&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Test for existence of the document&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;docs_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;plos&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;article&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;exists&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] FALSE
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;docs_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;plos&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;article&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;123456&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;exists&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] FALSE
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;thats-it&quot;&gt;Thats it&lt;/h2&gt;

&lt;p&gt;Let us know if you have any feedback!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>binomen - taxonomic classes and parsing</title>
   <link href="http://recology.info//2015/01/binomen/"/>
   <updated>2015-01-19T00:00:00-08:00</updated>
   <id>http://recology.info//2015/01/binomen</id>
   <content type="html">&lt;p&gt;I maintain, along with other &lt;a href=&quot;https://github.com/ropensci/taxize/graphs/contributors&quot;&gt;awesome people&lt;/a&gt;, the &lt;a href=&quot;https://github.com/ropensci/taxize&quot;&gt;taxize&lt;/a&gt; R package - a taxonomic toolbelt for R, for interacting with taxonomic data sources on the web.&lt;/p&gt;

&lt;p&gt;Taxonomy data is not standardized, but there are a lot of common elements, and there is a finite list of taxonomic ranks, and finite number of major taxonomic data sets. Thus, I’ve been interested in attempting to define a pseudo standard for expressing taxonomic data in R. The conversation &lt;a href=&quot;https://github.com/ropensci/taxize/issues/261&quot;&gt;started a while back&lt;/a&gt; in a GitHub issue, and hasn’t moved very far.&lt;/p&gt;

&lt;p&gt;I decided to start playing with this more, which is easier to do in a separate pacakge. Thus: &lt;code class=&quot;highlighter-rouge&quot;&gt;binomen&lt;/code&gt;. It’s an attempt to define a set of taxonomic classes/objects in R, along with a suite of functions to help construct and parse these objects.&lt;/p&gt;

&lt;p&gt;Would love any/all feedback.&lt;/p&gt;

&lt;p&gt;Here’s some examples:&lt;/p&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;p&gt;Install &lt;code class=&quot;highlighter-rouge&quot;&gt;binomen&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;devtools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropensci/binomen&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;binomen&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;make-a-taxon&quot;&gt;Make a taxon&lt;/h2&gt;

&lt;p&gt;Make a taxon object&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;make_taxon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;genus&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Poa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;epithet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;annua&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;authority&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;L.&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                   &lt;span class=&quot;n&quot;&gt;family&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Poaceae&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;clazz&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Poales&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                   &lt;span class=&quot;n&quot;&gt;kingdom&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Plantae&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;variety&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;annua&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;taxon&amp;gt;
#&amp;gt;   binomial: Poa annua
#&amp;gt;   classification: 
#&amp;gt;     kingdom: Plantae
#&amp;gt;     clazz: Poales
#&amp;gt;     family: Poaceae
#&amp;gt;     genus: Poa
#&amp;gt;     species: Poa annua
#&amp;gt;     variety: annua
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Index to various parts of the object&lt;/p&gt;

&lt;p&gt;The binomial&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;binomial&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;binomial&amp;gt;
#&amp;gt;   genus: Poa
#&amp;gt;   epithet: annua
#&amp;gt;   canonical: Poa annua
#&amp;gt;   species: Poa annua L.
#&amp;gt;   authority: L.
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The authority&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;binomial&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;authority&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;L.&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The classification&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;classification&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;classification&amp;gt;
#&amp;gt;     kingdom: Plantae
#&amp;gt;     clazz: Poales
#&amp;gt;     family: Poaceae
#&amp;gt;     genus: Poa
#&amp;gt;     species: Poa annua
#&amp;gt;     variety: annua
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The family&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;classification&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;family&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;taxonref&amp;gt;
#&amp;gt;   rank: family
#&amp;gt;   name: Poaceae
#&amp;gt;   id: none
#&amp;gt;   uri: none
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;subset-taxon-objects&quot;&gt;Subset taxon objects&lt;/h2&gt;

&lt;p&gt;Get a single rank&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;family&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;taxonref&amp;gt;
#&amp;gt;   rank: family
#&amp;gt;   name: Poaceae
#&amp;gt;   id: none
#&amp;gt;   uri: none
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Get a range of ranks&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;kingdom&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;family&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $kingdom
#&amp;gt; &amp;lt;taxonref&amp;gt;
#&amp;gt;   rank: kingdom
#&amp;gt;   name: Plantae
#&amp;gt;   id: none
#&amp;gt;   uri: none
#&amp;gt; 
#&amp;gt; $clazz
#&amp;gt; &amp;lt;taxonref&amp;gt;
#&amp;gt;   rank: clazz
#&amp;gt;   name: Poales
#&amp;gt;   id: none
#&amp;gt;   uri: none
#&amp;gt; 
#&amp;gt; $family
#&amp;gt; &amp;lt;taxonref&amp;gt;
#&amp;gt;   rank: family
#&amp;gt;   name: Poaceae
#&amp;gt;   id: none
#&amp;gt;   uri: none
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Extract classification as a &lt;code class=&quot;highlighter-rouge&quot;&gt;data.frame&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gethier&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;obj&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;      rank      name
#&amp;gt; 1 kingdom   Plantae
#&amp;gt; 2   clazz    Poales
#&amp;gt; 3  family   Poaceae
#&amp;gt; 4   genus       Poa
#&amp;gt; 5 species Poa annua
#&amp;gt; 6 variety     annua
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;taxonomic-dataframes&quot;&gt;Taxonomic data.frame’s&lt;/h2&gt;

&lt;p&gt;Make one&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Asterales&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Asterales&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Fagales&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Poales&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Poales&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Poales&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;family&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Asteraceae&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Asteraceae&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Fagaceae&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Poaceae&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Poaceae&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Poaceae&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;genus&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Helianthus&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Helianthus&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Quercus&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Poa&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Festuca&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Holodiscus&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;stringsAsFactors&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;taxon_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;       order     family      genus
#&amp;gt; 1 Asterales Asteraceae Helianthus
#&amp;gt; 2 Asterales Asteraceae Helianthus
#&amp;gt; 3   Fagales   Fagaceae    Quercus
#&amp;gt; 4    Poales    Poaceae        Poa
#&amp;gt; 5    Poales    Poaceae    Festuca
#&amp;gt; 6    Poales    Poaceae Holodiscus
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Parse - get rank order matching &lt;em&gt;Fagales&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;df2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Fagales&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     order   family   genus
#&amp;gt; 3 Fagales Fagaceae Quercus
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;get rank family matching &lt;em&gt;Asteraceae&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;df2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;family&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Asteraceae&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;       order     family      genus
#&amp;gt; 1 Asterales Asteraceae Helianthus
#&amp;gt; 2 Asterales Asteraceae Helianthus
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;get rank genus matching &lt;em&gt;Poa&lt;/em&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;df2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;genus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Poa&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;    order  family genus
#&amp;gt; 4 Poales Poaceae   Poa
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>discgolf - Dicourse from R</title>
   <link href="http://recology.info//2015/01/discourse-in-r/"/>
   <updated>2015-01-15T00:00:00-08:00</updated>
   <id>http://recology.info//2015/01/discourse-in-r</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.discourse.org/&quot;&gt;Discourse&lt;/a&gt; is a great discussion forum application. It’s another thing from &lt;a href=&quot;https://en.wikipedia.org/wiki/Jeff_Atwood&quot;&gt;Jeff Atwood&lt;/a&gt;, the co-founder of &lt;a href=&quot;http://stackoverflow.com/&quot;&gt;Stackoverflow/Stackexchange&lt;/a&gt;. The installation is epecially easy with their dockerized installation setup on DigitalOcean ([instructions here][https://www.digitalocean.com/community/tutorials/how-to-install-discourse-on-ubuntu-14-04]).&lt;/p&gt;

&lt;p&gt;In &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt;, we’ve been using a Google Groups mailing list, which is sufficient I guess, but doesn’t support Markdown, and we all know &lt;a href=&quot;http://www.slate.com/articles/technology/technology/2013/03/google_reader_why_did_everyone_s_favorite_rss_program_die_what_free_web.html&quot;&gt;Google can kill products any day&lt;/a&gt;, so it makes sense to use something with which we have more control. We’ve set up our own Discourse installation to have rOpenSci discussions - find it at &lt;a href=&quot;https://meta.discourse.org/&quot;&gt;discuss.ropensci.org&lt;/a&gt;. Check it out if you want to discuss anything rOpenSci related, or general open science, open source software, etc. You can login with email, Mozilla Persona, Twitter, or GitHub.&lt;/p&gt;

&lt;p&gt;Discourse does have a RESTful API, which I found through the &lt;a href=&quot;https://github.com/discourse/discourse_api/&quot;&gt;Ruby gem&lt;/a&gt;. Why not interact with the API via R?&lt;/p&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;p&gt;Install &lt;code class=&quot;highlighter-rouge&quot;&gt;discgolf&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;devtools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sckott/discgolf&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;discgolf&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;authentication&quot;&gt;Authentication&lt;/h2&gt;

&lt;p&gt;The Discourse API is based on using a specific installation of Discourse (as far as I know), which requires your username and an API key for that installation. Get those (I found mine in the admin panel), and you can pass them in to each function call, or set as option variables in &lt;code class=&quot;highlighter-rouge&quot;&gt;.Rprofile&lt;/code&gt; (use &lt;code class=&quot;highlighter-rouge&quot;&gt;discourse_api_key&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;discourse_username&lt;/code&gt;) or environment variables in &lt;code class=&quot;highlighter-rouge&quot;&gt;.Renviron&lt;/code&gt; (use &lt;code class=&quot;highlighter-rouge&quot;&gt;DISCOURSE_API_KEY&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;DISCOURSE_USERNAME&lt;/code&gt;).&lt;/p&gt;

&lt;h2 id=&quot;examples&quot;&gt;Examples&lt;/h2&gt;

&lt;p&gt;Get the latest topics (abbreviated content for blog post brevity)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;latest_topics&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#&amp;gt;    id                             title                       fancy_title
#&amp;gt; 1   8       Welcome to rOpenSci Discuss       Welcome to rOpenSci Discuss
#&amp;gt; 2  92    Feedback on geojsonio package?    Feedback on geojsonio package?
#&amp;gt; 3 102                Astronomy research                Astronomy research
#&amp;gt; 4  99           Rgbif argument question           Rgbif argument question
#&amp;gt; 5  93 Feedback on rnoaa ghcnd functions Feedback on rnoaa ghcnd functions
#&amp;gt;                                slug
#&amp;gt; 1       welcome-to-ropensci-discuss
#&amp;gt; 2     feedback-on-geojsonio-package
#&amp;gt; 3                astronomy-research
#&amp;gt; 4           rgbif-argument-question
#&amp;gt; 5 feedback-on-rnoaa-ghcnd-functions
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Get new topics&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;new_topics&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $topic_list
#&amp;gt; $topic_list$can_create_topic
#&amp;gt; [1] TRUE
#&amp;gt; 
#&amp;gt; $topic_list$draft
#&amp;gt; NULL
#&amp;gt; 
#&amp;gt; $topic_list$draft_key
#&amp;gt; [1] &quot;new_topic&quot;
#&amp;gt; 
#&amp;gt; $topic_list$draft_sequence
#&amp;gt; [1] 15
#&amp;gt; 
#&amp;gt; $topic_list$per_page
#&amp;gt; [1] 30
#&amp;gt; 
#&amp;gt; $topic_list$topics
#&amp;gt; list()
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Get topics by a specific user&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;topics_by&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;cboettig&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $users
#&amp;gt;   id username uploaded_avatar_id
#&amp;gt; 1  3 cboettig                  4
#&amp;gt; 2  1   sckott                  2
#&amp;gt; 3 35 noamross                 57
#&amp;gt; 4  2  karthik                  3
#&amp;gt;                                            avatar_template
#&amp;gt; 1  /user_avatar/discuss.ropensci.org/cboettig/{size}/4.png
#&amp;gt; 2    /user_avatar/discuss.ropensci.org/sckott/{size}/2.png
#&amp;gt; 3 /user_avatar/discuss.ropensci.org/noamross/{size}/57.png
#&amp;gt; 4   /user_avatar/discuss.ropensci.org/karthik/{size}/3.png
#&amp;gt; 
#&amp;gt; $topic_list
#&amp;gt; $topic_list$can_create_topic
#&amp;gt; [1] TRUE
#&amp;gt; 
#&amp;gt; $topic_list$draft
#&amp;gt; NULL
#&amp;gt; 
#&amp;gt; $topic_list$draft_key
#&amp;gt; [1] &quot;new_topic&quot;
#&amp;gt; 
#&amp;gt; $topic_list$draft_sequence
#&amp;gt; [1] 15
#&amp;gt; 
#&amp;gt; $topic_list$per_page
#&amp;gt; [1] 30
#&amp;gt; 
#&amp;gt; $topic_list$topics
#&amp;gt;   id                                      title
#&amp;gt; 1 15 Using Discourse for blog comments as well?
#&amp;gt; 2 16                            Reply by email?
#&amp;gt;                                  fancy_title
#&amp;gt; 1 Using Discourse for blog comments as well?
#&amp;gt; 2                            Reply by email?
#&amp;gt;                                        slug posts_count reply_count
#&amp;gt; 1 using-discourse-for-blog-comments-as-well           8           4
#&amp;gt; 2                            reply-by-email           6           2
#&amp;gt;   highest_post_number image_url               created_at
#&amp;gt; 1                   8        NA 2014-12-15T19:33:11.879Z
#&amp;gt; 2                   6        NA 2014-12-15T20:10:36.414Z
#&amp;gt;             last_posted_at bumped                bumped_at unseen
#&amp;gt; 1 2015-01-02T19:47:42.403Z   TRUE 2015-01-02T19:47:42.403Z  FALSE
#&amp;gt; 2 2014-12-17T00:18:31.427Z   TRUE 2014-12-17T00:18:31.427Z  FALSE
#&amp;gt;   last_read_post_number unread new_posts pinned unpinned visible closed
#&amp;gt; 1                     8      0         0  FALSE       NA    TRUE  FALSE
#&amp;gt; 2                     6      0         0  FALSE       NA    TRUE  FALSE
#&amp;gt;   archived notification_level bookmarked liked views like_count
#&amp;gt; 1    FALSE                  2       TRUE FALSE    71          0
#&amp;gt; 2    FALSE                  3       TRUE FALSE    54          0
#&amp;gt;   has_summary archetype last_poster_username category_id pinned_globally
#&amp;gt; 1       FALSE   regular             cboettig           3           FALSE
#&amp;gt; 2       FALSE   regular               sckott           1           FALSE
#&amp;gt;   bookmarked_post_numbers
#&amp;gt; 1                       1
#&amp;gt; 2                       1
#&amp;gt;                                                                                                                   posters
#&amp;gt; 1 latest, NA, NA, NA, Original Poster, Most Recent Poster, Frequent Poster, Frequent Poster, Frequent Poster, 3, 1, 35, 2
#&amp;gt; 2                                                                   NA, latest, Original Poster, Most Recent Poster, 3, 1
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Get a single topic by id number&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;topic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;#&amp;gt;   id              name username
#&amp;gt; 1 11            system   system
#&amp;gt; 2 14 Scott Chamberlain   sckott
#&amp;gt; 3 51 Scott Chamberlain   sckott
#&amp;gt;                                         avatar_template uploaded_avatar_id
#&amp;gt; 1 /user_avatar/discuss.ropensci.org/system/{size}/1.png                  1
#&amp;gt; 2 /user_avatar/discuss.ropensci.org/sckott/{size}/2.png                  2
#&amp;gt; 3 /user_avatar/discuss.ropensci.org/sckott/{size}/2.png                  2
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Create topic&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;
print(&quot;hello world&quot;)
#&amp;gt; [1] &quot;hello world&quot;

head(mtcars)
#&amp;gt;                    mpg cyl disp  hp drat    wt  qsec vs am gear carb
#&amp;gt; Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4
#&amp;gt; Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4
#&amp;gt; Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1
#&amp;gt; Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1
#&amp;gt; Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2
#&amp;gt; Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1
&#39;&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;create_topic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;testing from discgolf - 2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;wrapup&quot;&gt;Wrapup&lt;/h2&gt;

&lt;p&gt;There are more functions I didn’t highlight, and there are many methods that haven’t been implemented yet… in good time it will be done.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>R I/O for geojson and topojson</title>
   <link href="http://recology.info//2015/01/geojson-topojson-io/"/>
   <updated>2015-01-06T00:00:00-08:00</updated>
   <id>http://recology.info//2015/01/geojson-topojson-io</id>
   <content type="html">&lt;p&gt;At rOpenSci we’ve been working on an R package (&lt;code class=&quot;highlighter-rouge&quot;&gt;geojsonio&lt;/code&gt;) to make converting R data in various formats to &lt;a href=&quot;http://geojson.org/geojson-spec.html&quot;&gt;geoJSON&lt;/a&gt; and &lt;a href=&quot;https://github.com/topojson/topojson-specification/blob/master/README.md&quot;&gt;topoJSON&lt;/a&gt;, and vice versa. We hope to do this one job very well, and handle all reasonable use cases.&lt;/p&gt;

&lt;p&gt;Functions in this package are organized first around what you’re working with or want to get, &lt;code class=&quot;highlighter-rouge&quot;&gt;geojson&lt;/code&gt; or &lt;code class=&quot;highlighter-rouge&quot;&gt;topojson&lt;/code&gt;, then convert to or read from various formats:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;geojson_list()&lt;/code&gt;/&lt;code class=&quot;highlighter-rouge&quot;&gt;topojson_list()&lt;/code&gt; - convert to geojson/topojson as R list format&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;geojson_json()&lt;/code&gt;/&lt;code class=&quot;highlighter-rouge&quot;&gt;topojson_json()&lt;/code&gt; - convert to geojson/topojson as json&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;geojson_read()&lt;/code&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;topojson_read()&lt;/code&gt; - read a geojson/topojson file from file path or URL&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;geojson_write()&lt;/code&gt;/&lt;code class=&quot;highlighter-rouge&quot;&gt;topojson_write()&lt;/code&gt; - write a geojson/topojson file locally&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Each of the above functions have methods for various objects/classes, including &lt;code class=&quot;highlighter-rouge&quot;&gt;numeric&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;data.frame&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;list&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;SpatialPolygons&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;SpatialPolygonsDataFrame&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;SpatialLines&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;SpatialLinesDataFrame&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;SpatialPoints&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;SpatialPointsDataFrame&lt;/code&gt;.&lt;/p&gt;

&lt;h2 id=&quot;install&quot;&gt;Install&lt;/h2&gt;

&lt;p&gt;Install rgdal - in case you can’t get it installed from binary , here’s what works on a Mac.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://cran.r-project.org/src/contrib/rgdal_0.9-1.tar.gz&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;source&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;configure.args&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;--with-gdal-config=/Library/Frameworks/GDAL.framework/Versions/1.10/unix/bin/gdal-config --with-proj-include=/Library/Frameworks/PROJ.framework/unix/include --with-proj-lib=/Library/Frameworks/PROJ.framework/unix/lib&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Install &lt;code class=&quot;highlighter-rouge&quot;&gt;geojsonio&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;devtools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropensci/geojsonio&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;geojsonio&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;geojson&quot;&gt;GeoJSON&lt;/h2&gt;

&lt;h3 id=&quot;convert-various-formats-to-geojson&quot;&gt;Convert various formats to geojson&lt;/h3&gt;

&lt;p&gt;From a &lt;code class=&quot;highlighter-rouge&quot;&gt;numeric&lt;/code&gt; vector of length 2, as json or list&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;geojson_json&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;32.45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-99.74&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; {&quot;type&quot;:&quot;Point&quot;,&quot;geometry&quot;:{&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[32.45,-99.74]},&quot;properties&quot;:{}}
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;geojson_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;32.45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-99.74&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $type
#&amp;gt; [1] &quot;Point&quot;
#&amp;gt; 
#&amp;gt; $geometry
#&amp;gt; $geometry$type
#&amp;gt; [1] &quot;Point&quot;
#&amp;gt; 
#&amp;gt; $geometry$coordinates
#&amp;gt; [1]  32.45 -99.74
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $properties
#&amp;gt; NULL
#&amp;gt; 
#&amp;gt; attr(,&quot;class&quot;)
#&amp;gt; [1] &quot;geo_list&quot;
#&amp;gt; attr(,&quot;from&quot;)
#&amp;gt; [1] &quot;numeric&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;From a &lt;code class=&quot;highlighter-rouge&quot;&gt;data.frame&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;maps&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;us.cities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;geojson_json&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;us.cities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;lat&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;long&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; {&quot;type&quot;:&quot;FeatureCollection&quot;,&quot;features&quot;:[{&quot;type&quot;:&quot;Feature&quot;,&quot;geometry&quot;:{&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[-99.74,32.45]},&quot;properties&quot;:{&quot;name&quot;:&quot;Abilene TX&quot;,&quot;country.etc&quot;:&quot;TX&quot;,&quot;pop&quot;:&quot;113888&quot;,&quot;capital&quot;:&quot;0&quot;}},{&quot;type&quot;:&quot;Feature&quot;,&quot;geometry&quot;:{&quot;type&quot;:&quot;Point&quot;,&quot;coordinates&quot;:[-81.52,41.08]},&quot;properties&quot;:{&quot;name&quot;:&quot;Akron OH&quot;,&quot;country.etc&quot;:&quot;OH&quot;,&quot;pop&quot;:&quot;206634&quot;,&quot;capital&quot;:&quot;0&quot;}}]}
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;geojson_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;us.cities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;lat&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;long&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $type
#&amp;gt; [1] &quot;FeatureCollection&quot;
#&amp;gt; 
#&amp;gt; $features
#&amp;gt; $features[[1]]
#&amp;gt; $features[[1]]$type
#&amp;gt; [1] &quot;Feature&quot;
#&amp;gt; 
#&amp;gt; $features[[1]]$geometry
#&amp;gt; $features[[1]]$geometry$type
#&amp;gt; [1] &quot;Point&quot;
#&amp;gt; 
#&amp;gt; $features[[1]]$geometry$coordinates
#&amp;gt; [1] -99.74  32.45
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $features[[1]]$properties
#&amp;gt; $features[[1]]$properties$name
#&amp;gt; [1] &quot;Abilene TX&quot;
#&amp;gt; 
#&amp;gt; $features[[1]]$properties$country.etc
#&amp;gt; [1] &quot;TX&quot;
#&amp;gt; 
#&amp;gt; $features[[1]]$properties$pop
#&amp;gt; [1] &quot;113888&quot;
#&amp;gt; 
#&amp;gt; $features[[1]]$properties$capital
#&amp;gt; [1] &quot;0&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $features[[2]]
#&amp;gt; $features[[2]]$type
#&amp;gt; [1] &quot;Feature&quot;
#&amp;gt; 
#&amp;gt; $features[[2]]$geometry
#&amp;gt; $features[[2]]$geometry$type
#&amp;gt; [1] &quot;Point&quot;
#&amp;gt; 
#&amp;gt; $features[[2]]$geometry$coordinates
#&amp;gt; [1] -81.52  41.08
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $features[[2]]$properties
#&amp;gt; $features[[2]]$properties$name
#&amp;gt; [1] &quot;Akron OH&quot;
#&amp;gt; 
#&amp;gt; $features[[2]]$properties$country.etc
#&amp;gt; [1] &quot;OH&quot;
#&amp;gt; 
#&amp;gt; $features[[2]]$properties$pop
#&amp;gt; [1] &quot;206634&quot;
#&amp;gt; 
#&amp;gt; $features[[2]]$properties$capital
#&amp;gt; [1] &quot;0&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; 
#&amp;gt; 
#&amp;gt; attr(,&quot;class&quot;)
#&amp;gt; [1] &quot;geo_list&quot;
#&amp;gt; attr(,&quot;from&quot;)
#&amp;gt; [1] &quot;data.frame&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;From &lt;code class=&quot;highlighter-rouge&quot;&gt;SpatialPolygons&lt;/code&gt; class&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;sp&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;poly1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Polygons&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Polygon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-90&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-85&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
                                     &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))),&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;poly2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Polygons&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Polygon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-90&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-75&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-90&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
                                     &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))),&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sp_poly&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SpatialPolygons&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;poly1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;poly2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;to json&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;geojson_json&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sp_poly&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; {&quot;type&quot;:&quot;Polygon&quot;,&quot;bbox&quot;:[-100,-75,30,50],&quot;coordinates&quot;:[[[-100,40],[-90,50],[-85,45],[-100,40]],[[-90,30],[-80,40],[-75,35],[-90,30]]],&quot;properties&quot;:{}}
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;to list&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;geojson_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sp_poly&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;coordinates&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]
#&amp;gt; [[1]][[1]]
#&amp;gt; [1] -100
#&amp;gt; 
#&amp;gt; [[1]][[2]]
#&amp;gt; [1] 40
#&amp;gt; 
#&amp;gt; 
#&amp;gt; [[2]]
#&amp;gt; [[2]][[1]]
#&amp;gt; [1] -90
#&amp;gt; 
#&amp;gt; [[2]][[2]]
#&amp;gt; [1] 50
#&amp;gt; 
#&amp;gt; 
#&amp;gt; [[3]]
#&amp;gt; [[3]][[1]]
#&amp;gt; [1] -85
#&amp;gt; 
#&amp;gt; [[3]][[2]]
#&amp;gt; [1] 45
#&amp;gt; 
#&amp;gt; 
#&amp;gt; [[4]]
#&amp;gt; [[4]][[1]]
#&amp;gt; [1] -100
#&amp;gt; 
#&amp;gt; [[4]][[2]]
#&amp;gt; [1] 40
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;write-geojson&quot;&gt;Write geojson&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;maps&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;us.cities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;geojson_write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;us.cities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;lat&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;long&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;geojson&amp;gt;
#&amp;gt;   Path:       myfile.geojson
#&amp;gt;   From class: data.frame
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;read-geojson&quot;&gt;Read geojson&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;system.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;examples&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;california.geojson&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;geojsonio&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geojson_read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; OGR data source with driver: GeoJSON 
#&amp;gt; Source: &quot;/Users/sacmac/Library/R/3.1/library/geojsonio/examples/california.geojson&quot;, layer: &quot;OGRGeoJSON&quot;
#&amp;gt; with 1 features and 11 fields
#&amp;gt; Feature type: wkbMultiPolygon with 2 dimensions
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-01-06-geojson-topojson-io/unnamed-chunk-11-1.png&quot; alt=&quot;plot of chunk unnamed-chunk-11&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;topojson&quot;&gt;TopoJSON&lt;/h2&gt;

&lt;h3 id=&quot;convert-to-topojson-with-node-topojson-client&quot;&gt;Convert to TopoJSON with Node topojson client&lt;/h3&gt;

&lt;p&gt;For topojson you will need Mike Bostock’s command line client. Install it by doing&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo npm install -g topojson
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Download a zipped shape fileset, &lt;a href=&quot;http://esp.cr.usgs.gov/data/little/querwisl.zip&quot;&gt;this one&lt;/a&gt; for distribution of &lt;em&gt;Quercus wislizeni&lt;/em&gt;. Unzip the zip file to a folder. Then do (changing the path to your path)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;topojson_write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shppath&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;~/Downloads/querwisl&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;~/Downloads&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;projection&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;albers&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;projargs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rotate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;[60, -35, 0]&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; OGR data source with driver: ESRI Shapefile 
#&amp;gt; Source: &quot;/Users/sacmac/Downloads/querwisl&quot;, layer: &quot;querwisl&quot;
#&amp;gt; with 35 features and 5 fields
#&amp;gt; Feature type: wkbPolygon with 2 dimensions
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Which prints progress on the conversion of the shape file. And prints the topojson CLI call, including the location of the output file, here &lt;code class=&quot;highlighter-rouge&quot;&gt;/Users/sacmac/querwisl.json&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;OGR&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;driver&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ESRI&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Shapefile&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Source&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/Users/sacmac/Downloads/querwisl&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;layer&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;querwisl&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;35&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;features&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Feature&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;wkbPolygon&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dimensions&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;topojson&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;o&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Users&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sacmac&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;querwisl.json&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1e4&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shapefile&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;encoding&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;utf8&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;projection&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;d3.geo.albers().rotate([60, -35, 0])&#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;var&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;folders&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gs&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;khph0xs0436gmd2gdnwsg080000gn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;//&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Rtmp49APW7&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;querwisl.shp&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;bounds&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-403.2554825867553&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;401.27189387582916&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-295.798050380061&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;585.4214768677039&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cartesian&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pre&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;quantization&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.010746817902459677&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.018416799979185387&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;topology&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;35&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;arcs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2492&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;points&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;prune&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;retained&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;35&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;35&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;arcs&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;You can then use this topojson file wherever. We’ll add a function soon to automagically throw this file up as a Github gist to get an interactive map.&lt;/p&gt;

&lt;h3 id=&quot;read-topojson&quot;&gt;Read topojson&lt;/h3&gt;

&lt;p&gt;TopoJSON&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;https://raw.githubusercontent.com/shawnbot/d3-cartogram/master/data/us-states.topojson&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;topojson_read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; OGR data source with driver: GeoJSON 
#&amp;gt; Source: &quot;https://raw.githubusercontent.com/shawnbot/d3-cartogram/master/data/us-states.topojson&quot;, layer: &quot;states&quot;
#&amp;gt; with 51 features and 2 fields
#&amp;gt; Feature type: wkbPolygon with 2 dimensions
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-01-06-geojson-topojson-io/unnamed-chunk-14-1.png&quot; alt=&quot;plot of chunk unnamed-chunk-14&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;use-case-play-with-us-states&quot;&gt;Use case: Play with US states&lt;/h2&gt;

&lt;p&gt;Using data from &lt;a href=&quot;https://github.com/glynnbird/usstatesgeojson&quot;&gt;https://github.com/glynnbird/usstatesgeojson&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Get some geojson&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;httr&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;https://api.github.com/repos/glynnbird/usstatesgeojson/contents&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;st_names&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;grepl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;\\.geojson&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;[[&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;base&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;https://raw.githubusercontent.com/glynnbird/usstatesgeojson/master/&#39;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;st_files&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;paste0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;st_names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Make a faceted plot&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;ggplot2&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;plyr&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;st_use&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;st_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;geo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;st_use&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geojson_read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;verbose&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ldply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setNames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;geo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fortify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gsub&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;\\.geojson&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;st_names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;long&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;geom_polygon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;facet_wrap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;.id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scales&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;free&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-01-06-geojson-topojson-io/unnamed-chunk-16-1.png&quot; alt=&quot;plot of chunk unnamed-chunk-16&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;maps&quot;&gt;Maps&lt;/h2&gt;

&lt;p&gt;We’re also working on &lt;code class=&quot;highlighter-rouge&quot;&gt;map_gist()&lt;/code&gt; - to push up a geojson or topojson file as a GitHub gist (renders as an interactive map). It still needs some work…&lt;/p&gt;

&lt;h2 id=&quot;validate-geojson&quot;&gt;Validate geojson&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;http://geojsonlint.com/&quot;&gt;geojsonlint.com&lt;/a&gt; has a nice web interface you can use to make sure you’re geoJSON is in the right format. In addition, it provides a RESTful endpoint at &lt;code class=&quot;highlighter-rouge&quot;&gt;geojsonlint.com/validate&lt;/code&gt; to validate geoJSON. 
This was just added today in this package, and can be used from many data types.&lt;/p&gt;

&lt;p&gt;Good geoJSON&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;validate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;{&quot;type&quot;: &quot;Point&quot;, &quot;coordinates&quot;: [-100, 80]}&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $status
#&amp;gt; [1] &quot;ok&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Bad geoJSON&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;validate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;{&quot;type&quot;: &quot;Rhombus&quot;, &quot;coordinates&quot;: [[1, 2], [3, 4], [5, 6]]}&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $message
#&amp;gt; [1] &quot;\&quot;Rhombus\&quot; is not a valid GeoJSON type.&quot;
#&amp;gt; 
#&amp;gt; $status
#&amp;gt; [1] &quot;error&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;A file&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;system.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;examples&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;zillow_or.geojson&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;togeojson&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;validate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.location&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $status
#&amp;gt; [1] &quot;ok&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;A URL&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;https://raw.githubusercontent.com/glynnbird/usstatesgeojson/master/california.geojson&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;validate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;as.location&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $status
#&amp;gt; [1] &quot;ok&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;From the output of &lt;code class=&quot;highlighter-rouge&quot;&gt;geojson_list()&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;maps&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;us.cities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geojson_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;us.cities&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;lat&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;long&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;validate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $status
#&amp;gt; [1] &quot;ok&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;From SpatialPoints class&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sp&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;SpatialPoints&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;validate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $status
#&amp;gt; [1] &quot;ok&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>gistr - R client for GitHub gists</title>
   <link href="http://recology.info//2015/01/gistr-github-gists/"/>
   <updated>2015-01-05T00:00:00-08:00</updated>
   <id>http://recology.info//2015/01/gistr-github-gists</id>
   <content type="html">&lt;p&gt;GitHub has this site &lt;a href=&quot;https://gist.github.com/&quot;&gt;https://gist.github.com/&lt;/a&gt; in which we can share code, text, images, maps, plots, etc super easily, without having to open up a repo, etc. GitHub gists are a great way to throw up an example use case to show someone, or show code that’s throwing errors to a support person, etc. In addition, there’s API access, which means we can interact with Gists not just from their web interface, but from the command line, or any programming language. There are clients for &lt;a href=&quot;https://github.com/mbostock/gistup&quot;&gt;Node.js&lt;/a&gt;, &lt;a href=&quot;https://rubygems.org/gems/gist&quot;&gt;Ruby&lt;/a&gt;, &lt;a href=&quot;https://pypi.python.org/pypi/gists/0.4.6&quot;&gt;Python&lt;/a&gt;, and on and on. But AFAIK there wasn’t one for R. Along with &lt;a href=&quot;https://github.com/ramnathv&quot;&gt;Ramnath&lt;/a&gt; and others, we’ve been working on an R client for gists. &lt;code class=&quot;highlighter-rouge&quot;&gt;v0.1&lt;/code&gt; is &lt;a href=&quot;http://cran.r-project.org/web/packages/gistr/index.html&quot;&gt;now on CRAN&lt;/a&gt;. Below is an overview.&lt;/p&gt;

&lt;p&gt;One useful thing about this package in terms of other R packages is that you can now depend on &lt;code class=&quot;highlighter-rouge&quot;&gt;gistr&lt;/code&gt; to easily share results as Gists. For example, you can share maps as gists (via geojson, rendered as interactive map), or code, or plots, etc. That is, you don’t have to re-write an interface to Github Gists yourself. We plan on using &lt;code class=&quot;highlighter-rouge&quot;&gt;gistr&lt;/code&gt; in a few rOpenSci packages.&lt;/p&gt;

&lt;h2 id=&quot;installation&quot;&gt;Installation&lt;/h2&gt;

&lt;h2 id=&quot;installation-1&quot;&gt;Installation&lt;/h2&gt;

&lt;p&gt;Install from CRAN&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;gistr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Or the development version from GitHub&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;devtools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropensci/gistr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;gistr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;authentication&quot;&gt;Authentication&lt;/h2&gt;

&lt;p&gt;There are two ways to authorise &lt;code class=&quot;highlighter-rouge&quot;&gt;gistr&lt;/code&gt; to work with your GitHub account:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Generate a personal access token (PAT) at &lt;a href=&quot;https://help.github.com/articles/creating-an-access-token-for-command-line-use&quot;&gt;https://help.github.com/articles/creating-an-access-token-for-command-line-use&lt;/a&gt; and record it in the &lt;code class=&quot;highlighter-rouge&quot;&gt;GITHUB_PAT&lt;/code&gt; envar.&lt;/li&gt;
  &lt;li&gt;Interactively login into your GitHub account and authorise with OAuth.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Using the PAT is recommended.&lt;/p&gt;

&lt;p&gt;Using the &lt;code class=&quot;highlighter-rouge&quot;&gt;gist_auth()&lt;/code&gt; function you can authenticate seperately first, or if you’re not authenticated, this function will run internally with each functionn call. If you have a PAT, that will be used, if not, OAuth will be used.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gist_auth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;workflow&quot;&gt;Workflow&lt;/h2&gt;

&lt;p&gt;In &lt;code class=&quot;highlighter-rouge&quot;&gt;gistr&lt;/code&gt; you can use pipes to pass outputs from one function to another. If you have used &lt;code class=&quot;highlighter-rouge&quot;&gt;dplyr&lt;/code&gt; with pipes you can see the difference, and perhaps the utility, of this workflow over the traditional workflow in R. You can use a non-piping or a piping workflow with &lt;code class=&quot;highlighter-rouge&quot;&gt;gistr&lt;/code&gt;. Examples below use a mix of both workflows. Here is an example of a piping wofklow (with some explanation):&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;minepublic&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# List my public gists, and index 1st
&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;~/alm_othersources.md&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Add new file to that gist
&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# update sends a PATCH command to Gists API to add file to your gist
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;And a non-piping workflow that does the same exact thing:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;minepublic&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;~/alm_othersources.md&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Or you could string them all together in one line (but it’s rather difficult to follow what’s going on because you have to read from the inside out)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;minepublic&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]],&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;~/alm_othersources.md&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;rate-limit-information&quot;&gt;Rate limit information&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;rate_limit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Rate limit: 5000
#&amp;gt; Remaining:  4948
#&amp;gt; Resets in:  46 minutes
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;list-gists&quot;&gt;List gists&lt;/h2&gt;

&lt;p&gt;Limiting to a few results here to keep it brief&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;per_page&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]
#&amp;gt; &amp;lt;gist&amp;gt;575fd0342ae15f89645f
#&amp;gt;   URL: https://gist.github.com/575fd0342ae15f89645f
#&amp;gt;   Description: Script to disable the mouse acceleration on Ubuntu (and probably also other distributions). Read the &#39;usage&#39; section.
#&amp;gt;   Public: TRUE
#&amp;gt;   Created/Edited: 2015-01-04T17:41:49Z / 2015-01-04T17:41:50Z
#&amp;gt;   Files: disable-mouse-accel.sh
#&amp;gt; 
#&amp;gt; [[2]]
#&amp;gt; &amp;lt;gist&amp;gt;1ebff1af906f214f98cd
#&amp;gt;   URL: https://gist.github.com/1ebff1af906f214f98cd
#&amp;gt;   Description: Ladda
#&amp;gt;   Public: TRUE
#&amp;gt;   Created/Edited: 2015-01-04T17:41:45Z / 2015-01-04T17:41:45Z
#&amp;gt;   Files: Ladda.markdown, index.html, script.js, style.css
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Since a certain date/time&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;since&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;2014-05-26T00:00:00Z&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;per_page&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]
#&amp;gt; &amp;lt;gist&amp;gt;575fd0342ae15f89645f
#&amp;gt;   URL: https://gist.github.com/575fd0342ae15f89645f
#&amp;gt;   Description: Script to disable the mouse acceleration on Ubuntu (and probably also other distributions). Read the &#39;usage&#39; section.
#&amp;gt;   Public: TRUE
#&amp;gt;   Created/Edited: 2015-01-04T17:41:49Z / 2015-01-04T17:41:50Z
#&amp;gt;   Files: disable-mouse-accel.sh
#&amp;gt; 
#&amp;gt; [[2]]
#&amp;gt; &amp;lt;gist&amp;gt;1ebff1af906f214f98cd
#&amp;gt;   URL: https://gist.github.com/1ebff1af906f214f98cd
#&amp;gt;   Description: Ladda
#&amp;gt;   Public: TRUE
#&amp;gt;   Created/Edited: 2015-01-04T17:41:45Z / 2015-01-04T17:41:45Z
#&amp;gt;   Files: Ladda.markdown, index.html, script.js, style.css
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Request different types of gists, one of public, minepublic, mineall, or starred.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;minepublic&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;per_page&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]
#&amp;gt; &amp;lt;gist&amp;gt;588921d4111e00551bcf
#&amp;gt;   URL: https://gist.github.com/588921d4111e00551bcf
#&amp;gt;   Description: 
#&amp;gt;   Public: TRUE
#&amp;gt;   Created/Edited: 2015-01-04T17:33:47Z / 2015-01-04T17:33:56Z
#&amp;gt;   Files: code.R
#&amp;gt; 
#&amp;gt; [[2]]
#&amp;gt; &amp;lt;gist&amp;gt;54c0195ee8753c7aaf9f
#&amp;gt;   URL: https://gist.github.com/54c0195ee8753c7aaf9f
#&amp;gt;   Description: a new cool gist
#&amp;gt;   Public: TRUE
#&amp;gt;   Created/Edited: 2015-01-04T17:33:47Z / 2015-01-04T17:33:47Z
#&amp;gt;   Files: stuff.md
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;list-a-single-gist&quot;&gt;List a single gist&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;f1403260eb92f5dfa7e1&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;f1403260eb92f5dfa7e1
#&amp;gt;   URL: https://gist.github.com/f1403260eb92f5dfa7e1
#&amp;gt;   Description: Querying bitly from R 
#&amp;gt;   Public: TRUE
#&amp;gt;   Created/Edited: 2014-10-15T20:40:12Z / 2014-10-15T21:54:29Z
#&amp;gt;   Files: bitly_r.md
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;create-gist&quot;&gt;Create gist&lt;/h2&gt;

&lt;p&gt;You can pass in files&lt;/p&gt;

&lt;p&gt;First, get a file to work with&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;stuffpath&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;system.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;examples&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;stuff.md&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;gistr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gist_create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;files&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stuffpath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;a new cool gist&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gist_create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;files&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stuffpath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;a new cool gist&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;browse&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;aa391404638f2f368b99
#&amp;gt;   URL: https://gist.github.com/aa391404638f2f368b99
#&amp;gt;   Description: a new cool gist
#&amp;gt;   Public: TRUE
#&amp;gt;   Created/Edited: 2015-01-04T17:42:37Z / 2015-01-04T17:42:37Z
#&amp;gt;   Files: stuff.md
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Or, wrap &lt;code class=&quot;highlighter-rouge&quot;&gt;gist_create()&lt;/code&gt; around some code in your R session/IDE, like so, with just the function name, and a &lt;code class=&quot;highlighter-rouge&quot;&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&#39;&lt;/span&gt;&lt;/code&gt; at the start and a &lt;code class=&quot;highlighter-rouge&quot;&gt;}&#39;&lt;/code&gt; at the end.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gist_create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;code&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;
x &amp;lt;- letters
numbers &amp;lt;- runif(8)
numbers

[1] 0.3229318 0.5933054 0.7778408 0.3898947 0.1309717 0.7501378 0.3206379 0.3379005
&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;browse&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;85158117880f197df422
#&amp;gt;   URL: https://gist.github.com/85158117880f197df422
#&amp;gt;   Description: 
#&amp;gt;   Public: TRUE
#&amp;gt;   Created/Edited: 2015-01-04T17:42:37Z / 2015-01-04T17:42:37Z
#&amp;gt;   Files: code.R
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;You can also knit an input file before posting as a gist:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;system.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;examples&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;stuff.Rmd&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;gistr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;gist_create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;description&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;a new cool gist&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;knit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;4162b9c53479fbc298db
#&amp;gt;   URL: https://gist.github.com/4162b9c53479fbc298db
#&amp;gt;   Description: a new cool gist
#&amp;gt;   Public: TRUE
#&amp;gt;   Created/Edited: 2014-10-27T16:07:31Z / 2014-10-27T16:07:31Z
#&amp;gt;   Files: stuff.md
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Or code blocks before (note that code blocks without knitr block demarcations will result in unexecuted code):&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gist_create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;code&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;
x &amp;lt;- letters
(numbers &amp;lt;- runif(8))
&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;knit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;ec45c396dee4aa492139
#&amp;gt;   URL: https://gist.github.com/ec45c396dee4aa492139
#&amp;gt;   Description:
#&amp;gt;   Public: TRUE
#&amp;gt;   Created/Edited: 2014-10-27T16:09:09Z / 2014-10-27T16:09:09Z
#&amp;gt;   Files: file81720d1ceff.md
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;knit-code-from-file-path-code-block-or-gist-file&quot;&gt;knit code from file path, code block, or gist file&lt;/h2&gt;

&lt;p&gt;knit a local file&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;system.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;examples&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;stuff.Rmd&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;gistr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;knitopts&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;quiet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gist_create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;browse&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;d5d86e11964c36cb4f1e
#&amp;gt;   URL: https://gist.github.com/d5d86e11964c36cb4f1e
#&amp;gt;   Description: 
#&amp;gt;   Public: TRUE
#&amp;gt;   Created/Edited: 2015-01-04T17:42:38Z / 2015-01-04T17:42:38Z
#&amp;gt;   Files: stuff.md
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;knit a code block (&lt;code class=&quot;highlighter-rouge&quot;&gt;knitr&lt;/code&gt; code block notation missing, do add that in) (result not shown)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;
x &amp;lt;- letters
(numbers &amp;lt;- runif(8))
&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gist_create&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;knit a file from a gist, has to get file first (result not shown)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;minepublic&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;run&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;list-commits-on-a-gist&quot;&gt;List commits on a gist&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;commits&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]
#&amp;gt; &amp;lt;commit&amp;gt;
#&amp;gt;   Version: faa7a40f4b55aa7914be7685c75d5c80731971bb
#&amp;gt;   User: sckott
#&amp;gt;   Commited: 2015-01-04T17:42:37Z
#&amp;gt;   Commits [total, additions, deletions]: [5,5,0]
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;star-a-gist&quot;&gt;Star a gist&lt;/h2&gt;

&lt;p&gt;Star&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;7ddb9810fc99c84c65ec&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;star&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;7ddb9810fc99c84c65ec
#&amp;gt;   URL: https://gist.github.com/7ddb9810fc99c84c65ec
#&amp;gt;   Description: 
#&amp;gt;   Public: TRUE
#&amp;gt;   Created/Edited: 2014-06-27T17:50:37Z / 2014-06-27T17:50:37Z
#&amp;gt;   Files: code.R, manifest.yml, rrt_manifest.yml
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Unstar&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;7ddb9810fc99c84c65ec&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unstar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;7ddb9810fc99c84c65ec
#&amp;gt;   URL: https://gist.github.com/7ddb9810fc99c84c65ec
#&amp;gt;   Description: 
#&amp;gt;   Public: TRUE
#&amp;gt;   Created/Edited: 2014-06-27T17:50:37Z / 2014-06-27T17:50:37Z
#&amp;gt;   Files: code.R, manifest.yml, rrt_manifest.yml
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;update-a-gist&quot;&gt;Update a gist&lt;/h2&gt;

&lt;p&gt;Add files&lt;/p&gt;

&lt;p&gt;First, path to file&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;system.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;examples&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;alm_othersources.md&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;package&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;gistr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;minepublic&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;add_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;85158117880f197df422
#&amp;gt;   URL: https://gist.github.com/85158117880f197df422
#&amp;gt;   Description: 
#&amp;gt;   Public: TRUE
#&amp;gt;   Created/Edited: 2015-01-04T17:42:37Z / 2015-01-04T17:42:42Z
#&amp;gt;   Files: alm_othersources.md, code.R
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Delete files&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;minepublic&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;delete_files&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;85158117880f197df422
#&amp;gt;   URL: https://gist.github.com/85158117880f197df422
#&amp;gt;   Description: 
#&amp;gt;   Public: TRUE
#&amp;gt;   Created/Edited: 2015-01-04T17:42:37Z / 2015-01-04T17:42:42Z
#&amp;gt;   Files: code.R
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;open-a-gist-in-your-default-browser&quot;&gt;Open a gist in your default browser&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;browse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;Opens the gist in your default browser&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;get-embed-script&quot;&gt;Get embed script&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;embed&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;&amp;lt;script src=\&quot;https://gist.github.com/sckott/85158117880f197df422.js\&quot;&amp;gt;&amp;lt;/script&amp;gt;&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;list-forks&quot;&gt;List forks&lt;/h3&gt;

&lt;p&gt;Returns a list of &lt;code class=&quot;highlighter-rouge&quot;&gt;gist&lt;/code&gt; objects, just like &lt;code class=&quot;highlighter-rouge&quot;&gt;gists()&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;1642874&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;forks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;per_page&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]
#&amp;gt; &amp;lt;gist&amp;gt;1642989
#&amp;gt;   URL: https://gist.github.com/1642989
#&amp;gt;   Description: Spline Transition
#&amp;gt;   Public: TRUE
#&amp;gt;   Created/Edited: 2012-01-19T21:45:20Z / 2014-12-10T03:25:19Z
#&amp;gt;   Files: 
#&amp;gt; 
#&amp;gt; [[2]]
#&amp;gt; &amp;lt;gist&amp;gt;1643051
#&amp;gt;   URL: https://gist.github.com/1643051
#&amp;gt;   Description: Line Transition (Broken)
#&amp;gt;   Public: TRUE
#&amp;gt;   Created/Edited: 2012-01-19T21:51:30Z / 2014-04-09T03:11:36Z
#&amp;gt;   Files:
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;fork-a-gist&quot;&gt;Fork a gist&lt;/h2&gt;

&lt;p&gt;Returns a &lt;code class=&quot;highlighter-rouge&quot;&gt;gist&lt;/code&gt; object&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gists&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;forked&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sample&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;seq_along&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fork&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;62b05dd4ebc2d29add15
#&amp;gt;   URL: https://gist.github.com/62b05dd4ebc2d29add15
#&amp;gt;   Description: Solution to level 1 in Untrusted: http://alex.nisnevich.com/untrusted/
#&amp;gt;   Public: TRUE
#&amp;gt;   Created/Edited: 2015-01-04T17:42:43Z / 2015-01-04T17:42:43Z
#&amp;gt;   Files: untrusted-lvl1-solution.js
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;example-use-case&quot;&gt;Example use case&lt;/h2&gt;

&lt;p&gt;&lt;em&gt;Working with the Mapzen Pelias geocoding API&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;The API is described at &lt;a href=&quot;https://github.com/pelias/pelias&quot;&gt;https://github.com/pelias/pelias&lt;/a&gt;, and is still in alpha they say. The steps: get data, make a gist. The data is returned from Mapzen as geojson, so all we have to do is literally push it up to GitHub gists and we’re done b/c GitHub renders the map.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;httr&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;base&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;http://pelias.mapzen.com/search&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;coffee shop&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;45.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lon&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-122.6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;json&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;gist_create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;code&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;json&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;filename&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;pelias_test.geojson&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;017214637bcfeb198070
#&amp;gt;   URL: https://gist.github.com/017214637bcfeb198070
#&amp;gt;   Description:
#&amp;gt;   Public: TRUE
#&amp;gt;   Created/Edited: 2014-10-28T14:42:36Z / 2014-10-28T14:42:36Z
#&amp;gt;   Files: pelias_test.geojson
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;And here’s that gist: &lt;a href=&quot;https://gist.github.com/sckott/017214637bcfeb198070&quot;&gt;https://gist.github.com/sckott/017214637bcfeb198070&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-01-05-gistr-github-gists/gistr_ss.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>pytaxize - low level ITIS functions</title>
   <link href="http://recology.info//2014/12/pytaxize-itis/"/>
   <updated>2014-12-26T00:00:00-08:00</updated>
   <id>http://recology.info//2014/12/pytaxize-itis</id>
   <content type="html">&lt;p&gt;I’ve been working on a Python port of the R package &lt;code class=&quot;highlighter-rouge&quot;&gt;taxize&lt;/code&gt; that I maintain. It’s still early days with this Python library, I’d love to know what people think. For example, I’m giving back Pandas DataFrame’s from most functions. Does this make sense?&lt;/p&gt;

&lt;h2 id=&quot;installation&quot;&gt;Installation&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;sudo pip install git+git://github.com/sckott/pytaxize.git#egg=pytaxize
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Or &lt;code class=&quot;highlighter-rouge&quot;&gt;git clone&lt;/code&gt; the repo down, and &lt;code class=&quot;highlighter-rouge&quot;&gt;python setup.py build &amp;amp;&amp;amp; python setup.py install&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&quot;load-library&quot;&gt;Load library&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pytaxize&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;itis-ping&quot;&gt;ITIS ping&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;pytaxize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;itis_ping&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s&quot;&gt;&#39;This is the ITIS Web Service, providing access to the data behind www.itis.gov. The database contains 665,266 scientific names (501,207 of them valid/accepted) and 122,735 common names.&#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;get-hierarchy-down-from-tsn&quot;&gt;Get hierarchy down from tsn&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;pytaxize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gethierarchydownfromtsn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tsn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;161030&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;      &lt;span class=&quot;n&quot;&gt;tsn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rankName&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;taxonName&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;parentName&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;parentTsn&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;161048&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Class&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Sarcopterygii&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;Osteichthyes&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;161030&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;161061&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Class&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;Actinopterygii&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;Osteichthyes&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;161030&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;get-hierarchy-up-from-tsn&quot;&gt;Get hierarchy up from tsn&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;pytaxize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gethierarchyupfromtsn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tsn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;37906&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;               &lt;span class=&quot;n&quot;&gt;author&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;parentName&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;parentTsn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rankName&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;taxonName&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;tsn&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;Gaertn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ex&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Schreb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;Asteraceae&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;35420&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Genus&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Liatris&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;37906&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;get-rank-names&quot;&gt;Get rank names&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;pytaxize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getranknames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;    &lt;span class=&quot;n&quot;&gt;kingdomname&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rankid&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;rankname&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Kingdom&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Subkingdom&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;Phylum&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Subphylum&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Superclass&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;60&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;Class&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;70&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Subclass&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Infraclass&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;90&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Superorder&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;Order&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;110&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Suborder&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;120&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Infraorder&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;130&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Superfamily&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;13&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;140&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;Family&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;14&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;150&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Subfamily&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;160&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;Tribe&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;170&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Subtribe&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;17&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;180&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;Genus&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;18&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;190&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Subgenus&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;19&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;220&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Species&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;230&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Subspecies&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;21&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Protozoa&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Kingdom&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;22&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Protozoa&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Subkingdom&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;23&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Protozoa&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;25&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;Infrakingdom&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;24&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Protozoa&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;Phylum&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;25&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Protozoa&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Subphylum&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;26&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Protozoa&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;45&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Infraphylum&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;27&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Protozoa&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;47&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Parvphylum&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;28&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Protozoa&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Superclass&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;29&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Protozoa&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;60&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;Class&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;..&lt;/span&gt;          &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;           &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;150&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Chromista&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;190&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Subgenus&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;151&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Chromista&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Section&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;152&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Chromista&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;210&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Subsection&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;153&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Chromista&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;220&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Species&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;154&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Chromista&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;230&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Subspecies&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;155&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Chromista&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;240&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Variety&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;156&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Chromista&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;250&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Subvariety&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;157&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Chromista&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;260&lt;/span&gt;          &lt;span class=&quot;n&quot;&gt;Form&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;158&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Chromista&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;270&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Subform&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;159&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Kingdom&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;160&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Subkingdom&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;161&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;Phylum&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;162&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Subphylum&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;163&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Superclass&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;164&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;60&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;Class&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;165&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;70&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Subclass&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;166&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Infraclass&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;167&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;90&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Superorder&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;168&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;Order&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;169&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;110&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Suborder&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;170&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;120&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Infraorder&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;171&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;130&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Superfamily&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;172&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;140&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;Family&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;173&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;150&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Subfamily&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;174&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;160&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;Tribe&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;175&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;170&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Subtribe&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;176&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;180&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;Genus&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;177&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;190&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Subgenus&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;178&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;220&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Species&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;179&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;230&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Subspecies&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;search-by-scientific-name&quot;&gt;Search by scientific name&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;pytaxize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;searchbyscientificname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&quot;Tardigrada&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;           &lt;span class=&quot;n&quot;&gt;combinedname&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;tsn&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Rotaria&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tardigrada&lt;/span&gt;   &lt;span class=&quot;mi&quot;&gt;58274&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;Notommata&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tardigrada&lt;/span&gt;   &lt;span class=&quot;mi&quot;&gt;58898&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Pilargis&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tardigrada&lt;/span&gt;   &lt;span class=&quot;mi&quot;&gt;65562&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;            &lt;span class=&quot;n&quot;&gt;Tardigrada&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;155166&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Heterotardigrada&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;155167&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Arthrotardigrada&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;155168&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;Mesotardigrada&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;155358&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;          &lt;span class=&quot;n&quot;&gt;Eutardigrada&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;155362&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Scytodes&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tardigrada&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;866744&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;get-accepted-names-from-tsn&quot;&gt;Get accepted names from tsn&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;pytaxize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getacceptednamesfromtsn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;208527&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;If accepted, returns the same id&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;s&quot;&gt;&#39;208527&#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;more&quot;&gt;More&lt;/h2&gt;

&lt;p&gt;For the other functions see https://github.com/sckott/pytaxize/blob/master/pytaxize/itis.py&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Museum metadata - the Asian Art Museum of San Francisco</title>
   <link href="http://recology.info//2014/12/museum-aamsf/"/>
   <updated>2014-12-10T00:00:00-08:00</updated>
   <id>http://recology.info//2014/12/museum-aamsf</id>
   <content type="html">&lt;p&gt;I was in San Francisco last week for an altmetrics conference at PLOS. While there, I visited the &lt;a href=&quot;http://www.asianart.org/&quot;&gt;Asian Art Museum&lt;/a&gt;, just the &lt;a href=&quot;http://www.asianart.org/exhibitions_index/roads-of-arabia&quot;&gt;Roads of Arabia exhibition&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It was a great exhibit. While I was looking at the pieces, I read many labels, and thought, “hey, what if someone wants this metadata”?&lt;/p&gt;

&lt;p&gt;Since we have an R package in development for scraping museum metadata (called &lt;a href=&quot;https://github.com/ropensci/musemeta&quot;&gt;musemeta&lt;/a&gt;), I just started some scraping code for this museum. Unfortunately, I don’t think the pieces from the Roads of Arabia exhibit are on their site, so no metadata to get. But they do have their main collection searchable online at &lt;a href=&quot;http://www.asianart.org/collections/collection&quot;&gt;http://www.asianart.org/collections/collection&lt;/a&gt;. Examples follow.&lt;/p&gt;

&lt;h2 id=&quot;installation&quot;&gt;Installation&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;devtools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropensci/musemeta&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;musemeta&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;get-metadata-for-a-single-object&quot;&gt;Get metadata for a single object&lt;/h2&gt;

&lt;p&gt;You have to get the ID for the piece from their website, e.g., &lt;code class=&quot;highlighter-rouge&quot;&gt;11462&lt;/code&gt; from the url &lt;code class=&quot;highlighter-rouge&quot;&gt;http://searchcollection.asianart.org/view/objects/asitem/nid/11462&lt;/code&gt;. Once you have an ID you can pass it in ot the &lt;code class=&quot;highlighter-rouge&quot;&gt;aam()&lt;/code&gt; function.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aam&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;11462&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;AAM metadata&amp;gt; Molded plaque (tsha tsha)
#&amp;gt;   Object id: 1992.96
#&amp;gt;   Object name: Votive plaque
#&amp;gt;   Date: approx. 1992
#&amp;gt;   Artist: 
#&amp;gt;   Medium: Plaster mixed with resin and pigment
#&amp;gt;   Credit line: Gift of Robert Tevis
#&amp;gt;   On display?: no
#&amp;gt;   Collection: Decorative Arts
#&amp;gt;   Department: Himalayan Art
#&amp;gt;   Dimensions: 
#&amp;gt;   Label: Molded plaques (tsha tshas) are small sacred images, flat or
#&amp;gt;           three-dimensional, shaped out of clay in metal molds. The
#&amp;gt;           images are usually unbaked, and sometimes seeds, paper, or
#&amp;gt;           human ashes were mixed with the clay. Making tsha tshas is
#&amp;gt;           a meritorious act, and monasteries give them away to
#&amp;gt;           pilgrims. Some Tibetans carry tsha tshas inside the amulet
#&amp;gt;           boxes they wear or stuff them into larger images as part of
#&amp;gt;           the consecration of those images. In Bhutan tsha tshas are
#&amp;gt;           found in mani walls (a wall of stones carved with prayers)
#&amp;gt;           or piled up in caves.The practice of making such plaques
#&amp;gt;           began in India, and from there it spread to other countries
#&amp;gt;           in Asia with the introduction of Buddhism. Authentic tsha
#&amp;gt;           tshas are cast from clay. Modern examples , such as those
#&amp;gt;           made for the tourist trade in Tibet, are made of plaster
#&amp;gt;           and cast from ancient (1100-1200) molds and hand colored to
#&amp;gt;           give them the appearance of age.
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The output is printed for clarity, but you can dig into each element, like&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;Molded plaques (tsha tshas) are small sacred images, flat or three-dimensional, shaped out of clay in metal molds. The images are usually unbaked, and sometimes seeds, paper, or human ashes were mixed with the clay. Making tsha tshas is a meritorious act, and monasteries give them away to pilgrims. Some Tibetans carry tsha tshas inside the amulet boxes they wear or stuff them into larger images as part of the consecration of those images. In Bhutan tsha tshas are found in mani walls (a wall of stones carved with prayers) or piled up in caves.The practice of making such plaques began in India, and from there it spread to other countries in Asia with the introduction of Buddhism. Authentic tsha tshas are cast from clay. Modern examples , such as those made for the tourist trade in Tibet, are made of plaster and cast from ancient (1100-1200) molds and hand colored to give them the appearance of age.&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;get-metadata-for-many-objects&quot;&gt;Get metadata for many objects&lt;/h2&gt;

&lt;p&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;aam()&lt;/code&gt; function is not vectorized, but you can easily get data for many IDs via &lt;code class=&quot;highlighter-rouge&quot;&gt;lapply&lt;/code&gt; type functions, etc.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;17150&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;17140&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;17144&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aam&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]
#&amp;gt; &amp;lt;AAM metadata&amp;gt; Boys sumo wrestling
#&amp;gt;   Object id: 2005.100.35
#&amp;gt;   Object name: Woodblock print
#&amp;gt;   Date: approx. 1769
#&amp;gt;   Artist: Suzuki HarunobuJapanese, 1724 - 1770
#&amp;gt;   Medium: Ink and colors on paper
#&amp;gt;   Credit line: Gift of the Grabhorn Ukiyo-e Collection
#&amp;gt;   On display?: no
#&amp;gt;   Collection: Prints And Drawings
#&amp;gt;   Department: Japanese Art
#&amp;gt;   Dimensions: H. 12 5/8 in x W. 5 3/4 in, H. 32.1 cm x W. 14.6 cm
#&amp;gt;   Label: 40 é木Ø春t信M 相&#39;撲oVびÑSuzuki Harunobu, 1725?1770Boys sumo wrestling ( Sumō
#&amp;gt;           ?)c. 1769Woodblock print ( nishiki-e) Hosoban
#&amp;gt; 
#&amp;gt; [[2]]
#&amp;gt; &amp;lt;AAM metadata&amp;gt; Autumn Moon of Matsukaze
#&amp;gt;   Object id: 2005.100.25
#&amp;gt;   Object name: Woodblock print
#&amp;gt;   Date: 1768-1769
#&amp;gt;   Artist: Suzuki HarunobuJapanese, 1724 - 1770
#&amp;gt;   Medium: Ink and colors on paper
#&amp;gt;   Credit line: Gift of the Grabhorn Ukiyo-e Collection
#&amp;gt;   On display?: no
#&amp;gt;   Collection: Prints And Drawings
#&amp;gt;   Department: Japanese Art
#&amp;gt;   Dimensions: H. 12 1/2 in x W. 5 3/4 in, H. 31.7 cm x W. 14.6 cm
#&amp;gt;   Label: 30 é木Ø春t信M 『w流¬æ八&quot;ª景i』x 「u松¼のÌ秋H月」vSuzuki Harunobu, 1725?1770&quot;Autumn Moon of
#&amp;gt;           Matsukaze&quot; (Matsukaze no shū ?)From Fashionable Eight Views
#&amp;gt;           of Noh Chants (Fū ?ū ?17681769Woodblock print
#&amp;gt;           (nishiki-e)Hosoban
#&amp;gt; 
#&amp;gt; [[3]]
#&amp;gt; &amp;lt;AAM metadata&amp;gt; Hunting for fireflies
#&amp;gt;   Object id: 2005.100.29
#&amp;gt;   Object name: Woodblock print
#&amp;gt;   Date: 1767-1768
#&amp;gt;   Artist: Suzuki HarunobuJapanese, 1724 - 1770
#&amp;gt;   Medium: Ink and colors on paper
#&amp;gt;   Credit line: Gift of the Grabhorn Ukiyo-e Collection
#&amp;gt;   On display?: no
#&amp;gt;   Collection: Prints And Drawings
#&amp;gt;   Department: Japanese Art
#&amp;gt;   Dimensions: H. 10 1/2 in x W. 8 in, H. 26.7 cm x W. 20.3 cm
#&amp;gt;   Label: 34 é木Ø春t信M u狩ëりèSuzuki Harunobu, 1725?1770Hunting for
#&amp;gt;           fireflies17671768Woodblock print ( nishiki-e) Chū ?
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;no-search-boo&quot;&gt;No search, boo&lt;/h2&gt;

&lt;p&gt;Note that there is no search functionality yet for this source. Maybe someone can add that via pull requests :)&lt;/p&gt;

&lt;h2 id=&quot;like-the-others&quot;&gt;Like the others&lt;/h2&gt;

&lt;p&gt;The others sources in &lt;code class=&quot;highlighter-rouge&quot;&gt;musemeta&lt;/code&gt; mostly work the same way as the above.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>icanhaz altmetrics</title>
   <link href="http://recology.info//2014/12/icanhaz-altmetrics/"/>
   <updated>2014-12-08T11:45:29-08:00</updated>
   <id>http://recology.info//2014/12/icanhaz-altmetrics</id>
   <content type="html">&lt;p&gt;The Lagotto application is a Rails app that collects and serves up via RESTful API article level metrics data for research objects. So far, this application has only been applied to scholarly articles, but will &lt;a href=&quot;http://articlemetrics.github.io/MDC/&quot;&gt;see action on datasets soon&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://blog.martinfenner.org/&quot;&gt;Martin Fenner&lt;/a&gt; has lead the development of Lagotto. He recently set up &lt;a href=&quot;http://discuss.lagotto.io/&quot;&gt;a discussion site&lt;/a&gt; if you want to chat about it.&lt;/p&gt;

&lt;p&gt;The application has a &lt;a href=&quot;http://alm.plos.org/&quot;&gt;nice GUI interface&lt;/a&gt;, and a quite nice &lt;a href=&quot;http://alm.plos.org/docs/api&quot;&gt;RESTful API&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Lagotto is open source! Because of this, and the quality of the software, other publishers have started using it to gather and deliver publicly article level metrics data, including:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://lagotto.svr.elifesciences.org/&quot;&gt;eLife&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://pkp-alm.lib.sfu.ca/&quot;&gt;Public Knowledge Project (PKP)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://metricus.copernicus.org/&quot;&gt;Copernicus&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://det.labs.crossref.org/&quot;&gt;Crossref&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://alm.pensoft.net:81/&quot;&gt;Pensoft&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The PLOS instance at &lt;a href=&quot;http://alm.plos.org/&quot;&gt;http://alm.plos.org/&lt;/a&gt; is always the most up to date with the Lagotto software, but &lt;a href=&quot;http://det.labs.crossref.org/&quot;&gt;Crossref&lt;/a&gt; has the largest number of articles.&lt;/p&gt;

&lt;p&gt;I’ve been working on three clients for the Lagotto REST API, including for a while now on &lt;code class=&quot;highlighter-rouge&quot;&gt;R&lt;/code&gt;, recently on &lt;code class=&quot;highlighter-rouge&quot;&gt;Python&lt;/code&gt;, and just last week on &lt;code class=&quot;highlighter-rouge&quot;&gt;Ruby&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Please do try the clients, report bugs, request features - you know the open source drill…&lt;/p&gt;

&lt;p&gt;I’d say the R client is the most mature, while Python is less so, end the Ruby gem the least mature.&lt;/p&gt;

&lt;h2 id=&quot;installation&quot;&gt;Installation&lt;/h2&gt;

&lt;p&gt;R&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;devtools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropensci/alm&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Python&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;clone&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;https&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;github.com&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cameronneylon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pyalm.git&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pyalm&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;checkout&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scott&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;python&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;setup.py&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Ruby&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;httparty&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;json&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rake&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;clone&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;https&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;github.com&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sckott&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alm.git&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alm&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;make&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# which runs build and install tasks
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;If you don’t have &lt;code class=&quot;highlighter-rouge&quot;&gt;make&lt;/code&gt;, then just run &lt;code class=&quot;highlighter-rouge&quot;&gt;gem build alm.gemspec&lt;/code&gt; and 	&lt;code class=&quot;highlighter-rouge&quot;&gt;gem install alm-0.1.0.gem&lt;/code&gt; seperately.&lt;/p&gt;

&lt;h2 id=&quot;example&quot;&gt;Example&lt;/h2&gt;

&lt;p&gt;In this example, we’ll get altmetrics data for two DOIs: &lt;a href=&quot;http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029797&quot;&gt;10.1371/journal.pone.0029797&lt;/a&gt;, and &lt;a href=&quot;http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029798&quot;&gt;10.1371/journal.pone.0029798&lt;/a&gt; (click on links to go to paper).&lt;/p&gt;

&lt;h3 id=&quot;r&quot;&gt;R&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;alm&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ids&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;10.1371/journal.pone.0029797&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;10.1371/journal.pone.0029798&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;alm_ids&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ids&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;summary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $meta
#&amp;gt;   total total_pages page error
#&amp;gt; 1     2           1    1    NA
#&amp;gt; 
#&amp;gt; $data
#&amp;gt; $data$`10.1371/journal.pone.0029798`
#&amp;gt; $data$`10.1371/journal.pone.0029798`$info
#&amp;gt;                            doi
#&amp;gt; 1 10.1371/journal.pone.0029798
#&amp;gt;                                                                                     title
#&amp;gt; 1 Mitochondrial Electron Transport Is the Cellular Target of the Oncology Drug Elesclomol
#&amp;gt;                                                                canonical_url
#&amp;gt; 1 http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029798
#&amp;gt;       pmid   pmcid                        mendeley_uuid
#&amp;gt; 1 22253786 3256171 b08cc99e-b526-3f0c-adaa-d5ee6d0d978a
#&amp;gt;            update_date     issued
#&amp;gt; 1 2014-12-09T02:52:47Z 2012-01-11
#&amp;gt; 
#&amp;gt; $data$`10.1371/journal.pone.0029798`$signposts
#&amp;gt;                            doi viewed saved discussed cited
#&amp;gt; 1 10.1371/journal.pone.0029798   4346    14         2    26
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $data$`10.1371/journal.pone.0029797`
#&amp;gt; $data$`10.1371/journal.pone.0029797`$info
#&amp;gt;                            doi
#&amp;gt; 1 10.1371/journal.pone.0029797
#&amp;gt;                                                                             title
#&amp;gt; 1 Ecological Guild Evolution and the Discovery of the World&#39;s Smallest Vertebrate
#&amp;gt;                                                                canonical_url
#&amp;gt; 1 http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029797
#&amp;gt;       pmid   pmcid                        mendeley_uuid
#&amp;gt; 1 22253785 3256195 897fbbd6-5a23-3552-8077-97251b82c1e1
#&amp;gt;            update_date     issued
#&amp;gt; 1 2014-12-09T02:52:46Z 2012-01-11
#&amp;gt; 
#&amp;gt; $data$`10.1371/journal.pone.0029797`$signposts
#&amp;gt;                            doi viewed saved discussed cited
#&amp;gt; 1 10.1371/journal.pone.0029797  34282    81       244     8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;python&quot;&gt;Python&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pyalm&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ids&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;10.1371/journal.pone.0029797&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;10.1371/journal.pone.0029798&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pyalm.get_alm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ids&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;summary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;#&amp;gt; {&#39;articles&#39;: [&amp;lt;ArticleALM Mitochondrial Electron Transport Is the Cellular Target of the Oncology Drug Elesclomol,
#&amp;gt; DOI 10.1371/journal.pone.0029798&amp;gt;,
#&amp;gt;   &amp;lt;ArticleALM Ecological Guild Evolution and the Discovery of the World&#39;s Smallest Vertebrate,
#&amp;gt;         DOI 10.1371/journal.pone.0029797&amp;gt;],
#&amp;gt;  &#39;meta&#39;: {u&#39;error&#39;: None, u&#39;page&#39;: 1, u&#39;total&#39;: 2, u&#39;total_pages&#39;: 1}}
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;ruby&quot;&gt;Ruby&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;alm&#39;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Alm.alm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ids&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;10.1371/journal.pone.0029797&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;10.1371/journal.pone.0029798&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ENV&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;PLOS_API_KEY&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;#&amp;gt; =&amp;gt; {&quot;total&quot;=&amp;gt;2,
#&amp;gt;  &quot;total_pages&quot;=&amp;gt;1,
#&amp;gt;  &quot;page&quot;=&amp;gt;1,
#&amp;gt;  &quot;error&quot;=&amp;gt;nil,
#&amp;gt;  &quot;data&quot;=&amp;gt;
#&amp;gt;   [{&quot;doi&quot;=&amp;gt;&quot;10.1371/journal.pone.0029798&quot;,
#&amp;gt;     &quot;title&quot;=&amp;gt;&quot;Mitochondrial Electron Transport Is the Cellular Target of the Oncology Drug Elesclomol&quot;,
#&amp;gt;     &quot;issued&quot;=&amp;gt;{&quot;date-parts&quot;=&amp;gt;[[2012, 1, 11]]},
#&amp;gt;     &quot;canonical_url&quot;=&amp;gt;&quot;http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029798&quot;,
#&amp;gt;     &quot;pmid&quot;=&amp;gt;&quot;22253786&quot;,
#&amp;gt;     &quot;pmcid&quot;=&amp;gt;&quot;3256171&quot;,
#&amp;gt;     &quot;mendeley_uuid&quot;=&amp;gt;&quot;b08cc99e-b526-3f0c-adaa-d5ee6d0d978a&quot;,
#&amp;gt;     &quot;viewed&quot;=&amp;gt;4346,
#&amp;gt;     &quot;saved&quot;=&amp;gt;14,
#&amp;gt;     &quot;discussed&quot;=&amp;gt;2,
#&amp;gt;     &quot;cited&quot;=&amp;gt;26,
#&amp;gt;     &quot;update_date&quot;=&amp;gt;&quot;2014-12-09T02:52:47Z&quot;},
#&amp;gt;    {&quot;doi&quot;=&amp;gt;&quot;10.1371/journal.pone.0029797&quot;,
#&amp;gt;     &quot;title&quot;=&amp;gt;&quot;Ecological Guild Evolution and the Discovery of the World&#39;s Smallest Vertebrate&quot;,
#&amp;gt;     &quot;issued&quot;=&amp;gt;{&quot;date-parts&quot;=&amp;gt;[[2012, 1, 11]]},
#&amp;gt;     &quot;canonical_url&quot;=&amp;gt;&quot;http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029797&quot;,
#&amp;gt;     &quot;pmid&quot;=&amp;gt;&quot;22253785&quot;,
#&amp;gt;     &quot;pmcid&quot;=&amp;gt;&quot;3256195&quot;,
#&amp;gt;     &quot;mendeley_uuid&quot;=&amp;gt;&quot;897fbbd6-5a23-3552-8077-97251b82c1e1&quot;,
#&amp;gt;     &quot;viewed&quot;=&amp;gt;34282,
#&amp;gt;     &quot;saved&quot;=&amp;gt;81,
#&amp;gt;     &quot;discussed&quot;=&amp;gt;244,
#&amp;gt;     &quot;cited&quot;=&amp;gt;8,
#&amp;gt;     &quot;update_date&quot;=&amp;gt;&quot;2014-12-09T02:52:46Z&quot;}]}
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>Dealing with multi handle errors</title>
   <link href="http://recology.info//2014/12/multi-handle/"/>
   <updated>2014-12-08T00:00:00-08:00</updated>
   <id>http://recology.info//2014/12/multi-handle</id>
   <content type="html">&lt;p&gt;At rOpenSci we occasssionally hear from our users that they run into an error like:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;Error&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;msg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;asError&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;easy&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handled&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;already&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;used&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;multi&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;handle&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;This error occurs in the &lt;code class=&quot;highlighter-rouge&quot;&gt;httr&lt;/code&gt; package that we use to do http requests to sources of data on the web. It happens when e.g., you make a lot of requests to a resource, then it gets interrupted somehow - then you make another call, and you get the error above. Let’s try it with the an version of &lt;code class=&quot;highlighter-rouge&quot;&gt;httr&lt;/code&gt; (&lt;code class=&quot;highlighter-rouge&quot;&gt;v0.5&lt;/code&gt;):&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;httr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# run, then esc to cause multi handle error
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://google.com/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# then retry single call, which trows multi handle error
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://google.com/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Error in function (type, msg, asError = TRUE)  : 
#&amp;gt;   easy handled already used in multi handle
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;There are any number of reasons why your session may get interrupted, including an internet outage, the web service you are requesesting data from times out, etc.  There hasn’t been a straight-forward way to handle this, until recently.&lt;/p&gt;

&lt;p&gt;In &lt;code class=&quot;highlighter-rouge&quot;&gt;httr&lt;/code&gt; version &lt;code class=&quot;highlighter-rouge&quot;&gt;0.6&lt;/code&gt;, there are two new functions &lt;code class=&quot;highlighter-rouge&quot;&gt;handle_find()&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;handle_reset()&lt;/code&gt; to help deal with this error.&lt;/p&gt;

&lt;p&gt;First, install newest httr from Github&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;devtools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hadley/httr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;httr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Make a bunch of requests to google, interrupting part way through&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;HEAD&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://google.com/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then retry single call, which trows multi handle error&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;HEAD&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://google.com/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Error in function (type, msg, asError = TRUE)  : 
#&amp;gt;   easy handled already used in multi handle
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Find handle&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;handle_find&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://google.com/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Host: http://google.com/ &amp;lt;0x10f3d1600&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Reset handle&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;handle_reset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://google.com/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Try call again, this time it should work&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;HEAD&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://google.com/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Response [http://www.google.com/]
#&amp;gt;   Date: 2014-12-08 13:37
#&amp;gt;   Status: 200
#&amp;gt;   Content-Type: text/html; charset=ISO-8859-1
#&amp;gt; &amp;lt;EMPTY BODY&amp;gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;usage-in-ropensci-packages&quot;&gt;Usage in ropensci packages&lt;/h2&gt;

&lt;p&gt;We have more work to do yet to integrate this into our packages. It’s great you can reset a handle as above, but to reset the handle you need to search for the URL used in the request, which our users would have to dig into the code for the function they are using. That is easy-ish to do, but perhaps not everyone knows they can get to the code easily.  So, we may try seting a parameter in functions that would let reset the handle to clear this error.&lt;/p&gt;

&lt;h2 id=&quot;note&quot;&gt;Note&lt;/h2&gt;

&lt;p&gt;Note that Hadley is planning on eliminating &lt;code class=&quot;highlighter-rouge&quot;&gt;RCurl&lt;/code&gt; dependency (https://github.com/hadley/httr/issues/172), so there may be a different solution in the future.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Altmetrics from anywhere</title>
   <link href="http://recology.info//2014/12/altmetrics-anywhere/"/>
   <updated>2014-12-08T00:00:00-08:00</updated>
   <id>http://recology.info//2014/12/altmetrics-anywhere</id>
   <content type="html">&lt;p&gt;The Lagotto application is a Rails app that collects and serves up via RESTful API article level metrics data for research objects. So far, this application has only been applied to scholarly articles, but will &lt;a href=&quot;http://articlemetrics.github.io/MDC/&quot;&gt;see action on datasets soon&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://blog.martinfenner.org/&quot;&gt;Martin Fenner&lt;/a&gt; has lead the development of Lagotto. He recently set up &lt;a href=&quot;http://discuss.lagotto.io/&quot;&gt;a discussion site&lt;/a&gt; if you want to chat about it.&lt;/p&gt;

&lt;p&gt;The application has a &lt;a href=&quot;http://alm.plos.org/&quot;&gt;nice GUI interface&lt;/a&gt;, and a quite nice &lt;a href=&quot;http://alm.plos.org/docs/api&quot;&gt;RESTful API&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Lagotto is open source! Because of this, and the quality of the software, other publishers have started using it to gather and deliver publicly article level metrics data, including:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://lagotto.svr.elifesciences.org/&quot;&gt;eLife&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://pkp-alm.lib.sfu.ca/&quot;&gt;Public Knowledge Project (PKP)&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://metricus.copernicus.org/&quot;&gt;Copernicus&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://det.labs.crossref.org/&quot;&gt;Crossref&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://alm.pensoft.net:81/&quot;&gt;Pensoft&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The PLOS instance at &lt;a href=&quot;http://alm.plos.org/&quot;&gt;http://alm.plos.org/&lt;/a&gt; is always the most up to date with the Lagotto software, but &lt;a href=&quot;http://det.labs.crossref.org/&quot;&gt;Crossref&lt;/a&gt; has the largest number of articles.&lt;/p&gt;

&lt;p&gt;I’ve been working on three clients for the Lagotto REST API, including for a while now on &lt;code class=&quot;highlighter-rouge&quot;&gt;R&lt;/code&gt;, recently on &lt;code class=&quot;highlighter-rouge&quot;&gt;Python&lt;/code&gt;, and just last week on &lt;code class=&quot;highlighter-rouge&quot;&gt;Ruby&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;Please do try the clients, report bugs, request features - you know the open source drill…&lt;/p&gt;

&lt;p&gt;I’d say the R client is the most mature, while Python is less so, end the Ruby gem the least mature.&lt;/p&gt;

&lt;h2 id=&quot;installation&quot;&gt;Installation&lt;/h2&gt;

&lt;p&gt;R&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;devtools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropensci/alm&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Python&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;clone&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;https&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;github.com&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cameronneylon&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pyalm.git&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pyalm&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;checkout&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scott&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;python&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;setup.py&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;install&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Ruby&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gem&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;install&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;httparty&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;json&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rake&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;git&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;clone&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;https&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;github.com&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sckott&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alm.git&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cd&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alm&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;make&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# which runs build and install tasks
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;If you don’t have &lt;code class=&quot;highlighter-rouge&quot;&gt;make&lt;/code&gt;, then just run &lt;code class=&quot;highlighter-rouge&quot;&gt;gem build alm.gemspec&lt;/code&gt; and 	&lt;code class=&quot;highlighter-rouge&quot;&gt;gem install alm-0.1.0.gem&lt;/code&gt; seperately.&lt;/p&gt;

&lt;h2 id=&quot;example&quot;&gt;Example&lt;/h2&gt;

&lt;p&gt;In this example, we’ll get altmetrics data for two DOIs: &lt;a href=&quot;http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029797&quot;&gt;10.1371/journal.pone.0029797&lt;/a&gt;, and &lt;a href=&quot;http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029798&quot;&gt;10.1371/journal.pone.0029798&lt;/a&gt; (click on links to go to paper).&lt;/p&gt;

&lt;h3 id=&quot;r&quot;&gt;R&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;alm&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ids&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;10.1371/journal.pone.0029797&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;10.1371/journal.pone.0029798&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;alm_ids&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ids&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;summary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $meta
#&amp;gt;   total total_pages page error
#&amp;gt; 1     2           1    1    NA
#&amp;gt; 
#&amp;gt; $data
#&amp;gt; $data$`10.1371/journal.pone.0029798`
#&amp;gt; $data$`10.1371/journal.pone.0029798`$info
#&amp;gt;                            doi
#&amp;gt; 1 10.1371/journal.pone.0029798
#&amp;gt;                                                                                     title
#&amp;gt; 1 Mitochondrial Electron Transport Is the Cellular Target of the Oncology Drug Elesclomol
#&amp;gt;                                                                canonical_url
#&amp;gt; 1 http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029798
#&amp;gt;       pmid   pmcid                        mendeley_uuid
#&amp;gt; 1 22253786 3256171 b08cc99e-b526-3f0c-adaa-d5ee6d0d978a
#&amp;gt;            update_date     issued
#&amp;gt; 1 2014-12-09T02:52:47Z 2012-01-11
#&amp;gt; 
#&amp;gt; $data$`10.1371/journal.pone.0029798`$signposts
#&amp;gt;                            doi viewed saved discussed cited
#&amp;gt; 1 10.1371/journal.pone.0029798   4346    14         2    26
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $data$`10.1371/journal.pone.0029797`
#&amp;gt; $data$`10.1371/journal.pone.0029797`$info
#&amp;gt;                            doi
#&amp;gt; 1 10.1371/journal.pone.0029797
#&amp;gt;                                                                             title
#&amp;gt; 1 Ecological Guild Evolution and the Discovery of the World&#39;s Smallest Vertebrate
#&amp;gt;                                                                canonical_url
#&amp;gt; 1 http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029797
#&amp;gt;       pmid   pmcid                        mendeley_uuid
#&amp;gt; 1 22253785 3256195 897fbbd6-5a23-3552-8077-97251b82c1e1
#&amp;gt;            update_date     issued
#&amp;gt; 1 2014-12-09T02:52:46Z 2012-01-11
#&amp;gt; 
#&amp;gt; $data$`10.1371/journal.pone.0029797`$signposts
#&amp;gt;                            doi viewed saved discussed cited
#&amp;gt; 1 10.1371/journal.pone.0029797  34282    81       244     8
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;python&quot;&gt;Python&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pyalm&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ids&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;10.1371/journal.pone.0029797&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;10.1371/journal.pone.0029798&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pyalm.get_alm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ids&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;info&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;summary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;#&amp;gt; {&#39;articles&#39;: [&amp;lt;ArticleALM Mitochondrial Electron Transport Is the Cellular Target of the Oncology Drug Elesclomol,
#&amp;gt; DOI 10.1371/journal.pone.0029798&amp;gt;,
#&amp;gt;   &amp;lt;ArticleALM Ecological Guild Evolution and the Discovery of the World&#39;s Smallest Vertebrate,
#&amp;gt;         DOI 10.1371/journal.pone.0029797&amp;gt;],
#&amp;gt;  &#39;meta&#39;: {u&#39;error&#39;: None, u&#39;page&#39;: 1, u&#39;total&#39;: 2, u&#39;total_pages&#39;: 1}}
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;ruby&quot;&gt;Ruby&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;alm&#39;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Alm.alm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ids&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;10.1371/journal.pone.0029797&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;10.1371/journal.pone.0029798&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ENV&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;PLOS_API_KEY&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;#&amp;gt; =&amp;gt; {&quot;total&quot;=&amp;gt;2,
#&amp;gt;  &quot;total_pages&quot;=&amp;gt;1,
#&amp;gt;  &quot;page&quot;=&amp;gt;1,
#&amp;gt;  &quot;error&quot;=&amp;gt;nil,
#&amp;gt;  &quot;data&quot;=&amp;gt;
#&amp;gt;   [{&quot;doi&quot;=&amp;gt;&quot;10.1371/journal.pone.0029798&quot;,
#&amp;gt;     &quot;title&quot;=&amp;gt;&quot;Mitochondrial Electron Transport Is the Cellular Target of the Oncology Drug Elesclomol&quot;,
#&amp;gt;     &quot;issued&quot;=&amp;gt;{&quot;date-parts&quot;=&amp;gt;[[2012, 1, 11]]},
#&amp;gt;     &quot;canonical_url&quot;=&amp;gt;&quot;http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029798&quot;,
#&amp;gt;     &quot;pmid&quot;=&amp;gt;&quot;22253786&quot;,
#&amp;gt;     &quot;pmcid&quot;=&amp;gt;&quot;3256171&quot;,
#&amp;gt;     &quot;mendeley_uuid&quot;=&amp;gt;&quot;b08cc99e-b526-3f0c-adaa-d5ee6d0d978a&quot;,
#&amp;gt;     &quot;viewed&quot;=&amp;gt;4346,
#&amp;gt;     &quot;saved&quot;=&amp;gt;14,
#&amp;gt;     &quot;discussed&quot;=&amp;gt;2,
#&amp;gt;     &quot;cited&quot;=&amp;gt;26,
#&amp;gt;     &quot;update_date&quot;=&amp;gt;&quot;2014-12-09T02:52:47Z&quot;},
#&amp;gt;    {&quot;doi&quot;=&amp;gt;&quot;10.1371/journal.pone.0029797&quot;,
#&amp;gt;     &quot;title&quot;=&amp;gt;&quot;Ecological Guild Evolution and the Discovery of the World&#39;s Smallest Vertebrate&quot;,
#&amp;gt;     &quot;issued&quot;=&amp;gt;{&quot;date-parts&quot;=&amp;gt;[[2012, 1, 11]]},
#&amp;gt;     &quot;canonical_url&quot;=&amp;gt;&quot;http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029797&quot;,
#&amp;gt;     &quot;pmid&quot;=&amp;gt;&quot;22253785&quot;,
#&amp;gt;     &quot;pmcid&quot;=&amp;gt;&quot;3256195&quot;,
#&amp;gt;     &quot;mendeley_uuid&quot;=&amp;gt;&quot;897fbbd6-5a23-3552-8077-97251b82c1e1&quot;,
#&amp;gt;     &quot;viewed&quot;=&amp;gt;34282,
#&amp;gt;     &quot;saved&quot;=&amp;gt;81,
#&amp;gt;     &quot;discussed&quot;=&amp;gt;244,
#&amp;gt;     &quot;cited&quot;=&amp;gt;8,
#&amp;gt;     &quot;update_date&quot;=&amp;gt;&quot;2014-12-09T02:52:46Z&quot;}]}
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>Publications by author country</title>
   <link href="http://recology.info//2014/12/rplos-pubs-country/"/>
   <updated>2014-12-03T00:00:00-08:00</updated>
   <id>http://recology.info//2014/12/rplos-pubs-country</id>
   <content type="html">&lt;p&gt;I just missed another chat on the rOpenSci website:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;I want to know the number of publications by people from a certain country, but I dont know how to achieve this…&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Fun! Let’s do that. It’s a bit complicated because there is no field like geography of the authors. But there are affiliation fields, from which we can collect data we need.&lt;/p&gt;

&lt;h2 id=&quot;installation&quot;&gt;Installation&lt;/h2&gt;

&lt;p&gt;You’ll need the GitHub version for the coutry names data, or just use the CRAN version, and get country names elsewhere.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;devtools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropensci/rplos&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rplos&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;get-the-data&quot;&gt;Get the data&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;articles&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;searchplos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;*:*&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;author_affiliate&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;fq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;article_type:&quot;Research Article&quot;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;doc_type:full&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;search-for-country-names-in-affilitation-field&quot;&gt;Search for country names in affilitation field&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;countries&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;articles&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;author_affiliate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isocodes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;grepl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;isocodes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]
#&amp;gt; character(0)
#&amp;gt; 
#&amp;gt; [[2]]
#&amp;gt; [1] &quot;Jersey&quot;        &quot;United States&quot;
#&amp;gt; 
#&amp;gt; [[3]]
#&amp;gt; [1] &quot;China&quot;   &quot;Germany&quot;
#&amp;gt; 
#&amp;gt; [[4]]
#&amp;gt; character(0)
#&amp;gt; 
#&amp;gt; [[5]]
#&amp;gt; [1] &quot;Argentina&quot;      &quot;United Kingdom&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;You can combine this data with the previously collected data:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# Helper function
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;splitem&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;paste0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;collapse&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;, &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;articles&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;countries&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;countries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;splitem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;articles&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                             id
#&amp;gt; 1 10.1371/journal.pone.0095870
#&amp;gt; 2 10.1371/journal.pone.0110535
#&amp;gt; 3 10.1371/journal.pone.0110991
#&amp;gt; 4 10.1371/journal.pone.0111234
#&amp;gt; 5 10.1371/journal.pone.0111388
#&amp;gt;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                author_affiliate
#&amp;gt; 1 Institute of Epidemiology and Preventive Medicine, College of Public Health, National Taiwan University, Taipei, Taiwan; Department of Clinical Laboratory Sciences and Medical Biotechnology, College of Medicine, National Taiwan University, Taipei, Taiwan; Department of Gastroenterology, Ren-Ai Branch, Taipei City Hospital, Taipei, Taiwan; Division of Gastroenterology, Department of Internal Medicine, National Taiwan University Hospital and National Taiwan University College of Medicine, Taipei, Taiwan; Liver Research Unit, Chang Gung Memorial Hospital, Chang Gung University College of Medicine, Taipei, Taiwan; Division of Gastroenterology, Department of Medicine, Taipei Veterans General Hospital, Taipei, Taiwan; Cheng Hsin General Hospital, Taipei, Taiwan
#&amp;gt; 2    Durham Nephrology Associates, Durham, North Carolina, United States of America; Scientific Activities Department, The National Kidney Foundation, Inc., New York, New York, United States of America; Covance Inc., Princeton, New Jersey, United States of America; Departments of Medicine and Population Health Sciences, University of Wisconsin School of Medicine and Public Health, Madison, Wisconsin, United States of America; Department of Family Medicine, University at Buffalo, Buffalo, New York, United States of America; Baylor Health Care System, Baylor Heart and Vascular Institute, Dallas, Texas, United States of America; Department of Medicine, Division of Nephrology, Icahn School of Medicine at Mount Sinai, New York, New York, United States of America
#&amp;gt; 3                                                                                                                                                                                                                                                                                                                                                                                                                                  State Key Laboratory of Electronic Thin Films and Integrated Devices, School of Microelectronics and Solid-State electronics, University of Electronic Science and Technology of China, Sichuan, China; Electrical and Computer Engineering, Kaiserslautern University of Technology, Kaiserslautern German Gottlieb-Daimler-Strabe, Kaiserslautern, Germany
#&amp;gt; 4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         SB RAS Institute of Chemical Biology and Fundamental Medicine, Novosibirsk, Russia; Pacific Institute of Bioorganic Chemistry, Far East Division, Russian Academy of Sciences, Vladivostok, Russia; Novosibirsk State University, Novosibirsk, Russia
#&amp;gt; 5                                                                                                                                                                                                                                                                                                                                                                                   CONICET, Consejo Nacional de Investigaciones Científicas y Técnicas, Ciudad Autónoma de Buenos Aires, Buenos Aires, Argentina; INGEO, Instituto de Geología, Facultad de Ciencias Exactas, Físicas y Naturales, Universidad Nacional de San Juan, San Juan, San Juan, Argentina; School of Geography, Earth and Environmental Sciences, University of Birmingham, Birmingham, West Midlands, United Kingdom
#&amp;gt;                   countries
#&amp;gt; 1                      &amp;lt;NA&amp;gt;
#&amp;gt; 2     Jersey, United States
#&amp;gt; 3            China, Germany
#&amp;gt; 4                      &amp;lt;NA&amp;gt;
#&amp;gt; 5 Argentina, United Kingdom
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;bigger-data-set&quot;&gt;Bigger data set&lt;/h2&gt;

&lt;p&gt;Okay, cool, lets do it on a bigger data set, and this time, we’ll get another variable &lt;code class=&quot;highlighter-rouge&quot;&gt;counter_total_all&lt;/code&gt;, which is the combination of page views/pdf downloads for each article. This will allow us to ask &lt;em&gt;Is number of countries included in the authors related to page views?&lt;/em&gt;. I have no idea if this question makes sense, but nonetheless, it is a question :)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;articles&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;searchplos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;*:*&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;counter_total_all&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;author_affiliate&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;fq&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;article_type:&quot;Research Article&quot;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;doc_type:full&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 
#&amp;gt; 2
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Get countries&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;countries&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;articles&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;author_affiliate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;isocodes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;grepl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;isocodes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;articles&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;countries&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;countries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;splitem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Let’s remove those rows with 0 countries, since the authors must be from somewhere, so the country name matching must have errored.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n_countries&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;countries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n_countries&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Plot data&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ggplot2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n_countries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;counter_total_all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;geom_point&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;total page views&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;theme_grey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;figure/unnamed-chunk-10-1.png&quot; alt=&quot;plot of chunk unnamed-chunk-10&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Conclusion: meh, maybe, maybe not&lt;/p&gt;

&lt;h2 id=&quot;into-rplos&quot;&gt;Into rplos&lt;/h2&gt;

&lt;p&gt;We’ll probably add a function like this into &lt;code class=&quot;highlighter-rouge&quot;&gt;rplos&lt;/code&gt;, as a convenient way to handle this use case.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>http codes</title>
   <link href="http://recology.info//2014/12/http-codes/"/>
   <updated>2014-12-02T08:01:50-08:00</updated>
   <id>http://recology.info//2014/12/http-codes</id>
   <content type="html">&lt;p&gt;Recently noticed a little Python library called &lt;a href=&quot;https://github.com/rspivak/httpcode&quot;&gt;httpcode&lt;/a&gt; that does a simple thing: gives information on http codes in the CLI. I thought this could maybe potentially be useful for R. So I made an R version.&lt;/p&gt;

&lt;h2 id=&quot;installation&quot;&gt;Installation&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sckott/httpcode&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;httpcode&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;search-by-http-code&quot;&gt;Search by http code&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;http_code&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 100&amp;gt;
#&amp;gt;   Message: Continue
#&amp;gt;   Explanation: Request received, please continue
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;http_code&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 400&amp;gt;
#&amp;gt;   Message: Bad Request
#&amp;gt;   Explanation: Bad request syntax or unsupported method
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;http_code&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;503&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 503&amp;gt;
#&amp;gt;   Message: Service Unavailable
#&amp;gt;   Explanation: The server cannot process the request due to a high load
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;http_code&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;999&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Error: No description found for code: 999
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;fuzzy-code-search&quot;&gt;Fuzzy code search&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;http_code&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;1xx&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]
#&amp;gt; &amp;lt;Status code: 100&amp;gt;
#&amp;gt;   Message: Continue
#&amp;gt;   Explanation: Request received, please continue
#&amp;gt; 
#&amp;gt; [[2]]
#&amp;gt; &amp;lt;Status code: 101&amp;gt;
#&amp;gt;   Message: Switching Protocols
#&amp;gt;   Explanation: Switching to new protocol; obey Upgrade header
#&amp;gt; 
#&amp;gt; [[3]]
#&amp;gt; &amp;lt;Status code: 102&amp;gt;
#&amp;gt;   Message: Processing
#&amp;gt;   Explanation: WebDAV; RFC 2518
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;http_code&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;3xx&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]
#&amp;gt; &amp;lt;Status code: 300&amp;gt;
#&amp;gt;   Message: Multiple Choices
#&amp;gt;   Explanation: Object has several resources -- see URI list
#&amp;gt; 
#&amp;gt; [[2]]
#&amp;gt; &amp;lt;Status code: 301&amp;gt;
#&amp;gt;   Message: Moved Permanently
#&amp;gt;   Explanation: Object moved permanently -- see URI list
#&amp;gt; 
#&amp;gt; [[3]]
#&amp;gt; &amp;lt;Status code: 302&amp;gt;
#&amp;gt;   Message: Found
#&amp;gt;   Explanation: Object moved temporarily -- see URI list
#&amp;gt; 
#&amp;gt; [[4]]
#&amp;gt; &amp;lt;Status code: 303&amp;gt;
#&amp;gt;   Message: See Other
#&amp;gt;   Explanation: Object moved -- see Method and URL list
#&amp;gt; 
#&amp;gt; [[5]]
#&amp;gt; &amp;lt;Status code: 304&amp;gt;
#&amp;gt;   Message: Not Modified
#&amp;gt;   Explanation: Document has not changed since given time
#&amp;gt; 
#&amp;gt; [[6]]
#&amp;gt; &amp;lt;Status code: 305&amp;gt;
#&amp;gt;   Message: Use Proxy
#&amp;gt;   Explanation: You must use proxy specified in Location to access this resource.
#&amp;gt; 
#&amp;gt; [[7]]
#&amp;gt; &amp;lt;Status code: 306&amp;gt;
#&amp;gt;   Message: Switch Proxy
#&amp;gt;   Explanation: Subsequent requests should use the specified proxy
#&amp;gt; 
#&amp;gt; [[8]]
#&amp;gt; &amp;lt;Status code: 307&amp;gt;
#&amp;gt;   Message: Temporary Redirect
#&amp;gt;   Explanation: Object moved temporarily -- see URI list
#&amp;gt; 
#&amp;gt; [[9]]
#&amp;gt; &amp;lt;Status code: 308&amp;gt;
#&amp;gt;   Message: Permanent Redirect
#&amp;gt;   Explanation: Object moved permanently
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;http_code&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;30[12]&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]
#&amp;gt; &amp;lt;Status code: 301&amp;gt;
#&amp;gt;   Message: Moved Permanently
#&amp;gt;   Explanation: Object moved permanently -- see URI list
#&amp;gt; 
#&amp;gt; [[2]]
#&amp;gt; &amp;lt;Status code: 302&amp;gt;
#&amp;gt;   Message: Found
#&amp;gt;   Explanation: Object moved temporarily -- see URI list
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;http_code&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;30[34]&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]
#&amp;gt; &amp;lt;Status code: 303&amp;gt;
#&amp;gt;   Message: See Other
#&amp;gt;   Explanation: Object moved -- see Method and URL list
#&amp;gt; 
#&amp;gt; [[2]]
#&amp;gt; &amp;lt;Status code: 304&amp;gt;
#&amp;gt;   Message: Not Modified
#&amp;gt;   Explanation: Document has not changed since given time
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;search-by-text-message&quot;&gt;Search by text message&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;http_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;request&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]
#&amp;gt; &amp;lt;Status code: 100&amp;gt;
#&amp;gt;   Message: Continue
#&amp;gt;   Explanation: Request received, please continue
#&amp;gt; 
#&amp;gt; [[2]]
#&amp;gt; &amp;lt;Status code: 200&amp;gt;
#&amp;gt;   Message: OK
#&amp;gt;   Explanation: Request fulfilled, document follows
#&amp;gt; 
#&amp;gt; [[3]]
#&amp;gt; &amp;lt;Status code: 202&amp;gt;
#&amp;gt;   Message: Accepted
#&amp;gt;   Explanation: Request accepted, processing continues off-line
#&amp;gt; 
#&amp;gt; [[4]]
#&amp;gt; &amp;lt;Status code: 203&amp;gt;
#&amp;gt;   Message: Non-Authoritative Information
#&amp;gt;   Explanation: Request fulfilled from cache
#&amp;gt; 
#&amp;gt; [[5]]
#&amp;gt; &amp;lt;Status code: 204&amp;gt;
#&amp;gt;   Message: No Content
#&amp;gt;   Explanation: Request fulfilled, nothing follows
#&amp;gt; 
#&amp;gt; [[6]]
#&amp;gt; &amp;lt;Status code: 306&amp;gt;
#&amp;gt;   Message: Switch Proxy
#&amp;gt;   Explanation: Subsequent requests should use the specified proxy
#&amp;gt; 
#&amp;gt; [[7]]
#&amp;gt; &amp;lt;Status code: 400&amp;gt;
#&amp;gt;   Message: Bad Request
#&amp;gt;   Explanation: Bad request syntax or unsupported method
#&amp;gt; 
#&amp;gt; [[8]]
#&amp;gt; &amp;lt;Status code: 403&amp;gt;
#&amp;gt;   Message: Forbidden
#&amp;gt;   Explanation: Request forbidden -- authorization will not help
#&amp;gt; 
#&amp;gt; [[9]]
#&amp;gt; &amp;lt;Status code: 408&amp;gt;
#&amp;gt;   Message: Request Timeout
#&amp;gt;   Explanation: Request timed out; try again later.
#&amp;gt; 
#&amp;gt; [[10]]
#&amp;gt; &amp;lt;Status code: 409&amp;gt;
#&amp;gt;   Message: Conflict
#&amp;gt;   Explanation: Request conflict.
#&amp;gt; 
#&amp;gt; [[11]]
#&amp;gt; &amp;lt;Status code: 413&amp;gt;
#&amp;gt;   Message: Request Entity Too Large
#&amp;gt;   Explanation: Entity is too large.
#&amp;gt; 
#&amp;gt; [[12]]
#&amp;gt; &amp;lt;Status code: 414&amp;gt;
#&amp;gt;   Message: Request-URI Too Long
#&amp;gt;   Explanation: URI is too long.
#&amp;gt; 
#&amp;gt; [[13]]
#&amp;gt; &amp;lt;Status code: 416&amp;gt;
#&amp;gt;   Message: Requested Range Not Satisfiable
#&amp;gt;   Explanation: Cannot satisfy request range.
#&amp;gt; 
#&amp;gt; [[14]]
#&amp;gt; &amp;lt;Status code: 503&amp;gt;
#&amp;gt;   Message: Service Unavailable
#&amp;gt;   Explanation: The server cannot process the request due to a high load
#&amp;gt; 
#&amp;gt; [[15]]
#&amp;gt; &amp;lt;Status code: 505&amp;gt;
#&amp;gt;   Message: HTTP Version Not Supported
#&amp;gt;   Explanation: Cannot fulfill request.
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;http_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;forbidden&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]
#&amp;gt; &amp;lt;Status code: 403&amp;gt;
#&amp;gt;   Message: Forbidden
#&amp;gt;   Explanation: Request forbidden -- authorization will not help
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;http_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;too&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]
#&amp;gt; &amp;lt;Status code: 413&amp;gt;
#&amp;gt;   Message: Request Entity Too Large
#&amp;gt;   Explanation: Entity is too large.
#&amp;gt; 
#&amp;gt; [[2]]
#&amp;gt; &amp;lt;Status code: 414&amp;gt;
#&amp;gt;   Message: Request-URI Too Long
#&amp;gt;   Explanation: URI is too long.
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;http_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;birds&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Error: No status code found for search: : birds
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>taxize workflows</title>
   <link href="http://recology.info//2014/12/taxize-workflows/"/>
   <updated>2014-12-02T00:00:00-08:00</updated>
   <id>http://recology.info//2014/12/taxize-workflows</id>
   <content type="html">&lt;p&gt;A missed chat on the rOpenSci website the other day asked:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Hi there, i am trying to use the taxize package and have a .csv file of species names to run through taxize updating them. What would be the code i would need to run to achieve this?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;One way to answer this is to talk about the basic approach to importing data, doing stuff to the data, then recombining data. There are many ways to do this, but I’ll go over a few of them.&lt;/p&gt;

&lt;h2 id=&quot;install-taxize&quot;&gt;Install taxize&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;taxize&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;downloader&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;taxize&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;import-data&quot;&gt;Import data&lt;/h2&gt;

&lt;p&gt;We’ll use Winston Chang’s new &lt;code class=&quot;highlighter-rouge&quot;&gt;downloader&lt;/code&gt; package to avoid problems with &lt;code class=&quot;highlighter-rouge&quot;&gt;https&lt;/code&gt;, and get a dataset from our ropensci datasets repo &lt;a href=&quot;https://github.com/ropensci/datasets&quot;&gt;https://github.com/ropensci/datasets&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;downloader&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;download&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;https://raw.githubusercontent.com/ropensci/datasets/master/planttraits/morphological.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;morphological.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;read.csv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;morphological.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stringsAsFactors&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                  species log_SLA leaf_water_content log_wood_density
#&amp;gt; 1         Abies concolor    3.46               0.51            -0.52
#&amp;gt; 2          Abies grandis    3.58               0.49            -0.51
#&amp;gt; 3        Abies magnifica    3.87               0.62            -0.53
#&amp;gt; 4      Acacia farnesiana      NA                 NA               NA
#&amp;gt; 5           Acer glabrum    5.07               0.69            -0.54
#&amp;gt; 6 Adenostoma fasciculata    3.56               0.46            -0.31
#&amp;gt;   log_ht log_N
#&amp;gt; 1   7.72  0.02
#&amp;gt; 2   7.51 -0.31
#&amp;gt; 3   7.58 -0.14
#&amp;gt; 4   5.70    NA
#&amp;gt; 5   3.25  1.02
#&amp;gt; 6   5.33  0.29
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;After importing data, there are a variety of approaches you could take:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Vector: Take species names as vector from your &lt;code class=&quot;highlighter-rouge&quot;&gt;data.frame&lt;/code&gt;, cleaning them, then re-attching to the &lt;code class=&quot;highlighter-rouge&quot;&gt;data.frame&lt;/code&gt; later, or&lt;/li&gt;
  &lt;li&gt;In-Place: Use for loops or &lt;code class=&quot;highlighter-rouge&quot;&gt;lapply&lt;/code&gt; family functions to iterate over each name while simultaneously re-inserting into the &lt;code class=&quot;highlighter-rouge&quot;&gt;data.frame&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2 id=&quot;vector&quot;&gt;1. Vector&lt;/h2&gt;

&lt;p&gt;Make a vector of names&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;splist&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;species&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then proceed to do name cleaning, e.g, we can use the &lt;code class=&quot;highlighter-rouge&quot;&gt;tnrs&lt;/code&gt; function to see if any names are potentially not spelled correctly.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;tnrs_out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tnrs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;splist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;iPlant_TNRS&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tnrs_out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;              submittedname             acceptedname    sourceid score
#&amp;gt; 1     Ceanothus prostratus     Ceanothus prostratus iPlant_TNRS     1
#&amp;gt; 2          Abies magnifica          Abies magnifica iPlant_TNRS     1
#&amp;gt; 3 Arctostaphylos canescens Arctostaphylos canescens iPlant_TNRS     1
#&amp;gt; 4         Berberis nervosa         Berberis nervosa iPlant_TNRS     1
#&amp;gt; 5        Arbutus menziesii        Arbutus menziesii iPlant_TNRS     1
#&amp;gt; 6     Calocedrus decurrens     Calocedrus decurrens iPlant_TNRS     1
#&amp;gt;                matchedname      authority
#&amp;gt; 1     Ceanothus prostratus         Benth.
#&amp;gt; 2          Abies magnifica  A. Murray bis
#&amp;gt; 3 Arctostaphylos canescens         Eastw.
#&amp;gt; 4         Berberis nervosa          Pursh
#&amp;gt; 5        Arbutus menziesii          Pursh
#&amp;gt; 6     Calocedrus decurrens (Torr.) Florin
#&amp;gt;                                     uri
#&amp;gt; 1 http://www.tropicos.org/Name/27500276
#&amp;gt; 2 http://www.tropicos.org/Name/24900142
#&amp;gt; 3 http://www.tropicos.org/Name/12302547
#&amp;gt; 4  http://www.tropicos.org/Name/3500175
#&amp;gt; 5 http://www.tropicos.org/Name/12302436
#&amp;gt; 6  http://www.tropicos.org/Name/9400069
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Those with score of less than 1 may have misspellings&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;tnrs_out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tnrs_out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;score&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                 submittedname              acceptedname    sourceid score
#&amp;gt; 23     Adenostoma fasciculata   Adenostoma fasciculatum iPlant_TNRS  0.97
#&amp;gt; 24 Arctostaphylos glandulosus Arctostaphylos glandulosa iPlant_TNRS  0.97
#&amp;gt; 36        Chamaebatia foliosa     Chamaebatia foliolosa iPlant_TNRS  0.95
#&amp;gt; 38     Juniperus californicus     Juniperus californica iPlant_TNRS  0.97
#&amp;gt; 77         Prunus illicifolia         Prunus ilicifolia iPlant_TNRS  0.99
#&amp;gt; 78         Prunus subcordatus         Prunus subcordata iPlant_TNRS  0.97
#&amp;gt;                  matchedname                         authority
#&amp;gt; 23   Adenostoma fasciculatum                      Hook. &amp;amp; Arn.
#&amp;gt; 24 Arctostaphylos glandulosa                            Eastw.
#&amp;gt; 36     Chamaebatia foliolosa                            Benth.
#&amp;gt; 38     Juniperus californica                          Carrière
#&amp;gt; 77         Prunus ilicifolia (Nutt. ex Hook. &amp;amp; Arn.) D. Dietr.
#&amp;gt; 78         Prunus subcordata                            Benth.
#&amp;gt;                                      uri
#&amp;gt; 23 http://www.tropicos.org/Name/27801458
#&amp;gt; 24 http://www.tropicos.org/Name/12300542
#&amp;gt; 36 http://www.tropicos.org/Name/27801486
#&amp;gt; 38  http://www.tropicos.org/Name/9400374
#&amp;gt; 77 http://www.tropicos.org/Name/27801102
#&amp;gt; 78 http://www.tropicos.org/Name/27801124
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;So let’s take the &lt;code class=&quot;highlighter-rouge&quot;&gt;acceptedname&lt;/code&gt; column as a the new names and assign to a new vector&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;cleaned_names&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tnrs_out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;acceptedname&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then join names back, replacing them, or adding as a new column&lt;/p&gt;

&lt;p&gt;Replace&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;species&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cleaned_names&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                    species log_SLA leaf_water_content log_wood_density
#&amp;gt; 1     Ceanothus prostratus    3.46               0.51            -0.52
#&amp;gt; 2          Abies magnifica    3.58               0.49            -0.51
#&amp;gt; 3 Arctostaphylos canescens    3.87               0.62            -0.53
#&amp;gt; 4         Berberis nervosa      NA                 NA               NA
#&amp;gt; 5        Arbutus menziesii    5.07               0.69            -0.54
#&amp;gt; 6     Calocedrus decurrens    3.56               0.46            -0.31
#&amp;gt;   log_ht log_N
#&amp;gt; 1   7.72  0.02
#&amp;gt; 2   7.51 -0.31
#&amp;gt; 3   7.58 -0.14
#&amp;gt; 4   5.70    NA
#&amp;gt; 5   3.25  1.02
#&amp;gt; 6   5.33  0.29
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;New column&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;species_cleaned&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cleaned_names&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                    species log_SLA leaf_water_content log_wood_density
#&amp;gt; 1     Ceanothus prostratus    3.46               0.51            -0.52
#&amp;gt; 2          Abies magnifica    3.58               0.49            -0.51
#&amp;gt; 3 Arctostaphylos canescens    3.87               0.62            -0.53
#&amp;gt; 4         Berberis nervosa      NA                 NA               NA
#&amp;gt; 5        Arbutus menziesii    5.07               0.69            -0.54
#&amp;gt; 6     Calocedrus decurrens    3.56               0.46            -0.31
#&amp;gt;   log_ht log_N          species_cleaned
#&amp;gt; 1   7.72  0.02     Ceanothus prostratus
#&amp;gt; 2   7.51 -0.31          Abies magnifica
#&amp;gt; 3   7.58 -0.14 Arctostaphylos canescens
#&amp;gt; 4   5.70    NA         Berberis nervosa
#&amp;gt; 5   3.25  1.02        Arbutus menziesii
#&amp;gt; 6   5.33  0.29     Calocedrus decurrens
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;in-place&quot;&gt;2. In-place&lt;/h2&gt;

&lt;p&gt;You can use functions from the &lt;code class=&quot;highlighter-rouge&quot;&gt;dplyr&lt;/code&gt; package to &lt;code class=&quot;highlighter-rouge&quot;&gt;split-apply-combine&lt;/code&gt;, where &lt;code class=&quot;highlighter-rouge&quot;&gt;split&lt;/code&gt; is split apart your vector for each taxon, &lt;code class=&quot;highlighter-rouge&quot;&gt;apply&lt;/code&gt; to apply a function or functions to do name cleaning, then &lt;code class=&quot;highlighter-rouge&quot;&gt;combine&lt;/code&gt; to put them back together.&lt;/p&gt;

&lt;p&gt;Here, we’ll attach taxonomic ids from the Catalogue of Life to each species (each row) (with just a subset of the data to save time):&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;dplyr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;tbl_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;rowwise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;mutate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;colid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_colid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;species&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;species&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Source: local data frame [5 x 2]
#&amp;gt; Groups: &amp;lt;by row&amp;gt;
#&amp;gt; 
#&amp;gt;                    species    colid
#&amp;gt; 1     Ceanothus prostratus 19544732
#&amp;gt; 2          Abies magnifica 18158318
#&amp;gt; 3 Arctostaphylos canescens 19358934
#&amp;gt; 4         Berberis nervosa 19374077
#&amp;gt; 5        Arbutus menziesii 19358819
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Let’s do something a bit more complicated. Get common names for each taxon in a new column, if more than 1, concatenate into a single character string for easy inclusion in a &lt;code class=&quot;highlighter-rouge&quot;&gt;data.frame&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;sci2comm_concat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sci2comm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;db&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;eol&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;paste0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;collapse&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;, &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;dat_new&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tbl_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;rowwise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;mutate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sci2comm_concat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;species&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;To see the new column, do&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;dat_new&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;select&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;comm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Source: local data frame [5 x 1]
#&amp;gt; Groups: &amp;lt;by row&amp;gt;
#&amp;gt; 
#&amp;gt;                                                                          comm
#&amp;gt; 1                      Mahala-mat Ceanothus, prostrate ceanothus, squawcarpet
#&amp;gt; 2 Prächtige Tanne, Goldtanne (Gold-Tanne), Kalifornische Rot-Tanne, Pracht-Ta
#&amp;gt; 3                          hoary manzanita, hoary manzanita, Sonoma manzanita
#&amp;gt; 4 Longleaf Oregon-grape, Cascade barberry, Dull Oregon grape, Oregon grape-ho
#&amp;gt; 5                   pacific madrone, Madrona, madrone, Kalifornianmansikkapuu
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>1000 commits to taxize</title>
   <link href="http://recology.info//2014/11/taxize-1000/"/>
   <updated>2014-11-28T00:00:00-08:00</updated>
   <id>http://recology.info//2014/11/taxize-1000</id>
   <content type="html">&lt;p&gt;Just today we’ve hit 1000 commits on &lt;code class=&quot;highlighter-rouge&quot;&gt;taxize&lt;/code&gt;!  &lt;code class=&quot;highlighter-rouge&quot;&gt;taxize&lt;/code&gt; is an R client to search across lots of taxonomic databases on the web. In honor of the 1000 commit milestone, here’s some stats on the project.&lt;/p&gt;

&lt;p&gt;Before that, lots of people have contributed to &lt;code class=&quot;highlighter-rouge&quot;&gt;taxize&lt;/code&gt;, it’s a big group effort:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/EDiLD&quot;&gt;Eduard Szöcs&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/zachary-foster&quot;&gt;Zachary Foster&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;Carl Boettiger&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/karthik&quot;&gt;Karthik Ram&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/jarioksa&quot;&gt;Jari Oksanen&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/fmichonneau&quot;&gt;Francis Michonneau&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/Ironholds&quot;&gt;Oliver Keyes&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/dlebauer&quot;&gt;David LeBauer&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/benmarwick&quot;&gt;Ben Marwick&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/anirvan&quot;&gt;Anirvan Chatterjee&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In addition, we’ve had lots of feedback from users, including feature requests and bug reports, making &lt;code class=&quot;highlighter-rouge&quot;&gt;taxize&lt;/code&gt; a lot better.&lt;/p&gt;

&lt;h2 id=&quot;setup&quot;&gt;Setup&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;devtools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;httr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ggplot2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;stringr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;plyr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;dplyr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;define-functions&quot;&gt;Define functions&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;github_auth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;appname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;gh_appname&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;gh_id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;secret&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;gh_secret&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is.null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;gh_token&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;myapp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;oauth_app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;appname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;secret&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;oauth2.0_token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;oauth_endpoints&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;github&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;myapp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gh_token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;gh_token&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;make_url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;https://api.github.com/repos/%s/%s/%s&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;process_result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;stop_for_status&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;headers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`content-type`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;application/json; charset=utf-8&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;content type mismatch&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;jsonlite&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fromJSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;flatten&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;gh_commits&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;repo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;owner&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ropensci&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;github_auth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;outout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;iter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nexturl&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dontstop&quot;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nexturl&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;stop&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;iter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;iter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;req&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grepl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;https:/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nexturl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nexturl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;make_url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;owner&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;commits&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;per_page&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;outout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;iter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;process_result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;link&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;headers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;link&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;nexturl&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is.null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;link&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)){&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;stop&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grepl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;next&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)){&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;stringr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str_extract&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;link&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;https://[0-9A-Za-z/?=\\._&amp;amp;]+&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;s2&quot;&gt;&quot;stop&quot;&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;outout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;outout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;outout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;identical&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()))]&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;dplyr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rbind_all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;outout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;gh_issues&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;repo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;owner&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ropensci&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;github_auth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;outout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;iter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nexturl&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dontstop&quot;&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nexturl&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;stop&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;iter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;iter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;req&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grepl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;https:/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nexturl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nexturl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;state&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;all&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;make_url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;owner&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;issues&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;per_page&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;state&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;all&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;outout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;iter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;process_result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;link&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;headers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;link&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;nexturl&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is.null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;link&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)){&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;stop&quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grepl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;next&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;link&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)){&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;stringr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str_extract&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;link&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;https://[0-9A-Za-z/?=\\._&amp;amp;]+&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;s2&quot;&gt;&quot;stop&quot;&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;outout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;outout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;outout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;identical&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()))]&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;dplyr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rbind_all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;outout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;gh_commit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sha&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;owner&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ropensci&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;github_auth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;req&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;paste0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;make_url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;owner&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;commits&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sha&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
             &lt;span class=&quot;n&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;process_result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;gh_verb&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;owner&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ropensci&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;verb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;github_auth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;req&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;make_url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;owner&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;verb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;process_result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;commits&quot;&gt;Commits&lt;/h2&gt;

&lt;p&gt;List of commits&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gh_commits&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;taxize&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Get changes for each commit&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;changes&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sha&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gh_commit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;taxize&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stats&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;total&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;numeric&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;changesdf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;changes&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;changes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sha&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;changes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Combine&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;inner_join&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;changesdf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Total changes through time (additions + deletions)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;ct&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.POSIXct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;format&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;%Y-%m-%dT%H:%M:%SZ&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tz&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;UTC&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;mutate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;commit.committer.date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;commit.committer.date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;commit.committer.date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;changes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;geom_area&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#87D2A0&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;theme_grey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2014-11-28-taxize-1000/unnamed-chunk-7-1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;By Authors&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;group_by&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;author.login&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;summarise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;author.login&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;geom_bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;identity&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;#87D2A0&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;coord_flip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;theme_grey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2014-11-28-taxize-1000/unnamed-chunk-8-1.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;issues&quot;&gt;Issues&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gh_issues&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;taxize&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Number of issues&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;NROW&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 382
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Number of open issues&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;open&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;NROW&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 35
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Number of pull requests&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is.na&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pull_request.url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;NROW&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 119
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;forks-number-of&quot;&gt;Forks, number of&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;NROW&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gh_verb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;repo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;taxize&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;verb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;forks&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 16
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;stars-number-of&quot;&gt;Stars, number of&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;NROW&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gh_verb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;repo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;taxize&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;verb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;stargazers&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;per_page&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 44
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;watchers-number-of&quot;&gt;Watchers, number of&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;NROW&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gh_verb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;repo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;taxize&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;verb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;subscribers&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;per_page&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 12
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>Intro to alpha ckanr - R client for CKAN RESTful API</title>
   <link href="http://recology.info//2014/11/ckanr-intro/"/>
   <updated>2014-11-26T03:42:36-08:00</updated>
   <id>http://recology.info//2014/11/ckanr-intro</id>
   <content type="html">&lt;p&gt;Recently I had need to create a client for scraping museum metadata to help out some folks that use that kind of data. It’s called &lt;a href=&quot;https://github.com/ropensci/musemeta&quot;&gt;musemeta&lt;/a&gt;. One of the data sources in that package uses the open source &lt;em&gt;data portal software&lt;/em&gt; &lt;a href=&quot;http://ckan.org/&quot;&gt;CKAN&lt;/a&gt;, and so we can interact with &lt;a href=&quot;http://docs.ckan.org/en/latest/api/index.html&quot;&gt;the CKAN API&lt;/a&gt; to get data. Since many groups can use CKAN API/etc infrastucture because it’s open source, I thought why not have a general purpose R client for this, since &lt;a href=&quot;https://github.com/ckan/ckan/wiki/CKAN-API-Clients&quot;&gt;there are other clients&lt;/a&gt; for Python, PHP, Ruby, etc.&lt;/p&gt;

&lt;p&gt;Here’s a bit of an intro:&lt;/p&gt;

&lt;h2 id=&quot;setup&quot;&gt;Setup&lt;/h2&gt;

&lt;p&gt;Get/load packages&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;devtools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropensci/ckanr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ckanr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;blockquote&gt;
  &lt;p&gt;Note: the default URL is for http://data.techno-science.ca/. You can change that in the &lt;code class=&quot;highlighter-rouge&quot;&gt;url&lt;/code&gt; parameter&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;some-package-details&quot;&gt;Some package details&lt;/h2&gt;

&lt;p&gt;All API alls are &lt;code class=&quot;highlighter-rouge&quot;&gt;POST&lt;/code&gt; requests, and handled through a helper function called &lt;code class=&quot;highlighter-rouge&quot;&gt;ckan_POST()&lt;/code&gt;. See &lt;code class=&quot;highlighter-rouge&quot;&gt;ckanr:::ckan_POST&lt;/code&gt; to see the function.&lt;/p&gt;

&lt;p&gt;There are some common parameters across most functions that are worth describing a bit:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;offset&lt;/code&gt; (numeric) Where to start getting items from (optional, default: 0)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;limit&lt;/code&gt; (numeric) The maximum number of items to return (optional, default: 31)&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;url&lt;/code&gt; Base url to use. Default: &lt;a href=&quot;http://data.techno-science.ca&quot;&gt;http://data.techno-science.ca&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;as&lt;/code&gt; (character) One of &lt;code class=&quot;highlighter-rouge&quot;&gt;list&lt;/code&gt; (default), &lt;code class=&quot;highlighter-rouge&quot;&gt;table&lt;/code&gt;, or &lt;code class=&quot;highlighter-rouge&quot;&gt;json&lt;/code&gt;. Parsing with table option uses &lt;code class=&quot;highlighter-rouge&quot;&gt;jsonlite::fromJSON(..., simplifyDataFrame = TRUE)&lt;/code&gt;, which attempts to parse data to &lt;code class=&quot;highlighter-rouge&quot;&gt;data.frame&lt;/code&gt;’s when possible, so the result can vary.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;...&lt;/code&gt; Curl args passed on to &lt;code class=&quot;highlighter-rouge&quot;&gt;httr::POST&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;changes&quot;&gt;Changes&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;changes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;table&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                user_id                  timestamp
#&amp;gt; 1 b50449ea-1dcc-4d52-b620-fc95bf56034b 2014-11-06T18:58:08.001743
#&amp;gt; 2 b50449ea-1dcc-4d52-b620-fc95bf56034b 2014-11-06T18:55:55.059527
#&amp;gt;                              object_id
#&amp;gt; 1 cc6a523c-cecf-4a95-836b-295a11ce2bce
#&amp;gt; 2 cc6a523c-cecf-4a95-836b-295a11ce2bce
#&amp;gt;                            revision_id data.package.maintainer
#&amp;gt; 1 5d11079e-fc05-4121-9fd5-fe086f5e5f33                        
#&amp;gt; 2 4a591538-0584-487b-8ed1-3260d1d09d77                        
#&amp;gt;   data.package.name data.package.metadata_modified data.package.author
#&amp;gt; 1              test     2014-11-06T18:55:54.772675                    
#&amp;gt; 2              test     2014-11-06T18:55:54.772675                    
#&amp;gt;   data.package.url data.package.notes               data.package.owner_org
#&amp;gt; 1                                     fafa260d-e2bf-46cd-9c35-34c1dfa46c57
#&amp;gt; 2                                     fafa260d-e2bf-46cd-9c35-34c1dfa46c57
#&amp;gt;   data.package.private data.package.maintainer_email
#&amp;gt; 1                FALSE                              
#&amp;gt; 2                FALSE                              
#&amp;gt;   data.package.author_email data.package.state data.package.version
#&amp;gt; 1                                      deleted                     
#&amp;gt; 2                                       active                     
#&amp;gt;           data.package.creator_user_id
#&amp;gt; 1 b50449ea-1dcc-4d52-b620-fc95bf56034b
#&amp;gt; 2 b50449ea-1dcc-4d52-b620-fc95bf56034b
#&amp;gt;                        data.package.id data.package.title
#&amp;gt; 1 cc6a523c-cecf-4a95-836b-295a11ce2bce               test
#&amp;gt; 2 cc6a523c-cecf-4a95-836b-295a11ce2bce               test
#&amp;gt;               data.package.revision_id data.package.type
#&amp;gt; 1 5d11079e-fc05-4121-9fd5-fe086f5e5f33           dataset
#&amp;gt; 2 4a591538-0584-487b-8ed1-3260d1d09d77           dataset
#&amp;gt;   data.package.license_id                                   id
#&amp;gt; 1            notspecified 59c308c8-68b2-4b92-bc57-129378d31882
#&amp;gt; 2            notspecified a8577e2c-f742-49c2-bef3-ca3299e58704
#&amp;gt;     activity_type
#&amp;gt; 1 deleted package
#&amp;gt; 2 changed package
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;list-datasets&quot;&gt;List datasets&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;datasets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;table&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  [1] &quot;artifact-data-agriculture&quot;                                  
#&amp;gt;  [2] &quot;artifact-data-aviation&quot;                                     
#&amp;gt;  [3] &quot;artifact-data-bookbinding&quot;                                  
#&amp;gt;  [4] &quot;artifact-data-chemistry&quot;                                    
#&amp;gt;  [5] &quot;artifact-data-communications&quot;                               
#&amp;gt;  [6] &quot;artifact-data-computing-technology&quot;                         
#&amp;gt;  [7] &quot;artifact-data-domestic-technology&quot;                          
#&amp;gt;  [8] &quot;artifact-data-energy-electric&quot;                              
#&amp;gt;  [9] &quot;artifact-data-exploration-and-survey&quot;                       
#&amp;gt; [10] &quot;artifact-data-fisheries&quot;                                    
#&amp;gt; [11] &quot;artifact-data-forestry&quot;                                     
#&amp;gt; [12] &quot;artifact-data-horology&quot;                                     
#&amp;gt; [13] &quot;artifact-data-industrial-technology&quot;                        
#&amp;gt; [14] &quot;artifact-data-lighting-technology&quot;                          
#&amp;gt; [15] &quot;artifact-data-location-canada-agriculture-and-food-museum&quot;  
#&amp;gt; [16] &quot;artifact-data-location-canada-aviation-and-space-museum&quot;    
#&amp;gt; [17] &quot;artifact-data-location-canada-science-and-technology-museum&quot;
#&amp;gt; [18] &quot;artifact-data-marine-transportation&quot;                        
#&amp;gt; [19] &quot;artifact-data-mathematics&quot;                                  
#&amp;gt; [20] &quot;artifact-data-medical-technology&quot;                           
#&amp;gt; [21] &quot;artifact-data-meteorology&quot;                                  
#&amp;gt; [22] &quot;artifact-data-metrology&quot;                                    
#&amp;gt; [23] &quot;artifact-data-mining-and-metallurgy&quot;                        
#&amp;gt; [24] &quot;artifact-data-motorized-ground-transportation&quot;              
#&amp;gt; [25] &quot;artifact-data-non-motorized-ground-transportation&quot;          
#&amp;gt; [26] &quot;artifact-data-on-loan&quot;                                      
#&amp;gt; [27] &quot;artifact-data-photography&quot;                                  
#&amp;gt; [28] &quot;artifact-data-physics&quot;                                      
#&amp;gt; [29] &quot;artifact-data-printing&quot;                                     
#&amp;gt; [30] &quot;artifact-data-railway-transportation&quot;                       
#&amp;gt; [31] &quot;artifact-dataset-fire-fighting&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;list-tags&quot;&gt;List tags&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;tag_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;aviation&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;table&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   vocabulary_id                     display_name
#&amp;gt; 1            NA                         Aviation
#&amp;gt; 2            NA Canada Aviation and Space Museum
#&amp;gt;                                     id                             name
#&amp;gt; 1 cc1db2db-b08b-4888-897f-a17eade2461b                         Aviation
#&amp;gt; 2 8d05a650-bc7b-4b89-bcc8-c10177e60119 Canada Aviation and Space Museum
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;show-tags&quot;&gt;Show tags&lt;/h2&gt;

&lt;p&gt;Subset for readme brevity&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;tag_show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Aviation&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]][&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;  
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $owner_org
#&amp;gt; [1] &quot;fafa260d-e2bf-46cd-9c35-34c1dfa46c57&quot;
#&amp;gt; 
#&amp;gt; $maintainer
#&amp;gt; [1] &quot;&quot;
#&amp;gt; 
#&amp;gt; $relationships_as_object
#&amp;gt; list()
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;list-groups&quot;&gt;List groups&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;group_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;table&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                         display_name description
#&amp;gt; 1                     Communications            
#&amp;gt; 2 Domestic and Industrial Technology            
#&amp;gt; 3                         Everything            
#&amp;gt; 4                           Location            
#&amp;gt; 5                          Resources            
#&amp;gt; 6         Scientific Instrumentation            
#&amp;gt; 7                     Transportation            
#&amp;gt;                                title
#&amp;gt; 1                     Communications
#&amp;gt; 2 Domestic and Industrial Technology
#&amp;gt; 3                         Everything
#&amp;gt; 4                           Location
#&amp;gt; 5                          Resources
#&amp;gt; 6         Scientific Instrumentation
#&amp;gt; 7                     Transportation
#&amp;gt;                                                                   image_display_url
#&amp;gt; 1       http://data.techno-science.ca/uploads/group/20141024-162305.6896412comm.jpg
#&amp;gt; 2    http://data.techno-science.ca/uploads/group/20141024-162324.3636615domtech.jpg
#&amp;gt; 3 http://data.techno-science.ca/uploads/group/20141024-162448.0656596everything.jpg
#&amp;gt; 4   http://data.techno-science.ca/uploads/group/20141024-162528.8786547location.jpg
#&amp;gt; 5     http://data.techno-science.ca/uploads/group/20141024-162608.3732604resour.jpg
#&amp;gt; 6    http://data.techno-science.ca/uploads/group/20141024-162549.1925831sciinst.jpg
#&amp;gt; 7  http://data.techno-science.ca/uploads/group/20141024-162624.1872823transport.jpg
#&amp;gt;   approval_status is_organization  state
#&amp;gt; 1        approved           FALSE active
#&amp;gt; 2        approved           FALSE active
#&amp;gt; 3        approved           FALSE active
#&amp;gt; 4        approved           FALSE active
#&amp;gt; 5        approved           FALSE active
#&amp;gt; 6        approved           FALSE active
#&amp;gt; 7        approved           FALSE active
#&amp;gt;                               image_url
#&amp;gt; 1       20141024-162305.6896412comm.jpg
#&amp;gt; 2    20141024-162324.3636615domtech.jpg
#&amp;gt; 3 20141024-162448.0656596everything.jpg
#&amp;gt; 4   20141024-162528.8786547location.jpg
#&amp;gt; 5     20141024-162608.3732604resour.jpg
#&amp;gt; 6    20141024-162549.1925831sciinst.jpg
#&amp;gt; 7  20141024-162624.1872823transport.jpg
#&amp;gt;                            revision_id packages  type
#&amp;gt; 1 cc302424-2e68-4fcc-9a3a-6de60748c2e4        5 group
#&amp;gt; 2 b7d95b87-5999-45f9-8775-c64094842551        2 group
#&amp;gt; 3 c2f0c59a-a543-4d67-a61f-4f387068ba53        1 group
#&amp;gt; 4 6816d571-d2bd-4131-b99d-80e7e6797492        4 group
#&amp;gt; 5 e37ee30d-577b-4349-8f0e-eaa4543497e8        6 group
#&amp;gt; 6 74eba42e-08b3-4400-b40f-3d6159ae6e9d       10 group
#&amp;gt; 7 a6cc4aab-eae9-42ba-9ab4-cbf45d5c6a0e        7 group
#&amp;gt;                                     id                               name
#&amp;gt; 1 5268ce18-e3b8-4802-b29e-30740b46e52d                     communications
#&amp;gt; 2 5a9a8095-9e0c-485e-84f6-77f577607991 domestic-and-industrial-technology
#&amp;gt; 3 d7dd233e-a1cc-43da-8152-f7ed15d26756                         everything
#&amp;gt; 4 770fc9c0-d4f3-48b0-a4ee-e00c6882df1d                           location
#&amp;gt; 5 f6c205de-cc95-4308-ac9f-5a63f1a5c7ee                          resources
#&amp;gt; 6 b98ff457-2031-48b6-b681-9adb3afc501b         scientific-instrumentation
#&amp;gt; 7 a73bf7be-310d-472e-83e1-43a3d87602ba                     transportation
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;show-groups&quot;&gt;Show groups&lt;/h2&gt;

&lt;p&gt;Subset for readme brevity&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;group_show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;communications&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;table&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;users&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   openid about capacity     name                    created
#&amp;gt; 1     NA  &amp;lt;NA&amp;gt;    admin     marc 2014-10-24T14:44:29.885262
#&amp;gt; 2     NA          admin sepandar 2014-10-23T19:40:42.056418
#&amp;gt;                         email_hash sysadmin
#&amp;gt; 1 a32002c960476614370a16e9fb81f436    FALSE
#&amp;gt; 2 10b930a228afd1da2647d62e70b71bf8     TRUE
#&amp;gt;   activity_streams_email_notifications  state number_of_edits
#&amp;gt; 1                                FALSE active             376
#&amp;gt; 2                                FALSE active              44
#&amp;gt;   number_administered_packages display_name fullname
#&amp;gt; 1                           39         marc     &amp;lt;NA&amp;gt;
#&amp;gt; 2                            1     sepandar         
#&amp;gt;                                     id
#&amp;gt; 1 27778230-2e90-4818-9f00-bbf778c8fa09
#&amp;gt; 2 b50449ea-1dcc-4d52-b620-fc95bf56034b
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;show-a-package&quot;&gt;Show a package&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;package_show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;34d60b13-1fd5-430e-b0ec-c8bc7f4841cf&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;table&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;resources&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                      resource_group_id cache_last_updated
#&amp;gt; 1 ea8533d9-cdc6-4e0e-97b9-894e06d50b92                 NA
#&amp;gt; 2 ea8533d9-cdc6-4e0e-97b9-894e06d50b92                 NA
#&amp;gt; 3 ea8533d9-cdc6-4e0e-97b9-894e06d50b92                 NA
#&amp;gt; 4 ea8533d9-cdc6-4e0e-97b9-894e06d50b92                 NA
#&amp;gt;           revision_timestamp webstore_last_updated
#&amp;gt; 1 2014-10-28T18:13:22.213530                    NA
#&amp;gt; 2 2014-11-04T02:59:50.567068                    NA
#&amp;gt; 3 2014-11-05T21:23:58.533397                    NA
#&amp;gt; 4 2014-11-05T21:25:16.848423                    NA
#&amp;gt;                                     id size  state hash
#&amp;gt; 1 be2b0af8-24a8-4a55-8b30-89f5459b713a   NA active     
#&amp;gt; 2 7d65910e-4bdc-4f06-a213-e24e36762767   NA active     
#&amp;gt; 3 97622ad7-1507-4f6a-8acb-14e826447389   NA active     
#&amp;gt; 4 7a72498a-c49c-4e84-8b10-58991de10df6   NA active     
#&amp;gt;                                    description format
#&amp;gt; 1                                  XML Dataset    XML
#&amp;gt; 2 Data dictionary for CSTMC artifact datasets.    XLS
#&amp;gt; 3       Tips for using the artifacts datasets.   .php
#&amp;gt; 4       Tips for using the artifacts datasets.   .php
#&amp;gt;   tracking_summary.total tracking_summary.recent mimetype_inner url_type
#&amp;gt; 1                      0                       0             NA       NA
#&amp;gt; 2                      0                       0             NA       NA
#&amp;gt; 3                      0                       0             NA       NA
#&amp;gt; 4                      0                       0             NA       NA
#&amp;gt;   mimetype cache_url                               name
#&amp;gt; 1       NA        NA Artifact Data - Vacuum Tubes (XML)
#&amp;gt; 2       NA        NA                    Data Dictionary
#&amp;gt; 3       NA        NA                     Tips (English)
#&amp;gt; 4       NA        NA                      Tips (French)
#&amp;gt;                      created
#&amp;gt; 1 2014-10-28T18:13:22.240393
#&amp;gt; 2 2014-11-04T02:59:50.643658
#&amp;gt; 3 2014-11-04T18:14:23.952937
#&amp;gt; 4 2014-11-05T21:25:16.887796
#&amp;gt;                                                                                                                                                    url
#&amp;gt; 1                         http://source.techno-science.ca/datasets-donn%C3%A9es/artifacts-artefacts/groups-groupes/vacuum-tubes-tubes-electronique.xml
#&amp;gt; 2 http://source.techno-science.ca/datasets-donn%C3%A9es/artifacts-artefacts/cstmc-artifact-data-dictionary-dictionnaire-de-donnees-artefacts-smstc.xls
#&amp;gt; 3                                                                          http://techno-science.ca/en/open-data/tips-using-artifact-open-data-set.php
#&amp;gt; 4                                                                 http://techno-science.ca/fr/donnees-ouvertes/conseils-donnees-ouvertes-artefacts.php
#&amp;gt;   webstore_url last_modified position                          revision_id
#&amp;gt; 1           NA            NA        0 9a27d884-f181-4842-ab47-cda35a8bf99a
#&amp;gt; 2           NA            NA        1 5d27b3e6-7870-4c12-a122-9e9f5adee4a0
#&amp;gt; 3           NA            NA        2 40993f16-402b-439c-9288-2f2b177e4b8f
#&amp;gt; 4           NA            NA        3 57f1488e-a140-4eb6-9329-fc13202a73af
#&amp;gt;   resource_type
#&amp;gt; 1            NA
#&amp;gt; 2            NA
#&amp;gt; 3            NA
#&amp;gt; 4            NA
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;search-for-packages&quot;&gt;Search for packages&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;package_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;*:*&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;table&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;results&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;resources&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                      license_title maintainer relationships_as_object
#&amp;gt; 1 Open Government Licence - Canada                               NULL
#&amp;gt; 2 Open Government Licence - Canada                               NULL
#&amp;gt;   private maintainer_email         revision_timestamp
#&amp;gt; 1   FALSE                  2014-11-05T23:17:46.220002
#&amp;gt; 2   FALSE                  2014-11-05T23:17:04.923594
#&amp;gt;                                     id           metadata_created
#&amp;gt; 1 35d5484d-38ce-495e-8722-7857c4fd17bf 2014-10-28T20:13:11.572558
#&amp;gt; 2 da65507d-b018-4d3b-bde3-5419cf29d144 2014-10-28T14:59:21.386177
#&amp;gt;            metadata_modified author author_email  state version
#&amp;gt; 1 2014-11-05T23:17:46.220657                     active        
#&amp;gt; 2 2014-11-05T23:17:04.924229                     active        
#&amp;gt;                        creator_user_id    type num_resources
#&amp;gt; 1 27778230-2e90-4818-9f00-bbf778c8fa09 dataset             4
#&amp;gt; 2 27778230-2e90-4818-9f00-bbf778c8fa09 dataset             4
#&amp;gt;                                                                                                                       tags
#&amp;gt; 1                         NA, Location, Location, 2014-10-28T20:13:11.572558, active, da88c5a2-3766-41ea-a75b-9c87047cc528
#&amp;gt; 2 NA, Computing Technology, Computing Technology, 2014-10-28T14:59:21.386177, active, 5371dc28-9ce8-4f21-9afb-1f155f132bfe
#&amp;gt;   tracking_summary.total tracking_summary.recent
#&amp;gt; 1                     35                      10
#&amp;gt; 2                     24                       8
#&amp;gt;                                                                                                                                                                                                       groups
#&amp;gt; 1                                                      Location, , http://data.techno-science.ca/uploads/group/20141024-162528.8786547location.jpg, Location, 770fc9c0-d4f3-48b0-a4ee-e00c6882df1d, location
#&amp;gt; 2 Scientific Instrumentation, , http://data.techno-science.ca/uploads/group/20141024-162549.1925831sciinst.jpg, Scientific Instrumentation, b98ff457-2031-48b6-b681-9adb3afc501b, scientific-instrumentation
#&amp;gt;   license_id relationships_as_subject num_tags organization.description
#&amp;gt; 1 ca-ogl-lgo                     NULL        1                         
#&amp;gt; 2 ca-ogl-lgo                     NULL        1                         
#&amp;gt;         organization.created organization.title organization.name
#&amp;gt; 1 2014-10-24T14:49:36.878579              CSTMC             cstmc
#&amp;gt; 2 2014-10-24T14:49:36.878579              CSTMC             cstmc
#&amp;gt;   organization.revision_timestamp organization.is_organization
#&amp;gt; 1      2014-10-24T14:49:36.813670                         TRUE
#&amp;gt; 2      2014-10-24T14:49:36.813670                         TRUE
#&amp;gt;   organization.state organization.image_url
#&amp;gt; 1             active                       
#&amp;gt; 2             active                       
#&amp;gt;               organization.revision_id organization.type
#&amp;gt; 1 7a325a56-46f1-419c-b7b2-ec7501edb35a      organization
#&amp;gt; 2 7a325a56-46f1-419c-b7b2-ec7501edb35a      organization
#&amp;gt;                        organization.id organization.approval_status
#&amp;gt; 1 fafa260d-e2bf-46cd-9c35-34c1dfa46c57                     approved
#&amp;gt; 2 fafa260d-e2bf-46cd-9c35-34c1dfa46c57                     approved
#&amp;gt;                                                          name isopen url
#&amp;gt; 1 artifact-data-location-canada-science-and-technology-museum  FALSE    
#&amp;gt; 2                          artifact-data-computing-technology  FALSE    
#&amp;gt;                                                                                                                                                                        notes
#&amp;gt; 1 This dataset includes artifacts in the collection of the Canada Science and Technology Museums Corporation that are currently in the Canada Science and Technology Museum.
#&amp;gt; 2                                This dataset includes artifacts in the collection of the Canada Science and Technology Museums Corporation related to computing technology.
#&amp;gt;                              owner_org extras
#&amp;gt; 1 fafa260d-e2bf-46cd-9c35-34c1dfa46c57   NULL
#&amp;gt; 2 fafa260d-e2bf-46cd-9c35-34c1dfa46c57   NULL
#&amp;gt;                                            license_url
#&amp;gt; 1 http://data.gc.ca/eng/open-government-licence-canada
#&amp;gt; 2 http://data.gc.ca/eng/open-government-licence-canada
#&amp;gt;                                                             title
#&amp;gt; 1 Artifact Data - Location - Canada Science and Technology Museum
#&amp;gt; 2                            Artifact Data - Computing Technology
#&amp;gt;                            revision_id
#&amp;gt; 1 694a977a-c238-47a4-8671-caddca4edfca
#&amp;gt; 2 858cb240-76a0-406a-800c-e4ae6cc56ab9
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;search-for-resources&quot;&gt;Search for resources&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;resource_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;name:data&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;table&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $count
#&amp;gt; [1] 71
#&amp;gt; 
#&amp;gt; $results
#&amp;gt;                      resource_group_id cache_last_updated
#&amp;gt; 1 01a82e52-01bf-4a9c-9b45-c4f9b92529fa                 NA
#&amp;gt; 2 01a82e52-01bf-4a9c-9b45-c4f9b92529fa                 NA
#&amp;gt;   webstore_last_updated                                   id size  state
#&amp;gt; 1                    NA e179e910-27fb-44f4-a627-99822af49ffa   NA active
#&amp;gt; 2                    NA ba84e8b7-b388-4d2a-873a-7b107eb7f135   NA active
#&amp;gt;   last_modified hash                                  description format
#&amp;gt; 1            NA                                       XML Dataset    XML
#&amp;gt; 2            NA      Data dictionary for CSTMC artifact datasets.    XLS
#&amp;gt;   mimetype_inner url_type mimetype cache_url
#&amp;gt; 1             NA       NA       NA        NA
#&amp;gt; 2             NA       NA       NA        NA
#&amp;gt;                                           name                    created
#&amp;gt; 1 Artifact Data - Exploration and Survey (XML) 2014-10-28T15:50:35.374303
#&amp;gt; 2                              Data Dictionary 2014-11-03T18:01:02.094210
#&amp;gt;                                                                                                                                                    url
#&amp;gt; 1              http://source.techno-science.ca/datasets-donn%C3%A9es/artifacts-artefacts/groups-groupes/exploration-and-survey-exploration-et-leve.xml
#&amp;gt; 2 http://source.techno-science.ca/datasets-donn%C3%A9es/artifacts-artefacts/cstmc-artifact-data-dictionary-dictionnaire-de-donnees-artefacts-smstc.xls
#&amp;gt;   webstore_url position                          revision_id resource_type
#&amp;gt; 1           NA        0 a22e6741-3e89-4db0-a802-ba594b1c1fad            NA
#&amp;gt; 2           NA        1 da1f8585-521d-47ef-8ead-7832474a3421            NA
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;future-work&quot;&gt;Future work&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;There’s already &lt;a href=&quot;https://github.com/ropensci/ckanr/issues/4&quot;&gt;an issue&lt;/a&gt; to add support for &lt;a href=&quot;http://docs.ckan.org/en/latest/maintaining/datastore.html&quot;&gt;DataStore&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;This client needs to be tested against many other CKAN API instances to make sure it’s robust&lt;/li&gt;
  &lt;li&gt;Add a test suite&lt;/li&gt;
  &lt;li&gt;Use cases: would be nice to include in the package documentation use cases&lt;/li&gt;
  &lt;li&gt;Other things? Get in touch on twitter &lt;code class=&quot;highlighter-rouge&quot;&gt;@recology_&lt;/code&gt; or below&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Fun with the GitHub API</title>
   <link href="http://recology.info//2014/11/github-fun/"/>
   <updated>2014-11-26T00:00:00-08:00</updated>
   <id>http://recology.info//2014/11/github-fun</id>
   <content type="html">&lt;p&gt;Recently I’ve had fun playing with the GitHub API, and here are some notes to self about this fun having.&lt;/p&gt;

&lt;h2 id=&quot;setup&quot;&gt;Setup&lt;/h2&gt;

&lt;p&gt;Get/load packages&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;devtools&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;jsonlite&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;httr&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;yaml&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;devtools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;httr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;yaml&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;define-a-vector-of-package-names&quot;&gt;Define a vector of package names&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;pkgs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;alm&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;bmc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;bold&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;clifro&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ecoengine&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;s2&quot;&gt;&quot;elastic&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;fulltext&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;geonames&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;gistr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;s2&quot;&gt;&quot;RNeXML&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;rnoaa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;rnpn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;traits&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;rplos&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;rsnps&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;s2&quot;&gt;&quot;rWBclimate&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;solr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;spocc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;taxize&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;togeojson&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;treeBASE&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pkgs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pkgs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;define-functions&quot;&gt;Define functions&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;github_auth&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;appname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;gh_appname&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;gh_id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
                        &lt;span class=&quot;n&quot;&gt;secret&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;gh_secret&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is.null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;gh_token&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;myapp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;oauth_app&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;appname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;key&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;secret&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;oauth2.0_token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;oauth_endpoints&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;github&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;myapp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gh_token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;gh_token&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;make_url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;https://api.github.com/repos/%s/%s/%s&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;process_result&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;stop_for_status&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;headers&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`content-type`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;application/json; charset=utf-8&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;content type mismatch&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;jsonlite&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fromJSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;flatten&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;parse_file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gsub&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;\n\\s+&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;\n&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
              &lt;span class=&quot;n&quot;&gt;paste&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strsplit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;\n&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;RCurl&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base64Decode&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                           &lt;span class=&quot;n&quot;&gt;character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;USE.NAMES&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;collapse&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;lines&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;readLines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;textConnection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tmp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;vapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gsub&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pattern&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;\\s&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;replacement&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
         &lt;span class=&quot;n&quot;&gt;USE.NAMES&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;request&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;owner&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ropensci&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;DESCRIPTION&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;req&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;make_url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;owner&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;paste0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;contents/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt; 
             &lt;span class=&quot;n&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;github_auth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
  &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;status_code&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;cts&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;process_result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;content&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;parse_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;has_term&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grepl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;has_file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;what&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is.na&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;request&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;what&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;do-stuff&quot;&gt;Do stuff&lt;/h2&gt;

&lt;p&gt;Does a package depend on a particular package? e.g., look for &lt;code class=&quot;highlighter-rouge&quot;&gt;httr&lt;/code&gt; in the &lt;code class=&quot;highlighter-rouge&quot;&gt;DESCRIPTION&lt;/code&gt; file (which is the default file name in &lt;code class=&quot;highlighter-rouge&quot;&gt;request()&lt;/code&gt; above)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;has_term&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;httr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;taxize&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] TRUE
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;has_term&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;maptools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;taxize&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] FALSE
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Do a series of R packages have a file for how to contribute &lt;code class=&quot;highlighter-rouge&quot;&gt;CONTRIBUTING.md&lt;/code&gt;?&lt;/p&gt;

&lt;p&gt;Yes&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;has_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;CONTRIBUTING.md&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;taxize&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] TRUE
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Many packages&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;vapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pkgs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;has_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;CONTRIBUTING.md&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repo&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;logical&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;        alm        bmc       bold     clifro  ecoengine    elastic 
#&amp;gt;      FALSE      FALSE      FALSE      FALSE      FALSE      FALSE 
#&amp;gt;   fulltext   geonames      gistr     RNeXML      rnoaa       rnpn 
#&amp;gt;       TRUE      FALSE      FALSE       TRUE       TRUE      FALSE 
#&amp;gt;      rplos      rsnps rWBclimate       solr      spocc     taxize 
#&amp;gt;      FALSE      FALSE      FALSE      FALSE       TRUE       TRUE 
#&amp;gt;  togeojson     traits   treeBASE 
#&amp;gt;      FALSE      FALSE      FALSE
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;check-rate-limit&quot;&gt;Check rate limit&lt;/h2&gt;

&lt;p&gt;Define function&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;rate_limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;github_auth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;req&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;GET&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;https://api.github.com/rate_limit&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;config&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;process_result&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;req&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Check it&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;rate_limit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $resources
#&amp;gt; $resources$core
#&amp;gt; $resources$core$limit
#&amp;gt; [1] 5000
#&amp;gt; 
#&amp;gt; $resources$core$remaining
#&amp;gt; [1] 4925
#&amp;gt; 
#&amp;gt; $resources$core$reset
#&amp;gt; [1] 1417031016
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $resources$search
#&amp;gt; $resources$search$limit
#&amp;gt; [1] 30
#&amp;gt; 
#&amp;gt; $resources$search$remaining
#&amp;gt; [1] 30
#&amp;gt; 
#&amp;gt; $resources$search$reset
#&amp;gt; [1] 1417028069
#&amp;gt; 
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $rate
#&amp;gt; $rate$limit
#&amp;gt; [1] 5000
#&amp;gt; 
#&amp;gt; $rate$remaining
#&amp;gt; [1] 4925
#&amp;gt; 
#&amp;gt; $rate$reset
#&amp;gt; [1] 1417031016
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Convert time to reset to human readable form&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;as.POSIXct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rate_limit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rate&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;origin&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1970-01-01&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;2014-11-26 11:43:36 PST&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>sofa - reboot</title>
   <link href="http://recology.info//2014/11/sofa/"/>
   <updated>2014-11-18T00:00:00-08:00</updated>
   <id>http://recology.info//2014/11/sofa</id>
   <content type="html">&lt;p&gt;I’ve reworked &lt;code class=&quot;highlighter-rouge&quot;&gt;sofa&lt;/code&gt; recently after someone reported a bug in the package. Since the last post on this package on 2013-06-21, there’s a bunch of changes:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Removed the &lt;code class=&quot;highlighter-rouge&quot;&gt;sofa_&lt;/code&gt; prefix from all functions as it wasn’t really necessary.&lt;/li&gt;
  &lt;li&gt;Replaced &lt;code class=&quot;highlighter-rouge&quot;&gt;rjson&lt;/code&gt;/&lt;code class=&quot;highlighter-rouge&quot;&gt;RJSONIO&lt;/code&gt; with &lt;code class=&quot;highlighter-rouge&quot;&gt;jsonlite&lt;/code&gt; for JSON I/O.&lt;/li&gt;
  &lt;li&gt;New functions:
    &lt;ul&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;revisions()&lt;/code&gt; - to get the revision numbers for a document.&lt;/li&gt;
      &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;uuids()&lt;/code&gt; - get any number of UUIDs - e.g., if you want to set document IDs with UUIDs&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Most functions that deal with documents are prefixed with &lt;code class=&quot;highlighter-rouge&quot;&gt;doc_&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Functions that deal with databases are prefixed with &lt;code class=&quot;highlighter-rouge&quot;&gt;db_&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Simplified all code, reducing duplication&lt;/li&gt;
  &lt;li&gt;All functions take &lt;code class=&quot;highlighter-rouge&quot;&gt;cushion&lt;/code&gt; as the first parameter, for consistency sake.&lt;/li&gt;
  &lt;li&gt;Changed &lt;code class=&quot;highlighter-rouge&quot;&gt;cushion()&lt;/code&gt; function so that you can only register one cushion with each function call, 
and the function takes parameters for each element now, &lt;code class=&quot;highlighter-rouge&quot;&gt;name&lt;/code&gt; (name of the cushion, whatever you want), &lt;code class=&quot;highlighter-rouge&quot;&gt;user&lt;/code&gt; (user name, if applicable), &lt;code class=&quot;highlighter-rouge&quot;&gt;pwd&lt;/code&gt; (password, if applicable), &lt;code class=&quot;highlighter-rouge&quot;&gt;type&lt;/code&gt; (one of localhost, cloudant, or iriscouch), and &lt;code class=&quot;highlighter-rouge&quot;&gt;port&lt;/code&gt; (if applicable).&lt;/li&gt;
  &lt;li&gt;Changed package license from &lt;code class=&quot;highlighter-rouge&quot;&gt;CC0&lt;/code&gt; to &lt;code class=&quot;highlighter-rouge&quot;&gt;MIT&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;There’s still more to do, but I’m pretty happy with the recent changes, and I hope at least some find the package useful. Also, would love people to try it out as all bugs are shallow and all that…&lt;/p&gt;

&lt;p&gt;The following are a few examples of package use.&lt;/p&gt;

&lt;h2 id=&quot;install-couchdb&quot;&gt;Install CouchDB&lt;/h2&gt;

&lt;p&gt;Instructions &lt;a href=&quot;http://wiki.apache.org/couchdb/Installation&quot;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;start-couchdb&quot;&gt;Start CouchDB&lt;/h2&gt;

&lt;p&gt;In your terminal&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;couchdb
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;You can interact with your CouchDB databases as well in your browser. Navigate to &lt;a href=&quot;http://localhost:5984/_utils&quot;&gt;http://localhost:5984/_utils&lt;/a&gt;&lt;/p&gt;

&lt;h2 id=&quot;install-sofa&quot;&gt;Install sofa&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;devtools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sckott/sofa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;sofa&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;authenticate---cushions&quot;&gt;Authenticate - Cushions&lt;/h2&gt;

&lt;p&gt;As an example, here’s how I set up details for connecting to my Cloudant couch:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;cushion&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;cloudant&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&amp;lt;user name&amp;gt;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pwd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&amp;lt;password&amp;gt;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;cloudant&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;By default there is a built-in &lt;code class=&quot;highlighter-rouge&quot;&gt;cushion&lt;/code&gt; for localhost so you don’t have to do that, unless you want to change those details, e.g., the port number. Right now cushions aren’t preserved across R sessions, but working on that.&lt;/p&gt;

&lt;p&gt;For example, I’ll lay down a cushion for Cloudant, then I can call &lt;code class=&quot;highlighter-rouge&quot;&gt;cushions()&lt;/code&gt; to see my cushions:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;cushion&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;cloudant&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;user&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&amp;lt;user name&amp;gt;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pwd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&amp;lt;pwd&amp;gt;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;cloudant&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cushions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;By default, if you don’t provide a cushion name, you are using localhost.&lt;/p&gt;

&lt;h2 id=&quot;ping-the-server&quot;&gt;Ping the server&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;ping&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $couchdb
#&amp;gt; [1] &quot;Welcome&quot;
#&amp;gt; 
#&amp;gt; $uuid
#&amp;gt; [1] &quot;2c10f0c6d9bd17205b692ae93cd4cf1d&quot;
#&amp;gt; 
#&amp;gt; $version
#&amp;gt; [1] &quot;1.6.0&quot;
#&amp;gt; 
#&amp;gt; $vendor
#&amp;gt; $vendor$version
#&amp;gt; [1] &quot;1.6.0-1&quot;
#&amp;gt; 
#&amp;gt; $vendor$name
#&amp;gt; [1] &quot;Homebrew&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Nice, it’s working.&lt;/p&gt;

&lt;h2 id=&quot;create-a-new-database-and-list-available-databases&quot;&gt;Create a new database, and list available databases&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;db_create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;sofadb&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $ok
#&amp;gt; [1] TRUE
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;see if its there now&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;db_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  [1] &quot;_replicator&quot; &quot;_users&quot;      &quot;alm_couchdb&quot; &quot;cachecall&quot;   &quot;hello_earth&quot;
#&amp;gt;  [6] &quot;leothelion&quot;  &quot;mran&quot;        &quot;mydb&quot;        &quot;newdbs&quot;      &quot;sofadb&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;create-documents&quot;&gt;Create documents&lt;/h2&gt;

&lt;p&gt;Create a document WITH a name (uses PUT)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;doc1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;{&quot;name&quot;:&quot;sofa&quot;,&quot;beer&quot;:&quot;IPA&quot;}&#39;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;doc_create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sofadb&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;doc1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;docid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a_beer&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $ok
#&amp;gt; [1] TRUE
#&amp;gt; 
#&amp;gt; $id
#&amp;gt; [1] &quot;a_beer&quot;
#&amp;gt; 
#&amp;gt; $rev
#&amp;gt; [1] &quot;1-a48c98c945bcc05d482bc6f938c89882&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Create a document WITHOUT a name (uses POST)&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;doc2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;{&quot;name&quot;:&quot;sofa&quot;,&quot;icecream&quot;:&quot;rocky road&quot;}&#39;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;doc_create&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sofadb&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;doc2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $ok
#&amp;gt; [1] TRUE
#&amp;gt; 
#&amp;gt; $id
#&amp;gt; [1] &quot;c5c5c332c25cf62cc584647a81006f6d&quot;
#&amp;gt; 
#&amp;gt; $rev
#&amp;gt; [1] &quot;1-fd0da7fcb8d3afbfc5757d065c92362c&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;list-documents&quot;&gt;List documents&lt;/h2&gt;

&lt;p&gt;List them&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;alldocs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sofadb&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                 id                              key
#&amp;gt; 1                           a_beer                           a_beer
#&amp;gt; 2 c5c5c332c25cf62cc584647a81006f6d c5c5c332c25cf62cc584647a81006f6d
#&amp;gt;                                  rev
#&amp;gt; 1 1-a48c98c945bcc05d482bc6f938c89882
#&amp;gt; 2 1-fd0da7fcb8d3afbfc5757d065c92362c
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Optionally include the documents, returned as a list by default as it would be hard to parse an endless number of document formats.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;alldocs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sofadb&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;include_docs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $total_rows
#&amp;gt; [1] 2
#&amp;gt; 
#&amp;gt; $offset
#&amp;gt; [1] 0
#&amp;gt; 
#&amp;gt; $rows
#&amp;gt; $rows[[1]]
#&amp;gt; $rows[[1]]$id
#&amp;gt; [1] &quot;a_beer&quot;
#&amp;gt; 
#&amp;gt; $rows[[1]]$key
#&amp;gt; [1] &quot;a_beer&quot;
#&amp;gt; 
#&amp;gt; $rows[[1]]$value
#&amp;gt; $rows[[1]]$value$rev
#&amp;gt; [1] &quot;1-a48c98c945bcc05d482bc6f938c89882&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $rows[[1]]$doc
#&amp;gt; $rows[[1]]$doc$`_id`
#&amp;gt; [1] &quot;a_beer&quot;
#&amp;gt; 
#&amp;gt; $rows[[1]]$doc$`_rev`
#&amp;gt; [1] &quot;1-a48c98c945bcc05d482bc6f938c89882&quot;
#&amp;gt; 
#&amp;gt; $rows[[1]]$doc$name
#&amp;gt; [1] &quot;sofa&quot;
#&amp;gt; 
#&amp;gt; $rows[[1]]$doc$beer
#&amp;gt; [1] &quot;IPA&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $rows[[2]]
#&amp;gt; $rows[[2]]$id
#&amp;gt; [1] &quot;c5c5c332c25cf62cc584647a81006f6d&quot;
#&amp;gt; 
#&amp;gt; $rows[[2]]$key
#&amp;gt; [1] &quot;c5c5c332c25cf62cc584647a81006f6d&quot;
#&amp;gt; 
#&amp;gt; $rows[[2]]$value
#&amp;gt; $rows[[2]]$value$rev
#&amp;gt; [1] &quot;1-fd0da7fcb8d3afbfc5757d065c92362c&quot;
#&amp;gt; 
#&amp;gt; 
#&amp;gt; $rows[[2]]$doc
#&amp;gt; $rows[[2]]$doc$`_id`
#&amp;gt; [1] &quot;c5c5c332c25cf62cc584647a81006f6d&quot;
#&amp;gt; 
#&amp;gt; $rows[[2]]$doc$`_rev`
#&amp;gt; [1] &quot;1-fd0da7fcb8d3afbfc5757d065c92362c&quot;
#&amp;gt; 
#&amp;gt; $rows[[2]]$doc$name
#&amp;gt; [1] &quot;sofa&quot;
#&amp;gt; 
#&amp;gt; $rows[[2]]$doc$icecream
#&amp;gt; [1] &quot;rocky road&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;update-a-document&quot;&gt;Update a document&lt;/h2&gt;

&lt;p&gt;Change &lt;em&gt;IPA&lt;/em&gt; (india pale ale) to &lt;em&gt;IPL&lt;/em&gt; (india pale lager). We need to get revisions first as we need to include revision number when we update a document.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;revs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;revisions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;sofadb&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;docid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;a_beer&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;1-a48c98c945bcc05d482bc6f938c89882&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;newdoc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;{&quot;name&quot;:&quot;sofa&quot;,&quot;beer&quot;:&quot;IPL&quot;}&#39;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;doc_update&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;sofadb&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;newdoc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;docid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;a_beer&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rev&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;revs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $ok
#&amp;gt; [1] TRUE
#&amp;gt; 
#&amp;gt; $id
#&amp;gt; [1] &quot;a_beer&quot;
#&amp;gt; 
#&amp;gt; $rev
#&amp;gt; [1] &quot;2-f2390eb18b8f9a870c915c6712a7f65e&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Should be two revisions now&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;revisions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;sofadb&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;docid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;a_beer&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;2-f2390eb18b8f9a870c915c6712a7f65e&quot;
#&amp;gt; [2] &quot;1-a48c98c945bcc05d482bc6f938c89882&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;get-headers-for-a-document&quot;&gt;Get headers for a document&lt;/h2&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;doc_head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;sofadb&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;docid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;a_beer&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]
#&amp;gt; [[1]]$status
#&amp;gt; [1] 200
#&amp;gt; 
#&amp;gt; [[1]]$version
#&amp;gt; [1] &quot;HTTP/1.1&quot;
#&amp;gt; 
#&amp;gt; [[1]]$headers
#&amp;gt; $server
#&amp;gt; [1] &quot;CouchDB/1.6.0 (Erlang OTP/17)&quot;
#&amp;gt; 
#&amp;gt; $etag
#&amp;gt; [1] &quot;\&quot;2-f2390eb18b8f9a870c915c6712a7f65e\&quot;&quot;
#&amp;gt; 
#&amp;gt; $date
#&amp;gt; [1] &quot;Tue, 18 Nov 2014 21:19:16 GMT&quot;
#&amp;gt; 
#&amp;gt; $`content-type`
#&amp;gt; [1] &quot;application/json&quot;
#&amp;gt; 
#&amp;gt; $`content-length`
#&amp;gt; [1] &quot;88&quot;
#&amp;gt; 
#&amp;gt; $`cache-control`
#&amp;gt; [1] &quot;must-revalidate&quot;
#&amp;gt; 
#&amp;gt; attr(,&quot;class&quot;)
#&amp;gt; [1] &quot;insensitive&quot; &quot;list&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;json-vs-list&quot;&gt;JSON vs. list&lt;/h2&gt;

&lt;p&gt;Across all/most functions you can request json or list as output with the &lt;code class=&quot;highlighter-rouge&quot;&gt;as&lt;/code&gt; parameter.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;db_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;list&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  [1] &quot;_replicator&quot; &quot;_users&quot;      &quot;alm_couchdb&quot; &quot;cachecall&quot;   &quot;hello_earth&quot;
#&amp;gt;  [6] &quot;leothelion&quot;  &quot;mran&quot;        &quot;mydb&quot;        &quot;newdbs&quot;      &quot;sofadb&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;db_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;json&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &quot;[\&quot;_replicator\&quot;,\&quot;_users\&quot;,\&quot;alm_couchdb\&quot;,\&quot;cachecall\&quot;,\&quot;hello_earth\&quot;,\&quot;leothelion\&quot;,\&quot;mran\&quot;,\&quot;mydb\&quot;,\&quot;newdbs\&quot;,\&quot;sofadb\&quot;]\n&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;curl-options&quot;&gt;Curl options&lt;/h2&gt;

&lt;p&gt;Across all functions you can pass in curl options. We’re using &lt;code class=&quot;highlighter-rouge&quot;&gt;httr&lt;/code&gt; internally, so you can use &lt;code class=&quot;highlighter-rouge&quot;&gt;httr&lt;/code&gt; helper functions to make some curl options easier. Examples:&lt;/p&gt;

&lt;p&gt;Verbose output&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;httr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;db_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;verbose&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  [1] &quot;_replicator&quot; &quot;_users&quot;      &quot;alm_couchdb&quot; &quot;cachecall&quot;   &quot;hello_earth&quot;
#&amp;gt;  [6] &quot;leothelion&quot;  &quot;mran&quot;        &quot;mydb&quot;        &quot;newdbs&quot;      &quot;sofadb&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Progress&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;db_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;progress&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 
&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;                                                                       
  &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;                                                                 &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;   &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;                                                                       
  &lt;span class=&quot;o&quot;&gt;|=================================================================|&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  [1] &quot;_replicator&quot; &quot;_users&quot;      &quot;alm_couchdb&quot; &quot;cachecall&quot;   &quot;hello_earth&quot;
#&amp;gt;  [6] &quot;leothelion&quot;  &quot;mran&quot;        &quot;mydb&quot;        &quot;newdbs&quot;      &quot;sofadb&quot;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Set a timeout&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;db_list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;config&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timeout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;seconds&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.001&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 
#&amp;gt; Error in function (type, msg, asError = TRUE)  : 
#&amp;gt;    Operation timed out after 3 milliseconds with 0 out of -1 bytes received
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h2 id=&quot;full-text-search&quot;&gt;Full text search&lt;/h2&gt;

&lt;p&gt;I’m working on an R client for Elaticsearch called &lt;code class=&quot;highlighter-rouge&quot;&gt;elastic&lt;/code&gt; - find it at &lt;a href=&quot;https://github.com/ropensci/elastic&quot;&gt;https://github.com/ropensci/elastic&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thinking about where to include functions to allow &lt;code class=&quot;highlighter-rouge&quot;&gt;elastic&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;sofa&lt;/code&gt; to work together…if you have any thoughts hit up the issues. I’ll probably include helper functions for CouchDB search in the &lt;code class=&quot;highlighter-rouge&quot;&gt;elastic&lt;/code&gt; package, interfacing with the &lt;a href=&quot;https://github.com/elasticsearch/elasticsearch-river-couchdb&quot;&gt;CouchDB plugin for Elasticsearch&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Conditionality meta-analysis data</title>
   <link href="http://recology.info//2014/10/conditionality-meta-analysis/"/>
   <updated>2014-10-06T00:00:00-07:00</updated>
   <id>http://recology.info//2014/10/conditionality-meta-analysis</id>
   <content type="html">&lt;h2 id=&quot;the-paper&quot;&gt;The paper&lt;/h2&gt;

&lt;p&gt;One paper from my graduate work asked most generally ~ “How much does the variation in magnitudes and signs of species interaction outcomes vary?”. More specifically, we wanted to know if variation differed among species interaction classes (mutualism, competition, predation), and among various “gradients” (space, time, etc.). To answer this question, we used a meta-analysis approach (rather than e.g., a field experiment). We &lt;a href=&quot;http://scottchamberlain.info/publications/&quot;&gt;published the paper&lt;/a&gt; recently.&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;p.s. I really really wish we would have put it in an open access journal…&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2 id=&quot;the-data&quot;&gt;The data&lt;/h2&gt;

&lt;p&gt;Anyway, I’m here to talk about the &lt;strong&gt;data&lt;/strong&gt;. We didn’t get the data up with the paper, but it is &lt;a href=&quot;http://figshare.com/articles/Conditionality_data/1097657&quot;&gt;up on Figshare&lt;/a&gt; now. The files there are the following:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;coniditionality.R&lt;/code&gt; - script used to process the data from &lt;code class=&quot;highlighter-rouge&quot;&gt;variables_prelim.csv&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;variables_prelim.csv&lt;/code&gt; - description of variables in the preliminary data set, matches &lt;code class=&quot;highlighter-rouge&quot;&gt;conditionality_data_prelim.csv&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;variables_used.csv&lt;/code&gt; - description of variables in the used data set, matches &lt;code class=&quot;highlighter-rouge&quot;&gt;conditionality_data_used.csv&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;conditionality_data_prelim.csv&lt;/code&gt; - preliminary data, the raw data&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;conditionality_data_used.csv&lt;/code&gt; - the data used for our paper&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;README.md&lt;/code&gt; - the readme&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;paper_selection.csv&lt;/code&gt; - the list of papers we went through, with remarks about paper selection&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Please do play with the data, publish some papers, etc, etc. It took 6 of us about 4 years to collect this data; we skimmed through ~11,000 papers on the first pass (aka. skimming through abstracts in Google Scholar and Web of Science), then decided on nearly 500 papers to get data from, and narrowed down to 247 papers for the publication mentioned above. Now, there was no funding for this, so it was sort of done in between other projects, but still, it was simply &lt;strong&gt;A LOT&lt;/strong&gt; of tables to digitize, and graphs to extract data points from. &lt;strong&gt;Anyway&lt;/strong&gt;, hopefully you will find this data useful :p&lt;/p&gt;

&lt;h2 id=&quot;eml&quot;&gt;EML&lt;/h2&gt;

&lt;p&gt;I think this dataset would be a great introduction to the potential power of EML (&lt;a href=&quot;https://knb.ecoinformatics.org/#external//emlparser/docs/index.html&quot;&gt;Ecological Metadata Langauge&lt;/a&gt;). At &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt;, one of our team &lt;a href=&quot;http://www.carlboettiger.info/&quot;&gt;Carl Boettiger&lt;/a&gt;, along with Claas-Thido Pfaff, Duncan Temple Lang, Karthik Ram, and Matt Jones, have created an R client for EML, to parse EML files and to create and publish them.&lt;/p&gt;

&lt;h2 id=&quot;what-is-emlwhy-eml&quot;&gt;What is EML?/Why EML?&lt;/h2&gt;

&lt;p&gt;A demonstration is in order…&lt;/p&gt;

&lt;h2 id=&quot;example-using-eml-with-this-dataset&quot;&gt;Example using EML with this dataset&lt;/h2&gt;

&lt;h3 id=&quot;install-eml&quot;&gt;Install EML&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;devtools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;RHTMLForms&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;http://www.omegahat.org/R/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;source&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropensci/EML&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;build&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dependencies&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;DEPENDS&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;IMPORTS&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Load &lt;code class=&quot;highlighter-rouge&quot;&gt;EML&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;EML&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;prepare-metadata&quot;&gt;Prepare metadata&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;c1&quot;&gt;# dataset
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prelim_dat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;read.csv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;conditionality_data_prelim.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# variable descriptions for each column
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prelim_vars&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;read.csv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;variables_prelim.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stringsAsFactors&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Get column definitions in a vector&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;col_defs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;prelim_vars&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;description&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Create unit definitions for each column&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;unit_defs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;number&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;bounds&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Inf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;number&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;bounds&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Inf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;
  &lt;span class=&quot;s2&quot;&gt;&quot;independent replicates&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;number&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;bounds&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Inf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;CUTOFF&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;write-an-eml-file&quot;&gt;Write an EML file&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;eml_write&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;prelim_dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;unit.defs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unit_defs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;col.defs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;col_defs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;creator&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Scott Chamberlain&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;contact&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;myrmecocystus@gmail.com&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;conditionality_data_prelim_eml.xml&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## [1] &quot;conditionality_data_prelim_eml.xml&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;validate-the-eml-file&quot;&gt;Validate the EML file&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;eml_validate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;conditionality_data_prelim_eml.xml&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## EML specific tests XML specific tests 
##               TRUE               TRUE
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;read-data-and-metadata&quot;&gt;Read data and metadata&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;gg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;eml_read&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;conditionality_data_prelim_eml.xml&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;eml_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;contact&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## [1] &quot;myrmecocystus@gmail.com&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;eml_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;citation_info&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Chamberlain S (2014-10-06). _metadata_.
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;eml_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;data.frame&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##   order i indrep avg author_last  finit_1 finit_2 finit_abv co_author
## 1     1 1      a   1      Devall margaret       s        ms     Thein
## 2     2 1      a   2      Devall margaret       s        ms     Thein
## 3     3 1      a   3      Devall margaret       s        ms     Thein
## 4     4 1      a   4      Devall margaret       s        ms     Thein
## 5     5 1      a   5      Devall margaret       s        ms     Thein
## 6     6 1      a   6      Devall margaret       s        ms     Thein
##   sinit_1
## 1 leonard
## 2 leonard
## 3 leonard
## 4 leonard
## 5 leonard
## 6 leonard
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;publish&quot;&gt;Publish&lt;/h3&gt;

&lt;p&gt;We can also use the &lt;code class=&quot;highlighter-rouge&quot;&gt;EML&lt;/code&gt; package to publish the data, here to &lt;a href=&quot;http://figshare.com&quot;&gt;Figshare&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;First, install &lt;code class=&quot;highlighter-rouge&quot;&gt;rfigshare&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rfigshare&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;rfigshare&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then publish using &lt;code class=&quot;highlighter-rouge&quot;&gt;eml_publish()&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;figid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;eml_publish&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;conditionality_data_prelim_eml.xml&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;description&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;EML file for Chamberlain, S.A., J.A. Rudgers, and J.L. Bronstein. 2014. How context-dependent are species interactions. Ecology Letters&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;categories&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Ecology&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;tags&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;EML&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;destination&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;figshare&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;visibility&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;public&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;title&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;condionality data, EML&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;fs_make_public&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;figid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2014-10-06-conditionality-meta-analysis/figshare_conditional.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>rsunlight - R client for Sunlight Labs APIs</title>
   <link href="http://recology.info//2014/08/rsunlight/"/>
   <updated>2014-08-11T00:00:00-07:00</updated>
   <id>http://recology.info//2014/08/rsunlight</id>
   <content type="html">&lt;p&gt;My &lt;a href=&quot;http://recology.info/2014/05/rsunlight/&quot;&gt;last blog post on this package&lt;/a&gt; was so long ago the package wrapped both New York Times APIs and Sunlight Labs APIs and the package was called &lt;code class=&quot;highlighter-rouge&quot;&gt;govdat&lt;/code&gt;. I split that package up into &lt;code class=&quot;highlighter-rouge&quot;&gt;rsunlight&lt;/code&gt; for Sunlight Labs APIs and &lt;code class=&quot;highlighter-rouge&quot;&gt;rtimes&lt;/code&gt; for some New York Times APIs. &lt;code class=&quot;highlighter-rouge&quot;&gt;rtimes&lt;/code&gt; is &lt;a href=&quot;https://github.com/ropengov/rtimes&quot;&gt;in development at Github&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;We’ve updated the package to include four sets of functions, one set for each of four Sunlight Labs APIs (with a separate prefix for each API):&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Congress API (&lt;code class=&quot;highlighter-rouge&quot;&gt;cg_&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;Open States API (&lt;code class=&quot;highlighter-rouge&quot;&gt;os_&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;Capitol Words API (&lt;code class=&quot;highlighter-rouge&quot;&gt;cw_&lt;/code&gt;)&lt;/li&gt;
  &lt;li&gt;Influence Explorer API (&lt;code class=&quot;highlighter-rouge&quot;&gt;ie_&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Then there are many methods for each API.&lt;/p&gt;

&lt;h2 id=&quot;rsunlight-intro&quot;&gt;rsunlight intro&lt;/h2&gt;

&lt;h3 id=&quot;installation&quot;&gt;Installation&lt;/h3&gt;

&lt;p&gt;First, installation&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropengov/rsunlight&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Load the library&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rsunlight&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;congress-api&quot;&gt;Congress API&lt;/h3&gt;

&lt;p&gt;Search for Fed level bills that include the term &lt;em&gt;health care&lt;/em&gt; in them.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cg_bills&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;health care&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##          nicknames congress last_version_on sponsor_id
## 1        obamacare      111      2010-08-25    S000749
## 2 obamacare, ppaca      111      2010-08-25    R000053
## 3             NULL      113      2013-10-09    K000220
## 4             NULL      111      2009-01-06    I000056
## 5             NULL      112      2011-01-05    I000056
## 6             NULL      111      2009-05-05    D000197
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Search for bills that have the two terms &lt;em&gt;transparency&lt;/em&gt; and &lt;em&gt;accountability&lt;/em&gt; within 5 words of each other in the bill.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cg_bills&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;transparency accountability&#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##   congress last_version_on sponsor_id
## 1      111      2009-01-15    R000435
## 2      113      2013-07-17    R000595
## 3      112      2011-12-08    R000435
## 4      113      2013-09-19    R000435
## 5      112      2011-11-10    R000595
## 6      113      2013-07-23    C000560
##                                       urls.govtrack
## 1   http://www.govtrack.us/congress/bills/111/hr557
## 2  https://www.govtrack.us/congress/bills/113/s1313
## 3  http://www.govtrack.us/congress/bills/112/hr2829
## 4 https://www.govtrack.us/congress/bills/113/hr3155
## 5   http://www.govtrack.us/congress/bills/112/s1848
## 6  https://www.govtrack.us/congress/bills/113/s1347
##                                 urls.opencongress
## 1  http://www.opencongress.org/bill/111-h557/show
## 2      http://www.opencongress.org/bill/s1313-113
## 3 http://www.opencongress.org/bill/112-h2829/show
## 4     http://www.opencongress.org/bill/hr3155-113
## 5 http://www.opencongress.org/bill/112-s1848/show
## 6      http://www.opencongress.org/bill/s1347-113
##                                          urls.congress
## 1   http://beta.congress.gov/bill/111th/house-bill/557
## 2 http://beta.congress.gov/bill/113th/senate-bill/1313
## 3  http://beta.congress.gov/bill/112th/house-bill/2829
## 4  http://beta.congress.gov/bill/113th/house-bill/3155
## 5 http://beta.congress.gov/bill/112th/senate-bill/1848
## 6 http://beta.congress.gov/bill/113th/senate-bill/1347
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;open-states-api&quot;&gt;Open States API&lt;/h3&gt;

&lt;p&gt;Search State Bills, in this case search for the term &lt;em&gt;agriculture&lt;/em&gt; in Texas.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os_billsearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;terms&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;agriculture&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;tx&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##                                                                                                                                                 title
## 1 Relating to authorizing the issuance of revenue bonds to fund capital projects at public institutions of higher education; making an appropriation.
## 2                          Relating to authorizing the issuance of revenue bonds to fund capital projects at public institutions of higher education.
## 3                          Relating to authorizing the issuance of revenue bonds to fund capital projects at public institutions of higher education.
## 4                          Relating to authorizing the issuance of revenue bonds to fund capital projects at public institutions of higher education.
## 5 Relating to authorizing the issuance of revenue bonds to fund capital projects at public institutions of higher education; making an appropriation.
## 6                                Relating to access to certain facilities by search and rescue dogs and their handlers; providing a criminal penalty.
##            created_at          updated_at          id chamber state
## 1 2013-08-01 03:33:40 2013-08-07 03:10:10 TXB00034894   upper    tx
## 2 2013-08-01 03:33:38 2013-08-02 03:20:14 TXB00034893   upper    tx
## 3 2013-07-21 03:03:53 2013-07-28 03:28:30 TXB00034814   upper    tx
## 4 2013-07-03 02:44:03 2013-07-14 03:00:31 TXB00034514   upper    tx
## 5 2013-06-16 03:48:13 2013-06-23 04:02:49 TXB00033988   upper    tx
## 6 2013-03-03 04:47:26 2013-07-01 21:25:36 TXB00027556   upper    tx
##   session type
## 1     833 bill
## 2     833 bill
## 3     832 bill
## 4     832 bill
## 5     831 bill
## 6      83 bill
##                                                                             subjects
## 1                                   Commerce, Education, Budget, Spending, and Taxes
## 2                                   Commerce, Education, Budget, Spending, and Taxes
## 3                                   Commerce, Education, Budget, Spending, and Taxes
## 4                                   Commerce, Education, Budget, Spending, and Taxes
## 5                                   Commerce, Education, Budget, Spending, and Taxes
## 6 Commerce, Business and Consumers, Animal Rights and Wildlife Issues, Health, Crime
##   bill_id
## 1    SB 3
## 2   SB 10
## 3   SB 40
## 4    SB 6
## 5   SB 44
## 6 SB 1010
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Search for legislators in California (&lt;em&gt;ca&lt;/em&gt;) and in the democratic party&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;os_legislatorsearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;ca&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;party&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;democratic&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;full_name&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;+capitol_office.phone&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##            phone        id       full_name
## 1 (916) 319-2014 CAL000058   Nancy Skinner
## 2 (916) 319-2015 CAL000059   Joan Buchanan
## 3 (916) 319-2022 CAL000084       Paul Fong
## 4 (916) 319-2046 CAL000089      John Pérez
## 5 (916) 319-2080 CAL000098 V. Manuel Pérez
## 6 (916) 319-2001 CAL000101  Wesley Chesbro
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Now you can call each representative, yay!&lt;/p&gt;

&lt;h3 id=&quot;capitol-words-api&quot;&gt;Capitol Words API&lt;/h3&gt;

&lt;p&gt;Search for phrase &lt;em&gt;climate change&lt;/em&gt; used by politicians between September 5th and 16th, 2011:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cw_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;phrase&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;climate change&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;start_date&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;2011-09-05&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;end_date&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;2011-09-16&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;party&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;D&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;speaker_last&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;origin_url&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##   speaker_last
## 1      Tsongas
## 2       Inslee
## 3        Costa
## 4        Boxer
## 5       Durbin
## 6        Boxer
##                                                                                   origin_url
## 1 http://origin.www.gpo.gov/fdsys/pkg/CREC-2011-09-14/html/CREC-2011-09-14-pt1-PgH6149-5.htm
## 2   http://origin.www.gpo.gov/fdsys/pkg/CREC-2011-09-15/html/CREC-2011-09-15-pt1-PgH6186.htm
## 3 http://origin.www.gpo.gov/fdsys/pkg/CREC-2011-09-13/html/CREC-2011-09-13-pt1-PgE1609-2.htm
## 4   http://origin.www.gpo.gov/fdsys/pkg/CREC-2011-09-15/html/CREC-2011-09-15-pt1-PgS5650.htm
## 5   http://origin.www.gpo.gov/fdsys/pkg/CREC-2011-09-13/html/CREC-2011-09-13-pt1-PgS5510.htm
## 6 http://origin.www.gpo.gov/fdsys/pkg/CREC-2011-09-13/html/CREC-2011-09-13-pt1-PgS5513-2.htm
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Plot mentions of the term &lt;em&gt;climate change&lt;/em&gt; over time for Democrats vs. Republicans&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;ggplot2&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dat_d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cw_timeseries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;phrase&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;climate change&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;party&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;D&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dat_d&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;party&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;D&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat_d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dat_r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cw_timeseries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;phrase&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;climate change&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;party&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;R&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dat_r&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;party&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;R&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat_r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dat_both&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat_d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dat_r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat_both&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;day&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colour&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;party&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;geom_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;theme_grey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
   &lt;span class=&quot;n&quot;&gt;scale_colour_manual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;blue&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;red&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2014-08-11-rsunlight/unnamed-chunk-9.png&quot; alt=&quot;plot of chunk unnamed-chunk-9&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;influence-explorer-api&quot;&gt;Influence Explorer API&lt;/h3&gt;

&lt;p&gt;Search for contributions of equal to or more than &lt;code class=&quot;highlighter-rouge&quot;&gt;$20,000,000&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;ie_contr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;amount&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;&amp;gt;|20000000&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;amount&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;recipient_name&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;contributor_name&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##         amount
## 1  25177212.00
## 2  20000000.00
## 3  20000000.00
## 4  20000000.00
## 5  20000000.00
## 6  20000000.00
## 7  50000000.00
## 8  34000000.00
## 9  28000000.00
## 10 20000000.00
##                                                   recipient_name
## 1                                       Republican National Cmte
## 2  CALIFORNIANS TO CLOSE THE OUT-OF-STATE CORPORATE TAX LOOPHOLE
## 3                                                   WHITMAN, MEG
## 4                                                   WHITMAN, MEG
## 5                                                   WHITMAN, MEG
## 6                                                   WHITMAN, MEG
## 7                                         GOLISANO, B THOMAS (G)
## 8                                         GOLISANO, B THOMAS (G)
## 9                                         GOLISANO, B THOMAS (G)
## 10                                        GOLISANO, B THOMAS (G)
##           contributor_name
## 1           Romney Victory
## 2         STEYER, THOMAS F
## 3  WHITMAN, MARGARET (MEG)
## 4  WHITMAN, MARGARET (MEG)
## 5  WHITMAN, MARGARET (MEG)
## 6  WHITMAN, MARGARET (MEG)
## 7       GOLISANO, B THOMAS
## 8       GOLISANO, B THOMAS
## 9       GOLISANO, B THOMAS
## 10      GOLISANO, B THOMAS
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Top industries, by contributions given. &lt;em&gt;UNKOWN&lt;/em&gt; is a very influential industry. Of course &lt;em&gt;law firms&lt;/em&gt; are high up there, as well as &lt;em&gt;real estate&lt;/em&gt;. I’m sure &lt;em&gt;oil and gas&lt;/em&gt; is embarrased that they’re contributing less than &lt;em&gt;pulic sector unions&lt;/em&gt;.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ie_industries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;top_ind&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##       count        amount                               id
## 1  14919818 3825359507.21 cdb3f500a3f74179bb4a5eb8b2932fa6
## 2   3600761 2787678962.95 f50cf984a2e3477c8167d32e2b14e052
## 3    329906 1717649914.58 9cac88377c3b400e89c2d6762e3f28f6
## 4   1386613 1707457092.04 7500030dffe24844aa467a75f7aedfd1
## 5    774496 1563637586.57 0af3f418f426497e8bbf916bfc074ebc
## 6    546367 1389220855.35 52e5d4c6c0fa47c3bdb199a28f96d434
## 7   2134350 1384221307.53 a05a0d06f6814b31bece35a81fcb40c7
## 8   1003850  986588892.83 8ada0fc2d6994f2ab06c7e025dff2284
## 9    567082  775241387.17 52766c4910a846f2813a1dda212b7027
## 10   151006  706747646.35 13718be68388456d9b6e8db753f06e72
##    should_show_entity                    name
## 1                TRUE                 UNKNOWN
## 2                TRUE       LAWYERS/LAW FIRMS
## 3                TRUE  CANDIDATE SELF-FINANCE
## 4                TRUE             REAL ESTATE
## 5                TRUE SECURITIES &amp;amp; INVESTMENT
## 6                TRUE    PUBLIC SECTOR UNIONS
## 7                TRUE    HEALTH PROFESSIONALS
## 8                TRUE               INSURANCE
## 9                TRUE               OIL &amp;amp; GAS
## 10               TRUE        CASINOS/GAMBLING
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;amount&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;amount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reorder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;amount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;amount&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;geom_bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;identity&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;coord_flip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;scale_y_continuous&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dollar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;theme_grey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2014-08-11-rsunlight/unnamed-chunk-11.png&quot; alt=&quot;plot of chunk unnamed-chunk-11&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;feedback&quot;&gt;Feedback&lt;/h2&gt;

&lt;p&gt;Please do use &lt;code class=&quot;highlighter-rouge&quot;&gt;rsunlight&lt;/code&gt;, and let us know what you want fixed, new features, etc.&lt;/p&gt;

&lt;h2 id=&quot;still-to-come&quot;&gt;Still to come:&lt;/h2&gt;

&lt;ul&gt;
  &lt;li&gt;Functions to visualize data from each API. You can do this yourself, but a few functions will be created to help those that are new to R.&lt;/li&gt;
  &lt;li&gt;Vectorize functions so that you can give many inputs to a function instead of a single input.&lt;/li&gt;
  &lt;li&gt;test suite: embarrasingly, there is no test suite yet, boo me.&lt;/li&gt;
  &lt;li&gt;I plan to push &lt;code class=&quot;highlighter-rouge&quot;&gt;rsunlight&lt;/code&gt; to CRAN soon as &lt;code class=&quot;highlighter-rouge&quot;&gt;v0.3&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>analogsea - v0.1 notes</title>
   <link href="http://recology.info//2014/06/analogsea-v01/"/>
   <updated>2014-06-18T00:00:00-07:00</updated>
   <id>http://recology.info//2014/06/analogsea-v01</id>
   <content type="html">&lt;p&gt;My &lt;a href=&quot;http://recology.info/2014/05/analogsea/&quot;&gt;last blog &lt;/a&gt; post introduced the R package I’m working on &lt;code class=&quot;highlighter-rouge&quot;&gt;analogsea&lt;/code&gt;, an R client for the Digital Ocean API.&lt;/p&gt;

&lt;p&gt;Things have changed a bit, including fillig out more functions for all API endpoints, and incorparting feedback from Hadley and Karthik. The package is as &lt;code class=&quot;highlighter-rouge&quot;&gt;v0.1&lt;/code&gt; now, so I thought I’d say a few things about how it works.&lt;/p&gt;

&lt;p&gt;Note that Digital Ocean’s v2 API is in beta stage now, so the current version of &lt;code class=&quot;highlighter-rouge&quot;&gt;analogsea&lt;/code&gt; at &lt;code class=&quot;highlighter-rouge&quot;&gt;v0.1&lt;/code&gt; works with their v1 API. The &lt;a href=&quot;https://github.com/sckott/analogsea/tree/v2&quot;&gt;v2 branch of analogsea&lt;/a&gt; is being developed for their v2 API.&lt;/p&gt;

&lt;p&gt;If you sign up for an account with Digital Ocean use this referral link: &lt;a href=&quot;https://www.digitalocean.com/?refcode=0740f5169634&quot;&gt;https://www.digitalocean.com/?refcode=0740f5169634&lt;/a&gt; so I can earn some credits. thx :)&lt;/p&gt;

&lt;p&gt;First, installation&lt;/p&gt;

&lt;p&gt;Note: I did try to submit to CRAN, but Ripley complained about the package name so I’d rather not waste my time esp since people using this likely will already know about &lt;code class=&quot;highlighter-rouge&quot;&gt;install_github()&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sckott/analogsea&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Load the library&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;analogsea&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Loading required package: magrittr
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Authenticate has changed a bit. Whereas auth details were stored as environment variables before, I’m just using R’s options. &lt;code class=&quot;highlighter-rouge&quot;&gt;do_auth()&lt;/code&gt; will ask for your Digital Ocean details. You can enter them each R session, or store them in your &lt;code class=&quot;highlighter-rouge&quot;&gt;.Rprofile&lt;/code&gt; file. After successful authentication, each function simply looks for your auth details with &lt;code class=&quot;highlighter-rouge&quot;&gt;getOption()&lt;/code&gt;.  You don’t have to use this function first, though if you don’t your first call to another function will ask for auth details.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;do_auth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;sizes&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;images&lt;/code&gt;, and &lt;code class=&quot;highlighter-rouge&quot;&gt;keys&lt;/code&gt; functions have changed a bit, by default outputting a &lt;code class=&quot;highlighter-rouge&quot;&gt;data.frame&lt;/code&gt; now.&lt;/p&gt;

&lt;p&gt;List available regions&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;regions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##   id            name slug
## 1  3 San Francisco 1 sfo1
## 2  4      New York 2 nyc2
## 3  5     Amsterdam 2 ams2
## 4  6     Singapore 1 sgp1
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;List available sizes&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;sizes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##   id  name  slug memory cpu disk cost_per_hour cost_per_month
## 1 66 512MB 512mb    512   1   20       0.00744            5.0
## 2 63   1GB   1gb   1024   1   30       0.01488           10.0
## 3 62   2GB   2gb   2048   2   40       0.02976           20.0
## 4 64   4GB   4gb   4096   2   60       0.05952           40.0
## 5 65   8GB   8gb   8192   4   80       0.11905           80.0
## 6 61  16GB  16gb  16384   8  160       0.23810          160.0
## 7 60  32GB  32gb  32768  12  320       0.47619          320.0
## 8 70  48GB  48gb  49152  16  480       0.71429          480.0
## 9 69  64GB  64gb  65536  20  640       0.95238          640.0
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;List available images&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;images&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##        id                  name             slug distribution public sfo1
## 1 3209452 rstudioserverssh_snap             &amp;lt;NA&amp;gt;       Ubuntu  FALSE    1
## 2    1601        CentOS 5.8 x64   centos-5-8-x64       CentOS   TRUE    1
## 3    1602        CentOS 5.8 x32   centos-5-8-x32       CentOS   TRUE    1
## 4   12573        Debian 6.0 x64   debian-6-0-x64       Debian   TRUE    1
## 5   12575        Debian 6.0 x32   debian-6-0-x32       Debian   TRUE    1
## 6   14097      Ubuntu 10.04 x64 ubuntu-10-04-x64       Ubuntu   TRUE    1
##   nyc1 ams1 nyc2 ams2 sgp1
## 1   NA   NA   NA   NA   NA
## 2    1    1    1    1    1
## 3    1    1    1    1    1
## 4    1    1    1    1    1
## 5    1    1    1    1    1
## 6    1    1    1    1    1
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;List ssh keys&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## $ssh_keys
## $ssh_keys[[1]]
## $ssh_keys[[1]]$id
## [1] 89103
##
## $ssh_keys[[1]]$name
## [1] &quot;Scott Chamberlain&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;One change that’s of interest is that most of the various &lt;code class=&quot;highlighter-rouge&quot;&gt;droplets_*()&lt;/code&gt; functions take in the outputs of other &lt;code class=&quot;highlighter-rouge&quot;&gt;droplets_*()&lt;/code&gt; functions. This means that we can pipe outputs of one &lt;code class=&quot;highlighter-rouge&quot;&gt;droplets_*()&lt;/code&gt; function to another, including non-&lt;code class=&quot;highlighter-rouge&quot;&gt;droplet_*&lt;/code&gt; functions (see examples).&lt;/p&gt;

&lt;p&gt;Let’s create a droplet:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;droplets_new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;foo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size_slug&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;512mb&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;image_slug&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;ubuntu-14-04-x64&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;region_slug&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;sfo1&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ssh_key_ids&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;89103&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;droplet&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;droplet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1880805&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;droplet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;foo&quot;&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;droplet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image_id&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3240036&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;droplet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size_id&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;66&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;droplet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;event_id&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;26711810&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;List my droplets&lt;/p&gt;

&lt;p&gt;This function used to be &lt;code class=&quot;highlighter-rouge&quot;&gt;do_droplets_get()&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;droplets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## $droplet_ids
## [1] 1880805
##
## $droplets
## $droplets[[1]]
## $droplets[[1]]$id
## [1] 1880805
##
## $droplets[[1]]$name
## [1] &quot;foo&quot;
##
## $droplets[[1]]$image_id
## [1] 3240036
##
## $droplets[[1]]$size_id
## [1] 66
##
## $droplets[[1]]$region_id
## [1] 3
##
## $droplets[[1]]$backups_active
## [1] FALSE
##
## $droplets[[1]]$ip_address
## [1] &quot;162.243.152.56&quot;
##
## $droplets[[1]]$private_ip_address
## NULL
##
## $droplets[[1]]$locked
## [1] FALSE
##
## $droplets[[1]]$status
## [1] &quot;active&quot;
##
## $droplets[[1]]$created_at
## [1] &quot;2014-06-18T14:15:35Z&quot;
##
##
##
## $event_id
## NULL
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;As mentioned above we can now pipe output of &lt;code class=&quot;highlighter-rouge&quot;&gt;droplet*()&lt;/code&gt; functions to other &lt;code class=&quot;highlighter-rouge&quot;&gt;droplet*()&lt;/code&gt; functions.&lt;/p&gt;

&lt;p&gt;Here, pipe output of lising droplets &lt;code class=&quot;highlighter-rouge&quot;&gt;droplets()&lt;/code&gt; to the &lt;code class=&quot;highlighter-rouge&quot;&gt;events()&lt;/code&gt; function&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;droplets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;events&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## Error: No event id found
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;In this case there were no event ids to get event data on.&lt;/p&gt;

&lt;p&gt;Here, we’ll get details for the droplet we just created, then pipe that to &lt;code class=&quot;highlighter-rouge&quot;&gt;droplets_power_off()&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;droplets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1880805&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;droplets_power_off&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## $droplet_ids
## [1] 1880805
##
## $droplets
## $droplets$droplet_ids
## [1] 1880805
##
## $droplets$droplets
## $droplets$droplets$id
## [1] 1880805
##
## $droplets$droplets$name
## [1] &quot;foo&quot;
##
## $droplets$droplets$image_id
## [1] 3240036
##
## $droplets$droplets$size_id
## [1] 66
##
## $droplets$droplets$region_id
## [1] 3
##
## $droplets$droplets$backups_active
## [1] FALSE
##
## $droplets$droplets$ip_address
## [1] &quot;162.243.152.56&quot;
##
## $droplets$droplets$private_ip_address
## NULL
##
## $droplets$droplets$locked
## [1] FALSE
##
## $droplets$droplets$status
## [1] &quot;active&quot;
##
## $droplets$droplets$created_at
## [1] &quot;2014-06-18T14:15:35Z&quot;
##
## $droplets$droplets$backups
## list()
##
## $droplets$droplets$snapshots
## list()
##
##
## $droplets$event_id
## NULL
##
##
## $event_id
## [1] 26714109
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then pipe it again to &lt;code class=&quot;highlighter-rouge&quot;&gt;droplets_power_on()&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;droplets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1880805&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;droplets_power_on&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## $droplet_ids
## [1] 1880805
##
## $droplets
## $droplets$droplet_ids
## [1] 1880805
##
## $droplets$droplets
## $droplets$droplets$id
## [1] 1880805
##
## $droplets$droplets$name
## [1] &quot;foo&quot;
##
## $droplets$droplets$image_id
## [1] 3240036
##
## $droplets$droplets$size_id
## [1] 66
##
## $droplets$droplets$region_id
## [1] 3
##
## $droplets$droplets$backups_active
## [1] FALSE
##
## $droplets$droplets$ip_address
## [1] &quot;162.243.152.56&quot;
##
## $droplets$droplets$private_ip_address
## NULL
##
## $droplets$droplets$locked
## [1] FALSE
##
## $droplets$droplets$status
## [1] &quot;off&quot;
##
## $droplets$droplets$created_at
## [1] &quot;2014-06-18T14:15:35Z&quot;
##
## $droplets$droplets$backups
## list()
##
## $droplets$droplets$snapshots
## list()
##
##
## $droplets$event_id
## NULL
##
##
## $event_id
## [1] 26714152
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;Sys.sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;droplets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1880805&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;droplets&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;status&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## [1] &quot;off&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Why not use more pipes?&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;droplets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1880805&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;droplets_power_off&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;droplets_power_on&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;events&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;hr /&gt;

&lt;p&gt;Last time I talked about installing R, RStudio, etc. on a droplet. I’m still working out bugs in that stuff, but do test out so it can get better faster. See &lt;code class=&quot;highlighter-rouge&quot;&gt;do_install()&lt;/code&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>analogsea - an R client for the Digital Ocean API</title>
   <link href="http://recology.info//2014/05/analogsea/"/>
   <updated>2014-05-28T00:00:00-07:00</updated>
   <id>http://recology.info//2014/05/analogsea</id>
   <content type="html">&lt;p&gt;I think this package name is my best yet. Maybe it doesn’t make sense though? At least it did at the time…&lt;/p&gt;

&lt;p&gt;Anyway, the main motivation for this package was to be able to automate spinning up Linux boxes to do cloud R/RStudio work. Of course if you are a command line native this is all easy for you, but if you are afraid of the command line and/or just don’t want to deal with it, this tool will hopefully help.&lt;/p&gt;

&lt;p&gt;Most of the functions in this package wrap the Digital Ocean API. So you can do things like create a new &lt;em&gt;droplet&lt;/em&gt;, get information on your droplets, &lt;em&gt;destroy&lt;/em&gt; droplets, get information on available images, make snapshots, etc. Basically everything you can do from their website you can do here. Note that all functions are prefixed with &lt;code class=&quot;highlighter-rouge&quot;&gt;do_&lt;/code&gt; (for Digital Ocean).&lt;/p&gt;

&lt;p&gt;The droplet creation part is what we can leverage to spin up a cloud machine to then install R on, and optionally RStudio server, and even RStudio Shiny server. This allows you to stay within R entirely, not having to go to &lt;code class=&quot;highlighter-rouge&quot;&gt;ssh&lt;/code&gt; into the Linux machine itself or go to the Digital Ocean website (after initial setup of course).&lt;/p&gt;

&lt;p&gt;If you try this, I recommend using this on R on the command line as you can more easily kill the R session if something goes wrong, and quickly open a new tab/window to &lt;code class=&quot;highlighter-rouge&quot;&gt;ssh&lt;/code&gt; into the Linux machine if you want.&lt;/p&gt;

&lt;p&gt;First, installation&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sckott/analogsea&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Load the library&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;analogsea&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Firt, authenticate. This will ask for your Digital Ocean details. You can enter them each R session, or store them in your &lt;code class=&quot;highlighter-rouge&quot;&gt;.Renviron&lt;/code&gt; file. After successful authentication, each function simply looks for your auth details with &lt;code class=&quot;highlighter-rouge&quot;&gt;Sys.getenv()&lt;/code&gt;.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;do_auth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;List available regions&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;do_regions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;regions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;[[&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## [1] &quot;San Francisco 1&quot; &quot;New York 2&quot;      &quot;Amsterdam 2&quot;     &quot;Singapore 1&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;List available images&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;do_images&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;images&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;[[&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##  [1] &quot;rstudioserverssh_snap&quot;                          
##  [2] &quot;CentOS 5.8 x64&quot;                                 
##  [3] &quot;CentOS 5.8 x32&quot;                                 
##  [4] &quot;Debian 6.0 x64&quot;                                 
##  [5] &quot;Debian 6.0 x32&quot;                                 
##  [6] &quot;Ubuntu 10.04 x64&quot;                               
##  [7] &quot;Ubuntu 10.04 x32&quot;                               
##  [8] &quot;Arch Linux 2013.05 x64&quot;                         
##  [9] &quot;Arch Linux 2013.05 x32&quot;                         
## [10] &quot;CentOS 6.4 x32&quot;                                 
## [11] &quot;CentOS 6.4 x64&quot;                                 
## [12] &quot;Ubuntu 12.04.4 x32&quot;                             
## [13] &quot;Ubuntu 12.04.4 x64&quot;                             
## [14] &quot;Ubuntu 13.10 x32&quot;                               
## [15] &quot;Ubuntu 13.10 x64&quot;                               
## [16] &quot;Fedora 19 x32&quot;                                  
## [17] &quot;Fedora 19 x64&quot;                                  
## [18] &quot;MEAN on Ubuntu 12.04.4&quot;                         
## [19] &quot;Ghost 0.4.2 on Ubuntu 12.04&quot;                    
## [20] &quot;Wordpress on Ubuntu 13.10&quot;                      
## [21] &quot;Ruby on Rails on Ubuntu 12.10 (Nginx + Unicorn)&quot;
## [22] &quot;Redmine on Ubuntu 12.04&quot;                        
## [23] &quot;Ubuntu 14.04 x32&quot;                               
## [24] &quot;Ubuntu 14.04 x64&quot;                               
## [25] &quot;Fedora 20 x32&quot;                                  
## [26] &quot;Fedora 20 x64&quot;                                  
## [27] &quot;Dokku v0.2.3 on Ubuntu 14.04&quot;                   
## [28] &quot;Debian 7.0 x64&quot;                                 
## [29] &quot;Debian 7.0 x32&quot;                                 
## [30] &quot;CentOS 6.5 x64&quot;                                 
## [31] &quot;CentOS 6.5 x32&quot;                                 
## [32] &quot;Docker 0.11.1 on Ubuntu 13.10 x64&quot;              
## [33] &quot;Django on Ubuntu 14.04&quot;                         
## [34] &quot;LAMP on Ubuntu 14.04&quot;                           
## [35] &quot;node-v0.10.28 on Ubuntu 14.04&quot;                  
## [36] &quot;GitLab 6.9.0 CE&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;List available sizes&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;do.call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;do_sizes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sizes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;##       id name    slug    memory cpu disk cost_per_hour cost_per_month
##  [1,] 66 &quot;512MB&quot; &quot;512mb&quot; 512    1   20   0.00744       &quot;5.0&quot;         
##  [2,] 63 &quot;1GB&quot;   &quot;1gb&quot;   1024   1   30   0.01488       &quot;10.0&quot;        
##  [3,] 62 &quot;2GB&quot;   &quot;2gb&quot;   2048   2   40   0.02976       &quot;20.0&quot;        
##  [4,] 64 &quot;4GB&quot;   &quot;4gb&quot;   4096   2   60   0.05952       &quot;40.0&quot;        
##  [5,] 65 &quot;8GB&quot;   &quot;8gb&quot;   8192   4   80   0.1191        &quot;80.0&quot;        
##  [6,] 61 &quot;16GB&quot;  &quot;16gb&quot;  16384  8   160  0.2381        &quot;160.0&quot;       
##  [7,] 60 &quot;32GB&quot;  &quot;32gb&quot;  32768  12  320  0.4762        &quot;320.0&quot;       
##  [8,] 70 &quot;48GB&quot;  &quot;48gb&quot;  49152  16  480  0.7143        &quot;480.0&quot;       
##  [9,] 69 &quot;64GB&quot;  &quot;64gb&quot;  65536  20  640  0.9524        &quot;640.0&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Let’s create a droplet:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;do_droplets_new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;foo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size_slug&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;512mb&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;image_slug&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;ubuntu-14-04-x64&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;region_slug&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;sfo1&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ssh_key_ids&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;89103&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;status&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;OK&quot;&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;droplet&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;droplet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1733336&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;droplet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;foo&quot;&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;droplet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;image_id&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3240036&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;droplet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size_id&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;66&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;droplet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;event_id&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;25278892&lt;/span&gt;


&lt;span class=&quot;n&quot;&gt;attr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;class&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dodroplet&quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;List my droplets&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;do_droplets_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## $status
## [1] &quot;OK&quot;
## 
## $droplets
## $droplets[[1]]
## $droplets[[1]]$id
## [1] 1733336
## 
## $droplets[[1]]$name
## [1] &quot;foo&quot;
## 
## $droplets[[1]]$image_id
## [1] 3240036
## 
## $droplets[[1]]$size_id
## [1] 66
## 
## $droplets[[1]]$region_id
## [1] 3
## 
## $droplets[[1]]$backups_active
## [1] FALSE
## 
## $droplets[[1]]$ip_address
## [1] &quot;107.170.211.252&quot;
## 
## $droplets[[1]]$private_ip_address
## NULL
## 
## $droplets[[1]]$locked
## [1] FALSE
## 
## $droplets[[1]]$status
## [1] &quot;active&quot;
## 
## $droplets[[1]]$created_at
## [1] &quot;2014-05-28T05:59:22Z&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Cool, we have a new Linux box with 512 mb RAM, running Ubuntu 14.04 in the SF region. Notice that I’m using my SSH key here. If you don’t use your SSH key, Digital Ocean will email you a password, which you then use. We just have to wait a bit (sometimes 20 seconds, sometimes a few minutes) for it to spin up.&lt;/p&gt;

&lt;p&gt;Now we can install stuff. Here, I’ll install R, and RStudio Server. This step prints out the progress as you would see if you did &lt;code class=&quot;highlighter-rouge&quot;&gt;ssh&lt;/code&gt; into the box itself outside of R. The RStudio Server instance will pop up in your default browser when this operation is done.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;do_install&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;droplet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;what&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;rstudio&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;usr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;hey&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pwd&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;there&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2014-05-28-analogsea/rstudioinstance.png&quot; width=&quot;100%&quot; /&gt;&lt;/p&gt;

&lt;p&gt;You can install some things like the &lt;code class=&quot;highlighter-rouge&quot;&gt;libcurl&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;libxml&lt;/code&gt; libraries too with the &lt;code class=&quot;highlighter-rouge&quot;&gt;deps&lt;/code&gt; parameter.&lt;/p&gt;

&lt;p&gt;When you’re done, you can destroy your droplet from R too&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;do_droplets_destroy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;res&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;droplet&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;## $status
## [1] &quot;OK&quot;
## 
## $event_id
## [1] 25279124
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Let me know if you have any thoughts :)&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Logistic plot reboot</title>
   <link href="http://recology.info//2014/05/logplotreboot/"/>
   <updated>2014-05-22T00:00:00-07:00</updated>
   <id>http://recology.info//2014/05/logplotreboot</id>
   <content type="html">&lt;p&gt;Someone asked about plotting something like this today&lt;/p&gt;

&lt;p&gt;I &lt;a href=&quot;http://recology.info/2012/01/logistic-regression-barplot-fig/&quot;&gt;wrote a few functions previously&lt;/a&gt; to do something like this. However, since then &lt;code class=&quot;highlighter-rouge&quot;&gt;ggplot2&lt;/code&gt; has changed, and one of the functions no longer works.&lt;/p&gt;

&lt;p&gt;Hence, I fixed &lt;code class=&quot;highlighter-rouge&quot;&gt;opts()&lt;/code&gt; to &lt;code class=&quot;highlighter-rouge&quot;&gt;theme()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;theme_blank()&lt;/code&gt; to &lt;code class=&quot;highlighter-rouge&quot;&gt;element_blank()&lt;/code&gt;, and &lt;code class=&quot;highlighter-rouge&quot;&gt;panel.background = element_blank()&lt;/code&gt; to &lt;code class=&quot;highlighter-rouge&quot;&gt;plot.background = element_blank()&lt;/code&gt; to get the histograms to show up with the line plot and not cover it.&lt;/p&gt;

&lt;p&gt;The new functions:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;loghistplot&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;x&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;y&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# rename columns
&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# get min and max axis values
&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;min_x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;max_x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;min_y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;max_y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;# get bin numbers
&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;bin_no&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;counts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;# create plots
&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;theme_bw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;geom_smooth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;method&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;glm&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;family&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;binomial&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;se&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;colour&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;black&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alpha&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;scale_x_continuous&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;limits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;min_x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;max_x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;theme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;panel.grid.major&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;panel.grid.minor&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;panel.background&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;plot.background&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Probability\n&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;\nYour X Variable&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;theme_loghist&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;theme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;panel.grid.major&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;panel.grid.minor&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;axis.text.y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;axis.text.x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;axis.ticks&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;panel.border&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;panel.background&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;plot.background&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;theme_bw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;geom_histogram&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;grey&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;scale_y_continuous&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;limits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bin_no&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;scale_x_continuous&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;limits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;min_x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;max_x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;theme_loghist&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;\n&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;\n&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;theme_bw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;geom_histogram&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;grey&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;scale_y_continuous&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trans&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;reverse&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;limits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bin_no&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;scale_x_continuous&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;limits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;min_x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;max_x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;theme_loghist&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;\n&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;\n&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;grid.newpage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;pushViewport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;viewport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;layout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;grid.layout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;vpa_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;viewport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;vpb_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;viewport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;vpc_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;viewport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vpb_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vpc_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vpa_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;logpointplot&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;x&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;y&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# rename columns
&lt;/span&gt;
  &lt;span class=&quot;c1&quot;&gt;# get min and max axis values
&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;min_x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;max_x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;min_y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;max_y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;# create plots
&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;theme_bw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;geom_point&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alpha&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;position&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;position_jitter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;w&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;h&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.02&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;geom_smooth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;method&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;glm&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;family&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;binomial&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;se&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                &lt;span class=&quot;n&quot;&gt;colour&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;black&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alpha&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;scale_x_continuous&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;limits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;min_x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;max_x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;theme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;panel.grid.major&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;panel.grid.minor&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
          &lt;span class=&quot;n&quot;&gt;panel.background&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Probability\n&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;\nYour X Variable&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Install &lt;code class=&quot;highlighter-rouge&quot;&gt;ggplot2&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;gridExtra&lt;/code&gt; if you don’t have them:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ggplot2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;gridExtra&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;http://cran.rstudio.com&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;And their use:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Logistic histogram plots&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;loghistplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mtcars&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;mpg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;vs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2014-05-22-logplotreboot/unnamed-chunk-5.png&quot; alt=&quot;plot of chunk unnamed-chunk-5&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;loghistplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;movies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rating&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2014-05-22-logplotreboot/unnamed-chunk-6.png&quot; alt=&quot;plot of chunk unnamed-chunk-6&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Logistic point plots&lt;/strong&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;loghistplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mtcars&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;mpg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;vs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2014-05-22-logplotreboot/unnamed-chunk-7.png&quot; alt=&quot;plot of chunk unnamed-chunk-7&quot; /&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;loghistplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;movies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rating&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2014-05-22-logplotreboot/unnamed-chunk-8.png&quot; alt=&quot;plot of chunk unnamed-chunk-8&quot; /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>cowsay - ascii messages and warnings for R</title>
   <link href="http://recology.info//2014/02/cowsay/"/>
   <updated>2014-02-20T00:00:00-08:00</updated>
   <id>http://recology.info//2014/02/cowsay</id>
   <content type="html">&lt;h2 id=&quot;the-history&quot;&gt;The history&lt;/h2&gt;

&lt;p&gt;Cowsay is a terminal program that generates ascii pictures of a cow saying what you tell the cow to say in a bubble. See the Wikipedia page for more information: &lt;a href=&quot;http://en.wikipedia.org/wiki/Cowsay&quot;&gt;http://en.wikipedia.org/wiki/Cowsay&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Install cowsay to use in your terminal (on OSX):&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;brew update
brew install cowsay
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Type &lt;code class=&quot;highlighter-rouge&quot;&gt;cowsay hello world!&lt;/code&gt;, and you get:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; ______________
&amp;lt; hello world! &amp;gt;
 --------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Optionally, you can install &lt;a href=&quot;http://en.wikipedia.org/wiki/Fortune_(Unix)&quot;&gt;fortune&lt;/a&gt; to get pseudorandom messages from a database of quotations. On OSX do &lt;code class=&quot;highlighter-rouge&quot;&gt;brew install fortune&lt;/code&gt;, then you can pipe a fortune quote to &lt;code class=&quot;highlighter-rouge&quot;&gt;cowsay&lt;/code&gt;:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;fortune | cowsay
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;And get something like:&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt; ______________________________________
/ &quot;To take a significant step forward, \
| you must make a series of finite     |
| improvements.&quot; -- Donald J. Atwood,  |
\ General Motors                       /
 --------------------------------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;You can also get different animals. Try &lt;code class=&quot;highlighter-rouge&quot;&gt;cowsay -f tux &amp;lt;yourmessage&amp;gt;&lt;/code&gt;&lt;/p&gt;

&lt;h2 id=&quot;cowsay-in-r&quot;&gt;Cowsay in R&lt;/h2&gt;

&lt;p&gt;Why cowsay for R?  Why not. You never know what you will learn in fun side projects. Basically, this cowsay R package we are making prints messages that you pass to the function &lt;code class=&quot;highlighter-rouge&quot;&gt;say&lt;/code&gt;.  There are three arguments to the &lt;code class=&quot;highlighter-rouge&quot;&gt;say&lt;/code&gt; function:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;strong&gt;what&lt;/strong&gt;: What do you want to say?  You can pass it a custom message, anything you want, like &lt;em&gt;what’s up&lt;/em&gt;, or &lt;em&gt;howdy!&lt;/em&gt;. You can also get R’s version of fortunes, quotes about R. Just pass the exact term &lt;em&gt;forture&lt;/em&gt;. If you want a fact about cats from the &lt;a href=&quot;http://catfacts-api.appspot.com/&quot;&gt;Cat Facts API&lt;/a&gt;, pass in &lt;em&gt;catfact&lt;/em&gt;. Last, you can get the current time by passing &lt;em&gt;time&lt;/em&gt; to this parameter.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;by&lt;/strong&gt;: Type of animal, one of cow, chicken, poop, cat, ant, pumpkin, ghost, spider, rabbit, pig, snowman, or frog. If you want more animals, send a pull request, or ask and at some point it will be added.&lt;/li&gt;
  &lt;li&gt;&lt;strong&gt;type&lt;/strong&gt;: One of message (default), warning, or string (returns string). You could use string to pass into other functions, etc., instead of printing a warning or message.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;There are three other contributors so far (a big thanks to them):&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Tyler Rinker&lt;/li&gt;
  &lt;li&gt;Thomas Leeper&lt;/li&gt;
  &lt;li&gt;Noam Ross&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;installation&quot;&gt;Installation&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;cowsay&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;sckott&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cowsay&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;p.s. or &lt;code class=&quot;highlighter-rouge&quot;&gt;install_github(&quot;sckott/cowsay&quot;)&lt;/code&gt; if you have a newer version of devtools&lt;/p&gt;

&lt;h3 id=&quot;get-time&quot;&gt;Get time&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;say&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;time&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
 ----- 
 2014-02-20 14:15:35 
 ------ 
    \   ^__^ 
     \  (oo)\ ________ 
        (__)\         )\ /\ 
             ||------w|
             ||      ||
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;say&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;time&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;chicken&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;

 ----- 
 2014-02-20 14:15:35 
 ------ 
    \   
     \  
         _
       _/ }
      `&amp;gt;&#39; \
      `|   \
       |   /&#39;-.     .-.
        \&#39;     &#39;;`--&#39; .&#39;
         \&#39;.    `&#39;-./
          &#39;.`-..-;`
            `;-..&#39;
            _| _|
            /` /`
  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;vary-type-of-output-default-calls-message&quot;&gt;Vary type of output, default calls message&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;say&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hello world&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
 ----- 
 hello world 
 ------ 
    \   ^__^ 
     \  (oo)\ ________ 
        (__)\         )\ /\ 
             ||------w|
             ||      ||
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;say&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hello world&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;warning&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Warning: 
 ----- 
 hello world 
 ------ 
    \   ^__^ 
     \  (oo)\ ________ 
        (__)\         )\ /\ 
             ||------w|
             ||      ||
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;say&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hello world&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;string&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;[1] &quot;\n ----- \n hello world \n ------ \n    \\   ^__^ \n     \\  (oo)\\ ________ \n        (__)\\         )\\ /\\ \n             ||------w|\n             ||      ||&quot;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;catfacts&quot;&gt;Catfacts!!!!&lt;/h3&gt;

&lt;p&gt;From the &lt;a href=&quot;http://catfacts-api.appspot.com/&quot;&gt;catfacts API&lt;/a&gt;, we can get random cat facts. If you put in &lt;em&gt;catfact&lt;/em&gt; you by default get a cat saying it.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;say&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;catfact&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;cat&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;

 ----- 
 Neutering a cat extends its life span by two or three years. 
 ------ 
    \   
     \  
               \`*-.
                 )  _`-.                 
                .  : `. .                
                : _   &#39;                 
                ; *` _.   `*-._          
                `-.-&#39;          `-.       
                  ;       `       `.     
                  :.       .       \
                  .\  .   :   .-&#39;   .   
                  &#39;  `+.;  ;  &#39;      :   
                  :  &#39;  |    ;       ;-. 
                  ; &#39;   : :`-:     _.`* ;
               .*&#39; /  .*&#39; ; .*`- +&#39;  `*&#39; 
               `*-*   `*-*  `*-*&#39;        
    
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;r-fortunes&quot;&gt;R fortunes&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;say&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;fortune&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
 ----- 
 If I were to be treated by a cure created by stepwise regression, I would prefer voodoo.
 Dieter Menne
 in a thread about regressions with many variables
 R-help
 October 2009 
 ------ 
    \   ^__^ 
     \  (oo)\ ________ 
        (__)\         )\ /\ 
             ||------w|
             ||      ||
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;say&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;fortune&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;pig&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;

 ----- 
 Cross posting is sociopathic.
 Roger Koenker
 NA
 R-help
 November 2008 
 ------ 
    \   
     \  
       _//| .-~~~-.
     _/oo  }       }-@
    (&#39;&#39;)_  }       |
     `--&#39;| { }--{  }
          //_/  /_/
  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;incorporate-into-a-function&quot;&gt;Incorporate into a function&lt;/h3&gt;

&lt;p&gt;Define a function&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;say&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;woops, x should be 5 or greater&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Call the function, with an error on purpose&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;
 ----- 
 woops, x should be 5 or greater 
 ------ 
    \   ^__^ 
     \  (oo)\ ________ 
        (__)\         )\ /\ 
             ||------w|
             ||      ||
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Or capture a warning or message and pass to the &lt;code class=&quot;highlighter-rouge&quot;&gt;say&lt;/code&gt; function&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;foo2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;err&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tryCatch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;error&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;say&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;err&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;frog&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then call the function&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;foo2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;hello&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;

 ----- 
 non-numeric argument to binary operator 
 ------ 
    \   
     \  
        (.)_(.)
     _ (   _   ) _
    / \/`-----&#39;\/ \
  __\ ( (     ) ) /__
  )   /\ \._./ /\   (
   )_/ /|\   /|\ \_(
  
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Awesome. Much better to have an error message from a frog than just the harsh console alone :)&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>cites - citation stuff from the command line</title>
   <link href="http://recology.info//2014/01/cites/"/>
   <updated>2014-01-18T00:00:00-08:00</updated>
   <id>http://recology.info//2014/01/cites</id>
   <content type="html">&lt;p&gt;I’ve been learning Ruby, and decided to scratch an itch: getting citations for papers to put in a bibtex file or my Zotero library. This usually requires two parts: 1) searching for an article with keywords, and then 2) getting the citation once the paper is found.  Since I am lazy, I would prefer to do this from the command line instead of opening up a browser.  Thus =&amp;gt; &lt;code class=&quot;highlighter-rouge&quot;&gt;cites&lt;/code&gt;. (Note, I’m sure someone has created something better - the point is I’m learnin’ me some Ruby)
&lt;br /&gt;&lt;br /&gt;
&lt;strong&gt;cites does two things:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Search for a paper. Uses the &lt;a href=&quot;http://search.crossref.org/help/api&quot;&gt;CrossRef Metadata Search API&lt;/a&gt;, which allows POST requests of free form text.&lt;/li&gt;
  &lt;li&gt;Get a citation from a DOI. Uses CrossRef &lt;a href=&quot;http://labs.crossref.org/citation-formatting-service/&quot;&gt;citation formatting service&lt;/a&gt; to search for citation information.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Each of the two above tasks are functions that you can use within Ruby, and are available from the command line/terminal so that you don’t have to spin up Ruby. During a typical writing workflow (in which you are using bibtex formatted references) one can want a citation for their paper, and instead of opening up a browser and using Google Scholar or Web of Science, etc., you can quickly search in your terminal by doing e.g., &lt;code class=&quot;highlighter-rouge&quot;&gt;thor cite:search &#39;keywords that will help find the paper, including author, year, etc.&#39;&lt;/code&gt;. Which if matches will give you a DOI. Then you can do &lt;code class=&quot;highlighter-rouge&quot;&gt;thor cite:getcite DOI/string | pbcopy&lt;/code&gt; and you get the bibtex reference in your clipboard. Then just paste into your bibtex file or references manager. See more examples below.
&lt;br /&gt;&lt;br /&gt;
First, we need to install dependencies&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;gem install httparty bibtex-ruby launchy
sudo gem install thor
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Then clone the repo down. The &lt;code class=&quot;highlighter-rouge&quot;&gt;Makefile&lt;/code&gt; in the repo builds the gem, and installs the Thor module so you have access to it from anywhere. If you don’t want the Thor commands, just do &lt;code class=&quot;highlighter-rouge&quot;&gt;make install&lt;/code&gt; and just the gem will be installed.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;git clone git@github.com:sckott/cites.git
cd cites
make
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;
### From the command line: Thor&lt;/p&gt;

&lt;p&gt;I decided to use &lt;a href=&quot;http://whatisthor.com/&quot;&gt;Thor&lt;/a&gt; to make functions within &lt;code class=&quot;highlighter-rouge&quot;&gt;cites&lt;/code&gt; available on the cli. Thor is cool. For example, you can list the commands available like&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;thor list
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;cite
-----
thor cite:getcite        # Get a citation from a DOI
thor cite:launch paper   # Open a paper from a given DOI in your default browser
thor cite:search STRING  # Get a DOI from a search string
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Get help for a particular method&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;thor help cite:getcite
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Usage:
  thor cite:getcite

Options:
  [--format=FORMAT]
                     # Default: text
  [--style=STYLE]
                     # Default: apa
  [--locale=LOCALE]
                     # Default: en-US

Get a citation from a DOI
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;This is what’s associated with &lt;code class=&quot;highlighter-rouge&quot;&gt;cites&lt;/code&gt; from the cli using Thor.&lt;/p&gt;

&lt;p&gt;Other commands are available, just type &lt;code class=&quot;highlighter-rouge&quot;&gt;thor&lt;/code&gt; on the cli, and press enter. 
&lt;br /&gt;&lt;br /&gt;
### Search for a paper&lt;/p&gt;

&lt;p&gt;From the CLI&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;thor cite:search &#39;Piwowar sharing data increases citation PLOS&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;match&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;=&amp;gt;true,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;doi&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;10.1371/journal.pone.0000308&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;w&quot;&gt; &lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;nt&quot;&gt;&quot;Piwowar sharing data increases citation PLOS&quot;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;And you can do many searches, separated with commas, like&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;thor cite:search &#39;Piwowar sharing data increases citation PLOS,boettiger Modeling stabilizing selection&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Search within Ruby&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;cites&#39;&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Cites&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Piwowar sharing data increases citation PLOS&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;match&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;s2&quot;&gt;&quot;doi&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;10.1371/journal.pone.0000308&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;s2&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Piwowar sharing data increases citation PLOS&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;
### Get a reference from a DOI&lt;/p&gt;

&lt;p&gt;From the CLI, default output is text format, apa style, locale en-US&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;thor cite:getcite &#39;10.1186/1471-2105-14-16&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Boyle, B., Hopkins, N., Lu, Z., Raygoza Garay, J. A., Mozzherin, D., Rees, T., Matasci, N., et al. (2013). The taxonomic name resolution service: an online tool for automated standardization of plant names. BMC Bioinformatics, 14(1), 16. Springer (Biomed Central Ltd.). doi:10.1186/1471-2105-14-16
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Because we’re using &lt;a href=&quot;http://whatisthor.com/&quot;&gt;thor&lt;/a&gt; you can pass in options to the call on the cli, like here choose &lt;code class=&quot;highlighter-rouge&quot;&gt;ris&lt;/code&gt; for the format&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;thor cite:getcite &#39;10.1371/journal.pone.0000308&#39; --format=ris
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;TY  - JOUR
T2  - PLoS ONE
AU  - Piwowar, Heather A.
AU  - Day, Roger S.
AU  - Fridsma, Douglas B.
SN  - 1932-6203
TI  - Sharing Detailed Research Data Is Associated with Increased Citation Rate
SP  - e308
VL  - 2
PB  - Public Library of Science
DO  - 10.1371/journal.pone.0000308
PY  - 2007
UR  - http://dx.doi.org/10.1371/journal.pone.0000308
ER  -
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;And here &lt;code class=&quot;highlighter-rouge&quot;&gt;bibtex&lt;/code&gt; for the format&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;thor cite:getcite &#39;10.1371/journal.pone.0000308&#39; --format=bibtex
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;@article{Piwowar_Day_Fridsma_2007,
  title = {Sharing Detailed Research Data Is Associated with Increased Citation Rate},
  volume = {2},
  url = {http://dx.doi.org/10.1371/journal.pone.0000308},
  doi = {10.1371/journal.pone.0000308},
  number = {3},
  journal = {PLoS ONE},
  publisher = {Public Library of Science},
  author = {Piwowar, Heather A. and Day, Roger S. and Fridsma, Douglas B.},
  editor = {Ioannidis, JohnEditor},
  year = {2007},
  month = {mar},
  pages = {e308}
}
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Two more options, &lt;code class=&quot;highlighter-rouge&quot;&gt;style&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;locale&lt;/code&gt; are only available with text format, like&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;thor cite:getcite &#39;10.1371/journal.pone.0000308&#39; --format=text --style=mla --locale=fr-FR
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;Piwowar, Heather A., Roger S. Day, et Douglas B. Fridsma. « Sharing Detailed Research Data Is Associated with Increased Citation Rate ». éd par. John Ioannidis. PLoS ONE 2.3 (2007): e308.
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Within Ruby&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;cites&#39;&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Cites&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;doi2cit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;10.1371/journal.pone.0000308&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Piwowar, H. A., Day, R. S., &amp;amp; Fridsma, D. B. (2007). Sharing Detailed Research Data Is Associated with Increased Citation Rate. (J. Ioannidis, Ed.)PLoS ONE, 2(3), e308. Public Library of Science. doi:10.1371/journal.pone.0000308&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;
### Open paper in browser&lt;/p&gt;

&lt;p&gt;Uses &lt;a href=&quot;http://macrodocs.org/&quot;&gt;Macrodocs&lt;/a&gt;. The default, using Macrodocs, only works for open access (#OA) articles. You can set the option &lt;code class=&quot;highlighter-rouge&quot;&gt;oa&lt;/code&gt; to be false.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;thor cite:launch &#39;10.1371/journal.pone.0000308&#39;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;It’s super simple, it just concatenates your DOI onto &lt;code class=&quot;highlighter-rouge&quot;&gt;http://macrodocs.org/?doi=&lt;/code&gt; to give in this case &lt;a href=&quot;http://macrodocs.org/?doi=10.1371/journal.pone.0000308&quot;&gt;http://macrodocs.org/?doi=10.1371/journal.pone.0000308&lt;/a&gt; for what you will get from that command.&lt;/p&gt;

&lt;p&gt;When you don’t have an open access article, set the oa option flag to false, like &lt;code class=&quot;highlighter-rouge&quot;&gt;--oa=false&lt;/code&gt;&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;thor cite:launch &#39;10.1111/1365-2745.12157&#39; --oa=false
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Setting &lt;code class=&quot;highlighter-rouge&quot;&gt;--oa=false&lt;/code&gt; simply concatenates your doi onto &lt;code class=&quot;highlighter-rouge&quot;&gt;http://dx.doi.org/&lt;/code&gt;, which then attempts to resolve to likely the publishers page for the article.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>rgauges - fun with hourly web site analytics</title>
   <link href="http://recology.info//2014/01/rgauges-hourly/"/>
   <updated>2014-01-17T00:00:00-08:00</updated>
   <id>http://recology.info//2014/01/rgauges-hourly</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://get.gaug.es/&quot;&gt;Gaug.es&lt;/a&gt; is a really nice looking analytics platform as an alternative to Google Analytics. It is a paid service, but not that expensive really.&lt;/p&gt;

&lt;p&gt;We’ve made an R package to interact with the Gaug.es API called &lt;code class=&quot;highlighter-rouge&quot;&gt;rgauges&lt;/code&gt;. Find it &lt;a href=&quot;https://github.com/ropensci/rgauges&quot;&gt;on Github&lt;/a&gt; and &lt;a href=&quot;http://cran.r-project.org/web/packages/rgauges/index.html&quot;&gt;on CRAN&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Although working with the Gaug.es API is nice and easy, they don’t keep hourly visit stats and provide those via the API, so that you have to continually collect them yourself if you want them. That’s what I have done for my own website.&lt;/p&gt;

&lt;p&gt;It took a few steps to get this data:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;I wrote a little Ruby script using &lt;a href=&quot;http://rubygems.org/gems/twelve&quot;&gt;Twelve gem&lt;/a&gt; to collect data from the Gaug.es API every day at the same time, which just gets the patst 24 hours of data. This script makes a call to the Gaug.es API and sends the data to a &lt;a href=&quot;http://couchdb.apache.org/&quot;&gt;CouchDB&lt;/a&gt; database hosted on &lt;a href=&quot;https://cloudant.com/&quot;&gt;Cloudant&lt;/a&gt;. In reality, the script is is embeded in a rack app as I don’t think you can throw up a standalone script to Heroku. Here’s the script:&lt;/li&gt;
&lt;/ul&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;MyApp&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;couchrest&#39;&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;twelve&#39;&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;date&#39;&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;time&#39;&lt;/span&gt;
  
  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;getgaugesdata_scott&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;bfg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Twelve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;&amp;lt;gaugeskey&amp;gt;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bfg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;gauges&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;&amp;lt;gaugeskey&amp;gt;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;recent_hours&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;yip&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;from_url&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;http://sckott.github.io/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;coll_date&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;today&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;to_s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;coll_time&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;utc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;localtime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;to_s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;recent_hours&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@db&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CouchRest&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;database!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;https://app16517180.heroku:&amp;lt;key&amp;gt;@app16517180.heroku.cloudant.com/gaugesdb_scott&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@db&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;save_doc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;yip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;call&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;env&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Content-Type&quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;text/html&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;no output printed here&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; 
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;One little catch though: I run the Ruby script on Heroku, so I don’t have to do it locally, but Heroku free instance goes down unless it’s doing something. So I used a little service called &lt;a href=&quot;http://uptimerobot.com/&quot;&gt;UptimeRobot&lt;/a&gt; to ping the Heroku app every 5 minutes. UptimeRobot also is giving you uptime stats too on your app, which I don’t really need, but is a cool feature.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;And that’s it. Now the data is stored from each day’s collection of visitor stats to a free Cloudant CouchDB database.&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;regular-gauges-data&quot;&gt;Regular Gaug.es data&lt;/h2&gt;

&lt;p&gt;First, let’s look at what you can do with data that Gaug.es does give to you, using the &lt;code class=&quot;highlighter-rouge&quot;&gt;rgauges&lt;/code&gt; R package.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;install-rgauges&quot;&gt;Install rgauges&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;devtools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rgauges&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ropensci&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;load-rgauges-and-other-dependency-libraries&quot;&gt;Load rgauges and other dependency libraries&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rgauges&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;your-info&quot;&gt;Your info&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;gs_me&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## $user
## $user$name
## [1] &quot;Scott Chamberlain&quot;
## 
## $user$email
## [1] &quot;myrmecocystus@gmail.com&quot;
## 
## $user$id
## [1] &quot;4eddbafb613f5d5139000001&quot;
## 
## $user$last_name
## [1] &quot;Chamberlain&quot;
## 
## $user$urls
## $user$urls$self
## [1] &quot;https://secure.gaug.es/me&quot;
## 
## $user$urls$clients
## [1] &quot;https://secure.gaug.es/clients&quot;
## 
## $user$urls$gauges
## [1] &quot;https://secure.gaug.es/gauges&quot;
## 
## 
## $user$first_name
## [1] &quot;Scott&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;traffic&quot;&gt;Traffic&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;gs_traffic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;4efd83a6f5a1f5158a000004&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## $metadata
## $metadata$views
## [1] 386
## 
## $metadata$urls
## $metadata$urls$older
## [1] &quot;https://secure.gaug.es/gauges/4efd83a6f5a1f5158a000004/traffic?date=2013-12-01&quot;
## 
## $metadata$urls$newer
## NULL
## 
## 
## $metadata$date
## [1] &quot;2014-01-17&quot;
## 
## $metadata$people
## [1] 208
## 
## 
## $data
##    views       date people
## 1      7 2014-01-01      5
## 2     17 2014-01-02      7
## 3     39 2014-01-03     17
## 4     15 2014-01-04      9
## 5     14 2014-01-05      7
## 6     33 2014-01-06     22
## 7     19 2014-01-07     11
## 8     15 2014-01-08     11
## 9     53 2014-01-09     24
## 10    53 2014-01-10     13
## 11    14 2014-01-11      9
## 12    11 2014-01-12     10
## 13    14 2014-01-13     14
## 14    11 2014-01-14      9
## 15    23 2014-01-15     16
## 16    16 2014-01-16     14
## 17    32 2014-01-17     25&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;screenbrowser-information&quot;&gt;Screen/browser information&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;gs_reso&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;4efd83a6f5a1f5158a000004&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## $browser_height
##   views title
## 1   190   600
## 2    77   768
## 3    53   900
## 4    38   480
## 5    28  1024
## 
## $browser_width
##   views title
## 1   153  1280
## 2    91  1024
## 3    58  1600
## 4    36   800
## 5    30  1440
## 6     6  2000
## 7     6   320
## 8     6   480
## 
## $screen_width
##   views title
## 1   176  1280
## 2    90  1600
## 3    55  1440
## 4    35  1024
## 5    14  2000
## 6     6   320
## 7     6   480
## 8     4   800&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;visualize-traffic-data&quot;&gt;Visualize traffic data&lt;/h3&gt;

&lt;p&gt;You’ll need to load ggplot2&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gs_gauge_detail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;4efd83a6f5a1f5158a000004&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;vis_gauge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## Using hour, time as id variables
## Using date as id variables
## Using date as id variables&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2014-01-17-rgauges-hourly/unnamed-chunk-4.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## NULL&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;
&lt;hr /&gt;

&lt;h2 id=&quot;historic-hourly-gauges-data&quot;&gt;Historic hourly Gaug.es data&lt;/h2&gt;

&lt;p&gt;Now let’s play with the hourly data. To do that we aren’t going to use &lt;code class=&quot;highlighter-rouge&quot;&gt;rgauges&lt;/code&gt;, but rather call the Cloudant API. CouchDB provides a RESTful API out of the box, so we can do a call like &lt;code class=&quot;highlighter-rouge&quot;&gt;https://app16517180.heroku.cloudant.com/gaugesdb_scott/_all_docs?limit=20&lt;/code&gt; to get metadata (or other calls to get the documents themselves). (note: that url won’t work for you since you don’t have my login info)&lt;/p&gt;

&lt;h3 id=&quot;get-some-data&quot;&gt;Get some data&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sckott/sofa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;or&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;sofa&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;sckott&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sofa&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cloudant_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;app16517180.heroku&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cloudant_pwd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;sofa_cloudant_heroku&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;cushion&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sofa_cloudant&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cloudant_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cloudant_pwd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sofa_alldocs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cushion&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;sofa_cloudant&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;gaugesdb_scott&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;include_docs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;true&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;manipulate-and-visualize&quot;&gt;Manipulate and visualize&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plyr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dates&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ldply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;doc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;coll_date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dates&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;V1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## [1] &quot;2013-06-26&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dates&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;V1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## [1] &quot;2014-01-16&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dates&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;V1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## [1] 198&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;So we’ve got 198 days of data, first collected near end of June, and most recent yesterday. Now get actual visits data&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ldply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;do.call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;doc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;recent_hours&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;doc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;coll_date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hour&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hour&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reshape2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;df_melt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;melt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id.vars&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;date&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;hour&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df_melt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##         date hour variable value
## 1 2013-09-18    1    views     2
## 2 2013-09-18    2    views     3
## 3 2013-09-18    3    views     2
## 4 2013-09-18    4    views     0
## 5 2013-09-18    5    views     1
## 6 2013-09-18    6    views    10&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;We need to combine the date and hour in to one date time string:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;df_melt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df_melt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;datetime&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.POSIXct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;paste&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;%s:00:00&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;hour&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df_melt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##         date hour variable value            datetime
## 1 2013-09-18    1    views     2 2013-09-18 01:00:00
## 2 2013-09-18    2    views     3 2013-09-18 02:00:00
## 3 2013-09-18    3    views     2 2013-09-18 03:00:00
## 4 2013-09-18    4    views     0 2013-09-18 04:00:00
## 5 2013-09-18    5    views     1 2013-09-18 05:00:00
## 6 2013-09-18    6    views    10 2013-09-18 06:00:00&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Now plot all data&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scales&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;gauge_theme&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;panel.grid.major&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
             &lt;span class=&quot;n&quot;&gt;panel.grid.minor&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
             &lt;span class=&quot;n&quot;&gt;legend.position&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.85&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.85&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
             &lt;span class=&quot;n&quot;&gt;legend.key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()))&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df_melt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datetime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;variable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colour&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;variable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;theme_bw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;geom_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;scale_color_brewer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;palette&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;gauge_theme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2014-01-17-rgauges-hourly/unnamed-chunk-8.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;And just one day&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;oneday&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;df_melt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df_melt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;2013-11-12&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;oneday&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;datetime&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;variable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colour&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;variable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;theme_bw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;geom_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;scale_color_brewer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;palette&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;gauge_theme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2014-01-17-rgauges-hourly/unnamed-chunk-9.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Jekyll - an intro</title>
   <link href="http://recology.info//2013/11/jekyll-intro/"/>
   <updated>2013-11-20T00:00:00-08:00</updated>
   <id>http://recology.info//2013/11/jekyll-intro</id>
   <content type="html">&lt;p&gt;I started using Jekyll when I didn’t really know HTML, CSS, or Ruby - so I’ve had to learn a lot - but using Jekyll has been a great learning experience for all those languages.&lt;/p&gt;

&lt;p&gt;I’ve tried to boil down steps to building a Jekyll site or blog to the minimal steps:&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;install-jekyll&quot;&gt;Install Jekyll&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;Mac/Linux/Unix:
    &lt;ul&gt;
      &lt;li&gt;Install dependencies:
        &lt;ul&gt;
          &lt;li&gt;&lt;a href=&quot;http://www.ruby-lang.org/en/downloads/&quot;&gt;Ruby&lt;/a&gt;&lt;/li&gt;
          &lt;li&gt;&lt;a href=&quot;http://rubygems.org/pages/download&quot;&gt;RubyGems&lt;/a&gt;&lt;/li&gt;
        &lt;/ul&gt;
      &lt;/li&gt;
      &lt;li&gt;Install Jekyll using RubyGems &lt;code class=&quot;highlighter-rouge&quot;&gt;gem install jekyll&lt;/code&gt; (you may need to do &lt;code class=&quot;highlighter-rouge&quot;&gt;sudo...&lt;/code&gt;)&lt;/li&gt;
      &lt;li&gt;If you’re having trouble installing, see the &lt;a href=&quot;http://jekyllrb.com/docs/troubleshooting/&quot;&gt;troubleshooting page&lt;/a&gt;.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;Windows: Jekyll doesn’t officially support installation on Windows - follow &lt;a href=&quot;http://www.madhur.co.in/blog/2011/09/01/runningjekyllwindows.html&quot;&gt;these steps&lt;/a&gt; for a Windows install.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;make-a-site&quot;&gt;Make a site&lt;/h3&gt;

&lt;p&gt;The easiest way to get started is by using the command &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll new SITENAME&lt;/code&gt; - let’s replace &lt;code class=&quot;highlighter-rouge&quot;&gt;SITENAME&lt;/code&gt; with &lt;code class=&quot;highlighter-rouge&quot;&gt;foobar&lt;/code&gt; for this example.&lt;/p&gt;

&lt;p&gt;So we run &lt;code class=&quot;highlighter-rouge&quot;&gt;jekyll new foobar&lt;/code&gt;, which gives us:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;New jekyll site installed &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; /Users/scottmac2/foobar.&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Go into that directory, and run&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;foobar
jekyll serve&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Which gives you the files and directories:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;|
--|- _config.yml
  |- _posts
  |- css
  |- _layouts
  |- _site
  |- index.html&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Then point your browser to &lt;a href=&quot;http://localhost:4000/&quot;&gt;http://localhost:4000/&lt;/a&gt;. And you should see the following:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://f.cl.ly/items/2q322a2P3f2m2A3a3l0O/Screen%20Shot%202013-11-20%20at%209.54.21%20AM.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;write-a-new-blog-post&quot;&gt;Write a new blog post&lt;/h3&gt;

&lt;p&gt;We’ll add a new file to the _posts folder.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;---
layout: post
title:  My second post
date:   2013-11-20
categories: jekyll programming R
---

My second blog post!&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Paste this in to a new file in the &lt;code class=&quot;highlighter-rouge&quot;&gt;_posts&lt;/code&gt; folder, save as today’s date (2013-11-20) plus the post name, which gives us 2013-11-20-second-post.md.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;deploying&quot;&gt;Deploying&lt;/h3&gt;

&lt;p&gt;An obvious option given that Jekyll was built by Github, is to put it up on Github. Github has some instructions &lt;a href=&quot;http://jekyllrb.com/docs/github-pages/&quot;&gt;here&lt;/a&gt;. Here is my attempt at instructions:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;If you don’t have a Github account already, &lt;a href=&quot;https://help.github.com/articles/signing-up-for-a-new-github-account&quot;&gt;create one&lt;/a&gt; - it’s free.&lt;/li&gt;
  &lt;li&gt;Set up Git. Github’s help for this: https://help.github.com/articles/set-up-git&lt;/li&gt;
  &lt;li&gt;Creat a new repo on Github, with the same name as your repo on your machine, in this case &lt;code class=&quot;highlighter-rouge&quot;&gt;foobar&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Make your new blog directory &lt;code class=&quot;highlighter-rouge&quot;&gt;foobar&lt;/code&gt; a git repo by doing &lt;code class=&quot;highlighter-rouge&quot;&gt;git init&lt;/code&gt; within the repo.&lt;/li&gt;
  &lt;li&gt;Add you files to be tracked by git via &lt;code class=&quot;highlighter-rouge&quot;&gt;git add --all&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Commit your changes by &lt;code class=&quot;highlighter-rouge&quot;&gt;git commit -am &#39;new blog files added&#39;&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Make a &lt;code class=&quot;highlighter-rouge&quot;&gt;gh-pages&lt;/code&gt; branch by doing &lt;code class=&quot;highlighter-rouge&quot;&gt;git branch gh-pages&lt;/code&gt;.&lt;/li&gt;
  &lt;li&gt;Add link for your repo on Github: &lt;code class=&quot;highlighter-rouge&quot;&gt;git remote add origin https://github.com/&amp;lt;yourgithubusername&amp;gt;/foobar.git&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;Push to Github using &lt;code class=&quot;highlighter-rouge&quot;&gt;git push -u origin master&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Github gives you one repo that you can name &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;yourgithubusername&amp;gt;.github.io&lt;/code&gt; that will be viewable at the URL &lt;code class=&quot;highlighter-rouge&quot;&gt;http://&amp;lt;yourgithubusername&amp;gt;.github.io&lt;/code&gt;. You can have your blog/website on the master branch, and you don’t need to create a &lt;code class=&quot;highlighter-rouge&quot;&gt;gh-pages&lt;/code&gt; branch. But if you have your site in any other named repo, you will need the &lt;code class=&quot;highlighter-rouge&quot;&gt;gh-pages&lt;/code&gt; branch. If you don’t use a &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;yourgithubusername&amp;gt;.github.io&lt;/code&gt; repo, your site will be viewable at &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;yourgithubusername&amp;gt;.github.io/&amp;lt;reponame&amp;gt;&lt;/code&gt;, in this case &lt;code class=&quot;highlighter-rouge&quot;&gt;&amp;lt;yourgithubusername&amp;gt;.github.io/foobar&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Beginners take note:&lt;/em&gt; Instead of the command line, you could use a Git GUI, from Github (&lt;a href=&quot;http://mac.github.com/&quot;&gt;OSX&lt;/a&gt;, &lt;a href=&quot;http://windows.github.com/&quot;&gt;Windows&lt;/a&gt;), or others, e.g., &lt;a href=&quot;http://gitboxapp.com/&quot;&gt;GitBox&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;h3 id=&quot;other-info&quot;&gt;Other info&lt;/h3&gt;

&lt;p&gt;That’s the basics of how to get started. Inevitably, you’ll run into problems with various dependencies. The &lt;a href=&quot;http://jekyllrb.com/&quot;&gt;Jekyll site&lt;/a&gt; has a lot of documntation now, so go there for help - and see a roundup of links below.&lt;/p&gt;

&lt;p&gt;For inspiration, here are many examples of sites that use Jekyll: http://jekyllrb.com/docs/sites/. If you want to build off someone else’s work, find one that provides their code.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;A roundup of links for building static sites with jekyll&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://net.tutsplus.com/tutorials/other/building-static-sites-with-jekyll/&quot;&gt;http://net.tutsplus.com/tutorials/other/building-static-sites-with-jekyll/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.andrewmunsell.com/tutorials/jekyll-by-example/&quot;&gt;http://www.andrewmunsell.com/tutorials/jekyll-by-example/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://jekyllbootstrap.com/&quot;&gt;Jekyll Bootstrap&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Jekyll thoughts by &lt;a href=&quot;http://carlboettiger.info/index.html&quot;&gt;Carl Boettiger&lt;/a&gt;: &lt;a href=&quot;http://carlboettiger.info/2012/12/30/learning-jekyll.html&quot;&gt;http://carlboettiger.info/2012/12/30/learning-jekyll.html&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://danielmcgraw.com/2011/04/14/The-Ultimate-Guide-To-Getting-Started-With-Jekyll-Part-1/&quot;&gt;http://danielmcgraw.com/2011/04/14/The-Ultimate-Guide-To-Getting-Started-With-Jekyll-Part-1/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://mijingo.com/products/screencasts/static-websites-with-jekyll/&quot;&gt;A book on building sites with Jekyll&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://yeswejekyll.com/&quot;&gt;http://yeswejekyll.com/&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://hellarobots.com/2012/01/06/blogging-with-jekyll-quickstart.html&quot;&gt;http://hellarobots.com/2012/01/06/blogging-with-jekyll-quickstart.html&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;http://www.sitepoint.com/zero-to-jekyll-in-20-minutes/&quot;&gt;http://www.sitepoint.com/zero-to-jekyll-in-20-minutes/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Code display in scholarly journals</title>
   <link href="http://recology.info//2013/10/codeinpapers/"/>
   <updated>2013-10-25T00:00:00-07:00</updated>
   <id>http://recology.info//2013/10/codeinpapers</id>
   <content type="html">&lt;p&gt;Code in journals, that is, code you would type to do some programmatic operation in say R or Python, is kind of a mess to say the least. Okay, so you can &lt;strong&gt;SEE&lt;/strong&gt; code in papers, but code is not formatted in a way that facilites reuse. If an author in a paper writes out some code for software they create, or an analysis they do in the paper, wouldn’t it be nice for a reader to be able to copy and paste that code directly into whatever environment that code should execute in, and actually work. Of course there is dependencies, etc. for that software to worry about, but here I am just concerned with the code formatting in articles. Code is displayed as an image in some cases (gasp!). Additionally, there’s this thing called the internet, and we can use color, so let’s highlight code already. At least in one of our recent &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt; papers in F1000 Research, &lt;a href=&quot;http://f1000research.com/articles/2-191/v1&quot;&gt;they do use syntax highlighting&lt;/a&gt; - w00t!&lt;/p&gt;

&lt;p&gt;Carl Boettiger (@cboettig) and I disccused how frustrated we are with the state of code in papers, and started a Github gist, listing publishers/journals and how they display code. It lives here: &lt;a href=&quot;https://gist.github.com/sckott/6787278&quot;&gt;https://gist.github.com/sckott/6787278&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;We have a start, but would like your help in filling this list out more. What are the code presentation practices for various publishers and journals? With a list of what currently happens, perhaps we can start to convince publishers to display code more appropriately, partly by pointing out that “XYZ publisher does it really well, why can’t you?”. I tried to record info in a standardized way across publishers…&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Guide to using rOpenSci packages during the US Gov't shutdown</title>
   <link href="http://recology.info//2013/10/shutdown/"/>
   <updated>2013-10-08T00:00:00-07:00</updated>
   <id>http://recology.info//2013/10/shutdown</id>
   <content type="html">&lt;p&gt;&lt;em&gt;Note: This is cross-posted from the &lt;a href=&quot;http://ropensci.org/blog&quot;&gt;rOpenSci blog&lt;/a&gt;, which will update with this post when our technical snafu is fixed.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;With the US government shut down, many of the federal government provided data APIs are down. We write R packages to interact with many of these APIs. We have been tweeting about what APIs that are down related to R pacakges we make, but we thought we would write up a proper blog post on the issue.&lt;/p&gt;

&lt;p&gt;NCBI services are still up! NCBI is within NIH, which is within the Department of Health and Human Services. Here is the message on the NCBI page:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;The information on this web site remains accessible; but, due to the lapse in government funding, the information may not be up to date, and the agency may not be able to respond to inquiries until appropriations are enacted. For updates regarding government operating status see USA.gov.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Most USGS services are down. Some of the message on the USGS page (ITIS is under USGS, which is under the Department of the Interior):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Due to the Federal government shutdown, usgs.gov and most associated web sites are unavailable. Only web sites necessary to protect lives and property will be maintained…&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;However, the USGS BISON service is still up for some reason - perhaps a different pot of money than other USGS projects?&lt;/p&gt;

&lt;p&gt;Some of the shutdown message from NOAA, under the Department of Commerce:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Due to the Federal government shutdown, NOAA.gov and most associated web sites are unavailable. Specific NOAA web sites necessary to protect lives and property are operational and will be maintained.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Here’s a table of APIs we interact with, the related R package, and any notes:
&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
&lt;table class=&quot;table table-bordered table-striped&quot;&gt;
	&lt;thead&gt;
      &lt;tr&gt;
        &lt;th&gt;API provider&lt;/th&gt;
        &lt;th&gt;API still up?&lt;/th&gt;
        &lt;th&gt;rOpenSci R package&lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;tr&gt;
        &lt;td&gt;USGS BISON (Biodiversity Information Serving our Nation) &lt;a href=&quot;http://bison.usgs.ornl.gov/services.html&quot;&gt;link&lt;/a&gt;&lt;/td&gt;
        &lt;td&gt;Yep!&lt;/td&gt;
        &lt;td&gt;&lt;a href=&quot;https://github.com/ropensci/rbison&quot;&gt;rbison&lt;/a&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;NOAA Climate data &lt;a href=&quot;http://www.ncdc.noaa.gov/cdo-web/webservices&quot;&gt;link&lt;/a&gt;&lt;/td&gt;
        &lt;td&gt;No :(&lt;/td&gt;
        &lt;td&gt;&lt;a href=&quot;https://github.com/ropensci/rnoaa&quot;&gt;rnoaa&lt;/a&gt;&lt;/td&gt;
      &lt;/tr&gt;
   	  &lt;tr&gt;
        &lt;td&gt;USGS ITIS (Integrated Taxonomic Information Service) &lt;a href=&quot;http://www.itis.gov/ws_description.html&quot;&gt;link&lt;/a&gt;&lt;/td&gt;
        &lt;td&gt;No :(&lt;/td&gt;
        &lt;td&gt;&lt;a href=&quot;https://github.com/ropensci/taxize_&quot;&gt;taxize&lt;/a&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;NCBI Entrez &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/&quot;&gt;link&lt;/a&gt;&lt;/td&gt;
        &lt;td&gt;No :(&lt;/td&gt;
        &lt;td&gt;&lt;a href=&quot;https://github.com/ropensci/taxize_&quot;&gt;taxize&lt;/a&gt;,&lt;a href=&quot;https://github.com/ropensci/rentrez&quot;&gt;rentrez&lt;/a&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;PubMed &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/pubmed&quot;&gt;link&lt;/a&gt;&lt;/td&gt;
        &lt;td&gt;No :(&lt;/td&gt;
        &lt;td&gt;&lt;a href=&quot;https://github.com/ropensci/rpubmed&quot;&gt;rpubmed&lt;/a&gt;&lt;/td&gt;
      &lt;/tr&gt;
  	&lt;/tbody&gt;
&lt;/table&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;
For those wanting to get NOAA climate data, perhaps check out the &lt;a href=&quot;http://cran.r-project.org/web/packages/RNCEP/index.html&quot;&gt;RNCEP package&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;For those using taxize, you can grab taxonomic IDs from NCBI using &lt;code class=&quot;highlighter-rouge&quot;&gt;get_uid()&lt;/code&gt; rather than the ITIS version &lt;code class=&quot;highlighter-rouge&quot;&gt;get_tsn()&lt;/code&gt;. With a UID from NCBI, you can do things like get a taxonomic classification using the function &lt;code class=&quot;highlighter-rouge&quot;&gt;classification()&lt;/code&gt;. There are many non-government taxonomic sources in taxize, so you should be able to find what you need without ITIS. Other functions that use ITIS, and that you should avoid until the shutdown is over, are:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;A long list carried over from the itis package that is now within taxize: &lt;code class=&quot;highlighter-rouge&quot;&gt;getacceptednamesfromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getanymatchcount()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getcommentdetailfromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getcommonnamesfromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getcoremetadatafromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getcoveragefromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getcredibilityratingfromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getcredibilityratings()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getcurrencyfromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getdatedatafromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getdescription()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getexpertsfromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getfullhierarchyfromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getfullrecordfromlsid()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getfullrecordfromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getgeographicdivisionsfromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getgeographicvalues()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getglobalspeciescompletenessfromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;gethierarchydownfromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;gethierarchyupfromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getitistermsfromcommonname()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getitistermsfromscientificname()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getjurisdictionaloriginfromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getjurisdictionoriginvalues()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getjurisdictionvalues()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getkingdomnamefromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getkingdomnames()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getlastchangedate()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getlsidfromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getothersourcesfromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getparenttsnfromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getpublicationsfromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getranknames()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getrecordfromlsid()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getreviewyearfromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getscientificnamefromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getsynonymnamesfromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;gettaxonauthorshipfromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;gettaxonomicranknamefromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;gettaxonomicusagefromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;gettsnbyvernacularlanguage()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;gettsnfromlsid()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getunacceptabilityreasonfromtsn()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;getvernacularlanguages()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;searchbycommonname()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;searchbycommonnamebeginswith()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;searchbycommonnameendswith()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;searchbyscientificname()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;searchforanymatch()&lt;/code&gt;, &lt;code class=&quot;highlighter-rouge&quot;&gt;searchforanymatchpaged()&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;itis_acceptname()&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;itis_downstream()&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;itis_name()&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;itis_taxrank()&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;In &lt;code class=&quot;highlighter-rouge&quot;&gt;tax_agg()&lt;/code&gt;, only use db=”ncbi”&lt;/li&gt;
  &lt;li&gt;In &lt;code class=&quot;highlighter-rouge&quot;&gt;tax_name()&lt;/code&gt;, only use db=”ncbi”&lt;/li&gt;
  &lt;li&gt;In &lt;code class=&quot;highlighter-rouge&quot;&gt;tax_rank()&lt;/code&gt;, only use db=”ncbi”&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Let us know if you have any questions or comments.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Taxonomy data from the web in three languages</title>
   <link href="http://recology.info//2013/09/taxonomy-in-three-acts/"/>
   <updated>2013-09-27T00:00:00-07:00</updated>
   <id>http://recology.info//2013/09/taxonomy-in-three-acts</id>
   <content type="html">&lt;p&gt;Eduard Szöcs and I started developing a taxonomic toolbelt for the R language a while back , which lets you interact with a multitude of taxonomic databases on the web. We have a paper in F1000Research if you want to find out more (see &lt;a href=&quot;http://f1000research.com/articles/2-191/v1&quot;&gt;here&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;I thought it would be fun to rewrite some of taxize in other languages to learn more languages. Ruby and Python made the most sense to try. I did try others (Julia, Node), but gave up on those for now. The goal here isn’t to port taxize to Python and Ruby right now - it’s for me to learn myself some coding.&lt;/p&gt;

&lt;p&gt;Anyway, here’s use of the same function in three languages: R, Ruby, and Python. The function searches the &lt;a href=&quot;http://gni.globalnames.org/&quot;&gt;Global Names Index&lt;/a&gt;, but is named slightly differently in R (&lt;code class=&quot;highlighter-rouge&quot;&gt;gni_search&lt;/code&gt;) vs. Ruby/Python (&lt;code class=&quot;highlighter-rouge&quot;&gt;gniSearch&lt;/code&gt;). (yes, I realize the package names aren’t consistent)&lt;/p&gt;

&lt;p&gt;Note that there are only a few functions available in the Ruby and Python versions:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;itisPing&lt;/li&gt;
  &lt;li&gt;gnrResolve&lt;/li&gt;
  &lt;li&gt;gniParse&lt;/li&gt;
  &lt;li&gt;gniSearch&lt;/li&gt;
  &lt;li&gt;gniDetails&lt;/li&gt;
  &lt;li&gt;colChildren (Python, not Ruby)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;And the behavior of these functions does not necessarily match that in the R version.&lt;/p&gt;

&lt;p&gt;One thing I have learned is that packaging in R is much harder than in Python or Ruby. &lt;a href=&quot;cran.r-project.org/web/packages/devtools/index.html&quot;&gt;devtools&lt;/a&gt; does make R packaging easier, but still…&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;
### R&lt;/p&gt;

&lt;p&gt;Code &lt;a href=&quot;https://github.com/ropensci/taxize_&quot;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;taxize&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;taxize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Then search for a taxonomic name&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gni_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;Helianthus annuus&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;               &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Helianthus&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;annuus&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3329657&lt;/span&gt;
                                                                 &lt;span class=&quot;n&quot;&gt;lsid&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;urn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lsid&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;globalnames.org&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;index&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f9c244&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a450&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-535&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;adcd&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-2&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bfaf85c9b2e&lt;/span&gt;
                              &lt;span class=&quot;n&quot;&gt;uuid_hex&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;resource_url&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;f9c244&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a450&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-535&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;e&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;adcd&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-2&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bfaf85c9b2e&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;none&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;
### Ruby&lt;/p&gt;

&lt;p&gt;Code &lt;a href=&quot;https://github.com/sckott/tacksize&quot;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;git clone https://github.com/sckott/tacksize.git
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;tacksize
gem build tacksize.gemspec
gem install ./tacksize-0.0.1.gem&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;In a Ruby repl, like &lt;code class=&quot;highlighter-rouge&quot;&gt;irb&lt;/code&gt;, search for a taxonomic name&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;tacksize&#39;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Tacksize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;gniSearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:search_term&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;Helianthus annuus&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;uuid_hex&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;18f9c244-a450-535e-adcd-2bfaf85c9b2e&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;name&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Helianthus annuus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;lsid&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;urn:lsid:globalnames.org:index:18f9c244-a450-535e-adcd-2bfaf85c9b2e&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;resource_uri&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;http://gni.globalnames.org/name_strings/3329657.xml&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3329657&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;
### Python&lt;/p&gt;

&lt;p&gt;Code &lt;a href=&quot;https://github.com/sckott/pytaxize&quot;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;git clone https://github.com/sckott/pytaxize.git
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;pytaxize
python setup.py install&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;In a Python repl, like &lt;code class=&quot;highlighter-rouge&quot;&gt;ipython&lt;/code&gt;, search for a taxonomic name&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pytaxize&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pytaxize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gniSearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&#39;Helianthus annuus&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&#39;name_strings&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;u&#39;id&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3329657&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;lsid&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;urn:lsid:globalnames.org:index:18f9c244-a450-535e-adcd-2bfaf85c9b2e&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;name&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;Helianthus annuus&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;resource_uri&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;http://gni.globalnames.org/name_strings/3329657.xml&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&#39;uuid_hex&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&#39;18f9c244-a450-535e-adcd-2bfaf85c9b2e&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

</content>
 </entry>
 
 <entry>
   <title>Pollinator niche breadth and natural enemies</title>
   <link href="http://recology.info//2013/09/natenemies/"/>
   <updated>2013-09-19T00:00:00-07:00</updated>
   <id>http://recology.info//2013/09/natenemies</id>
   <content type="html">&lt;p&gt;I am on my way out of academia, so I want to share what I won’t ever get around to finishing. I started a paper many years ago examining the prevalence of natural enemy pressure on pollinators, and patterns of occurrence of pollinator natural enemies in relation to plant attributes.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;
&lt;img src=&quot;/public/img/beeenemy.png&quot; /&gt;
&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Anyway, Figshare seemed like the perfect place to put this. I licensed the materials under CC0, so feel free to do whatever you want with it.  Check it out &lt;a href=&quot;http://figshare.com/articles/Pollinator_niche_breadth_and_natural_enemies/803123&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>govdat - SunlightLabs and New York Times Congress data via R</title>
   <link href="http://recology.info//2013/08/govdat-vignette/"/>
   <updated>2013-08-28T00:00:00-07:00</updated>
   <id>http://recology.info//2013/08/govdat-vignette</id>
   <content type="html">&lt;p&gt;I started an R package a while back, and a few people have shown interest, so I thought it was time to revist the code. govdat is an interface to various APIs for government data: currently the Sunlight Labs APIs, and the New York Times congress API. Returned objects from functions are simple lists. In future versions of govdat, I may change how data is returned. The following are examples (which is also the package vignette) of using the Sunlight Labs API. I will add examples of using the New York Times Congress API once their site is up again; I’m doing this on 2013-08-28, just after the takedown of their site.&lt;/p&gt;

&lt;p&gt;I show just a bit of each data object returned for brevity. And yes, I realize this is not related at all to ecology.&lt;/p&gt;

&lt;p&gt;You will need an API key to use both Sunlight Labs APIs and the New York Times APIs. Get your API key at Sunlight Labs &lt;a href=&quot;http://sunlightfoundation.com/api/&quot;&gt;here&lt;/a&gt; and NYT &lt;a href=&quot;http://developer.nytimes.com/docs/congress_api&quot;&gt;here&lt;/a&gt;. You can pass in your key within each function or you can put the key in your .Rprofile file on your machine (which is read from the default R working directory) and the key will be read in automatically inside the function. I recommend the latter option.&lt;/p&gt;

&lt;p&gt;Do let me know of bugs or feature requests over at the Github issues page &lt;a href=&quot;https://github.com/sckott/govdat/issues&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;install-govdat&quot;&gt;Install govdat&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;devtools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;govdat&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;sckott&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;load-govdat&quot;&gt;Load govdat&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;govdat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;gets-details-subcommittees--membership-for-a-committee-by-id&quot;&gt;Gets details (subcommittees + membership) for a committee by id.&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;SunlightLabsKey&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sll_cg_getcommittees&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;JSPR&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;committee&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;members&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;legislator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$website
[1] &quot;http://www.alexander.senate.gov&quot;

$fax
[1] &quot;202-228-3398&quot;

$govtrack_id
[1] &quot;300002&quot;

$firstname
[1] &quot;Lamar&quot;

$chamber
[1] &quot;senate&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;gets-a-list-of-all-committees-that-a-member-serves-on-including-subcommittes&quot;&gt;Gets a list of all committees that a member serves on, including subcommittes.&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sll_cg_getcommitteesallleg&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bioguide_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;S000148&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;committees&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$committee
$committee$chamber
[1] &quot;Senate&quot;

$committee$id
[1] &quot;SSRA&quot;

$committee$name
[1] &quot;Senate Committee on Rules and Administration&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;get-districts-for-a-latitudelongitude&quot;&gt;Get districts for a latitude/longitude.&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sll_cg_getdistrictlatlong&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;latitude&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;35.778788&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;longitude&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-78.787805&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;districts&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[[1]]
[[1]]$district
[[1]]$district$state
[1] &quot;NC&quot;

[[1]]$district$number
[1] &quot;2&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;get-districts-that-overlap-for-a-certain-zip-code&quot;&gt;Get districts that overlap for a certain zip code.&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sll_cg_getdistrictzip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zip&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;27511&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;districts&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[[1]]
[[1]]$district
[[1]]$district$state
[1] &quot;NC&quot;

[[1]]$district$number
[1] &quot;2&quot;



[[2]]
[[2]]$district
[[2]]$district$state
[1] &quot;NC&quot;

[[2]]$district$number
[1] &quot;4&quot;



[[3]]
[[3]]$district
[[3]]$district$state
[1] &quot;NC&quot;

[[3]]$district$number
[1] &quot;13&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;search-congress-people-and-senate-members&quot;&gt;Search congress people and senate members.&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sll_cg_getlegislatorsearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Reed&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;results&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;result&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;legislator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$website
[1] &quot;http://www.reed.senate.gov&quot;

$fax
[1] &quot;202-224-4680&quot;

$govtrack_id
[1] &quot;300081&quot;

$firstname
[1] &quot;John&quot;

$chamber
[1] &quot;senate&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;search-congress-people-and-senate-members-for-a-zip-code&quot;&gt;Search congress people and senate members for a zip code.&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sll_cg_legislatorsallforzip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zip&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;77006&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plyr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ldply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;response&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;legislators&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;legislator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;firstname&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s2&quot;&gt;&quot;lastname&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;  firstname    lastname
1    Sheila Jackson Lee
2       Ted        Cruz
3      John      Cornyn
4       Ted         Poe&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;find-the-popularity-of-a-phrase-over-a-period-of-time&quot;&gt;Find the popularity of a phrase over a period of time.&lt;/h4&gt;

&lt;h5 id=&quot;get-a-list-of-how-many-times-the-phrase-united-states-appears-in-the-congressional-record-in-each-month-between-january-and-june-2010&quot;&gt;Get a list of how many times the phrase “united states” appears in the Congressional Record in each month between January and June, 2010:&lt;/h5&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;sll_cw_timeseries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;phrase&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;united states&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;start_date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;2009-01-01&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;end_date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;2009-04-30&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;granularity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;month&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;4 records returned&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;  count      month
1  3805 2009-01-01
2  3512 2009-02-01
3  6018 2009-03-01
4  2967 2009-04-01&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h5 id=&quot;plot-data&quot;&gt;Plot data&lt;/h5&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sll_cw_timeseries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;phrase&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;climate change&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;1354 records returned&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;day&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geom_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_grey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-08-28-govdat-vignette/sll_cw_timeseries2.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;h5 id=&quot;plot-more-data&quot;&gt;Plot more data&lt;/h5&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;dat_d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sll_cw_timeseries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;phrase&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;climate change&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;party&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;D&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;908 records returned&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;dat_d&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;party&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;D&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat_d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dat_r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sll_cw_timeseries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;phrase&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;climate change&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;party&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;R&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;623 records returned&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;dat_r&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;party&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;R&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat_r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dat_both&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat_d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dat_r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat_both&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;day&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colour&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;party&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geom_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_grey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;scale_colour_manual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;values&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;blue&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;red&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-08-28-govdat-vignette/sll_cw_timeseries3.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;search-openstates-bills&quot;&gt;Search OpenStates bills.&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sll_os_billsearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;terms&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;agriculture&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;tx&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;chamber&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;upper&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;[[&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;title&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;110&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[[1]]
[1] &quot;Relating to the sale by the Brazos River Authority of certain property at Possum Kingdom Lake.&quot;

[[2]]
[1] &quot;Proposing a constitutional amendment providing immediate additional revenue for the state budget by creating the Texas Gaming Commission, and authorizing and regulating the operation of casino games and slot machines by a limited number of licensed operators and certain Indian tribes.&quot;

[[3]]
[1] &quot;Relating to production requirements for holders of winery permits.&quot;

[[4]]
[1] &quot;Relating to the use of human remains in the training of search and rescue animals.&quot;

[[5]]
[1] &quot;Relating to end-of-course assessment instruments administered to public high school students and other measures of secondary-level performance.&quot;

[[6]]
[1] &quot;Relating to public high school graduation, including curriculum and assessment requirements for graduation and funding in support of certain curriculum authorized for graduation.&quot;

[[7]]
[1] &quot;Relating to certain residential and other structures and mitigation of loss to those structures resulting from natural catastrophes; providing a criminal penalty.&quot;

[[8]]
[1] &quot;Recognizing March 28, 2013, as Texas Water Conservation Day at the State Capitol.&quot;

[[9]]
[1] &quot;Recognizing March 26, 2013, as Lubbock Day at the State Capitol.&quot;

[[10]]
[1] &quot;In memory of Steve Jones.&quot;

[[11]]
[1] &quot;Relating to the regulation of dangerous wild animals.&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;search-legislators-on-openstates&quot;&gt;Search Legislators on OpenStates.&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sll_os_legislatorsearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;state&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;tx&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;party&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;democratic&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;active&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]][&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$last_name
[1] &quot;Naishtat&quot;

$updated_at
[1] &quot;2013-08-29 03:03:22&quot;

$nimsp_candidate_id
[1] &quot;112047&quot;

$full_name
[1] &quot;Elliott Naishtat&quot;

$`+district_address`
[1] &quot; P.O. Box 2910\nAustin, TX 78768\n(512) 463-0668&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;search-for-entities---that-is-politicians-individuals-or-organizations-with-the-given-name&quot;&gt;Search for entities - that is, politicians, individuals, or organizations with the given name&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sll_ts_aggregatesearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Nancy Pelosi&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is.null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;none&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ldply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;                       name count_given firm_income count_lobbied          seat
1          Nancy Pelosi (D)           0           0             0 federal:house
2 Nancy Pelosi for Congress           7           0             0          none
  total_received state lobbying_firm count_received party total_given         type
1       14173534    CA          none          10054     D           0   politician
2              0  none          &amp;lt;NA&amp;gt;              0  none        7250 organization
                                id non_firm_spending is_superpac
1 85ab2e74589a414495d18cc7a9233981                 0        none
2 afb432ec90454c8a83a3113061e7be27                 0        &amp;lt;NA&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;return-the-top-contributoring-organizations-ranked-by-total-dollars-given-an-organizations-giving-is-broken-down-into-money-given-directly-by-the-organizations-pac-versus-money-given-by-individuals-employed-by-or-associated-with-the-organization&quot;&gt;Return the top contributoring organizations, ranked by total dollars given. An organization’s giving is broken down into money given directly (by the organization’s PAC) versus money given by individuals employed by or associated with the organization.&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sll_ts_aggregatetopcontribs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;85ab2e74589a414495d18cc7a9233981&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ldply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;   employee_amount total_amount total_count                                     name
1         64000.00    101300.00          79                         Akin, Gump et al
2          3500.00     90000.00          29 American Fedn of St/Cnty/Munic Employees
3                0     86600.00          48                National Assn of Realtors
4                0     85000.00          32                      United Auto Workers
5                0     82500.00          37                  National Education Assn
6                0     77000.00          19                          Teamsters Union
7                0     76000.00          36         National Assn of Letter Carriers
8                0     72500.00          18   Intl Brotherhood of Electrical Workers
9                0     72500.00          21                Sheet Metal Workers Union
10         8000.00     72000.00          31                              Wells Fargo
   direct_count employee_count                               id direct_amount
1            16             63 105dcfc8c9384875a099af230dad9917      37300.00
2            25              4 fb702029157e4c7c887172eba71c66c5      86500.00
3            48              0 bb98402bd4d3471cad392a671ecd733a      86600.00
4            32              0 4d3167b97c9f48deb433aad57bb0ee44      85000.00
5            37              0 1b8fea7e453d4e75841eac48ff9df550      82500.00
6            19              0 f89c8e3ab2b44f72971f91b764868231      77000.00
7            36              0 390767dc6b4b491ca775b1bdf8a36eea      76000.00
8            18              0 b53b4ad137d743a996f4d7467700fc88      72500.00
9            21              0 425be85642b24cc2bc3d8a0bb3c7bc92      72500.00
10           20             11 793070ae7f5e42c2a76a58663a588f3d      64000.00&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

</content>
 </entry>
 
 <entry>
   <title>Engaging the public on climate change through phenology data</title>
   <link href="http://recology.info//2013/08/phenology/"/>
   <updated>2013-08-18T00:00:00-07:00</updated>
   <id>http://recology.info//2013/08/phenology</id>
   <content type="html">&lt;h2 id=&quot;scienceonline-climate&quot;&gt;ScienceOnline Climate&lt;/h2&gt;

&lt;p&gt;I recently attended ScienceOnline Climate, a conference in Washington, D.C. at AAAS offices. You may have heard of the ScienceOnline annual meeting in North Carolina - this was one of their topical meetings focused on Climate Change. Another one is coming up in October, ScienceOnline Oceans. Search Twitter for #scioClimate (or the entire list of hashtags &lt;a href=&quot;https://gist.github.com/sckott/6213308&quot;&gt;here&lt;/a&gt;) for tweets from the conference.&lt;/p&gt;

&lt;p&gt;One of the sessions I attended was focused on how to democratize climate change knowledge, moderated by a fellow from the Union of Concerned Scientists. Search Twitter for #sciodemocracy to see the conversation from that session. There was a lot of very interesting discussion.&lt;/p&gt;

&lt;h2 id=&quot;can-we-reach-the-public-with-phenology-data&quot;&gt;Can we reach the public with phenology data?&lt;/h2&gt;

&lt;p&gt;During the #sciodemocracy session, I had a thought but couldn’t articulate it at the time. So here goes. People that are not inolved in climate change discussions may not think about climate change in the framework of changing sea level, melting ice, and altered severity of extreme events. However, many people observe birds, butterflies, and trees outside their apartment windows, cars/trains/buses, or on walks or hikes. When you live in a one place for many years changes in the timing of when birds, butterflies, and trees do certain things are easily noticed. Many of us, including myself, don’t necessarily record these changes, but some do! In fact, there are many web sites with databases of observations of birds, butterflies, and more that anyone, not just scientists, can submit observations to. Some examples are the &lt;a href=&quot;https://www.usanpn.org/&quot;&gt;USA National Phenology Network&lt;/a&gt; and &lt;a href=&quot;http://www.inaturalist.org/&quot;&gt;iNaturalist&lt;/a&gt;. And of course there are other databases that are focused on observations of organisms collected by scientists, like &lt;a href=&quot;http://www.gbif.org/&quot;&gt;GBIF&lt;/a&gt; and &lt;a href=&quot;http://vertnet.org/index.php&quot;&gt;VertNet&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;So what? What about it?&lt;/p&gt;

&lt;p&gt;When enough of these observations are collected on any one species in one location (e.g., let’s say we have 1000 observations of a species in Seattle over 20 years) we can simply ask how has the first date of record of the species in Seattle changed through time? If there is a change in timing of first appearance in the spring through the years, we can hypothesize that this may be due to climate change, and look at the data to see if there is a correlation, etc.&lt;/p&gt;

&lt;p&gt;Non-scientists along with scientists are collecting vast amounts of data on observations of species. This data can be used to make people think about climate change. That is, why don’t we not only facilitate the public’s ability to collect data, but also to analyze the data - to do their own science, ask their own questions. In this way, people can link a bird appearing for the first time in spring a bit later than the previous year, or a tree flowering a bit early, to variables associated with climate change, like temperature, precipitation, etc.&lt;/p&gt;

&lt;p&gt;Empowering the general public to do their own science may bring the vague notion of climate change into stark relief - thereby movivating some to take action with their elected representatives, or to at least get curious to find out more.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Working with climate data from the web in R</title>
   <link href="http://recology.info//2013/08/sciordata/"/>
   <updated>2013-08-17T00:00:00-07:00</updated>
   <id>http://recology.info//2013/08/sciordata</id>
   <content type="html">&lt;p&gt;I recently attended &lt;a href=&quot;http://scioclimate.wikispaces.com&quot;&gt;ScienceOnline Climate&lt;/a&gt;, a conference in Washington, D.C. at AAAS. You may have heard of the &lt;a href=&quot;https://twitter.com/#sciox&quot;&gt;ScienceOnline annual meeting in North Carolina&lt;/a&gt; - this was one of their topical meetings focused on Climate Change. I moderated a session on &lt;a href=&quot;http://scioclimate.wikispaces.com/3W.+Working+With+Science+Data+From+Around+The+Web&quot;&gt;working with data from the web in R&lt;/a&gt;, focusing on climate data. Search Twitter for #scioClimate for tweets from the conference, and #sciordata for tweets from the session I ran. The following is an abbreviated demo of what I did in the workshop showing some of what you can do with climate data in R using our packages.&lt;/p&gt;

&lt;p&gt;Before digging in, why would you want to get climate data programatically vs. via pushing buttons in a browser? Learning a programming language can take some time - we all already know how to use browsers. So why?!  First, getting data programatically, especially in R (or Python), allows you to then easily do other stuff, like manipulate data, visualize, and analyze data. Second, if you do your work programatically, &lt;strong&gt;you&lt;/strong&gt; and &lt;em&gt;others&lt;/em&gt; can reproduce, and extend, the work you did with little extra effort. Third, programatically getting data makes tasks that are repetitive and slow, fast and easy - you can’t easily automate button clicks in a browser. Fourth, you can combine code with writing to make your entire workflow reproducible, whether it’s notes, a blog post, or even a research article.&lt;/p&gt;

&lt;h2 id=&quot;interactive-visualizations-in-r&quot;&gt;Interactive visualizations in R&lt;/h2&gt;

&lt;p&gt;Let’s start off with something shiny. The majority of time I make static visualizations, which are great for me to look at during analyses, and for publications of research findings in PDFs. However, static visualizations don’t take advantage of the interactive nature of the web. Ramnath Vaidyanathan has developed an R package, &lt;a href=&quot;https://github.com/ramnathv/rCharts&quot;&gt;rCharts&lt;/a&gt;, to generate dynamic Javascript visualizations directly from R that can be used interactively in a browser. Here is an example visualizing a dataset that comes with R.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rCharts&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ramnathv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rCharts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Load a data set
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hair_eye_male&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;subset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;as.data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;HairEyeColor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Male&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Make a javascript plot object
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nPlot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Freq&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Hair&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Eye&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hair_eye_male&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;multiBarChart&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Visualize
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;show&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cdn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Check out the output &lt;a href=&quot;http://recology.info/vis/nvd3_eg.html&quot;&gt;here&lt;/a&gt;. If you like you can take the source code from the visualization (right click on select &lt;em&gt;View Page Source&lt;/em&gt;) and put it in your html files, and you’re good to go (as long as you have dependencies, etc.) - quicker than learning &lt;a href=&quot;http://d3js.org/&quot;&gt;d3&lt;/a&gt; and company from scratch, eh. This is a super simple example, but you can imagine the possibilities.&lt;/p&gt;

&lt;h2 id=&quot;the-data-itself&quot;&gt;The data itself&lt;/h2&gt;

&lt;h3 id=&quot;first-install-some-packages---these-are-all-just-on-github-so-you-need-to-have-devtools-installed&quot;&gt;First, install some packages - these are all just on Github, so you need to have devtools installed&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;govdat&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;sckott&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rnoaa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ropensci&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rWBclimate&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ropensci&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rnpn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ropensci&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;politicians-talk---sunlight-foundation-listens&quot;&gt;Politicians talk - Sunlight Foundation listens&lt;/h3&gt;

&lt;h4 id=&quot;look-at-mentions-of-the-phrase-climate-change-in-congress-using-the-govdat-package&quot;&gt;Look at mentions of the phrase “climate change” in congress, using the govdat package&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;govdat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Get mentions of climate change from Democrats
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat_d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sll_cw_timeseries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;phrase&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;climate change&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;party&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;D&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Add a column that says this is data from deomcrats
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat_d&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;party&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;D&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat_d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Get mentions of climate change from Democrats
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat_r&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sll_cw_timeseries&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;phrase&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;climate change&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;party&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;R&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Add a column that says this is data from republicans
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat_r&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;party&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;R&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat_r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Put two tables together
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat_both&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat_d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dat_r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Plot data
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat_both&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;day&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colour&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;party&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_grey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;geom_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;scale_colour_manual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;values&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;blue&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;red&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-08-17-sciordata/govdat.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;noaa-climate-data-using-the-rnoaa-package&quot;&gt;NOAA climate data, using the rnoaa package&lt;/h3&gt;

&lt;h4 id=&quot;map-sea-ice-for-12-years-for-april-only-for-the-north-pole&quot;&gt;Map sea ice for 12 years, for April only, for the North pole&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rnoaa&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scales&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;doMC&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plyr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Get URLs for data
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;urls&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;seaiceeurls&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Apr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pole&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;N&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Download sea ice data
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;registerDoMC&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cores&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;llply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;urls&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;noaa_seaice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;storepath&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;~/seaicedata&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;.parallel&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Name elements of list
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;seq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1979&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1990&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Make a data.frame
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ldply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Plot data
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;long&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;group&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geom_polygon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;steelblue&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;theme_ice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;facet_wrap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-08-17-sciordata/seaice2.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;world-bank-climate-data-using-the-rwbclimate-package&quot;&gt;World Bank climate data, using the rWBclimate package&lt;/h3&gt;

&lt;h4 id=&quot;plotting-annual-data-for-different-countries&quot;&gt;Plotting annual data for different countries&lt;/h4&gt;

&lt;p&gt;Data can be extracted from countries or basins submitted as vectors. Here we will plot the expected temperature anomaly for each 20 year period over a baseline control period of 1961-2000. These countries chosen span the north to south pole. It’s clear from the plot that the northern most countries (US and Canada) have the biggest anomaly, and Belize, the most equatorial country, has the smallest anomaly.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rWBclimate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Search for data
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;country.list&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;CAN&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;USA&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;MEX&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;BLZ&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ARG&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;country.dat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_model_temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;country.list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;annualanom&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2010&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Subset data to one specific model
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;country.dat.bcc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;country.dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;country.dat&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gcm&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;bccr_bcm2_0&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Exclude A2 scenario
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;country.dat.bcc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;subset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;country.dat.bcc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;country.dat.bcc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scenario&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;a2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Plot data
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;country.dat.bcc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fromYear&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colour&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;locator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;geom_point&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geom_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ylab&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Temperature anomaly over baseline&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;theme_bw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-08-17-sciordata/unnamed-chunk-1.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;phenology-data-from-the-usa-national-phenology-network-using-rnpn&quot;&gt;Phenology data from the USA National Phenology Network, using rnpn&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rnpn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Lookup names
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lookup_names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;bird&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;common&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;comnames&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;species_id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;357&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;359&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1108&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;common_name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Get some data
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getobsspbyday&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;speciesid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;357&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;359&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1108&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;startdate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;2010-04-01&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;enddate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;2013-09-31&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;comnames&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ldply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Visualize data
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geom_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_grey&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;facet_grid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt; 
    &lt;span class=&quot;err&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-08-17-sciordata/rnpn.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;feedback-and-new-climate-data-sources&quot;&gt;Feedback and new climate data sources&lt;/h3&gt;

&lt;p&gt;Do use the above pacakges (&lt;a href=&quot;https://github.com/sckott/govdat&quot;&gt;govdat&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rnoaa&quot;&gt;rnoaa&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rWBclimate&quot;&gt;rWBclimate&lt;/a&gt;, and &lt;a href=&quot;https://github.com/ropensci/rnpn&quot;&gt;rnpn&lt;/a&gt;) to get climate data, and get in touch with bug reports, and feature requests.&lt;/p&gt;

&lt;p&gt;Surely there are other sources of climate data out there that you want to use in R, right? Let us know what else you want to use. Better yet, if you can sling some R code, start writing your own package to interact with a source of climate data on the web - we can lend a hand.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>R ecology workshop</title>
   <link href="http://recology.info//2013/07/r-ecology-workshop/"/>
   <updated>2013-07-31T00:00:00-07:00</updated>
   <id>http://recology.info//2013/07/r-ecology-workshop</id>
   <content type="html">&lt;p&gt;After &lt;a href=&quot;http://sckott.github.io/2013/07/r-resources/&quot;&gt;my presentation yesterday&lt;/a&gt; to a group of grad students on R resources, I did a presentation today on intro to R data manipulation, visualizations, and analyses/visualizations of biparite networks and community level analyses (diversity, rarefaction, ordination, etc.). As I said &lt;a href=&quot;http://sckott.github.io/2013/07/r-resources/&quot;&gt;yesterday&lt;/a&gt; I’ve been playing with two ways to make reproducible presentations in R: &lt;a href=&quot;http://www.rstudio.com/ide/docs/presentations/overview&quot;&gt;RStudio’s presentations&lt;/a&gt; built in to RStudio IDE, and &lt;a href=&quot;http://slidify.org/&quot;&gt;Slidify&lt;/a&gt;. Yesterday I went with RStudio’s product - today I used Slidify. See the Markdown file for the presentation &lt;a href=&quot;https://github.com/sckott/posterstalks/blob/gh-pages/sfu/resources/r_resources.Rpres&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Check out the presentation slides &lt;a href=&quot;https://bitly.com/sfuworkshop&quot;&gt;here&lt;/a&gt;, and if you want, fork &lt;a href=&quot;http://bit.ly/1bKVX2O&quot;&gt;the code on Github&lt;/a&gt;, change it, submit changes back to me, etc. (click on the image to go to slides)&lt;/p&gt;

&lt;p&gt;How I actually ran the 2 hr workshop was to present a few slides, then live demo writing the code out with students following along, with a number of times where they do something on their own.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://bitly.com/sfuworkshop&quot;&gt;&lt;img src=&quot;/public/img/pres.png&quot; /&gt;&amp;lt;/img&amp;gt;&lt;/a&gt;&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>R resources</title>
   <link href="http://recology.info//2013/07/r-resources/"/>
   <updated>2013-07-30T00:00:00-07:00</updated>
   <id>http://recology.info//2013/07/r-resources</id>
   <content type="html">&lt;p&gt;I’m doing a presentation today to grad students on R resources. I have been writing HTML presentations recently, but some great tools are now available to convert text that is easy to read and write to presentations.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;RStudio has something called &lt;code class=&quot;highlighter-rouge&quot;&gt;R presentations&lt;/code&gt;, that is basically Markdown. This tool is built in to RStudio. See some docs &lt;a href=&quot;http://www.rstudio.com/ide/docs/presentations/overview&quot;&gt;here&lt;/a&gt;. A cool feature of RStudio’s presentations is that the preview of the presentation live updates on each save - nice &lt;i class=&quot;icon-thumbs-up&quot;&gt;&lt;/i&gt;&lt;/li&gt;
  &lt;li&gt;Another option is the slidify package, made by &lt;a href=&quot;https://github.com/ramnathv&quot;&gt;Ramnath Vaidyanathan&lt;/a&gt;. The canonical url for slidify is &lt;a href=&quot;http://slidify.org/&quot;&gt;here&lt;/a&gt;. Slidify gives you more options and flexibity than RStudio presentations.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;For this presentation I went with RStudio’s product. See the Markdown file for the presentation &lt;a href=&quot;https://github.com/sckott/posterstalks/blob/gh-pages/sfu/resources/r_resources.Rpres&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Check out the presentation slides here, and if you want, fork it on Github, change it, submit changes back to me, etc. (click to go to slides)&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;!-- ![](/public/img/rstudio_pres.png) --&gt;

&lt;p&gt;&lt;a href=&quot;http://rpubs.com/recology_/rresources&quot;&gt;&lt;img src=&quot;/public/img/rstudio_pres.png&quot; /&gt;&amp;lt;/img&amp;gt;&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Beyond academia</title>
   <link href="http://recology.info//2013/07/beyond-academia/"/>
   <updated>2013-07-25T00:00:00-07:00</updated>
   <id>http://recology.info//2013/07/beyond-academia</id>
   <content type="html">&lt;p&gt;As ecologists, we often start graduate school worshiping the ivory tower of academia with its freedom to pursue important ecological questions. However, studies have shown that most of us do not end up in academia. Greater numbers of ecology graduates are leaving the ivory tower for non-academic career paths. But for many graduates, moving from an academic environment to a non-academic job may be difficult. In graduate school we are trained to work in a particular way, often with loose deadlines and unlimited intellectual freedom (within reason of course). The culture and expectations of the non-academic world may be quite different. What are the skills that you need in a government job, or in science journalism? How do you market yourself for a non-academic position? This is a timely topic because funding to academic ecologists is being cut, leaving fewer opportunities in the academic arena. In fact, an ESA Student Section survey found that an ESA 2013 session on non-academic career paths in ecology was the topic of greatest interest.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://sandrachung.com/&quot;&gt;Sandra Chung&lt;/a&gt; and I organized an ESA lunchtime session on Tuesday the 6th with panelists from an array of non-academic careers to offer advice and share their experiences. Each panelist will speak briefly, introducing themselves and a bit about what they do. About half of the time will be reserved for an open discussion in which you all attending the session help decide what to talk about.&lt;/p&gt;

&lt;p&gt;You can find the description of the session at the ESA site &lt;a href=&quot;http://eco.confex.com/eco/2013/webprogram/Session9083.html&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;The details:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;When: Tuesday, August 6, 2013: 11:30 AM-1:15 PM&lt;/li&gt;
  &lt;li&gt;Where: 101B, Minneapolis Convention Center&lt;/li&gt;
  &lt;li&gt;Who (the panelists):
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;http://www.virginiagewin.com/&quot;&gt;Virginia Gewin&lt;/a&gt;: Independent science journalist (w/ work in Science/Nature/etc.)&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;http://www.compassonline.org/staff/LizNeeley&quot;&gt;Liz Neeley&lt;/a&gt;: Science communication/journalism at COMPASS (a non-profit org.)&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;http://www.lpzoo.org/conservation-science/resources/staff-bios/joseph-l-simonis-phd&quot;&gt;Joe Simonis&lt;/a&gt;: Research scientist at the Lincon Park Zoo (a non-profit org.)&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;http://emhart.github.io/&quot;&gt;Ted Hart&lt;/a&gt;: Soon to be statistician at NEON&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;http://linkd.in/15NCg3j&quot;&gt;Lael Goodman&lt;/a&gt;: Analyst w/ the Union of Concerned Scientists&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Get involved&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;As a placeholder on the web for things related to Beyond Academia, and a place to find out more about the session at ESA, we started a wiki. Check it out &lt;a href=&quot;http://beyondacademia.wikispaces.com/home&quot;&gt;here&lt;/a&gt;. Please do visit the wiki, and contribute your ideas for topics to discuss. In addition, we have a &lt;em&gt;Resources&lt;/em&gt; page on the wiki &lt;a href=&quot;http://beyondacademia.wikispaces.com/Resources&quot;&gt;here&lt;/a&gt; to collect resources related to moving beyond academia.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>On writing, sharing, collaborating, and hosting code for science</title>
   <link href="http://recology.info//2013/07/code/"/>
   <updated>2013-07-20T00:00:00-07:00</updated>
   <id>http://recology.info//2013/07/code</id>
   <content type="html">&lt;p&gt;I recently engaged with a number of tweeps in response to my tweet:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;Rule number 1 wrt science code: DO NOT post your code on your personal website&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;That tweet wasn’t super clear, and it’s difficult to convey my thoughts in a tweet. What I should have said was do post your code - ideally on Github/Bitbucket/etc. Here goes with a much longer version to explain what I meant. The tweet was just about where to host code, whereas the following is about more than that, but related.&lt;/p&gt;

&lt;h3 id=&quot;code-writing-during-analyses-etc&quot;&gt;Code writing during analyses, etc.&lt;/h3&gt;

&lt;p&gt;When you write code to do simulations, analyses, data manipulation, visualization - whatever it is - it helps to version your code. That is, not naming files like &lt;em&gt;myfile_v1.r&lt;/em&gt;, &lt;em&gt;myfile_v2.r&lt;/em&gt;, etc., but with versioning using version control systems (VCS) like &lt;a href=&quot;http://git-scm.com/&quot;&gt;git&lt;/a&gt;, &lt;a href=&quot;http://subversion.apache.org/&quot;&gt;svn&lt;/a&gt;, &lt;a href=&quot;http://mercurial.selenic.com/wiki/&quot;&gt;mercurial&lt;/a&gt;, etc. Although git will give you headaches during the learning process, it takes care of versioning your code for you, finding differences in different versions, helps you manage conflicts from different contributors, and allows you to restore that old code you accidentally deleted.&lt;/p&gt;

&lt;p&gt;And you don’t have to use git or svn on a code hosting site - you can use git or svn locally on your own machine. However, there are many benefits to putting your code up on the interwebs.&lt;/p&gt;

&lt;h3 id=&quot;collaborating-on-code&quot;&gt;Collaborating on code&lt;/h3&gt;

&lt;p&gt;Whenever you collaborate on code writing you have the extreme joy of dealing with conflicts. Perhaps you use Dropbox for collaborating on some code writing. Crap, now there is a line of code that messes up the analysis, and you don’t know who put it there, and why it’s there. Wouldn’t it be nice to have a place to collect bugs in the code.&lt;/p&gt;

&lt;p&gt;All of these things become easy if you host code on a service such as Github. If you are already versioning your code with git you are in luck - all you need to do is create an account on github/bitbucket and push your code up. If not, you should definitley learn git.&lt;/p&gt;

&lt;p&gt;Hosting your code on Github (or Bitbucket, etc.) allows each collaborator to work separately on the code simultaneously, then merge their code together, while git helps you take care of merging. An awesome feature of git (and other VCS’s) is branching. What the heck is that? Basically, you can create a complete copy of your git project, do any changes you want, then throw it away or merge it back in to your main branch. Pretty sweet.&lt;/p&gt;

&lt;h3 id=&quot;sharing-your-code&quot;&gt;Sharing your code&lt;/h3&gt;

&lt;p&gt;Whether sharing your code with a collaborator, or with the world, if you put code on a website created specifically for hosting code, I would argue your life would be easier. Groups like Github and Bitbucket have solved a lot of problems around versioning code, displaying it, etc., whereas your website (whether it be Google sites, Wordpress, Tumblr, etc.) can not say the same.&lt;/p&gt;

&lt;p&gt;It is becoming clear to many that open science has many benefits. For the sake of transparency and contributing to the public science good, I would argue that sharing your code is the right thing to do, especially given that most of us are publicly funded. However, even if you don’t want to share your code publicly, you can get free private hosting with an &lt;a href=&quot;https://github.com/edu&quot;&gt;academic discount on Github&lt;/a&gt;, and Bitbucket gives you private hosting for free.&lt;/p&gt;

&lt;h3 id=&quot;contributing-to-the-software-you-use&quot;&gt;Contributing to the software you use&lt;/h3&gt;

&lt;p&gt;Much of the software you and I use in R, Python, etc. is likely hosted on a code hosting platform such as Github, Bitbucket, R-Forge, etc. Code gets better faster if its users report bugs and request features to the software authors. By creating an account on Github, for example, to host your own code, you can easily report bugs or request features where others are developing software you use. This is better than email as only those two people get the benefit of learning from the conversation - while engaging where the software is created, or on a related mailing list, helps everyone.&lt;/p&gt;

&lt;h3 id=&quot;on-long-term-availability-of-code&quot;&gt;On long-term availability of code&lt;/h3&gt;

&lt;p&gt;Where is the best place to host your code in the long-term. Some may trust their own website over a company - a company can go out of business, be sold to another company and then be shut down, etc. However, code on personal websites can also be lost if a person moves institutions, etc. If you use a VCS, and host your code on Bitbucket/Github/Etc., even if they shut down, you will always have the same code that was up on their site, and you can host it on the newer awesome code hosting site. In addition, even if a company shuts down and you have to move your code, you are getting all the benefits as stated above.&lt;/p&gt;

&lt;h3 id=&quot;anyway&quot;&gt;Anyway…&lt;/h3&gt;

&lt;p&gt;My point is this: do post your code somewhere, even if on your own site, but I think you’ll find that you and others can get the most out of your code if you host it on Bitbucket, Github, etc. Do tell me if you think I’m wrong and why.&lt;/p&gt;

&lt;h3 id=&quot;a-few-resources-if-youre-so-inclined&quot;&gt;A few resources if you’re so inclined&lt;/h3&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;a href=&quot;http://hybridpedagogy.com/Journal/files/GitHub_for_Academics.html&quot;&gt;Push, Pull, Fork: GitHub for Academics&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Carl Boettiger has some interesting posts on &lt;a href=&quot;http://carlboettiger.info/2012/05/06/research-workflow.html&quot;&gt;research workflow&lt;/a&gt; and &lt;a href=&quot;http://carlboettiger.info/2012/12/06/github-issues-tracker:-the-perfect-research-todo-list&quot;&gt;github issues as a research to do list&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Do have a look at &lt;a href=&quot;http://inundata.org/&quot;&gt;Karthik Ram’s&lt;/a&gt; paper on how git can facilitate greater reproducibility and transparency in science &lt;a href=&quot;http://www.scfbm.org/content/8/1/7/abstract&quot;&gt;here&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;Github is posting a bunch of videos on Youtube that are quite helpful for learning how to use git and Github &lt;a href=&quot;https://www.youtube.com/channel/UCP7RrmoueENv9TZts3HXXtw&quot;&gt;here&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Git GUIs make using git easier:
    &lt;ul&gt;
      &lt;li&gt;&lt;a href=&quot;http://www.sourcetreeapp.com/&quot;&gt;SourceTree&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;http://gitboxapp.com/&quot;&gt;GitBox&lt;/a&gt;&lt;/li&gt;
      &lt;li&gt;&lt;a href=&quot;http://mac.github.com/&quot;&gt;Github’s git GUI&lt;/a&gt;&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>R to GeoJSON</title>
   <link href="http://recology.info//2013/06/geojson/"/>
   <updated>2013-06-30T00:00:00-07:00</updated>
   <id>http://recology.info//2013/06/geojson</id>
   <content type="html">&lt;p&gt;&lt;strong&gt;UPDATE&lt;/strong&gt; As you can see in Patrick’s comment below you can convert to GeoJSON format files with rgdal as an alternative to calling the Ogre web API described below. See &lt;a href=&quot;https://github.com/patperu/write2geojson/blob/master/write-geojson.R&quot;&gt;here&lt;/a&gt; for example code for converting to GeoJSON with rgdal.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;GitHub recently introduced the ability to render &lt;a href=&quot;http://en.wikipedia.org/wiki/GeoJSON&quot;&gt;GeoJSON&lt;/a&gt; files on their site as maps &lt;a href=&quot;https://github.com/blog/1528-there-s-a-map-for-that&quot;&gt;here&lt;/a&gt;, and recently introduced &lt;a href=&quot;https://github.com/blog/1541-geojson-rendering-improvements&quot;&gt;here&lt;/a&gt; support for &lt;a href=&quot;https://github.com/mbostock/topojson&quot;&gt;TopoJSON&lt;/a&gt;, an extension of GeoJSON can be up to 80% smaller than GeoJSON, support for other file extensions (&lt;code class=&quot;highlighter-rouge&quot;&gt;.topojson&lt;/code&gt; and &lt;code class=&quot;highlighter-rouge&quot;&gt;.json&lt;/code&gt;), and you can embed the maps on other sites (so awesome). The underlying maps used on GitHub are &lt;a href=&quot;http://www.openstreetmap.org/&quot;&gt;Openstreet Maps&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;A recent blog post showed how to convert .shp or .kml files to GeoJSON to then upload to GitHub &lt;a href=&quot;http://ben.balter.com/2013/06/26/how-to-convert-shapefiles-to-geojson-for-use-on-github/&quot;&gt;here&lt;/a&gt;. The approach used Ruby on the command line locally to convert the geospatial files to GeoJSON.&lt;/p&gt;

&lt;p&gt;Can we do this in R? Perhaps others have already done this, but there’s more than one way to do anything, no?&lt;/p&gt;

&lt;p&gt;I’m not aware of a converter to GeoJSON within R, but there is a web service that can do this, called &lt;a href=&quot;http://ogre.adc4gis.com/&quot;&gt;Ogre&lt;/a&gt;. The service lets you &lt;code class=&quot;highlighter-rouge&quot;&gt;POST&lt;/code&gt; a file, which then converts to GeoJSON and gives it back to you. Ogre accepts many different file formats: BNA, CSV, DGN, DXF, zipped shapefiles, GeoConcept, GeoJSON, GeoRSS, GML, GMT, KML, MapInfo, and VRT.&lt;/p&gt;

&lt;p&gt;We can use the Ogre API to upload a local geospatial file of various formats and get the GeoJSON back, then put it up on GitHub, and they render the map for you. Sweetness.&lt;/p&gt;

&lt;p&gt;So here’s the protocol.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;load-httr-what-is-httr-for-those-not-in-the-know-it-is-a-simpler-wrapper-around-rcurl-a-curl-interface-for-r&quot;&gt;1. Load httr. What is httr? For those not in the know it is a simpler wrapper around RCurl, a curl interface for R.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# install.packages(&#39;httr&#39;)
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;httr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;here-is-a-function-to-convert-your-geospatial-files-to-geojson-with-roxygen-docs&quot;&gt;2. Here is a function to convert your geospatial files to GeoJSON (with roxygen docs).&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;togeojson&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;writepath&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;~&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;http://ogre.adc4gis.com/convert&quot;&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;tt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;POST&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;upload&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;upload_file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;content&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fileConn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;writepath&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;writeLines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fileConn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fileConn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;convert-a-file-to-geojson&quot;&gt;3. Convert a file to GeoJSON&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;KML&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;In the first line I specify the location of the file on my machine. In the second line the function &lt;code class=&quot;highlighter-rouge&quot;&gt;togeojson&lt;/code&gt; reads in the file, sends the file to the API endpoint &lt;em&gt;http://ogre.adc4gis.com/convert&lt;/em&gt;, collects the returned GeoJSON object, and saves the GeoJSON to a file that you specify. Here we are converting a KML file with point occurrences (data collected from &lt;a href=&quot;http://bison.usgs.ornl.gov/&quot;&gt;USGS’s BISON service&lt;/a&gt;).&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;~/github/sac/rgeojson/acer_spicatum.kml&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;togeojson&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;~/github/sac/rgeojson/acer_spicatum.geojson&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;strong&gt;Shapefiles&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Here, we are converting a zip file containing shape files for &lt;em&gt;Pinus contorta&lt;/em&gt; (data collected from the USGS &lt;a href=&quot;http://esp.cr.usgs.gov/data/little/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;~/github/sac/rgeojson/pinucont.zip&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;togeojson&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;~/github/sac/rgeojson/pinus.geojson&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;then-commit-and-push-to-github-and-this-is-what-they-look-like-on-github&quot;&gt;4. Then commit and push to GitHub. And this is what they look like on GitHub&lt;/h3&gt;

&lt;p&gt;&lt;em&gt;Acer spicatum&lt;/em&gt; distribution (points)&lt;/p&gt;

&lt;!-- ![](/public/img/acer_spiacdtum_dist.png) --&gt;
&lt;script src=&quot;https://embed.github.com/view/geojson/sckott/rgeojson/output/acer_spicatum.geojson&quot;&gt;&lt;/script&gt;

&lt;p&gt;&lt;em&gt;Pinus contorta&lt;/em&gt; distribution (polygons)&lt;/p&gt;

&lt;!-- ![](/public/img/pinus_dist.png) --&gt;
&lt;script src=&quot;https://embed.github.com/view/geojson/sckott/rgeojson/output/pinus.geojson&quot;&gt;&lt;/script&gt;

&lt;hr /&gt;

&lt;p&gt;If you want, you can clone a repo from my account. Then do the below. (of course, you must have git installed, and have a GitHub account…)&lt;/p&gt;

&lt;p&gt;First, fork my &lt;code class=&quot;highlighter-rouge&quot;&gt;rgeojson&lt;/code&gt; repo &lt;a href=&quot;https://github.com/sckott/rgeojson&quot;&gt;here&lt;/a&gt; to your GitHub account.&lt;/p&gt;

&lt;p&gt;Second, in your terminal/command line…&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;git clone https://github.com/&amp;lt;yourgithubusername&amp;gt;/rgeojson.git
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;rgeojson&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Third, in R specify the location of either the KML file or the zipped shape files, then call &lt;code class=&quot;highlighter-rouge&quot;&gt;togeojson&lt;/code&gt; function to convert the KML file to a GeoJSON file (which should output a file &lt;em&gt;acer_spicatum.geojson&lt;/em&gt;)&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/path/to/acer_spicatum.kml&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;togeojson&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;~/path/to/write/to/acer_spicatum.geojson&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Fourth, back in the terminal…&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;git add acer_spicatum.geojson
git commit -a -m &lt;span class=&quot;s1&quot;&gt;&#39;some cool commit message&#39;&lt;/span&gt;
git push&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Fifth, go to your &lt;em&gt;rgeojson&lt;/em&gt; repo on GitHub and click on the &lt;em&gt;acer_spicatum.geojson&lt;/em&gt; file, and the map should render.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;Look for this functionality to come to the &lt;a href=&quot;https://github.com/ropensci/rbison&quot;&gt;rbison&lt;/a&gt; and &lt;a href=&quot;https://github.com/ropensci/rgbif&quot;&gt;rgbif&lt;/a&gt; R packages soon. Why is that cool?  Think of the workflow: Query for species occurrence data in the BISON or GBIF databases, convert the results to a GeoJSON file, push to GitHub, and you have an awesome interactive map on the web. Not too bad eh.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Put some cushions on the sofa</title>
   <link href="http://recology.info//2013/06/sofa/"/>
   <updated>2013-06-21T00:00:00-07:00</updated>
   <id>http://recology.info//2013/06/sofa</id>
   <content type="html">&lt;p&gt;I posted earlier this week about sofa (&lt;a href=&quot;http://sckott.github.io/2013/06/couch/&quot;&gt;here&lt;/a&gt;), introducing a package I started recently that interacts with CouchDB from R. There’s been a fair amount of response at least in terms of page views, so I’ll take that as a sign to keep going.&lt;/p&gt;

&lt;p&gt;One thing that would be nice while you are CouchDB-ing is to interact with local &lt;em&gt;and&lt;/em&gt; remote databases. I have incorporated the ability to interact with remote CouchDB databases in many of the functions, not all though. The remote data stores supported right now are Cloudant and Iriscouch.&lt;/p&gt;

&lt;p&gt;Hadley Wickham suggested that a package called &lt;code class=&quot;highlighter-rouge&quot;&gt;sofa&lt;/code&gt; should have something called &lt;code class=&quot;highlighter-rouge&quot;&gt;cushion&lt;/code&gt;. And so it must be. It’s just a small function, called &lt;code class=&quot;highlighter-rouge&quot;&gt;cushion&lt;/code&gt;, which puts a cushion on the sofa, or in reality, sets up your authentication for remote data stores. &lt;code class=&quot;highlighter-rouge&quot;&gt;cushion&lt;/code&gt; just writes your username and password to your options list and then the functions look for your authentication details via &lt;code class=&quot;highlighter-rouge&quot;&gt;getOption&lt;/code&gt;. Of course these auth details aren’t stored permanently - when you restart R you have to write them again to options. You can store them permanently in your &lt;code class=&quot;highlighter-rouge&quot;&gt;.Rprofile&lt;/code&gt; file if you like, usally at ~/.Rprofile by putting in entry like options(cloudant.pwd = “mycoolpassword”).&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;load-sofa&quot;&gt;Load sofa&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# install.packages(&#39;devtools&#39;); library(devtools); install_github(&#39;sofa&#39;, &#39;sckott&#39;)
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sofa&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;put-a-cushion-on-the-sofa---that-is-save-your-auth-details&quot;&gt;Put a cushion on the sofa - that is, save your auth details&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;cushion&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;iriscouch_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;yourusername&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;iriscouch_pwd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;yourpwd&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;cloudant_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;yourusername&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cloudant_pwd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;yourpwd&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;ping-each-server&quot;&gt;Ping each server&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;sofa_ping&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$couchdb
[1] &quot;Welcome&quot;

$version
[1] &quot;1.2.1&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;sofa_ping&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;iriscouch&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$couchdb
[1] &quot;Welcome&quot;

$uuid
[1] &quot;f1cb5d2e881bcb529d2eb2d04f548683&quot;

$version
[1] &quot;1.3.0&quot;

$vendor
$vendor$version
[1] &quot;1.3.0r1&quot;

$vendor$name
[1] &quot;Iris Couch&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;sofa_ping&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;cloudant&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$couchdb
[1] &quot;Welcome&quot;

$version
[1] &quot;1.0.2&quot;

$cloudant_build
[1] &quot;1323&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;p&gt;Now we’ll do similar tasks on a local and two remote databases (cloudant and iriscouch)&lt;/p&gt;

&lt;h3 id=&quot;create-a-database&quot;&gt;Create a database&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;sofa_createdb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;hello_world&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;local&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;  ok 
TRUE &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;sofa_createdb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;hello_world&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;iriscouch&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;iriscouch&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;  ok 
TRUE &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;sofa_createdb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;hello_world&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;cloudant&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cloudant&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;  ok 
TRUE &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;p&gt;Listing your databases is a simple task&lt;/p&gt;

&lt;h3 id=&quot;list-your-databases&quot;&gt;List your databases&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;sofa_listdbs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;local&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt; [1] &quot;_replicator&quot;                &quot;_users&quot;                    
 [3] &quot;alm_couchdb&quot;                &quot;alm_db&quot;                    
 [5] &quot;cheese&quot;                     &quot;dudedb&quot;                    
 [7] &quot;example&quot;                    &quot;foobar&quot;                    
 [9] &quot;foodb&quot;                      &quot;hello_world&quot;               
[11] &quot;helloworld&quot;                 &quot;rplos_db&quot;                  
[13] &quot;shit&quot;                       &quot;shitty&quot;                    
[15] &quot;shitty2&quot;                    &quot;sofadb&quot;                    
[17] &quot;test_suite_db&quot;              &quot;test_suite_db/with_slashes&quot;
[19] &quot;test_suite_reports&quot;         &quot;testr2couch&quot;               
[21] &quot;twitter_db&quot;                &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;sofa_listdbs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;iriscouch&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;iriscouch&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &quot;_replicator&quot; &quot;_users&quot;      &quot;foobar&quot;      &quot;hello_world&quot; &quot;helloworld&quot; 
[6] &quot;mustache&quot;    &quot;stuff&quot;       &quot;thing&quot;      &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;sofa_listdbs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;cloudant&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cloudant&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &quot;dudedb&quot;         &quot;foobar&quot;         &quot;hello_world&quot;    &quot;helloworld&quot;    
[5] &quot;mustache&quot;       &quot;thingsandstuff&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;write-a-document-to-a-database&quot;&gt;Write a document to a database&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;doc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;{\&quot;name\&quot;:\&quot;dude\&quot;,\&quot;icecream\&quot;:\&quot;rocky road\&quot;}&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;sofa_writedoc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;helloworld&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;local&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$ok
[1] TRUE

$id
[1] &quot;da2b0d1eb457dc764a6283fa59001606&quot;

$rev
[1] &quot;1-5406480672da172726810767e7d0ead3&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;sofa_writedoc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;iriscouch&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;helloworld&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;iriscouch&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$ok
[1] TRUE

$id
[1] &quot;0c0858b75a81c464a74119ca2400135d&quot;

$rev
[1] &quot;1-5406480672da172726810767e7d0ead3&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;sofa_writedoc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;cloudant&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;helloworld&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doc&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cloudant&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$ok
[1] TRUE

$id
[1] &quot;b77808eae8ae8d79ae78a373bf5b02d1&quot;

$rev
[1] &quot;1-5406480672da172726810767e7d0ead3&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;p&gt;There’s lots more you can do of course…&lt;/p&gt;

&lt;p&gt;Thoughts? Feelings? Criticism?&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Coffeehouse - an aggregator for blog posts about data, data management, etc.</title>
   <link href="http://recology.info//2013/06/coffeehouse/"/>
   <updated>2013-06-18T00:00:00-07:00</updated>
   <id>http://recology.info//2013/06/coffeehouse</id>
   <content type="html">&lt;p&gt;Have you heard of &lt;a href=&quot;http://www.dataone.org/&quot;&gt;DataONE&lt;/a&gt;? It stands for the Data Observation Network for Earth, and I am involved in the &lt;a href=&quot;http://www.dataone.org/working_groups/community-education-and-engagement&quot;&gt;Community Education and Engagement working group&lt;/a&gt; at DataONE. We try to communicate about data, data management, and similar things to scientists and other DataONE &lt;em&gt;stakeholders&lt;/em&gt;.&lt;/p&gt;

&lt;p&gt;At our last meeting, we decided to start a blog aggregator to pull in to one place blog posts about data, data management, and related topics. Those reading this blog have likely heard of &lt;a href=&quot;http://www.r-bloggers.com/&quot;&gt;R-Bloggers&lt;/a&gt; - and there are many more aggregator blogs. We are calling this blog aggregator &lt;strong&gt;Coffeehouse&lt;/strong&gt; - as it’s sort of a place to gather to talk/read about ideas. Check it out &lt;a href=&quot;https://coffeehouse.dataone.org/&quot;&gt;here&lt;/a&gt;. If you blog about data management think about adding your blog to Coffeehouse - go to the &lt;a href=&quot;https://coffeehouse.dataone.org/add-your-blog/&quot;&gt;&lt;em&gt;Add your blog&lt;/em&gt;&lt;/a&gt; page to do so. A screenshot:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/coffeehouse.png&quot; alt=&quot;&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;The blogs already added to Coffeehouse:&lt;/p&gt;

&lt;p&gt;&lt;i class=&quot;icon-coffee&quot;&gt;&lt;/i&gt; &lt;a href=&quot;http://dataconservancy.org/blog/&quot; target=&quot;_blank&quot;&gt;Data Conservancy&lt;/a&gt;&lt;br /&gt;
&lt;i class=&quot;icon-coffee&quot;&gt;&lt;/i&gt; &lt;a href=&quot;http://datapub.cdlib.org/&quot; target=&quot;_blank&quot;&gt;Data Pub&lt;/a&gt;&lt;br /&gt;
&lt;i class=&quot;icon-coffee&quot;&gt;&lt;/i&gt; &lt;a href=&quot;http://www.datacite.org/&quot; target=&quot;_blank&quot;&gt;DataCite&lt;/a&gt;&lt;br /&gt;
&lt;i class=&quot;icon-coffee&quot;&gt;&lt;/i&gt; &lt;a href=&quot;http://researchremix.wordpress.com/&quot; target=&quot;_blank&quot;&gt;Research Remix&lt;/a&gt;&lt;br /&gt;
&lt;i class=&quot;icon-coffee&quot;&gt;&lt;/i&gt; &lt;a href=&quot;http://blogs.loc.gov/digitalpreservation/&quot; target=&quot;_blank&quot;&gt;The Signal: Digital Preservation&lt;/a&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;The tech/styling details:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;As is obvious we are using Wordpress.org, with the Magazine Basic theme.&lt;/li&gt;
  &lt;li&gt;We don’t accept comments - when someone clicks on the comments button it sends them back to the original post. This is on purpose so that the authors of the post get the comments on their own site.&lt;/li&gt;
  &lt;li&gt;On the top of each post there is an alert to tell you the post is syndicated, and gives a link to the original post. You can close this alert if it’s annoying to you.&lt;/li&gt;
  &lt;li&gt;Style - we have strived to use clean and simple styling to make for a nice reading experience. A cluttered website makes reading painful. And using the &lt;a href=&quot;http://www.icontrolwp.com/our-wordpress-plugins/wordpress-twitter-bootstrap-css-plugin-home/&quot;&gt;Twitter Bootstrap WP plugin&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Icons: done using the &lt;a href=&quot;https://github.com/rachelbaker/Font-Awesome-WordPress-Plugin&quot;&gt;FontAwesome Wordpress Plugin&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;Aggregating posts is done using the &lt;a href=&quot;http://feedwordpress.radgeek.com/&quot;&gt;FeedWordPress plugin&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;The add your blog form: using the &lt;a href=&quot;http://wpninjas.com/ninja-forms/&quot;&gt;Nina forms plugin&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;Analytics: using the &lt;a href=&quot;http://wordpress.org/plugins/gauges/&quot;&gt;Gauges WP plugin&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;That’s it. Let us know if you have any thoughts/comments.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Stashing and playing with raw data locally from the web</title>
   <link href="http://recology.info//2013/06/couch/"/>
   <updated>2013-06-17T00:00:00-07:00</updated>
   <id>http://recology.info//2013/06/couch</id>
   <content type="html">&lt;p&gt;It is getting easier to get data directly into R from the web. Often R packages that retrieve data from the web return useful R data structures to users like a data.frame. This is a good thing of course to make things user friendly.&lt;/p&gt;

&lt;p&gt;However, what if you want to drill down into the data that’s returned from a query to a database in R?  What if you want to get that nice data.frame in R, but you think you may want to look at the raw data later? The raw data from web queries are often JSON or XML data. This type of data, especially JSON, can be easily stored in schemaless so-called NoSQL databases, and queried later.&lt;/p&gt;

&lt;p&gt;A brief aside: What are JSON and XML? This is what JSON looks like (ps if you ever wonder if your JSON is correct, go &lt;a href=&quot;http://jsonlint.com/&quot;&gt;here&lt;/a&gt;):&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;s2&quot;&gt;&quot;name&quot;&lt;/span&gt;: &lt;span class=&quot;s2&quot;&gt;&quot;joe&quot;&lt;/span&gt;,
  &lt;span class=&quot;s2&quot;&gt;&quot;hobby&quot;&lt;/span&gt;: &lt;span class=&quot;s2&quot;&gt;&quot;codemonkey&quot;&lt;/span&gt;,
  &lt;span class=&quot;s2&quot;&gt;&quot;lives&quot;&lt;/span&gt;: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;s2&quot;&gt;&quot;city&quot;&lt;/span&gt;: &lt;span class=&quot;s2&quot;&gt;&quot;San Jose&quot;&lt;/span&gt;,
          &lt;span class=&quot;s2&quot;&gt;&quot;state&quot;&lt;/span&gt;: &lt;span class=&quot;s2&quot;&gt;&quot;CA&quot;&lt;/span&gt;
      &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;This is what XML looks like:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&amp;lt;?xml &lt;span class=&quot;nv&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;1.0&quot;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;UTF-8&quot;&lt;/span&gt; ?&amp;gt;
  &amp;lt;name&amp;gt;joe&amp;lt;/name&amp;gt;
	&amp;lt;hobby&amp;gt;codemonkey&amp;lt;/hobby&amp;gt;
	&amp;lt;lives&amp;gt;
		&amp;lt;city&amp;gt;San Jose&amp;lt;/city&amp;gt;
		&amp;lt;state&amp;gt;CA&amp;lt;/state&amp;gt;
	&amp;lt;/lives&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;But don’t worry if it looks complicated - the project I talk about below, sofa, tries to make the interface to JSON and XML easy. Web APIs almost always return either JSON or XML, so this is the raw data.&lt;/p&gt;

&lt;p&gt;So here’s the use case I imagine, or workflow:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Query a database on the web, and choose to write the raw data to a local database.&lt;/li&gt;
  &lt;li&gt;Do whatever you want with the output R object - analyze, visualize, etc.&lt;/li&gt;
  &lt;li&gt;Now you want to go back and search through some of the raw data. But, that query took an hour. Since you wrote it to a local database, you can search the data.&lt;/li&gt;
  &lt;li&gt;If you hadn’t written it locally, you would have to make a new web call.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Note that if you are doing calls to web APIs that get small amounts of data you don’t need to worry too much as you can easily just do the call again.&lt;/p&gt;

&lt;p&gt;I’ve started an R package to interact with the NoSQL database &lt;a href=&quot;http://couchdb.apache.org/&quot;&gt;CouchDB&lt;/a&gt;. CouchDB is a schemaless database that speaks JSON, so you can store JSON and get back JSON (don’t worry XML, we got you covered - we can just wrap the XML in JSON before putting it in CouchDB). What’s especially cool is you can interact with CouchDB via &lt;a href=&quot;http://docs.couchdb.org/en/latest/api-basics.html&quot;&gt;a RESTful API&lt;/a&gt;. CouchDB doesn’t have full text search built in (though you can build map-reduce &lt;em&gt;Views&lt;/em&gt;, basically preset queries on the database), so I added functions (and docs to help) to interact with the &lt;a href=&quot;https://github.com/elasticsearch/elasticsearch-river-couchdb/blob/master/README.md&quot;&gt;CouchDB River plugin&lt;/a&gt; for &lt;a href=&quot;http://www.elasticsearch.org/&quot;&gt;Elasticsearch&lt;/a&gt;, which provides powerful full text search via an API interface. But nevermind the tech details - all this just means you can search on the full text of your stored data.&lt;/p&gt;

&lt;p&gt;There are plenty of databases you can interact with from R, so why CouchDB? For one, it makes a lot of sense to write to a NoSQL database since this blog post is dealing with a use case writing JSON, which isn’t a good fit for databases like MySQL, SQLite, PostgreSQL, etc. (&lt;a href=&quot;http://wiki.postgresql.org/wiki/What&#39;s_new_in_PostgreSQL_9.2#JSON_datatype&quot;&gt;though postgres allows you to write JSON&lt;/a&gt;). It didn’t have to be CouchDB, but at least to me it seems relatively easy to install, you can interact with it via an HTTP API (if you’re into that, which I am), and it has a nice web interface (navigate to &lt;a href=&quot;http://localhost:5984/_utils/&quot;&gt;http://localhost:5984/_utils/&lt;/a&gt; after starting &lt;code class=&quot;highlighter-rouge&quot;&gt;couchdb&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;Is this for the casual R user? Probably not. But, I imagine there are R users out there that want some more flexibility when it comes to interacting with web data in R. It is nice and tidy to get back an R data.frame from a web call, but having the raw data at your fingertips could be super powerful. I’ll describe using an R package to interact with a web database with &lt;code class=&quot;highlighter-rouge&quot;&gt;sofa&lt;/code&gt; baked in, and discuss a bit about the functions within &lt;code class=&quot;highlighter-rouge&quot;&gt;sofa&lt;/code&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;first-start-couchdb-in-your-terminal&quot;&gt;First start CouchDB in your terminal&lt;/h3&gt;

&lt;p&gt;You can do this from anywhere in your directory. See &lt;a href=&quot;http://couchdb.apache.org/&quot;&gt;here&lt;/a&gt; for instructions on how to install CouchDB.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;couchdb
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;then-start-elasticsearch-in-your-terminal&quot;&gt;Then start elasticsearch in your terminal&lt;/h3&gt;

&lt;p&gt;See &lt;a href=&quot;https://github.com/sckott/sofa&quot;&gt;here&lt;/a&gt; for instructions on how to install Elasticsearch and the River CouchDB plugin.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /usr/local/elasticsearch
bin/elasticsearch -f
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;install-sofa&quot;&gt;Install sofa&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Uncomment these lines if you don&#39;t have these packages installed
# install.packages(&#39;devtools&#39;) library(devtools) install_github(&#39;sofa&#39;,
# &#39;schamberlain&#39;) install_github(&#39;alm&#39;, &#39;ropensci&#39;, ref=&#39;couch&#39;)
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sofa&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;simultaneously-write-data-to-couchdb-along-with-api-calls-using-the-alm-package-to-get-altmetrics-data-on-plos-papers-ping-to-make-sure-couchdb-is-on&quot;&gt;Simultaneously write data to CouchDB along with API calls using the alm package to get altmetrics data on PLoS papers. Ping to make sure CouchDB is on&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;sofa_ping&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;  couchdb   version 
&quot;Welcome&quot;   &quot;1.2.1&quot; &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;create-a-new-database&quot;&gt;Create a new database&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;sofa_createdb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;alm_db&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;  ok 
TRUE &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;write-couchdb-database-name-to-options&quot;&gt;Write couchdb database name to options&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;couch_db_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;alm_db&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;list-the-databases&quot;&gt;List the databases&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;sofa_listdbs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt; [1] &quot;_replicator&quot;                &quot;_users&quot;                    
 [3] &quot;alm_couchdb&quot;                &quot;alm_db&quot;                    
 [5] &quot;dudedb&quot;                     &quot;example&quot;                   
 [7] &quot;poop&quot;                       &quot;rplos_db&quot;                  
 [9] &quot;shit&quot;                       &quot;shitty&quot;                    
[11] &quot;shitty2&quot;                    &quot;test_suite_db&quot;             
[13] &quot;test_suite_db/with_slashes&quot; &quot;test_suite_reports&quot;        
[15] &quot;testr2couch&quot;                &quot;twitter_db&quot;                &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;search-for-altmetrics-normally-wo-writing-to-a-database&quot;&gt;Search for altmetrics normally, w/o writing to a database&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;doi&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1371/journal.pone.0029797&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;          .id pdf html shares groups comments likes citations total
1   bloglines  NA   NA     NA     NA       NA    NA         0     0
2   citeulike  NA   NA      1     NA       NA    NA        NA     1
3    connotea  NA   NA     NA     NA       NA    NA         0     0
4    crossref  NA   NA     NA     NA       NA    NA         6     6
5      nature  NA   NA     NA     NA       NA    NA         4     4
6 postgenomic  NA   NA     NA     NA       NA    NA         0     0&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;search-for-altmetrics-normally-while-writing-to-a-database&quot;&gt;Search for altmetrics normally, while writing to a database&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;doi&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1371/journal.pone.0029797&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;write2couch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;          .id pdf html shares groups comments likes citations total
1   bloglines  NA   NA     NA     NA       NA    NA         0     0
2   citeulike  NA   NA      1     NA       NA    NA        NA     1
3    connotea  NA   NA     NA     NA       NA    NA         0     0
4    crossref  NA   NA     NA     NA       NA    NA         6     6
5      nature  NA   NA     NA     NA       NA    NA         4     4
6 postgenomic  NA   NA     NA     NA       NA    NA         0     0&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;make-lots-of-calls-and-write-them-simultaneously&quot;&gt;Make lots of calls, and write them simultaneously&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# install_github(&#39;rplos&#39;, &#39;ropensci&#39;)
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rplos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;dois&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;searchplos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;terms&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;evolution&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fields&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;doi&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dois&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;write2couch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$`01`
          .id pdf html shares groups comments likes citations total
1   bloglines  NA   NA     NA     NA       NA    NA         0     0
2   citeulike  NA   NA      0     NA       NA    NA        NA     0
3    connotea  NA   NA     NA     NA       NA    NA         0     0
4    crossref  NA   NA     NA     NA       NA    NA         0     0
5      nature  NA   NA     NA     NA       NA    NA         0     0
6 postgenomic  NA   NA     NA     NA       NA    NA         0     0

$`02`
          .id pdf html shares groups comments likes citations total
1   bloglines  NA   NA     NA     NA       NA    NA         0     0
2   citeulike  NA   NA      1     NA       NA    NA        NA     1
3    connotea  NA   NA     NA     NA       NA    NA         0     0
4    crossref  NA   NA     NA     NA       NA    NA         2     2
5      nature  NA   NA     NA     NA       NA    NA         0     0
6 postgenomic  NA   NA     NA     NA       NA    NA         0     0&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;writing-data-to-couchdb-does-take-a-bit-longer&quot;&gt;Writing data to CouchDB does take a bit longer&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;doi&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dois&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;write2couch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;   user  system elapsed 
  1.739   0.016   4.554 &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;alm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;doi&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dois&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;write2couch&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;   user  system elapsed 
  3.579   0.062   6.460 &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;search-using-elasticsearch&quot;&gt;Search using elasticsearch&lt;/h3&gt;
&lt;p&gt;#### tell elasticsearch to start indexing your database&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;elastic_start&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;alm_db&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$ok
[1] TRUE&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;search-your-database&quot;&gt;Search your database&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;elastic_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;alm_db&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;q&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;twitter&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;parse_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;total&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] 679&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;using-views&quot;&gt;Using views&lt;/h3&gt;

&lt;h4 id=&quot;write-a-view---here-letting-key-be-the-default-of-null&quot;&gt;Write a view - here letting key be the default of null&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;sofa_view_put&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;alm_db&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;design_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;myview&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;doc.baseurl&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$ok
[1] TRUE

$id
[1] &quot;_design/myview&quot;

$rev
[1] &quot;1-e7c17cff1b96e4595c3781da53e16ad8&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;get-info-on-your-new-view&quot;&gt;Get info on your new view&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;sofa_view_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;alm_db&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;design_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;myview&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$`_id`
[1] &quot;_design/myview&quot;

$`_rev`
[1] &quot;1-e7c17cff1b96e4595c3781da53e16ad8&quot;

$views
$views$foo
                                    map 
&quot;function(doc){emit(null,doc.baseurl)}&quot; &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;get-data-using-a-view&quot;&gt;Get data using a view&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sofa_view_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;alm_db&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;design_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;myview&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;160&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;results&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] 161&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;values&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;just&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;API&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;call&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;URLs&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &quot;http://alm.plos.org/api/v3/articles&quot;
[2] &quot;http://alm.plos.org/api/v3/articles&quot;
[3] &quot;http://alm.plos.org/api/v3/articles&quot;
[4] &quot;http://alm.plos.org/api/v3/articles&quot;
[5] &quot;http://alm.plos.org/api/v3/articles&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;delete-the-view&quot;&gt;Delete the view&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;sofa_view_del&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dbname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;alm_db&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;design_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;myview&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &quot;&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;what-now&quot;&gt;What now?&lt;/h2&gt;

&lt;p&gt;Well, if no one uses this, then probably nothing. Though, if people think this could be useful:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;It would be cool to make easy hooks into any package making web calls to allow users to write data to CouchDB if they choose to, sort of like the example above with rplos.&lt;/li&gt;
  &lt;li&gt;Perhaps automate some of the setup for CouchDB for users, making system calls so they don’t have to.&lt;/li&gt;
  &lt;li&gt;Performance: As shown above, simultaneously writing data to CouchDB takes longer than not doing so - removing this time difference will make writing to couch more palatable.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2 id=&quot;what-do-you-think&quot;&gt;What do you think?&lt;/h2&gt;

&lt;p&gt;What is your reaction to this post?  Do you have a need for this sort of tool?  Do you have similar use cases that could be addressed with &lt;code class=&quot;highlighter-rouge&quot;&gt;sofa&lt;/code&gt;?&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Fylopic, an R wrapper to Phylopic</title>
   <link href="http://recology.info//2013/06/fylopic/"/>
   <updated>2013-06-01T00:00:00-07:00</updated>
   <id>http://recology.info//2013/06/fylopic</id>
   <content type="html">&lt;h2 id=&quot;what-is-phylopic&quot;&gt;What is PhyloPic?&lt;/h2&gt;

&lt;p&gt;PhyloPic is an awesome new service - I’ll let the creator, &lt;a href=&quot;http://tmkeesey.net/&quot;&gt;Mike Keesey&lt;/a&gt;, explain what it is (paraphrasing here):&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;PhyloPic stores silhouette images of organisms, and each image is associated with taxonomic names, and stores the taxonomy of all taxa, allowing searching by taxonomic names. Anyone can submit silhouettes to PhyloPic.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;What is a silhouette?  It’s like this:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://phylopic.org/assets/images/submissions/bedd622a-4de2-4067-8c70-4aa44326d229.128.png&quot; alt=&quot;A silhouette&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;by Gareth Monger&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;What makes PhyloPic not just awesome, but super awesome? All or most images are licensed under &lt;a href=&quot;http://creativecommons.org/&quot;&gt;Creative Commons licenses&lt;/a&gt;. This means you can use the silhouettes without having to ask or pay - just attribute.&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;what-is-fylopic&quot;&gt;What is fylopic?&lt;/h2&gt;

&lt;p&gt;The idea behind Fylopic is to create modular bits and pieces (i.e., functions) to allow you to add silhouettes to not only ggplot2 plots, but base plots as well. That is, you can simply load fylopic in your R session, and add some silhouettes to your phylogeny, or your barchart, etc. - that is, &lt;code class=&quot;highlighter-rouge&quot;&gt;fylopic&lt;/code&gt; is meant to be a helper in your workflow to add in silhouettes to visualizations.&lt;/p&gt;

&lt;p&gt;Some people prefer base plots while others prefer ggplot2 plots (me!), so it would be nice to have both options. Phylogenies at the moment render faster in base plots. I don’t yet have implementations for base plots, but will come soon, or you can send a pull request to add it.&lt;/p&gt;

&lt;p&gt;One interesting use case could be to be able to get a set of silhouettes, then get a phylogeny for taxa associatd with the silhouettess using the NCBI taxonomy, but it’s not easily available yet (though I may be able to use &lt;a href=&quot;https://github.com/bendmorris/phylocommons&quot;&gt;Ben Morris’ phylocommons&lt;/a&gt; soon. This isn’t doable yet, so in the example below the function &lt;code class=&quot;highlighter-rouge&quot;&gt;make_phylo&lt;/code&gt; creates a phylogeny using &lt;code class=&quot;highlighter-rouge&quot;&gt;ape::rcoal&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;You could also do the reverse -&amp;gt; you have a phylogeny and then you could search Phylopic for silhouettes.&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;info&quot;&gt;Info&lt;/h2&gt;

&lt;p&gt;Check out the Phylopic website &lt;a href=&quot;http://phylopic.org/&quot;&gt;here&lt;/a&gt;, and Phylopic API developer documentation &lt;a href=&quot;http://phylopic.org/api/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Also check out Ben Morris’ Python wrapper to Phylopic &lt;a href=&quot;https://github.com/bendmorris/python-phylopic&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;what-can-you-do-with-fylopic&quot;&gt;What can you do with fylopic?&lt;/h2&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;install-fylopic&quot;&gt;Install fylopic&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;devtools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;fylopic&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;sckott&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fylopic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;quietly&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;plot-a-phylogeny-with-silhouettes-at-the-tips&quot;&gt;Plot a phylogeny with silhouettes at the tips&lt;/h4&gt;

&lt;p&gt;Here, I search for names based on keyword &lt;em&gt;Homo sapiens&lt;/em&gt; - which returns many matche codes. With those results we search for any silhouettes associated with those codes. Then we download images. Finally, make a phylogeny with the silhouettes at the tips. Note that in this eample the phylogeny is just a random coalescent tree made using &lt;code class=&quot;highlighter-rouge&quot;&gt;ape::rcoal&lt;/code&gt; - obviously, in the real world you’d want to do something more useful.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;## search on Homo sapiens
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;searchres&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;search_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Homo sapiens&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;names&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;### which returns UUIDs
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;searchres&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &quot;74aea16b-666b-497a-b2cb-72201ad75a8e&quot;
[2] &quot;1ee65cf3-53db-4a52-9960-a9f7093d845d&quot;
[3] &quot;cc9ad8ee-3a82-4add-8d50-bc78f4ff6956&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;## search for images based on the UUIds
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;output&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;search_images&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uuid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;searchres&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;options&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;pngFiles&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;credit&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s2&quot;&gt;&quot;canonicalName&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;### we got eight matches
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$`15444b9c-f17f-4d6e-89b5-5990096bcfb0`
$`15444b9c-f17f-4d6e-89b5-5990096bcfb0`$supertaxa
[1] &quot;e547cd01-7dd1-495b-8239-52cf9971a609&quot;
[2] &quot;bd88f674-6976-4cb2-a46e-e6a12a8ba463&quot;


$`fedf0e5f-f20a-442c-accf-eb84a3af8c6b`
$`fedf0e5f-f20a-442c-accf-eb84a3af8c6b`$supertaxa
[1] &quot;e547cd01-7dd1-495b-8239-52cf9971a609&quot;
[2] &quot;bd88f674-6976-4cb2-a46e-e6a12a8ba463&quot;


$`a88d3a4c-44d3-409e-87b6-516bd188c709`
$`a88d3a4c-44d3-409e-87b6-516bd188c709`$supertaxa
[1] &quot;e547cd01-7dd1-495b-8239-52cf9971a609&quot;
[2] &quot;bd88f674-6976-4cb2-a46e-e6a12a8ba463&quot;


$`d88164ec-3152-444b-b41c-4757a344a764`
$`d88164ec-3152-444b-b41c-4757a344a764`$supertaxa
[1] &quot;9c6af553-390c-4bdd-baeb-6992cbc540b1&quot;


$`da5eaeb7-1ed2-4b2e-ad4a-49993881d706`
$`da5eaeb7-1ed2-4b2e-ad4a-49993881d706`$supertaxa
[1] &quot;9c6af553-390c-4bdd-baeb-6992cbc540b1&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;## download images
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;myobjs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;uuids&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;128&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;## make the phylogeny
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;make_phylo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pngobj&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;myobjs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-06-01-fylopic/unnamed-chunk-1.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;plot-a-silhouette-behind-a-plot&quot;&gt;Plot a silhouette behind a plot&lt;/h4&gt;

&lt;p&gt;Notice in the below example that you can use normal &lt;code class=&quot;highlighter-rouge&quot;&gt;ggplot2&lt;/code&gt; syntax, and simply add another layer (&lt;code class=&quot;highlighter-rouge&quot;&gt;add_phylopic&lt;/code&gt; from &lt;code class=&quot;highlighter-rouge&quot;&gt;fylopic&lt;/code&gt;) to the plot.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;img&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_image&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;27356f15-3cf8-47e8-ab41-71c6260b2724&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;512&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;qplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sepal.Length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sepal.Width&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;iris&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geom&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;point&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;add_phylopic&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;img&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-06-01-fylopic/unnamed-chunk-2.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;whats-next&quot;&gt;What’s next?&lt;/h2&gt;

&lt;p&gt;This is a side project, so if anyone has interest in helping please do contribute code, report bugs, request features, etc.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>BISON USGS species occurrence data</title>
   <link href="http://recology.info//2013/05/rbison/"/>
   <updated>2013-05-27T00:00:00-07:00</updated>
   <id>http://recology.info//2013/05/rbison</id>
   <content type="html">&lt;p&gt;The USGS recently released a way to search for and get species occurrence records for the USA. The service is called &lt;a href=&quot;http://bison.usgs.ornl.gov/&quot;&gt;BISON&lt;/a&gt; (Biodiversity Information Serving Our Nation). The service has &lt;a href=&quot;http://bison.usgs.ornl.gov/&quot;&gt;a web interface&lt;/a&gt; for human interaction in a browser, and &lt;a href=&quot;http://bison.usgs.ornl.gov/services.html&quot;&gt;two APIs&lt;/a&gt; (application programming interface) to allow machines to interact with their database. One of the APIs allows you to search and retrieve data, and the other gives back maps as either a heatmap or a species occurrence map. The latter is more appropriate for working in a browser, so I’ll leave that to the web app folks.&lt;/p&gt;

&lt;p&gt;The Core Science Analytics and Synthesis (CSAS) program of the US Geological Survey are responsible for BISON, and are the US node of the Global Biodiversity Information Facility (GBIF). BISON data is nested within that of GBIF, but has (or wil have?) additional data not in GBIF, as described on their &lt;em&gt;About&lt;/em&gt; page:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;BISON has been initiated with the 110 million records GBIF makes available from the U.S. and is integrating millions more records from other sources each year&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Have a look at their &lt;em&gt;Data providers&lt;/em&gt; and &lt;em&gt;Statistics&lt;/em&gt; tabs on the BISON website, which list where data comes from and how many searches and downloads have been done on each data provider.&lt;/p&gt;

&lt;p&gt;We (rOpenSci) started an R package to interact with the BISON search API » &lt;code class=&quot;highlighter-rouge&quot;&gt;rbison&lt;/code&gt;. You may be thinking, but if the data in BISON is also in GBIF, why both making another R package for BISON? Good question. As I just said, BISON will have some data GBIF won’t have. Also, the services (search API and map service) are different than those of GBIF.&lt;/p&gt;

&lt;p&gt;Check out the package on GitHub here &lt;a href=&quot;https://github.com/ropensci/rbison&quot;&gt;https://github.com/ropensci/rbison&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Here is a quick run through of some things you can do with &lt;code class=&quot;highlighter-rouge&quot;&gt;rbison&lt;/code&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;install-ribson&quot;&gt;Install ribson&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Install rbison from GitHub using devtools, uncomment to install
# install.packages(&#39;devtools&#39;) library(devtools) install_github(&#39;rbison&#39;,
# &#39;ropensci&#39;)
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rbison&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;search-the-bison-database-for-of-course-bison&quot;&gt;Search the BISON database for, of course, bison&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Do the search
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bison&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;species&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Bison bison&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;scientific_name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;start&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Check that the returned object is the right class (&#39;bison&#39;)
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &quot;bison&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;get-a-summary-of-the-data&quot;&gt;Get a summary of the data&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;bison_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;  total observation fossil specimen unknown
1   761          30      4      709      18&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;summary-by-counties-just-the-first-6-rows&quot;&gt;Summary by counties (just the first 6 rows)&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bison_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;datatype&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;counties&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;  record_id total county_name      state
1     48295     7    Lipscomb      Texas
2     41025    15      Harney     Oregon
3     49017     8    Garfield       Utah
4     35031     2    McKinley New Mexico
5     56013     1     Fremont    Wyoming
6     40045     2       Ellis   Oklahoma&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;summary-of-states&quot;&gt;Summary of states&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;bison_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;datatype&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;states&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;      record_id total county_fips
1    Washington     1          53
2         Texas     8          48
3    New Mexico     8          35
4          Iowa     1          19
5       Montana     9          30
6       Wyoming   155          56
7        Oregon    15          41
8      Oklahoma    14          40
9        Kansas    10          20
10      Arizona     1          04
11       Alaska    29          02
12         Utah    16          49
13     Colorado    17          08
14     Nebraska     1          31
15 South Dakota    61          46&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;map-the-results&quot;&gt;Map the results&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Search for Ursus americanus (american black bear)
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bison&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;species&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Ursus americanus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;scientific_name&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;start&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Sweet, got some data
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bison_data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;  total observation fossil specimen literature unknown centroid
1  3792          59    125     3522         47      39       78&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;make-some-maps-note-that-right-now-the-county-and-state-maps-just-plot-the-conterminous-lower-48-the-map-of-individual-occurrences-shows-the-lower-48--alaska&quot;&gt;Make some maps! Note that right now the county and state maps just plot the conterminous lower 48. The map of individual occurrences shows the lower 48 + Alaska&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# By county
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bisonmap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tomap&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;county&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-05-25-rbison/map11.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# By state
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bisonmap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tomap&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;state&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-05-25-rbison/map12.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Individual locations
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bisonmap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## Rendering map...plotting 199 points&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-05-25-rbison/map13.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;when-plotting-occurrences-you-can-pass-additional-arguments-into-the-bisonmap-function&quot;&gt;When plotting occurrences, you can pass additional arguments into the &lt;code class=&quot;highlighter-rouge&quot;&gt;bisonmap&lt;/code&gt; function.&lt;/h3&gt;

&lt;h4 id=&quot;for-example-you-can-jitter-the-points&quot;&gt;For example, you can jitter the points&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;bisonmap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geom&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geom_jitter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## Rendering map...plotting 199 points&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-05-25-rbison/map2.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;h4 id=&quot;and-you-can-specify-by-how-much-you-want-the-points-to-jitter-here-an-extreme-example-to-make-it-obvious&quot;&gt;And you can specify by how much you want the points to jitter (here an extreme example to make it obvious)&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;bisonmap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geom&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geom_jitter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;jitter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;position_jitter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## Rendering map...plotting 199 points&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-05-25-rbison/map3.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;let-us-know-if-you-have-any-feature-requests-or-find-bugs-at-our-github-issues-pagehttpsgithubcomropenscirbisonissues&quot;&gt;Let us know if you have any feature requests or find bugs at &lt;a href=&quot;https://github.com/ropensci/rbison/issues&quot;&gt;our GitHub Issues page&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Scholarly metadata in R</title>
   <link href="http://recology.info//2013/03/r-metadata/"/>
   <updated>2013-03-16T00:00:00-07:00</updated>
   <id>http://recology.info//2013/03/r-metadata</id>
   <content type="html">&lt;p&gt;Scholarly metadata - the meta-information surrounding articles - can be super useful.  Although metadata does not contain the full content of articles, it contains a lot of useful information, including title, authors, abstract, URL to the article, etc.&lt;/p&gt;

&lt;p&gt;One of the largest sources of metadata is provided via the Open Archives Initiative Protocol for Metadata Harvesting or &lt;a href=&quot;http://www.openarchives.org/OAI/openarchivesprotocol.html&quot;&gt;OAI-PMH&lt;/a&gt;. Many publishers, provide their metadata through their own endpoint, and implement the standard OAI-PMH methods: &lt;a href=&quot;http://www.openarchives.org/OAI/openarchivesprotocol.html#GetRecord&quot;&gt;GetRecord&lt;/a&gt;, &lt;a href=&quot;http://www.openarchives.org/OAI/openarchivesprotocol.html#Identify&quot;&gt;Identify&lt;/a&gt;, &lt;a href=&quot;http://www.openarchives.org/OAI/openarchivesprotocol.html#ListIdentifiers&quot;&gt;ListIdentifiers&lt;/a&gt;, &lt;a href=&quot;http://www.openarchives.org/OAI/openarchivesprotocol.html#ListMetadataFormats&quot;&gt;ListMetadataFormats&lt;/a&gt;, &lt;a href=&quot;http://www.openarchives.org/OAI/openarchivesprotocol.html#ListRecords&quot;&gt;ListRecords&lt;/a&gt;, and &lt;a href=&quot;http://www.openarchives.org/OAI/openarchivesprotocol.html#ListSets&quot;&gt;ListSets&lt;/a&gt;. Many providers use OAI-PMH, including &lt;a href=&quot;http://oai.datacite.org/&quot;&gt;DataCite&lt;/a&gt;, &lt;a href=&quot;http://wiki.datadryad.org/Data_Access#OAI-PMH&quot;&gt;Dryad&lt;/a&gt;, and &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/pmc/tools/oai/&quot;&gt;PubMed&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Some data-/article-providers provide their metadata via their own APIs. For example, Nature Publishing Group provides their own metadata API &lt;a href=&quot;http://developers.nature.com/docs&quot;&gt;here&lt;/a&gt; in non OAI-PMH format; you can get PLoS metadata through their &lt;a href=&quot;http://api.plos.org/&quot;&gt;search API&lt;/a&gt;, and the BHL (see below) provides their own custom metadata service.&lt;/p&gt;

&lt;p&gt;In addition, CrossRef provides a number of metadata search services: &lt;a href=&quot;http://search.labs.crossref.org/help/api&quot;&gt;metadata search&lt;/a&gt; and &lt;a href=&quot;http://labs.crossref.org/openurl/&quot;&gt;openurl&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;What about the other publishers? (please tell me if I’m wrong about these three)&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Springer has &lt;a href=&quot;http://dev.springer.com/docs&quot;&gt;a metadata API&lt;/a&gt;, but it is terrible, soooo…&lt;/li&gt;
  &lt;li&gt;Elsevier, are you kidding? Well, they do have some sort of API service, but its a pain in the ass.&lt;/li&gt;
  &lt;li&gt;Wiley, no better than Elsevier.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Note that metadata can live in other places:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Another package being developed by David Springate, &lt;a href=&quot;https://github.com/ropensci/rpubmed&quot;&gt;rpubmed&lt;/a&gt; can get PubMed metadata.&lt;/li&gt;
  &lt;li&gt;Our wrapper to the Mendeley API, &lt;a href=&quot;https://github.com/ropensci/rmendeley&quot;&gt;RMendeley&lt;/a&gt;, gets article metadata via Mendeley’s database.&lt;/li&gt;
  &lt;li&gt;Our wrapper to the Biodiversity Heritage Library API &lt;a href=&quot;http://www.biodiversitylibrary.org/api2/docs/docs.html&quot;&gt;here&lt;/a&gt; gets their metadata.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;No, you can’t get metadata via Google Scholar - the don’t allow scraping, and don’t have expose their data via an API.&lt;/p&gt;

&lt;p&gt;I have discussed this package &lt;a href=&quot;http://sckott.github.io/2012/09/rmetadata/&quot;&gt;in a previous blog post&lt;/a&gt;, but have since worked on the code a bit, and thought it deserved a new post.&lt;/p&gt;

&lt;p&gt;You can see a tutorial for this package &lt;a href=&quot;http://ropensci.github.com/rmetadata/&quot;&gt;here&lt;/a&gt;, and contribute to the code &lt;a href=&quot;https://github.com/ropensci/rmetadata&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;install-rmetadata&quot;&gt;Install rmetadata&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# install_github(&#39;rmetadata&#39;, &#39;ropensci&#39;) # uncomment to install
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rmetadata&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;count-oai-pmh-identifiers-for-a-data-provider&quot;&gt;Count OAI-PMH identifiers for a data provider.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# For DataCite.
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count_identifiers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;datacite&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;provider&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;datacite&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1216193&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;lookup-article-info-via-crossref-with-doi-and-get-a-citation&quot;&gt;Lookup article info via CrossRef with DOI and get a citation.&lt;/h3&gt;

&lt;h4 id=&quot;as-bibtex&quot;&gt;As Bibtex&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;crossref_citation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;10.3998/3336451.0009.101&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;style&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Bibtex&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Article&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{,&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;title&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;In&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Google&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;We&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Trust&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;author&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Geoffrey&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Bilder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;journal&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;The&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Journal&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Electronic&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Publishing&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;year&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2006&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;month&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;01&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;volume&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;doi&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10.3998&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3336451.0009.101&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;as-regular-text&quot;&gt;As regular text&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;crossref_citation&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;10.3998/3336451.0009.101&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;style&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;text&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;Bilder&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;G&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2006&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;In Google We Trust?&quot;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;_The&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Journal&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Electronic&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;Publishing_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;URL&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dx.doi.org&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10.3998&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3336451.0009.101&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;search-the-crossref-metatdata-for-dois-using-free-form-references&quot;&gt;Search the CrossRef Metatdata for DOIs using free form references.&lt;/h3&gt;

&lt;h4 id=&quot;search-with-title-author-year-and-journal&quot;&gt;Search with title, author, year, and journal&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;crossref_search_free&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Piwowar Sharing Detailed Research Data Is Associated with Increased Citation Rate PLOS one 2007&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

                                                                                             &lt;span class=&quot;n&quot;&gt;text&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Piwowar&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Sharing&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Detailed&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Research&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Data&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Is&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Associated&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Increased&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Citation&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Rate&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;PLOS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;one&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2007&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;match&lt;/span&gt;                   &lt;span class=&quot;n&quot;&gt;doi&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;score&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10.1038&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;npre.2007.361&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4.905&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h4 id=&quot;get-a-doi-and-get-the-citation-using-codecrossrefsearch&quot;&gt;Get a DOI and get the citation using \code{crossref_search}&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Get a DOI for a paper
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;doi&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;crossref_search_free&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Piwowar sharing data PLOS one&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;doi&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Get the metadata
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;crossref_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;doi&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

                           &lt;span class=&quot;n&quot;&gt;doi&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;score&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;normalizedScore&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10.1371&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;journal.pone.0000308&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;18.19&lt;/span&gt;             &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;get-a-random-set-of-dois-through-crossref&quot;&gt;Get a random set of DOI’s through CrossRef.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Default search gets 20 random DOIs
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;crossref_r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.4028/www.scientific.net/MSF.126-128.467&quot;&lt;/span&gt;
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.2139/ssrn.548523&quot;&lt;/span&gt;                       
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1016/S0012-821X(02)00562-9&quot;&lt;/span&gt;             
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1093/rsq/13.2-3.167&quot;&lt;/span&gt;                    
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.5772/55055&quot;&lt;/span&gt;                             
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1515/BC.1999.050&quot;&lt;/span&gt;                       
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1016/S0020-7292(98)90160-6&quot;&lt;/span&gt;             
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1111/j.1439-0418.1985.tb02788.x&quot;&lt;/span&gt;        
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1089/aid.2012.0115&quot;&lt;/span&gt;                     
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1016/0002-9378(95)90155-8&quot;&lt;/span&gt;              
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1001/jama.1949.02900490055028&quot;&lt;/span&gt;          
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1051/jphyscol:1989172&quot;&lt;/span&gt;                  
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1016/s0301-2115(03)00298-7&quot;&lt;/span&gt;             
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1007/BF02735292&quot;&lt;/span&gt;                        
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1016/0003-4916(65)90026-6&quot;&lt;/span&gt;              
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.4156/jdcta.vol5.issue5.12&quot;&lt;/span&gt;              
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1007/s10904-009-9316-2&quot;&lt;/span&gt;                 
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1023/A:1021690001832&quot;&lt;/span&gt;                   
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;19&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1007/s12262-012-0724-0&quot;&lt;/span&gt;                 
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1007/bf02192860&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Specify you want journal articles only
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;crossref_r&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;type&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;journal_article&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1016/j.jacc.2011.09.055&quot;&lt;/span&gt;                                 
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1002/dev.420170603&quot;&lt;/span&gt;                                      
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.4315/0362-028X.JFP-10-403&quot;&lt;/span&gt;                               
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1016/S0925-4927(98)00016-X&quot;&lt;/span&gt;                              
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1111/j.1933-1592.2002.tb00141.x&quot;&lt;/span&gt;                         
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1541/ieejfms.127.629&quot;&lt;/span&gt;                                    
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.5539/enrr.v3n1p62&quot;&lt;/span&gt;                                       
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1016/S0960-9776(96)90038-7&quot;&lt;/span&gt;                              
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1016/0925-9635(94)05240-9&quot;&lt;/span&gt;                               
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1016/s0929-693x(97)86846-7&quot;&lt;/span&gt;                              
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1002/(SICI)1096-9071(199601)48:1&amp;lt;53::AID-JMV9&amp;gt;3.0.CO;2-K&quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1016/s0267-7261(01)00016-1&quot;&lt;/span&gt;                              
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1111/j.1748-0361.2003.tb00575.x&quot;&lt;/span&gt;                         
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1097/00005721-197701000-00011&quot;&lt;/span&gt;                           
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1007/s00894-009-0593-z&quot;&lt;/span&gt;                                  
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1071/AR9830063&quot;&lt;/span&gt;                                          
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1186/gb-2009-10-4-r39&quot;&lt;/span&gt;                                   
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.2165/00128415-201113540-00038&quot;&lt;/span&gt;                           
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;19&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1007/BF00522986&quot;&lt;/span&gt;                                         
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1080/19407963.2011.539385&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;search-the-crossref-metatdata-api&quot;&gt;Search the CrossRef Metatdata API.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Search for two different query terms
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;crossref_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;renear&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;palmer&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

                            &lt;span class=&quot;n&quot;&gt;doi&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;score&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;normalizedScore&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;       &lt;span class=&quot;m&quot;&gt;10.1126&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;science.1157784&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3.253&lt;/span&gt;             &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;m&quot;&gt;10.1002&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;meet.2009.1450460141&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2.169&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;66&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10.4242&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BalisageVol3.Renear01&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2.102&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;64&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10.4242&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;BalisageVol5.Renear01&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2.102&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;64&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Get results for a certain year
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;crossref_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;renear&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;palmer&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;year&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2010&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

                                  &lt;span class=&quot;n&quot;&gt;doi&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;score&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;normalizedScore&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;            &lt;span class=&quot;m&quot;&gt;10.1002&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;meet.14504701218&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1.0509&lt;/span&gt;             &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;            &lt;span class=&quot;m&quot;&gt;10.1002&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;meet.14504701240&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1.0509&lt;/span&gt;             &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;           &lt;span class=&quot;m&quot;&gt;10.5270&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OceanObs09.cwp.68&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1.0442&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;99&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;               &lt;span class=&quot;m&quot;&gt;10.1353&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mpq.2010.0003&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.6890&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;65&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;                  &lt;span class=&quot;m&quot;&gt;10.1353&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mpq.0.0041&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.6890&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;65&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;                  &lt;span class=&quot;m&quot;&gt;10.1353&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mpq.0.0044&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.6890&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;65&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;                  &lt;span class=&quot;m&quot;&gt;10.1353&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mpq.0.0057&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.6890&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;65&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;                    &lt;span class=&quot;m&quot;&gt;10.1386&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fm.1.1.2&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.6890&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;65&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;9&lt;/span&gt;                    &lt;span class=&quot;m&quot;&gt;10.1386&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fm.1.2.2&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.6890&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;65&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;                   &lt;span class=&quot;m&quot;&gt;10.1386&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fm.1.3.2&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.6890&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;65&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;11&lt;/span&gt;       &lt;span class=&quot;m&quot;&gt;10.1097&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ALN.0b013e3181f09404&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.6090&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;57&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;      &lt;span class=&quot;m&quot;&gt;10.1016&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j.urology.2010.02.033&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.6090&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;57&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;13&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;10.1353&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ect.2010.0025&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.6090&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;57&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;14&lt;/span&gt;               &lt;span class=&quot;m&quot;&gt;10.1117&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2.4201001.04&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.6090&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;57&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;15&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10.1111&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;j.1835&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-9310.1977&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.tb01159.x&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.6090&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;57&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;    &lt;span class=&quot;m&quot;&gt;10.4067&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;S0717&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-69962010000100001&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.6090&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;57&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;17&lt;/span&gt;    &lt;span class=&quot;m&quot;&gt;10.4067&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;S0717&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-69962010000200001&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.6090&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;57&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;           &lt;span class=&quot;m&quot;&gt;10.2105&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;AJPH.2009.191098&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.6029&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;57&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;19&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;10.1353&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mpq.2010.0004&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5167&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;49&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;                 &lt;span class=&quot;m&quot;&gt;10.1353&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mpq.0.0048&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5167&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;49&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;get-a-short-doi-from-shortdoiorg&quot;&gt;Get a short DOI from shortdoi.org.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Geta a short DOI, just the short DOI returned
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;short_doi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;doi&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1371/journal.pone.0042793&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10/f2bfz9&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Geta a short DOI, all data returned
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;short_doi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;doi&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1371/journal.pone.0042793&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;justshort&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;DOI&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.1371/journal.pone.0042793&quot;&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ShortDOI&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10/f2bfz9&quot;&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;IsNew&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;get-a-record-from-a-oai-pmh-data-provider&quot;&gt;Get a record from a OAI-PMH data provider.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Single provider, one identifier
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;md_getrecord&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;provider&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;pensoft&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;identifier&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.3897/zookeys.1.10&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

                                                                                                &lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;candidate&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Gondwanaland&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;distribution&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Zodariidae&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Araneae&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Australutica&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Africa&lt;/span&gt;
      &lt;span class=&quot;n&quot;&gt;creator&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;date&lt;/span&gt;             &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Jocqu&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;é&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Rudy&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2008&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Research&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Article&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Single provider, multiple identifiers
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;md_getrecord&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;provider&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;pensoft&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;identifier&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;10.3897/zookeys.1.10&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.3897/zookeys.4.57&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

                                                                                                   &lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;candidate&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Gondwanaland&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;distribution&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Zodariidae&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Araneae&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Australutica&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Africa&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Studies&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Tiger&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Beetles.&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;CLXXVIII.&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;A&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;new&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Lophyra&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Lophyra&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Somaliland&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Coleoptera&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Cicindelidae&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;creator&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;date&lt;/span&gt;             &lt;span class=&quot;n&quot;&gt;type&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Jocqu&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;é&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Rudy&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2008&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Research&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Article&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Cassola&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Fabio&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2008&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Research&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Article&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;list-available-metadata-formats-from-various-providers&quot;&gt;List available metadata formats from various providers.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# List metadata formats for a provider
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;md_listmetadataformats&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;provider&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dryad&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;n&quot;&gt;metadataPrefix&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;oai_dc&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;            &lt;span class=&quot;n&quot;&gt;rdf&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;            &lt;span class=&quot;n&quot;&gt;ore&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;           &lt;span class=&quot;n&quot;&gt;mets&lt;/span&gt;
                                                       &lt;span class=&quot;n&quot;&gt;schema&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;              &lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;www.openarchives.org&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OAI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2.0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;oai_dc.xsd&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;                 &lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;www.openarchives.org&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OAI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2.0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rdf.xsd&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tweety.lanl.gov&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;public&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;schemas&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2008-06&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;atom&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tron.sch&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;                  &lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;www.loc.gov&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;standards&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mets&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mets.xsd&lt;/span&gt;
                            &lt;span class=&quot;n&quot;&gt;metadataNamespace&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;www.openarchives.org&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OAI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2.0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;oai_dc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;www.openarchives.org&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OAI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2.0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rdf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;                 &lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;www.w3.org&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2005&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Atom&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;                    &lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;www.loc.gov&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;METS&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# List metadata formats for a specific identifier for a provider
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;md_listmetadataformats&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;provider&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;pensoft&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;identifier&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.3897/zookeys.1.10&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

            &lt;span class=&quot;n&quot;&gt;identifier&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;metadataPrefix&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10.3897&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zookeys.1.10&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;oai_dc&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10.3897&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zookeys.1.10&lt;/span&gt;           &lt;span class=&quot;n&quot;&gt;mods&lt;/span&gt;
                                             &lt;span class=&quot;n&quot;&gt;schema&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;www.openarchives.org&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OAI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2.0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;oai_dc.xsd&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;www.loc.gov&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;standards&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mods&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v3&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mods&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-3-1&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.xsd&lt;/span&gt;
                            &lt;span class=&quot;n&quot;&gt;metadataNamespace&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;www.openarchives.org&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;OAI&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2.0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;oai_dc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;                  &lt;span class=&quot;n&quot;&gt;http&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;www.loc.gov&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mods&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;v3&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;some-plotting---mean-number-of-authors-per-paper&quot;&gt;Some plotting - mean number of authors per paper&lt;/h3&gt;

&lt;p&gt;Okay, so this isn’t a super useful visualization, but you can surely think of something better.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggthemes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reshape&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;


&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;md_listrecords&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;provider&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;pensoft&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;2011-10-01&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;until&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;2012-01-01&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;temp2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ldply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;auths&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;creator&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;strsplit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
    &lt;span class=&quot;s2&quot;&gt;&quot;;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;toplot&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;authors&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;auths&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;articletype&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;type&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;toplot_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ddply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;toplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;articletype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;summarise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;authors&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mean&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;authors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;toplot_&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;articletype&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;reorder&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;toplot_&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;articletype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;toplot_&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;authors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;toplot_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;articletype&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;authors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_tufte&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geom_bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;identity&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;coord_flip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/someplotting.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;get-the-rmd-file-used-to-create-this-post-at-my-github-accounthttpsgithubcomsckottsckottgithubcomtreemasterdrafts2013-03-16-r-metadatarmd---or-md-filehttpsgithubcomsckottsckottgithubcomtreemasterposts2013-03-16-r-metadatamd&quot;&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2013-03-16-r-metadata.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2013-03-16-r-metadata.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr-and-knitcitationshttpsgithubcomcboettigknitcitations&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and &lt;a href=&quot;https://github.com/cboettig/knitcitations&quot;&gt;knitcitations&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Visualizing rOpenSci collaboration</title>
   <link href="http://recology.info//2013/03/ropensci-collaboration/"/>
   <updated>2013-03-08T00:00:00-08:00</updated>
   <id>http://recology.info//2013/03/ropensci-collaboration</id>
   <content type="html">&lt;p&gt;We (&lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt;) have been writing code for R packages for a couple years, so it is time to take a look back at the data. What data you ask? The commits data from GitHub ~ data that records who did what and when.&lt;/p&gt;

&lt;p&gt;Using the &lt;a href=&quot;http://developer.github.com/v3/repos/commits/&quot;&gt;Github commits API&lt;/a&gt; we can gather data on who commited code to a Github repository, and when they did it. Then we can visualize this hitorical record.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;install-some-functions-for-interacting-with-the-github-api-via-r&quot;&gt;Install some functions for interacting with the Github API via R&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&#39;sandbox&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;ropensci&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 

&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sandbox&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;httr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scales&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reshape2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bipartite&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;doMC&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plyr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggthemes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;picante&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# And authenticate - pops open a page in your default browser, then tells 
# you authentication was successful
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;github_auth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;get-all-repos-for-an-organization-here-ropensci-of-course&quot;&gt;Get all repos for an organization, here ropensci of course&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;ropensci_repos&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;github_allrepos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;userorg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ropensci&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;get-commits-broken-down-in-to-additions-and-deletions-though-below-we-just-collapse-them-to-all-commits&quot;&gt;Get commits broken down in to additions and deletions, though below we just collapse them to all commits&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;registerDoMC&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cores&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;github_commits_safe&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;plyr&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;failwith&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;github_commits&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;llply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ropensci_repos&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;github_commits_safe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ropensci&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;since&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;2009-01-01T&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;limit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;.parallel&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ropensci_repos&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;compact&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;outdf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ldply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;plot-commits-by-date-and-repo&quot;&gt;Plot commits by date and repo&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;outdf_subset&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;outdf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;outdf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;citeulike&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;challenge&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;docs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ropensci-book&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s2&quot;&gt;&quot;usecases&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;textmine&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;usgs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ropenscitoolkit&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;neotoma&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;rEWDB&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;rgauges&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s2&quot;&gt;&quot;rodash&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ropensci.github.com&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ROAuth&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;outdf_subset&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tolower&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;outdf_subset&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;outdf_subset&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ddply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;outdf_subset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;summarise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;mindates&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;llply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;outdf_subset&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;outdf_subset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;outdf_subset&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;date&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mindates&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;outdf_subset&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;mindates&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;do.call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mindates&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;outdf_subset&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;factor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;outdf_subset&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;levels&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mindates&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;outdf_subset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;.id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;geom_bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;identity&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;geom_rangeframe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sides&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;b&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colour&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;grey&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;theme_bw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;scale_x_date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;labels&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;date_format&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;%Y&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;breaks&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;date_breaks&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;year&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;scale_y_log10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;facet_grid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;theme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;axis.text.y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;axis.text.x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;colour&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;black&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;axis.ticks.y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;strip.text.y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;angle&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;strip.background&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_rect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;panel.grid.major&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;panel.grid.minor&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;legend.text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;legend.position&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;none&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;panel.border&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/commitsbydate.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The plot above plots the sum of additions+deletions, and is sorted by the first commit date of reach repo, with the first being &lt;a href=&quot;https://github.com/ropensci/treeBASE&quot;&gt;treebase&lt;/a&gt;, which wraps the &lt;a href=&quot;http://treebase.org/treebase-web/urlAPI.html&quot;&gt;Treebase API&lt;/a&gt;, and the most recent being &lt;a href=&quot;https://github.com/ropensci/rWBclimate&quot;&gt;rwbclimate&lt;/a&gt;, which wraps the &lt;a href=&quot;http://data.worldbank.org/developers/climate-data-api&quot;&gt;World Blank climate data API&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;You can see that some repos have recieved commits more or less consistently over their life time, while others have seen a little development here and there.&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;w
### In addition, there are quite a few people that have committed code now to rOpenSci repos, calling for a network vizualization of course.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;outdf_network&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;droplevels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;outdf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;outdf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;citeulike&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;challenge&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s2&quot;&gt;&quot;docs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ropensci-book&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;usecases&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;textmine&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;usgs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ropenscitoolkit&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s2&quot;&gt;&quot;retriever&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;rodash&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ropensci.github.com&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ROAuth&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;rgauges&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;sandbox&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s2&quot;&gt;&quot;rfna&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;rmetadata&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;rhindawi&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;rpmc&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;rpensoft&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ritis&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;casted&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dcast&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;outdf_network&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;.id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;variable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fun.aggregate&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;value.var&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;casted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;repo&quot;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;casted2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ddply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;casted&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;repo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;summarise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;commits&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;additions&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;casted2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;repo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;casted2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;repo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;weight&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;casted2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;commits&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;casted2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;mat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sample2matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;casted2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plotweb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sortweb&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sort.order&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dec&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;method&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;normal&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;text.rot&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;90&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;adj.high&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-0.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;adj.low&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-0.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y.width.low&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.05&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y.width.high&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.05&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;ybig&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.09&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;labsize&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/collabnetwork.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;The plot above shows repos on one side and contributors on the other. Some folks (the core rOpenSci team: cboettig, karthikram, emhart, and schamberlain) have committed quite a lot to many packages. We also have amny awesome contributors to our packages (some contributors and repos have been removed for clarity).&lt;/p&gt;

&lt;p&gt;rOpenSci is truly a collaborative effort to develop tools for open science, so thanks to all our contributors - keep on forking, pull requesting, and commiting.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Academia reboot</title>
   <link href="http://recology.info//2013/02/academia-reboot/"/>
   <updated>2013-02-22T00:00:00-08:00</updated>
   <id>http://recology.info//2013/02/academia-reboot</id>
   <content type="html">&lt;h2 id=&quot;reboot&quot;&gt;Reboot&lt;/h2&gt;

&lt;p&gt;We need to reboot academia, at least for graduate training. I am speaking from the point of view of ecology/evolution (EEB). Why you ask? Because of the following line of reasoning:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;
    &lt;p&gt;First, the most important factor for me comes down to supply and demand. We have too much supply (=graduate students) and not enough demand (=faculty positions, etc.) - see &lt;a href=&quot;http://www.phdcomics.com/comics/archive.php?comicid=911&quot;&gt;this comic at PhDComics&lt;/a&gt; for proof. This seems especially apparent when you hear from your fellow postdoc friends that there were hundreds of other people with Ph.D.’s applying for the same position.&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Second, funding is getting thin. I have never received funding from a competitive grant, despite having 12 published papers to my name. Recent cuts to the NSF, NIH, and other federal agencies mean that getting a grant will be harder and harder. Furthermore, the mean age of a first time NIH grant recipient in 2008 was 51 according to a recent study in PLoS One (Matthews &lt;em&gt;et. al.&lt;/em&gt; 2011).&lt;/p&gt;
  &lt;/li&gt;
  &lt;li&gt;
    &lt;p&gt;Third, we don’t learn the skills we really need. This is many fold. First, we don’t learn the appropriate mathematical and statistical techniques in undergraduate and grad school - a forthcoming paper found that in a survey of nearly 1000 ecology and evolution graduate students, most thought they were unprepared wrt to math and stats (interview with author in Soundcloud widget below). Second, we don’t learn enough computational skills. Digital data (not on your physical clipboard, but your digital one) is more and more important, requiring knowing how to leverage and keep track of data. Yet, we aren’t taught these skills, at least in my experience. The need for training in computation/coding is evident from the sold out &lt;a href=&quot;http://software-carpentry.org/&quot;&gt;Software Carpentry workshops&lt;/a&gt;. Third, reproducibility is not something we are taught. Well, we are taught to check over everything in detail (read: proof your data), but there is often no way to reproduce analyses when we use 10 different expensive software programs to do an analysis (read: MS Word, JMP, SAS, SigmaPlot, etc.). And isn’t reproduciblity important?&lt;/p&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;iframe width=&quot;30%&quot; height=&quot;140&quot; scrolling=&quot;no&quot; frameborder=&quot;no&quot; src=&quot;https://w.soundcloud.com/player/?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F78215101&amp;amp;color=ff6600&amp;amp;auto_play=false&amp;amp;show_artwork=false&quot;&gt;&lt;/iframe&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;what-do-we-do&quot;&gt;What do we do?&lt;/h2&gt;

&lt;p&gt;To address the supply/demand issue, I think we need fewer graduate students, period. I think this will work for a few reasons. If there are fewer graduate students, those that get in will be of higher quality because profs can be more selective, they may get payed more (hopefully) since there are few students, and they should in theory get more attention from their advisers (if they want it). In addition, there would be less competition for the very few grants out there for grad students.  This would then lead to fewer postdocs, and less competition for faculty positions. I think the supply/demand issue in EEB is particularly problematic. That is, in EEB there doesn’t seem to be the large quantity of private sector jobs as there is for Ph.D. graduates in engineering, physics, etc.&lt;/p&gt;

&lt;p&gt;The funding situation is beyond me, but definitely makes me want to leave academia. Crowdfunding, especially &lt;a href=&quot;http://scifundchallenge.org/&quot;&gt;#SciFund&lt;/a&gt;, is an option for scientists, but mostly only on a small financial scale. Any thoughts?&lt;/p&gt;

&lt;p&gt;The skills issue will likely be addressed in time, and vary among schools for sure. Some schools will focus on natural history, which is good (that’s where I did my undergrad and it was great), and some schools will incorporate more of these science 2.0 skills (advanced stats, better math training, and computer science).&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;thoughts&quot;&gt;&lt;em&gt;Thoughts?&lt;/em&gt;&lt;/h2&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;get-the-rmd-file-used-to-create-this-post-at-my-github-accounthttpsgithubcomsckottsckottgithubcomtreemasterdrafts2013-02-22-academia-rebootrmd---or-md-filehttpsgithubcomsckottsckottgithubcomtreemasterposts2013-02-22-academia-rebootmd&quot;&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2013-02-22-academia-reboot.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2013-02-22-academia-reboot.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr-and-knitcitationshttpsgithubcomcboettigknitcitations&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and &lt;a href=&quot;https://github.com/cboettig/knitcitations&quot;&gt;knitcitations&lt;/a&gt;.&lt;/h4&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;references&quot;&gt;References&lt;/h4&gt;
&lt;p&gt;Matthews KRW, Calhoun KM, lo N, ho V and Germano G (2011).
&amp;ldquo;The Aging of Biomedical Research in The United States.&amp;rdquo;
&lt;em&gt;Plos One&lt;/em&gt;, &lt;b&gt;6&lt;/b&gt;.
&lt;a href=&quot;http://dx.doi.org/10.1371/journal.pone.0029738&quot;&gt;http://dx.doi.org/10.1371/journal.pone.0029738&lt;/a&gt;.

&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Getting a simple tree via NCBI</title>
   <link href="http://recology.info//2013/02/common-tree/"/>
   <updated>2013-02-14T00:00:00-08:00</updated>
   <id>http://recology.info//2013/02/common-tree</id>
   <content type="html">&lt;p&gt;I was just at the &lt;a href=&quot;http://www.evoio.org/wiki/Phylotastic&quot;&gt;Phylotastic hackathon&lt;/a&gt; in Tucson, AZ at the &lt;a href=&quot;http://www.iplantcollaborative.org/&quot;&gt;iPlant&lt;/a&gt; facilities at the UofA.&lt;/p&gt;

&lt;p&gt;A problem that needs to be solved is getting the incrasingly vast phylogenetic information to folks not comfortable building their own phylogenies. &lt;a href=&quot;http://phylodiversity.net/phylomatic/&quot;&gt;Phylomatic&lt;/a&gt; has made this super easy for people that want plant phylogenies (at least 250 or so papers have used and cited Phylomatic in their papers) - however, there are few options for those that want phylogenies for other taxonomic groups.&lt;/p&gt;

&lt;p&gt;One cool tool that was brought up was the &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/Taxonomy/CommonTree/wwwcmt.cgi&quot;&gt;Common Tree&lt;/a&gt; service provided by NCBI. &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/Taxonomy/CommonTree/cmthelp.html&quot;&gt;Here’s&lt;/a&gt; some help on the service. Unlike Phylomatic, Common Tree is purely based off of taxonomic relationships (A and B are both in the C family, so are sisters), not an actual phylogeny as Phylomatic is based on.&lt;/p&gt;

&lt;p&gt;But how do you use Common Tree?&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;get-a-species-list&quot;&gt;Get a species list&lt;/h3&gt;
&lt;p&gt;Grab the taxon list from my github account &lt;a href=&quot;https://raw.github.com/sckott/sckott.github.com/master/public/img/species.txt&quot;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;go-to-the-site&quot;&gt;Go to the site&lt;/h3&gt;
&lt;p&gt;Go to the Common Tree site &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/Taxonomy/CommonTree/wwwcmt.cgi&quot;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;choose-file&quot;&gt;Choose file&lt;/h3&gt;
&lt;p&gt;Hit the “choose file” button, then select the &lt;code class=&quot;highlighter-rouge&quot;&gt;species.txt&lt;/code&gt; file you downloaded in the first step.&lt;/p&gt;

&lt;h3 id=&quot;add-the-species-list-to-make-the-tree&quot;&gt;Add the species list to make the tree&lt;/h3&gt;
&lt;p&gt;Then hit “add from file”, and you got a “tree”&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://raw.github.com/sckott/sckott.github.com/master/public/img/ncbi.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;download&quot;&gt;Download&lt;/h2&gt;
&lt;p&gt;You can download the tree in a variety of formats, including a .phy file&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://raw.github.com/sckott/sckott.github.com/master/public/img/ncbi2.png&quot; alt=&quot;image&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;plot-the-tree-on-your-machine&quot;&gt;Plot the tree on your machine&lt;/h2&gt;
&lt;p&gt;Make a tree, in R for me&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# install.packages(&#39;ape&#39;) # install if you don&#39;t have ape
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ape&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Read the tree in. YOu get the tree back with alot of newlines (\n) -
# can easily take these out with a good text editor.
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tree&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;read.tree&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;(Lampetra:4,((((((Umbra:4,((Lota:4,Microgadus:4)Gadiformes:4,((Culaea:4,Apeltes:4,Pungitius:4,Gasterosteus:4)Gasterosteidae:4,(Morone:4,(Ambloplites:4,Micropterus:4,Lepomis:4)Centrarchidae:4,(Sander:4,Perca:4)Percidae:4)Percoidei:4,Cottus:4)Percomorpha:4)Holacanthopterygii:4)Neognathi:4,(((Prosopium:4,Coregonus:4)Coregoninae:4,(Salvelinus:4,Salmo:4,Oncorhynchus:4)Salmoninae:4)Salmonidae:4,Osmerus:4)Protacanthopterygii:4)Euteleostei:4,(Alosa:4,(Ameiurus:4,(Catostomus:4,(Semotilus:4,Rhinichthys:4,Margariscus:4,Couesius:4,Pimephales:4,Luxilus:4,Notemigonus:4,Notropis:4,Carassius:4)Cyprinidae:4)Cypriniformes:4)Otophysi:4)Otocephala:4)Clupeocephala:4,Anguilla:4)Elopocephala:4,Acipenser:4)Actinopteri:4,Scyliorhinus:4)Gnathostomata:4)Vertebrata:4;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# stretch the branches so tips line up
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tree2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;compute.brlen&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tree&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;method&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Grafen&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Plot the tree
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tree2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;no.margin&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;w00p-there-it-is&quot;&gt;w00p, there it is…&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;https://raw.github.com/sckott/sckott.github.com/master/public/img/ncbi_tree.png&quot; alt=&quot;image4&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;and-the-answer-is-no-to-the-question-is-there-an-api-for-common-tree&quot;&gt;And the answer is &lt;em&gt;NO&lt;/em&gt; to the question: Is there an API for Common Tree?&lt;/h3&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;get-the-rmd-file-used-to-create-this-post-at-my-github-accounthttpsgithubcomsckottsckottgithubcomtreemasterdrafts2013-02-14-common-treermd---or-md-filehttpsgithubcomsckottsckottgithubcomtreemasterposts2013-02-14-common-treemd&quot;&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2013-02-14-common-tree.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2013-02-14-common-tree.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>testing ifttt recipe, ignore</title>
   <link href="http://recology.info//2013/01/ifttt-test/"/>
   <updated>2013-01-26T00:00:00-08:00</updated>
   <id>http://recology.info//2013/01/ifttt-test</id>
   <content type="html">&lt;p&gt;testing ifttt recipe&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Waiting for an API request to complete</title>
   <link href="http://recology.info//2013/01/api-token/"/>
   <updated>2013-01-26T00:00:00-08:00</updated>
   <id>http://recology.info//2013/01/api-token</id>
   <content type="html">&lt;h3 id=&quot;dealing-with-api-tokens-in-r&quot;&gt;Dealing with API tokens in R&lt;/h3&gt;

&lt;p&gt;In &lt;a href=&quot;http://sckott.github.io/2013/01/tnrs-use-case/&quot;&gt;my previous post&lt;/a&gt; I showed an example of calling the Phylotastic taxonomic name resolution API &lt;code class=&quot;highlighter-rouge&quot;&gt;Taxosaurus&lt;/code&gt; &lt;a href=&quot;http://api.phylotastic.org/tnrs&quot;&gt;here&lt;/a&gt;.  When you query their API they give you a token which you use later to retrieve the result (see examples on their page above). However, you don’t know when the query will be done, so how do we know when to send the query to rerieve the data?&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;As the time this takes depends on how big the query is and other things, we don’t know when we can get the result. I struggled with this for a bit, but then settled on using a while loop.&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;So what does this look like?  Basically we just keep sending the request for data until we get it.&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;iter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# make an iterator so each time we call
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;output&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# make an empty list to put data into
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timeout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;wait&quot;&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;timeout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;wait&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;iter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;iter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# increase the iterator each time
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fromJSON&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;retrieve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# send the request and parse the JSON
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grepl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;is still being processed&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;message&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;timeout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;wait&quot;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;iter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# put result from query in the list
&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;timeout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;done&quot;&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# we got the result so timeout is now done, making the while loop stop
&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;get-the-rmd-file-used-to-create-this-post-at-my-github-accounthttpsgithubcomsckottsckottgithubcomtreemasterdrafts2013-01-26-api-tokenrmd---or-md-filehttpsgithubcomsckottsckottgithubcomtreemasterposts2013-01-26-api-tokenmd&quot;&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2013-01-26-api-token.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2013-01-26-api-token.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Resolving species names when you have a lot of them</title>
   <link href="http://recology.info//2013/01/tnrs-use-case/"/>
   <updated>2013-01-25T00:00:00-08:00</updated>
   <id>http://recology.info//2013/01/tnrs-use-case</id>
   <content type="html">&lt;h3 id=&quot;taxize-use-case-resolving-species-names-when-you-have-a-lot-of-them&quot;&gt;&lt;strong&gt;taxize use case: Resolving species names when you have a lot of them&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;Species names can be a pain in the ass, especially if you are an ecologist. We ecologists aren’t trained in taxonomy, yet we often end up with huge species lists.  Of course we want to correct any spelling errors in the names, and get the newest names for our species, resolve any synonyms, etc.&lt;/p&gt;

&lt;p&gt;We are building tools into our R package &lt;a href=&quot;http://ropensci.github.com/taxize_/&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;taxize&lt;/code&gt;&lt;/a&gt;, that will let you check your species names to make sure they are correct.&lt;/p&gt;

&lt;p&gt;An important use case is when you have a lot of species. Someone wrote to us recently, saying that they had thousands of species, and they wanted to know how to check their species names efficiently in R.&lt;/p&gt;

&lt;p&gt;Below is an example of how to do this.&lt;/p&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;install-taxize&quot;&gt;Install taxize&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# install_github(&#39;taxize_&#39;, &#39;ropensci&#39;) # install the GitHub version, not
# the CRAN version, uncomment if you don&#39;t have it installed
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;taxize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;get-some-species-in-this-case-all-species-in-the-scrophulariaceae-family-from-theplantlistorg&quot;&gt;Get some species, in this case all species in the Scrophulariaceae family from theplantlist.org&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;tpl_get&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dir_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;~/foo2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;family&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Scrophulariaceae&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## Reading and writing csv files to ~/foo2...&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;read.csv&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;~/foo2/Scrophulariaceae.csv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;lets-grab-the-species-and-concatenate-to-genusspecies&quot;&gt;Lets grab the species and concatenate to genus_species&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;species&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ddply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Genus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Species&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)],&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;gen_sp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.factor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;paste&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Genus&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Species&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sep&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot; &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;its-better-to-do-many-smaller-calls-to-a-web-api-instead-of-few-big-ones-to-be-nice-to-the-database-maintainers&quot;&gt;It’s better to do many smaller calls to a web API instead of few big ones to be nice to the database maintainers.&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;## Define function to split up your species list into useable chuncks
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;slice&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;starts&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;seq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;by&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;tt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;starts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))])&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;llply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is.na&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;species_split&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;slice&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;species&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;query-for-your-large-species-list-with-pauses-between-calls-with-3-seconds-in-between-calls-to-not-hit-the-web-service-too-hard-using-post-method-here-instead-of-get---required-when-you-have-a-lot-of-species&quot;&gt;Query for your large species list with pauses between calls, with 3 seconds in between calls to not hit the web service too hard. Using POST method here instead of GET - required when you have a lot of species.&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;tnrs_safe&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;failwith&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tnrs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# in case some calls fail, will continue
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;llply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;species_split&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tnrs_safe&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getpost&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;POST&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sleep&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Calling http://taxosaurus.org/retrieve/90fcd9ae425ad7c6103b06dd9fd78ae2
Calling http://taxosaurus.org/retrieve/223f73b83fcddcb8b6187966963660a8
Calling http://taxosaurus.org/retrieve/72bacdbb8938316e321d4c709c8cdd09
Calling http://taxosaurus.org/retrieve/979ce9cc4dec376710f61de162e1294e
Calling http://taxosaurus.org/retrieve/03a39a124561fec2fdfc0f483d9fb607
Calling http://taxosaurus.org/retrieve/d4bf4e5a1403f45a1be1ca3dd87785d7
Calling http://taxosaurus.org/retrieve/a9a9bdde6fda7e325d80120e27ccb480
Calling http://taxosaurus.org/retrieve/215ccdcf2b00362278bf19d1942e1395
Calling http://taxosaurus.org/retrieve/9d43c0b99b4dfb5ea1b435adab17b980
Calling http://taxosaurus.org/retrieve/42e166f8e43f1fb349e36459cd5938b3
Calling http://taxosaurus.org/retrieve/2c42e4b5227c5464f9bfeeafcdf0651d&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Looks like we got some data back for each element of our species list
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;just&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;look&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;at&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;first&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;two&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[[1]]
                 submittedName                 acceptedName    sourceId
1        Aptosimum welwitschii                              iPlant_TNRS
2        Anticharis ebracteata        Anticharis ebracteata iPlant_TNRS
3            Aptosimum lineare            Aptosimum lineare iPlant_TNRS
4     Antherothamnus pearsonii     Antherothamnus pearsonii iPlant_TNRS
5 Barthlottia madagascariensis Barthlottia madagascariensis iPlant_TNRS
6         Agathelpis mucronata                              iPlant_TNRS
  score                  matchedName     annotations
1     1        Aptosimum welwitschii                
2     1        Anticharis ebracteata          Schinz
3     1            Aptosimum lineare Marloth &amp;amp; Engl.
4     1     Antherothamnus pearsonii        N.E. Br.
5     1 Barthlottia madagascariensis      Eb. Fisch.
6     1         Agathelpis mucronata                
                                    uri
1                                      
2 http://www.tropicos.org/Name/29202501
3 http://www.tropicos.org/Name/29202525
4 http://www.tropicos.org/Name/29202728
5 http://www.tropicos.org/Name/50089700
6                                      

[[2]]
                     submittedName           acceptedName    sourceId
1 Buddleja pichinchensis x bullata Buddleja pichinchensis iPlant_TNRS
2                 Buddleja soratae       Buddleja soratae iPlant_TNRS
3              Buddleja euryphylla    Buddleja euryphylla iPlant_TNRS
4                  Buddleja incana        Buddleja incana iPlant_TNRS
5                  Buddleja incana                 Incana        NCBI
6                    Buddleja nana Buddleja brachystachya iPlant_TNRS
  score            matchedName        annotations
1   0.9 Buddleja pichinchensis              Kunth
2   1.0       Buddleja soratae           Kraenzl.
3   1.0    Buddleja euryphylla Standl. &amp;amp; Steyerm.
4   1.0        Buddleja incana        Ruiz &amp;amp; Pav.
5   1.0        Buddleja incana               none
6   1.0          Buddleja nana              Diels
                                          uri
1       http://www.tropicos.org/Name/19000333
2       http://www.tropicos.org/Name/19001018
3       http://www.tropicos.org/Name/19000790
4       http://www.tropicos.org/Name/19000596
5 http://www.ncbi.nlm.nih.gov/taxonomy/405077
6       http://www.tropicos.org/Name/19001133&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Now we can put them back together as so into one data.frame if you like
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;outdf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ldply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;outdf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;                 submittedName                 acceptedName    sourceId
1        Aptosimum welwitschii                              iPlant_TNRS
2        Anticharis ebracteata        Anticharis ebracteata iPlant_TNRS
3            Aptosimum lineare            Aptosimum lineare iPlant_TNRS
4     Antherothamnus pearsonii     Antherothamnus pearsonii iPlant_TNRS
5 Barthlottia madagascariensis Barthlottia madagascariensis iPlant_TNRS
6         Agathelpis mucronata                              iPlant_TNRS
  score                  matchedName     annotations
1     1        Aptosimum welwitschii                
2     1        Anticharis ebracteata          Schinz
3     1            Aptosimum lineare Marloth &amp;amp; Engl.
4     1     Antherothamnus pearsonii        N.E. Br.
5     1 Barthlottia madagascariensis      Eb. Fisch.
6     1         Agathelpis mucronata                
                                    uri
1                                      
2 http://www.tropicos.org/Name/29202501
3 http://www.tropicos.org/Name/29202525
4 http://www.tropicos.org/Name/29202728
5 http://www.tropicos.org/Name/50089700
6&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Note that there are multiple names for some species because data sources have different names for the same species (resulting in more than one row in the data.frame ‘outdf’ for a species). We are leaving this up to the user to decide which to use. For example, for the species &lt;em&gt;Buddleja montana&lt;/em&gt; there are two names for in the output&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ddply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;outdf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;err&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;submittedName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;summarize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;submittedName&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;outdf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;outdf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;submittedName&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;submittedName&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]),&lt;/span&gt; 
    &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;       submittedName     acceptedName    sourceId score      matchedName
123 Buddleja montana Buddleja montana iPlant_TNRS     1 Buddleja montana
124 Buddleja montana          Montana        NCBI     1 Buddleja montana
         annotations                                         uri
123 Britton ex Rusby       http://www.tropicos.org/Name/19000601
124             none http://www.ncbi.nlm.nih.gov/taxonomy/441235&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;The source iPlant matched the name, but NCBI actually gave back a genus of cricket (follow the link under the column uri for &lt;em&gt;Montana&lt;/em&gt;). If you look at the page for &lt;em&gt;Buddleja&lt;/em&gt; on NCBI &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?id=26473&quot;&gt;here&lt;/a&gt; there is no &lt;em&gt;Buddleja montana&lt;/em&gt; at all.&lt;/p&gt;

&lt;p&gt;Another thing we could do is look at the score that is returned. Let’s look at those that are less than 1 (i.e., )&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;outdf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;outdf&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;score&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;                        submittedName           acceptedName    sourceId
94   Buddleja pichinchensis x bullata Buddleja pichinchensis iPlant_TNRS
340                Diascia ellaphieae                        iPlant_TNRS
495              Eremophila decipiens                        iPlant_TNRS
500            Eremophila grandiflora             Eremophila iPlant_TNRS
808           Jamesbrittneia hilliard                        iPlant_TNRS
1051                 Verbascum patris              Verbascum iPlant_TNRS
1081             Verbascum barnadesii              Verbascum iPlant_TNRS
1097              Verbascum calycosum              Verbascum iPlant_TNRS
     score            matchedName annotations
94    0.90 Buddleja pichinchensis       Kunth
340   0.98      Diascia ellaphiae            
495   0.98  Eremophila decipiense            
500   0.50             Eremophila      R. Br.
808   0.50         Jamesbrittenia            
1051  0.50              Verbascum          L.
1081  0.50              Verbascum          L.
1097  0.50              Verbascum          L.
                                       uri
94   http://www.tropicos.org/Name/19000333
340                                       
495                                       
500  http://www.tropicos.org/Name/40004761
808                                       
1051 http://www.tropicos.org/Name/40023766
1081 http://www.tropicos.org/Name/40023766
1097 http://www.tropicos.org/Name/40023766&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;As we got this speies list from &lt;a href=&quot;http://www.theplantlist.org/&quot;&gt;theplantlist.org&lt;/a&gt;, there aren’t that many mistakes, but if it was my species list you know there would be many :)&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;thats-it--try-it-out-and-let-us-know-if-you-have-any-questions-at-inforopensciorgmailtoinforopensciorg-or-ask-questionsreport-problems-at-githubhttpsgithubcomropenscitaxizeissues&quot;&gt;That’s it.  Try it out and let us know if you have any questions at &lt;a href=&quot;&amp;#109;&amp;#097;&amp;#105;&amp;#108;&amp;#116;&amp;#111;:&amp;#105;&amp;#110;&amp;#102;&amp;#111;&amp;#064;&amp;#114;&amp;#111;&amp;#112;&amp;#101;&amp;#110;&amp;#115;&amp;#099;&amp;#105;&amp;#046;&amp;#111;&amp;#114;&amp;#103;&quot;&gt;&amp;#105;&amp;#110;&amp;#102;&amp;#111;&amp;#064;&amp;#114;&amp;#111;&amp;#112;&amp;#101;&amp;#110;&amp;#115;&amp;#099;&amp;#105;&amp;#046;&amp;#111;&amp;#114;&amp;#103;&lt;/a&gt;, or &lt;a href=&quot;https://github.com/ropensci/taxize_/issues&quot;&gt;ask questions/report problems at GitHub&lt;/a&gt;.&lt;/h3&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;get-the-rmd-file-used-to-create-this-post-at-my-github-accounthttpsgithubcomsckottsckottgithubcomtreemaster2013-01-25-tnrs-use-casermd---or-md-filehttpsgithubcomsckottsckottgithubcomtreemasterposts2013-01-25-tnrs-use-casemd&quot;&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/2013-01-25-tnrs-use-case.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2013-01-25-tnrs-use-case.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Open Science Challenge</title>
   <link href="http://recology.info//2013/01/open-science-challenge/"/>
   <updated>2013-01-08T00:00:00-08:00</updated>
   <id>http://recology.info//2013/01/open-science-challenge</id>
   <content type="html">&lt;p&gt;&lt;img src=&quot;https://raw.github.com/sckott/sckott.github.com/master/public/img/ropensci_challenge.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;open-science&quot;&gt;&lt;strong&gt;Open Science&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;Science is becoming more open in many areas: publishing, data sharing, lab notebooks, and software. There are many benefits to open science. For example, sharing research data alongside your publications leads to increased citation rate (Piwowar &lt;em&gt;et. al.&lt;/em&gt; 2007). In addition, data is becoming easier to share and reuse thanks to efforts like &lt;a href=&quot;http://figshare.com/&quot;&gt;FigShare&lt;/a&gt; and &lt;a href=&quot;http://datadryad.org/&quot;&gt;Dryad&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;If you don’t understand the problem we are currently facing due to lack of open science, watch this video:&lt;/p&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;http://www.youtube.com/embed/N2zK3sAtr-4&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;i-just-want-data&quot;&gt;&lt;strong&gt;I just want Data&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;Another way to look at this challenge is to think about how you can get data more easily. Right now you probably go to a website that has an interface to a database. You do a search, and then download a .csv file perhaps. Then you open it in Excel, and do some pivot tables to get the data in the right format. Only then will you bring the data in to R.&lt;/p&gt;

&lt;p&gt;The advantage of using our packages is that they allow you to do that data collection part in a few lines of code. Therefore, you can easily do all those steps in the above paragraph using a few lines of code in one R file. Why does this matter? You can more easily reproduce your own work months later after that summer vacation. In addition, others can reproduce your research more easily.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;the-challenge&quot;&gt;&lt;strong&gt;The challenge&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;We (&lt;a href=&quot;http://ropensci.org/&quot;&gt;ropensci&lt;/a&gt;) have just kicked off the &lt;a href=&quot;http://ropensci.org/open-science-challenge/&quot;&gt;rOpenSci Open Science Challenge&lt;/a&gt;. If you aren’t familiar with rOpenSci, it is a software collective connecting scientists to open science data on the web. Since R is the most popular programming language for life scientists, it made sense to do this in R (instead of Python e.g.).&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;what-is-the-challenge-about&quot;&gt;&lt;strong&gt;What is the challenge about?&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;At rOpenSci, we create R software to make getting open source text from publications and open source data easy. An important result of this is that we are facilitating open science. Why? Because R is an open source programming language, and all of our software is open source. . This challenge asks you to propose a project using one or more of our packages - or perhaps you want to propose a new dataset to connect to R. The rOpenSci core developer team will help you with any problems using our packages, and attempt to modify packages according to feedback from participants. Do you use one or more of our R packages? If you do, great. If not, check out our packages &lt;a href=&quot;http://ropensci.org/packages/index.html&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;how-to-apply&quot;&gt;&lt;strong&gt;How to apply&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;Just send an email to &lt;a href=&quot;&amp;#109;&amp;#097;&amp;#105;&amp;#108;&amp;#116;&amp;#111;:&amp;#105;&amp;#110;&amp;#102;&amp;#111;&amp;#064;&amp;#114;&amp;#111;&amp;#112;&amp;#101;&amp;#110;&amp;#115;&amp;#099;&amp;#105;&amp;#046;&amp;#111;&amp;#114;&amp;#103;&amp;#063;&amp;#115;&amp;#117;&amp;#098;&amp;#106;&amp;#101;&amp;#099;&amp;#116;&amp;#061;&amp;#114;&amp;#079;&amp;#112;&amp;#101;&amp;#110;&amp;#083;&amp;#099;&amp;#105;&amp;#032;&amp;#079;&amp;#112;&amp;#101;&amp;#110;&amp;#032;&amp;#083;&amp;#099;&amp;#105;&amp;#101;&amp;#110;&amp;#099;&amp;#101;&amp;#032;&amp;#067;&amp;#104;&amp;#097;&amp;#108;&amp;#108;&amp;#101;&amp;#110;&amp;#103;&amp;#101;&quot;&gt;info@ropensci.org&lt;/a&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;the-deadline&quot;&gt;&lt;strong&gt;The deadline&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;January 31, 2013&lt;/p&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;get-the-rmd-file-used-to-create-this-post-at-my-github-accounthttpsgithubcomsckottsckottgithubcomtreemasterdrafts2013-01-08-open-science-challengermd---or-md-filehttpsgithubcomsckottsckottgithubcomtreemasterposts2013-01-08-open-science-challengemd&quot;&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2013-01-08-open-science-challenge.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2013-01-08-open-science-challenge.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr-and-knitcitationshttpsgithubcomcboettigknitcitations-from-carl-boettigerhttpwwwcarlboettigerinfo&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and &lt;a href=&quot;https://github.com/cboettig/knitcitations&quot;&gt;knitcitations&lt;/a&gt; from &lt;a href=&quot;http://www.carlboettiger.info/&quot;&gt;Carl Boettiger&lt;/a&gt;.&lt;/h4&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;references&quot;&gt;References&lt;/h4&gt;
&lt;p&gt;Piwowar HA, Day RS, Fridsma DB and Ioannidis J (2007).
&amp;ldquo;Sharing Detailed Research Data is Associated With Increased Citation Rate.&amp;rdquo;
&lt;em&gt;Plos One&lt;/em&gt;, &lt;b&gt;2&lt;/b&gt;.
&lt;a href=&quot;http://dx.doi.org/10.1371/journal.pone.0000308&quot;&gt;http://dx.doi.org/10.1371/journal.pone.0000308&lt;/a&gt;.

&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Is invasive?</title>
   <link href="http://recology.info//2012/12/is-invasive/"/>
   <updated>2012-12-13T00:00:00-08:00</updated>
   <id>http://recology.info//2012/12/is-invasive</id>
   <content type="html">&lt;p&gt;The Global Invasive Species Database (GISD) (see their website for more info &lt;a href=&quot;http://www.issg.org/database/welcome/&quot;&gt;here&lt;/a&gt;) has data on the invasiveness status of many species. From &lt;code class=&quot;highlighter-rouge&quot;&gt;taxize&lt;/code&gt; you can now query the GISD database.&lt;/p&gt;

&lt;p&gt;Introducing the function &lt;code class=&quot;highlighter-rouge&quot;&gt;gisd_isinvasive&lt;/code&gt;. This function was contributed to &lt;code class=&quot;highlighter-rouge&quot;&gt;taxize&lt;/code&gt; by &lt;a href=&quot;http://www.bartomeus.cat/es/ignasi/&quot;&gt;Ignasi Bartomeus&lt;/a&gt;, a postdoc at the Swedish University Agricultural Sciences.&lt;/p&gt;

&lt;p&gt;There are two possible outputs from using &lt;code class=&quot;highlighter-rouge&quot;&gt;gisd_isinvasive&lt;/code&gt;: “Invasive” or “Not in GISD”. If you use &lt;code class=&quot;highlighter-rouge&quot;&gt;simplify=TRUE&lt;/code&gt; in the function you get “Invasive” or “Not in GISD”, but if you use &lt;code class=&quot;highlighter-rouge&quot;&gt;simplify=FALSE&lt;/code&gt; you get verbose description of the invasive species instead of just “Invasive” (and you still just get “Not in GISD”).&lt;/p&gt;

&lt;hr /&gt;

&lt;p&gt;&lt;img src=&quot;http://sckott.github.io/public/img/gisd_small.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;install-taxize-from-github&quot;&gt;Install taxize from GitHub&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# install_github(&#39;taxize_&#39;, &#39;ropensci&#39;) # install if you don&#39;t already
# have the GitHub version
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;taxize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;make-a-vector-of-species&quot;&gt;Make a vector of species&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;sp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Carpobrotus edulis&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Rosmarinus officinalis&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Nasua nasua&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Martes melampus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s2&quot;&gt;&quot;Centaurea solstitialis&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;using-the-function-gisdisinvasive-you-can-query-the-gisd-database-for-the-invasiveness-status-of-your-species-at-least-according-to-gisd-calling-gisdisinvasive-with-the-second-parameter-set-to-default-simplifyfalse-you-get-verbose-output-with-details-on-the-species&quot;&gt;Using the function &lt;code class=&quot;highlighter-rouge&quot;&gt;gisd_isinvasive&lt;/code&gt; you can query the GISD database for the invasiveness status of your species, at least according to GISD. Calling &lt;code class=&quot;highlighter-rouge&quot;&gt;gisd_isinvasive&lt;/code&gt; with the second parameter set to default &lt;code class=&quot;highlighter-rouge&quot;&gt;simplify=FALSE&lt;/code&gt;, you get verbose output, with details on the species.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;gisd_isinvasive&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Checking species 1
Checking species 2
Checking species 3
Checking species 4
Checking species 5
Done

                 species
1     Carpobrotus edulis
2 Rosmarinus officinalis
3            Nasua nasua
4        Martes melampus
5 Centaurea solstitialis
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               status
1                                                                                                                                                                                                                                                  You searched for invasive species named Carpobrotus edulis:     1.  Carpobrotus edulis (succulent)        Carpobrotus edulis is a mat-forming succulent native to South Africa which is invasive primarily in coastal habitats in many parts of the world. It was often introduced as an ornamental plant or used for planting along roadsides, from which it has spread to become invasive. Its main impacts are smothering, reduced regeneration of native flora and changes to soil pH and nutrient regimes.\r\nCommon Names: balsamo, Cape fig, figue marine, freeway iceplant, ghaukum, ghoenavy, highway ice plant, higo del Cabo, higo marino, Hottentosvy, hottentot fig, Hottentottenfeige, iceplant, ikhambi-lamabulawo, Kaapsevy, patata frita, perdevy, pigface, rankvy, sea fig, sour fig, suurvy, umgongozi, vyerank\r\nSynonyms: Mesembryanthemum edule L., Mesembryanthemum edulis
2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Not in GISD
3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            You searched for invasive species named Nasua nasua:1.  Nasua nasua (mammal)             Interim profile, incomplete informationCommon Names: Achuni, Coatí, South American Coati, Tejón
4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       You searched for invasive species named Martes melampus:1.  Martes melampus (mammal)             Interim profile, incomplete informationCommon Names: Japanese Marten, Tsushima Island Marten
5 You searched for invasive species named Centaurea solstitialis:     1.  Centaurea solstitialis (herb)        Centaurea solstitialis is a winter annual that can form dense impenetrable stands that displace desirable vegetation in natural areas, rangelands, and other places. It is best adapted to open grasslands with deep, well-drained soils and an annual precipitation range of 25 to 150cm per year. It is intolerant of shade. Although populations can occur at elevations as high as 2,400 m, most large infestations are found below 1,500 m. Human activities are the primary mechanisms for the long distance movement of C. solstitialis seed. The short, stiff, pappus bristles are covered with barbs that readily adhere to clothing, hair, and fur.  The movement of contaminated hay and uncertified seed are also important long distance transportation mechanisms. Wind disperses seeds over short distances.\r\nCommon Names: geeldissel, golden star thistle, sonnwend-Flockenblume, St. Barnaby&#39;s thistle, yellow centaury, yellow cockspur, yellow star thistle\r\nSynonyms: Leucantha solstitialis (L.) A.&amp;amp; D. Löve&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;simpler-output-just-the-invasive-status&quot;&gt;Simpler output, just the invasive status.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;gisd_isinvasive&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;simplify&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Checking species 1
Checking species 2
Checking species 3
Checking species 4
Checking species 5
Done

                 species      status
1     Carpobrotus edulis    Invasive
2 Rosmarinus officinalis Not in GISD
3            Nasua nasua    Invasive
4        Martes melampus    Invasive
5 Centaurea solstitialis    Invasive&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;get-the-rmd-file-used-to-create-this-post-at-my-github-accounthttpsgithubcomsckottsckottgithubcomtreemasterdrafts2012-12-13-is-invasivermd---or-md-filehttpsgithubcomsckottsckottgithubcomtreemasterposts2012-12-13-is-invasivemd&quot;&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-12-13-is-invasive.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2012-12-13-is-invasive.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Shiny apps are awesome</title>
   <link href="http://recology.info//2012/12/shiny-r/"/>
   <updated>2012-12-10T00:00:00-08:00</updated>
   <id>http://recology.info//2012/12/shiny-r</id>
   <content type="html">&lt;p&gt;RStudio has a new product called &lt;code class=&quot;highlighter-rouge&quot;&gt;Shiny&lt;/code&gt; that, quoting from their website, “makes it super simple for R users like you to turn analyses into interactive web applications that anyone can use”. &lt;a href=&quot;http://www.rstudio.com/shiny/&quot;&gt;See here&lt;/a&gt; for more information.&lt;/p&gt;

&lt;p&gt;A &lt;code class=&quot;highlighter-rouge&quot;&gt;Shiny&lt;/code&gt; basically consists of two files: a &lt;code class=&quot;highlighter-rouge&quot;&gt;ui.r&lt;/code&gt; file and a &lt;code class=&quot;highlighter-rouge&quot;&gt;server.r&lt;/code&gt; file.  The &lt;code class=&quot;highlighter-rouge&quot;&gt;ui.r&lt;/code&gt; file, as it says, provides the user interface, and the &lt;code class=&quot;highlighter-rouge&quot;&gt;server.r&lt;/code&gt; file provides the the server logic.&lt;/p&gt;

&lt;p&gt;Below is what it looks like in the wild (on a browser).&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://sckott.github.io/public/img/shiny_ss.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;p&gt;It was pretty easy (for &lt;a href=&quot;http://emhart.github.com/&quot;&gt;Ted Hart of rOpenSci&lt;/a&gt;) to build this app to demonstrate output from the &lt;a href=&quot;http://cran.r-project.org/web/packages/rgbif/index.html&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ropensci rgbif&lt;/code&gt; package&lt;/a&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;you-may-need-to-install-packages-first&quot;&gt;You may need to install packages first.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;shiny&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ggplot2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;plyr&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;rgbif&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;we-tried-to-build-in-making-real-time-api-calls-to-gbifs-servers-but-the-calls-took-too-long-for-web-speed--so-we-prepare-the-data-first-and-then-serve-it-up-from-saved-data-in-a-rda-file-lets-first-prepare-the-data---well-this-is-what-we-do-on-the-app-itself-but-see-the-next-code-block-for&quot;&gt;We tried to build in making real time API calls to GBIF’s servers, but the calls took too long for web speed.  So we prepare the data first, and then serve it up from saved data in a &lt;code class=&quot;highlighter-rouge&quot;&gt;.rda&lt;/code&gt; file. Let’s first prepare the data. –Well, this is what we do on the app itself, but see the next code block for&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rgbif&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;splist&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Accipiter erythronemius&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Junco hyemalis&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Aix sponsa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Haliaeetus leucocephalus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s2&quot;&gt;&quot;Corvus corone&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Threskiornis molucca&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Merops malimbicus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;llply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;splist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;occurrencelist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;coordinatestatus&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;maxresults&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;splist&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# name each data.frame with the species names
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;setwd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;~/ShinyApps/rgbif2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# set directory
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;speciesdata.rda&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;save&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frames&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;into&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;an&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;.rda&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;file&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;serve&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;up&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;heres-the-server-logic&quot;&gt;Here’s the server logic&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shiny&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plyr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rgbif&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;## Set up server output
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shinyServer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;speciesdata.rda&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# define function for server plot output
&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gbifplot&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;reactivePlot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;species&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;spec&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;species&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gbifmap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;cbt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;reactiveText&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;the-user-interface&quot;&gt;The user interface&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shiny&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Define UI for application that plots random distributions
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;shinyUI&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;pageWithSidebar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;headerPanel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rgbif example&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sidebarPanel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;checkboxGroupInput&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;spec&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s2&quot;&gt;&quot;Species to map:&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`Sharp shinned hawk (Accipiter erythronemius)`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Accipiter erythronemius&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;sb&quot;&gt;`Dark eyed junco (Junco hyemalis)`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Junco hyemalis&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Wood duck (Aix sponsa)`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Aix sponsa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;sb&quot;&gt;`Bald eagle (Haliaeetus leucocephalus)`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Haliaeetus leucocephalus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;sb&quot;&gt;`Carrion crow (Corvus corone)`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Corvus corone&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Australian White Ibis (Threskiornis molucca)`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Threskiornis molucca&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;sb&quot;&gt;`Rosy Bee-eater (Merops malimbicus)`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Merops malimbicus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;selected&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Bald eagle (Haliaeetus leucocephalus)&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))),&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;mainPanel&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;h5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;A map of your selected species: Please note that GBIF is queried for every selection so loading times vary&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;plotOutput&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;gbifplot&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;p&gt;This should be all you need. To actually serve up the app in the web, request to be part of their beta-test of Shiny server on the web &lt;a href=&quot;https://rstudio.wufoo.com/forms/shiny-server-beta-program/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Go play with our Shiny app &lt;a href=&quot;http://glimmer.rstudio.com/ropensci/rgbif2/&quot;&gt;here&lt;/a&gt; to see the kind of visualization you can do with the &lt;code class=&quot;highlighter-rouge&quot;&gt;rgbif&lt;/code&gt; package.&lt;/p&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;get-the-rmd-file-used-to-create-this-post-at-my-github-accounthttpsgithubcomsckottsckottgithubcomtreemasterdrafts2012-12-10-shiny-rrmd---or-md-filehttpsgithubcomsckottsckottgithubcomtreemasterposts2012-12-10-shiny-rmd&quot;&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-12-10-shiny-r.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2012-12-10-shiny-r.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>One R package for all your taxonomic needs</title>
   <link href="http://recology.info//2012/12/taxize/"/>
   <updated>2012-12-06T00:00:00-08:00</updated>
   <id>http://recology.info//2012/12/taxize</id>
   <content type="html">&lt;p&gt;UPDATE: there were some errors in the tests for &lt;code class=&quot;highlighter-rouge&quot;&gt;taxize&lt;/code&gt;, so the binaries aren’t avaiable yet. You can install from source though, see below.&lt;/p&gt;

&lt;p&gt;Getting taxonomic information for the set of species you are studying can be a pain in the ass. You have to manually type, or paste in, your species one-by-one. Or, if you are lucky, there is a web service in which you can upload a list of species. Encyclopedia of Life (EOL) has a service where you can do this &lt;a href=&quot;http://gni.globalnames.org/parsers/new&quot;&gt;here&lt;/a&gt;. But is this reproducible? No.&lt;/p&gt;

&lt;p&gt;Getting your taxonomic information for your species can now be done programatically in R. Do you want to get taxonomic information from ITIS. We got that. Tropicos? We got that too. uBio? No worries, we got that. What about theplantlist.org? Yep, got that. Encyclopedia of Life? Indeed. What about getting sequence data for a taxon? Oh hell yeah, you can get sequences available for a taxon across all genes, or get all records for a taxon for a specific gene.&lt;/p&gt;

&lt;p&gt;Of course this is all possible because these data providers have open APIs so that we can facilitate your computer talking to their database. Fun!&lt;/p&gt;

&lt;p&gt;Why get your taxonomic data programatically? Because it’s 1) faster than by hand in web sites/looking up in books, 2) reproducible, especially if you share your code (damnit!), and 3) you can easily mash up your new taxonomic data to get sequences to build a phylogeny, etc.&lt;/p&gt;

&lt;p&gt;I’ll give a few examples of using &lt;code class=&quot;highlighter-rouge&quot;&gt;taxize&lt;/code&gt; based around use cases, that is, stuff someone might actually do instead of what particular functions do.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;install-packages--you-can-get-from-cran-or-github&quot;&gt;Install packages.  You can get from CRAN or GitHub.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# install.packages(&quot;ritis&quot;) # uncomment if not already installed
# install_github(&#39;taxize_&#39;, &#39;ropensci&#39;) # uncomment if not already installed
# install.packages(&quot;taxize&quot;, type=&quot;source&quot;) # uncomment if not already installed
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ritis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;taxize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;attach-family-names-to-a-list-of-species&quot;&gt;Attach family names to a list of species.&lt;/h3&gt;

&lt;h4 id=&quot;i-often-have-a-list-of-species-that-i-studied-and-simply-want-to-get-their-family-names-to-for-example-make-a-table-for-the-paper-im-writing&quot;&gt;I often have a list of species that I studied and simply want to get their family names to, for example, make a table for the paper I’m writing.&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# For one species
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;itis_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Poa annua&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;family&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Retrieving data for species &#39; Poa annua &#39;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &quot;Poaceae&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# For many species
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;species&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Poa annua&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Abies procera&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Helianthus annuus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Coffea arabica&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;famnames&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;species&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;itis_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;family&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;USE.NAMES&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Retrieving data for species &#39; Poa annua &#39;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Retrieving data for species &#39; Abies procera &#39;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Retrieving data for species &#39; Helianthus annuus &#39;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Retrieving data for species &#39; Coffea arabica &#39;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;species&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;species&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;family&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;famnames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;            species     family
1         Poa annua    Poaceae
2     Abies procera   Pinaceae
3 Helianthus annuus Asteraceae
4    Coffea arabica  Rubiaceae&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;resolve-taxonomic-names&quot;&gt;Resolve taxonomic names.&lt;/h3&gt;

&lt;h4 id=&quot;this-is-a-common-use-case-for-ecologistsevolutionary-biologists-or-at-least-should-be-that-is-species-names-you-have-for-your-own-data-or-when-using-others-data-could-be-old-names---and-if-you-need-the-newest-names-for-your-species-list-how-can-you-make-this-as-painless-as-possible-you-can-query-taxonomic-data-from-many-different-sources-with-taxize&quot;&gt;This is a common use case for ecologists/evolutionary biologists, or at least should be. That is, species names you have for your own data, or when using other’s data, could be old names - and if you need the newest names for your species list, how can you make this as painless as possible? You can query taxonomic data from many different sources with &lt;code class=&quot;highlighter-rouge&quot;&gt;taxize&lt;/code&gt;.&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# The iPlantCollaborative provides access via API to their taxonomic name
# resolution service (TNRS)
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mynames&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;shorea robusta&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;pandanus patina&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;oryza sativa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;durio zibethinus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s2&quot;&gt;&quot;rubus ulmifolius&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;asclepias curassavica&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;pistacia lentiscus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;iplant_tnrsmatch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;retrieve&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;all&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;taxnames&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;helianthus annuus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;acacia&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s2&quot;&gt;&quot;gossypium&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;names&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;       AcceptedName   MatchFam MatchGenus MatchScore    Accept?
1 Helianthus annuus Asteraceae Helianthus          1 No opinion
2            Acacia   Fabaceae     Acacia          1 No opinion
3                                  Acacia          1 No opinion
4         Gossypium  Malvaceae  Gossypium          1 No opinion
     SubmittedNames
1 helianthus annuus
2            acacia
3            acacia
4         gossypium&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# The global names resolver is another attempt at this, hitting many
# different data sources
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gnr_resolve&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;names&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Helianthus annuus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Homo sapiens&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;returndf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;   data_source_id    submitted_name       name_string score
1               4 Helianthus annuus Helianthus annuus 0.988
3              10 Helianthus annuus Helianthus annuus 0.988
5              12 Helianthus annuus Helianthus annuus 0.988
8             110 Helianthus annuus Helianthus annuus 0.988
11            159 Helianthus annuus Helianthus annuus 0.988
13            166 Helianthus annuus Helianthus annuus 0.988
15            169 Helianthus annuus Helianthus annuus 0.988
2               4      Homo sapiens      Homo sapiens 0.988
4              10      Homo sapiens      Homo sapiens 0.988
6              12      Homo sapiens      Homo sapiens 0.988
7             107      Homo sapiens      Homo sapiens 0.988
9             122      Homo sapiens      Homo sapiens 0.988
10            123      Homo sapiens      Homo sapiens 0.988
12            159      Homo sapiens      Homo sapiens 0.988
14            168      Homo sapiens      Homo sapiens 0.988
16            169      Homo sapiens      Homo sapiens 0.988
                     title
1                     NCBI
3                 Freebase
5                      EOL
8     Illinois Wildflowers
11                 CU*STAR
13                   nlbif
15           uBio NameBank
2                     NCBI
4                 Freebase
6                      EOL
7                AskNature
9                 BioPedia
10                   AnAge
12                 CU*STAR
14 Index to Organism Names
16           uBio NameBank&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# We can hit the Plantminer API too
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plants&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Myrcia lingua&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Myrcia bella&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Ocotea pulchella&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Miconia&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s2&quot;&gt;&quot;Coffea arabica var. amarella&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Bleh&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plantminer&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plants&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Myrcia lingua 
Myrcia bella 
Ocotea pulchella 
Miconia 
Coffea arabica var. amarella 
Bleh &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;              fam   genus                    sp             author
1       Myrtaceae  Myrcia                lingua   (O. Berg) Mattos
2       Myrtaceae  Myrcia                 bella           Cambess.
3       Lauraceae  Ocotea             pulchella (Nees &amp;amp; Mart.) Mez
4 Melastomataceae Miconia                    NA        Ruiz &amp;amp; Pav.
5       Rubiaceae  Coffea arabica var. amarella        A. Froehner
6              NA    Bleh                    NA                 NA
            source source.id   status confidence suggestion       database
1              TRO 100227036       NA         NA         NA       Tropicos
2             WCSP    131057 Accepted          H         NA The Plant List
3 WCSP (in review)    989758 Accepted          M         NA The Plant List
4              TRO  40018467       NA         NA         NA       Tropicos
5              TRO 100170231       NA         NA         NA       Tropicos
6               NA        NA       NA         NA       Baea             NA&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# We made a light wrapper around the Taxonstand package to search
# Theplantlist.org too
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;splist&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Heliathus annuus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Abies procera&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Poa annua&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Platanus occidentalis&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s2&quot;&gt;&quot;Carex abrupta&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Arctostaphylos canescens&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Ocimum basilicum&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Vicia faba&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s2&quot;&gt;&quot;Quercus kelloggii&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Lactuca serriola&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;tpl_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;taxon&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;splist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;            Genus      Species Infraspecific Plant.Name.Index
1       Heliathus       annuus                          FALSE
2           Abies      procera                           TRUE
3             Poa        annua                           TRUE
4        Platanus occidentalis                           TRUE
5           Carex      abrupta                           TRUE
6  Arctostaphylos    canescens                           TRUE
7          Ocimum    basilicum                           TRUE
8           Vicia         faba                           TRUE
9         Quercus    kelloggii                           TRUE
10        Lactuca     serriola                           TRUE
   Taxonomic.status      Family      New.Genus  New.Species
1                                    Heliathus       annuus
2          Accepted    Pinaceae          Abies      procera
3          Accepted     Poaceae            Poa        annua
4          Accepted Platanaceae       Platanus occidentalis
5          Accepted  Cyperaceae          Carex      abrupta
6          Accepted   Ericaceae Arctostaphylos    canescens
7          Accepted   Lamiaceae         Ocimum    basilicum
8          Accepted Leguminosae          Vicia         faba
9          Accepted    Fagaceae        Quercus    kelloggii
10         Accepted  Compositae        Lactuca     serriola
   New.Infraspecific Authority  Typo WFormat
1                              FALSE   FALSE
2                       Rehder FALSE   FALSE
3                           L. FALSE   FALSE
4                           L. FALSE   FALSE
5               &amp;lt;NA&amp;gt;     Mack. FALSE   FALSE
6                       Eastw. FALSE   FALSE
7                           L. FALSE   FALSE
8                           L. FALSE   FALSE
9               &amp;lt;NA&amp;gt;     Newb. FALSE   FALSE
10                          L. FALSE   FALSE&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;taxonomic-hierarchies&quot;&gt;Taxonomic hierarchies&lt;/h3&gt;

&lt;h4 id=&quot;i-often-want-the-full-taxonomic-hierarchy-for-a-set-of-species-that-is-give-me-the-family-order-class-etc-for-my-list-of-species-there-are-two-different-easy-ways-to-do-this-with-taxize-the-first-example-uses-eol&quot;&gt;I often want the full taxonomic hierarchy for a set of species. That is, give me the family, order, class, etc. for my list of species. There are two different easy ways to do this with &lt;code class=&quot;highlighter-rouge&quot;&gt;taxize&lt;/code&gt;. The first example uses EOL.&lt;/h4&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;using-eol&quot;&gt;Using EOL.&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;pageid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;eol_search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Quercus douglasii&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# first need to search for the taxon&#39;s page on EOL
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;eol_pages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;taxonconceptID&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pageid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# then we nee to get the taxon ID used by EOL
&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Notice that there are multiple different sources you can pull the
# hierarchy from. Note even that you can get the hierarchy from the ITIS
# service via this EOL API.
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;  identifier                 scientificName
1   46203061 Quercus douglasii Hook. &amp;amp; Arn.
2   48373995 Quercus douglasii Hook. &amp;amp; Arn.
                                  nameAccordingTo sourceIdentfier
1  Integrated Taxonomic Information System (ITIS)           19322
2 Species 2000 &amp;amp; ITIS Catalogue of Life: May 2012         9723391
  taxonRank
1   Species
2   Species&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Then the hierarchy!
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;eol_hierarchy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nameAccordingTo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Species 2000 &amp;amp; ITIS Catalogue of Life: May 2012&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s2&quot;&gt;&quot;identifier&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;  sourceIdentifier  taxonID parentNameUsageID taxonConceptID
1         11017504 48276627                 0            281
2         11017505 48276628          48276627            282
3         11017506 48276629          48276628            283
4         11022500 48373354          48276629           4184
5         11025284 48373677          48373354           4197
  scientificName taxonRank
1        Plantae   kingdom
2  Magnoliophyta    phylum
3  Magnoliopsida     class
4        Fagales     order
5       Fagaceae    family&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;eol_hierarchy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nameAccordingTo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Integrated Taxonomic Information System (ITIS)&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s2&quot;&gt;&quot;identifier&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;and&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ITIS&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;slightly&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;different&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;than&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ITIS&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;output&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;below&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;which&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;includes&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;taxa&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;all&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;way&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;down.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;   sourceIdentifier  taxonID parentNameUsageID taxonConceptID
1            202422 46150613                 0            281
2            846492 46159776          46150613        8654492
3            846494 46161961          46159776       28818077
4            846496 46167532          46161961           4494
5            846504 46169010          46167532       28825126
6            846505 46169011          46169010            282
7             18063 46169012          46169011            283
8            846548 46202954          46169012       28859070
9             19273 46202955          46202954           4184
10            19275 46203022          46202955           4197
    scientificName     taxonRank
1          Plantae       kingdom
2   Viridaeplantae    subkingdom
3     Streptophyta  infrakingdom
4     Tracheophyta      division
5  Spermatophytina   subdivision
6     Angiospermae infradivision
7    Magnoliopsida         class
8          Rosanae    superorder
9          Fagales         order
10        Fagaceae        family&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h4 id=&quot;and-getting-a-taxonomic-hierarchy-using-itis&quot;&gt;And getting a taxonomic hierarchy using ITIS.&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# First, get the taxonomic serial number (TSN) that ITIS uses
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mytsn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_tsn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Quercus douglasii&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;sciname&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Retrieving data for species &#39; Quercus douglasii &#39;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Get the full taxonomic hierarchy for a taxon from the TSN
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;itis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mytsn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;getfullhierarchyfromtsn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$`1`
        parentName parentTsn      rankName         taxonName    tsn
1                                  Kingdom           Plantae 202422
2          Plantae    202422    Subkingdom    Viridaeplantae 846492
3   Viridaeplantae    846492  Infrakingdom      Streptophyta 846494
4     Streptophyta    846494      Division      Tracheophyta 846496
5     Tracheophyta    846496   Subdivision   Spermatophytina 846504
6  Spermatophytina    846504 Infradivision      Angiospermae 846505
7     Angiospermae    846505         Class     Magnoliopsida  18063
8    Magnoliopsida     18063    Superorder           Rosanae 846548
9          Rosanae    846548         Order           Fagales  19273
10         Fagales     19273        Family          Fagaceae  19275
11        Fagaceae     19275         Genus           Quercus  19276
12         Quercus     19276       Species Quercus douglasii  19322&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# But this can be even easier!
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;classification&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_tsn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Quercus douglasii&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Boom&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Retrieving data for species &#39; Quercus douglasii &#39;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$`1`
        parentName parentTsn      rankName         taxonName    tsn
1                                  Kingdom           Plantae 202422
2          Plantae    202422    Subkingdom    Viridaeplantae 846492
3   Viridaeplantae    846492  Infrakingdom      Streptophyta 846494
4     Streptophyta    846494      Division      Tracheophyta 846496
5     Tracheophyta    846496   Subdivision   Spermatophytina 846504
6  Spermatophytina    846504 Infradivision      Angiospermae 846505
7     Angiospermae    846505         Class     Magnoliopsida  18063
8    Magnoliopsida     18063    Superorder           Rosanae 846548
9          Rosanae    846548         Order           Fagales  19273
10         Fagales     19273        Family          Fagaceae  19275
11        Fagaceae     19275         Genus           Quercus  19276
12         Quercus     19276       Species Quercus douglasii  19322&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# You can also do this easy-peasy route to a taxonomic hierarchy using
# uBio
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;classification&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;get_uid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Ornithorhynchus anatinus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$`1`
       ScientificName         Rank    UID
1  cellular organisms      no rank 131567
2           Eukaryota superkingdom   2759
3        Opisthokonta      no rank  33154
4             Metazoa      kingdom  33208
5           Eumetazoa      no rank   6072
6           Bilateria      no rank  33213
7           Coelomata      no rank  33316
8       Deuterostomia      no rank  33511
9            Chordata       phylum   7711
10           Craniata    subphylum  89593
11         Vertebrata      no rank   7742
12      Gnathostomata   superclass   7776
13         Teleostomi      no rank 117570
14       Euteleostomi      no rank 117571
15      Sarcopterygii      no rank   8287
16          Tetrapoda      no rank  32523
17            Amniota      no rank  32524
18           Mammalia        class  40674
19        Prototheria      no rank   9254
20        Monotremata        order   9255
21  Ornithorhynchidae       family   9256
22    Ornithorhynchus        genus   9257&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;sequences&quot;&gt;Sequences?&lt;/h3&gt;

&lt;h4 id=&quot;while-you-are-at-doing-taxonomic-stuff-you-often-wonder-hmmm-i-wonder-if-there-are-any-sequence-data-available-for-my-species-so-you-can-use-getseqs-to-search-for-specific-genes-for-a-species-and-getgenesavail-to-find-out-what-genes-are-available-for-a-certain-species-these-functions-search-for-data-on-ncbihttpwwwncbinlmnihgov&quot;&gt;While you are at doing taxonomic stuff, you often wonder “hmmm, I wonder if there are any sequence data available for my species?” So, you can use &lt;code class=&quot;highlighter-rouge&quot;&gt;get_seqs&lt;/code&gt; to search for specific genes for a species, and &lt;code class=&quot;highlighter-rouge&quot;&gt;get_genes_avail&lt;/code&gt; to find out what genes are available for a certain species. These functions search for data on &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/&quot;&gt;NCBI&lt;/a&gt;.&lt;/h4&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Get sequences (sequence is provied in output, but hiding here for
# brevity). What&#39;s nice about this is that it gets the longest sequence
# avaialable for the gene you searched for, and if there isn&#39;t anything
# available, it lets you get a sequence from a congener if you set
# getrelated=TRUE. The last column in the output data.frame also tells you
# what species the sequence is from.
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_seqs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;taxon_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Acipenser brevirostrum&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gene&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;5S rRNA&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;seqrange&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;1:3000&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getrelated&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;writetodf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;sequence&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;                   taxon                                         gene_desc
1 Acipenser brevirostrum Acipenser brevirostrum 5S rRNA gene, clone BRE92A
     gi_no     acc_no length                 spused
1 60417159 AJ745069.1    121 Acipenser brevirostrum&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Search for available sequences
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get_genes_avail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;taxon_name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Umbra limi&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;seqrange&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;1:2000&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;getrelated&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;grep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;RAG1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;genesavail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ignore.case&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;does&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;string&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;RAG1&#39;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;exist&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;any&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gene&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;names&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;        spused length
414 Umbra limi    732
427 Umbra limi    959
434 Umbra limi   1631
                                                                            genesavail
414 isolate UlimA recombinase activating protein 1 (rag1) gene, exon 3 and partial cds
427           recombination-activating protein 1 (RAG1) gene, intron 2 and partial cds
434                        recombination-activating protein 1 (RAG1) gene, partial cds
    predicted
414  JX190826
427  AY459526
434  AY380548&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;
&lt;p&gt;#### Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-12-06-taxize.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2012-12-06-taxize.md&quot;&gt;.md file&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Altecology, a call to unconference action</title>
   <link href="http://recology.info//2012/11/altecology/"/>
   <updated>2012-11-15T00:00:00-08:00</updated>
   <id>http://recology.info//2012/11/altecology</id>
   <content type="html">&lt;p&gt;Note: This post is cross-posted on Sandra Chung’s blog &lt;a href=&quot;http://sandrachung.com/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;the-rise-of-the-unconference&quot;&gt;The rise of the unconference&lt;/h3&gt;
&lt;p&gt;The Ecological Society of America meeting is holding its &lt;a href=&quot;http://www.esa.org/minneapolis/&quot;&gt;98th annual meeting&lt;/a&gt; next year in Minneapolis, MN. Several thousand students and professionals in ecological science and education will gather to hear and read the latest work and ideas in ecology in the familiar poster and lecture formats that are the core of every major scientific conference. But a subset of these people will get a taste of something a little bit different: an unconference within the conference.&lt;/p&gt;

&lt;p&gt;The most important difference between traditional science conferences and the unconference format is that it prioritizes human interaction. Often the best and most important parts of science meetings are the interactions between talks, next to posters, and at the end of the day over drinks. These connections pave the way for collaborations and friendships that nourish our professional and personal lives with shared opportunities, camaraderie and support.&lt;/p&gt;

&lt;p&gt;In recognition of the increasing relative importance of the “meeting” part of a science meeting, the unconference format emphasizes interaction over presentation. It attempts to engage participants to the maximum extent reasonable in discussion and doing. &lt;a href=&quot;http://scienceonline.com/&quot;&gt;Science Online&lt;/a&gt; is a good example of this unconference format, in which the session topics are typically decided on democratically by the conference attendees (partly before arrival, partly on arrival), and you vote with your feet by going to and leaving sessions as you desire.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;ecology-is-changing&quot;&gt;Ecology is changing&lt;/h3&gt;
&lt;p&gt;Ecology is now adopting some of the same online and social tools that are already accelerating innovation in computing and other science disciplines. Ecologists, ecology students and educators are asking many of the same basic questions they have always asked: What should we be doing? How do we do it better and faster? Social media, open source software, open science, altmetrics, crowdsourcing, crowdfunding, data visualization, data sharing, alternative peer review, and an increasing emphasis on more and better communication and collaboration are just some of the newer tools being put forth to help address those questions in the 21st century.&lt;/p&gt;

&lt;p&gt;Social media is rapidly becoming more common in ecologists’ toolkits to disseminate news of their new papers, communicate about research and research tools, and even filter the deluge of publications. Tools like blogs, Twitter and Facebook are filling the communication gaps between annual meetings and adding a new layer of conversation and connection to conferences and classrooms.&lt;/p&gt;

&lt;p&gt;Social media, in turn, is connecting scientists directly to people besides their immediate colleagues who appreciate the impact of their work and want it to continue. The crowdfunding movement - exemplified by Kickstarter - has spurred similar alternative science funding projects such as SciFund. #SciFund project has shown that social media engagement increases donations to crowdfunded research (&lt;a href=&quot;http://jecology.libsyn.com/interview-with-jarrett-byrnes-on-science-crowdfunding&quot;&gt;interview with Jarrett Byrnes&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;In addition, we are in the era of big data, and &lt;a href=&quot;http://www.neoninc.org/news/big-data-part-i&quot;&gt;this includes ecology&lt;/a&gt;. To deal with this “data deluge”, ecologists increasingly want to learn how to manage, share, retrieve, use, and visualize data. There are new tools for all of these tasks - we need to aid each other in learning them. Online and offline communities are coalescing around the development and dissemination of these tools for the benefit of ecological science, and they are meeting face-to-face at our ecological unconference.&lt;/p&gt;

&lt;p&gt;Science in general is becoming increasingly complex and calling for larger and larger collaborations. This growth in turn is spurring a drive toward more openness and transparency within the culture of science. The more collaborative and complex scientific study becomes, the more scientists depend upon each other to do good work that we can all build upon with confidence. The often unstated assumption about ecology, and all of science, is that research findings are reproducible; but that assumption is quite shaky given the increasing number of retractions (see the &lt;a href=&quot;http://retractionwatch.wordpress.com/&quot;&gt;Retraction Watch blog&lt;/a&gt;) and findings that much research is not reproducible (see media coverage &lt;a href=&quot;http://www.nature.com/nature/journal/v483/n7391/full/483531a.html&quot;&gt;here&lt;/a&gt; and &lt;a href=&quot;http://www.reuters.com/article/2012/03/28/us-science-cancer-idUSBRE82R12P20120328&quot;&gt;here&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;A recent initiative seeks to facilitate attempts to reproduce research: &lt;a href=&quot;https://www.scienceexchange.com/reproducibility&quot;&gt;The Reproducibility Initiative&lt;/a&gt;. Jarrett Byrnes &lt;a href=&quot;http://www.slideshare.net/JarrettByrnes/taking-the-ecological-conversation-online&quot;&gt;spoke at #ESA2012&lt;/a&gt; of how transparent, online discourse enhances our ability to discuss and improve our work and the work of our peers, both before and after publication.&lt;/p&gt;

&lt;p&gt;Much of the ecological science community shares one or both of these goals: to do the best possible science, and to do it in a way that is most useful and accessible to colleagues and to society at large. The goal of this year’s ecological unconference is to introduce as many people as possible to resources - both tools and people - that can help all of us achieve those goals, on our own, or together.&lt;/p&gt;

&lt;p&gt;One way we as ecologists can quickly make our research more reproducible is the way we write. By simply using tools that make reproducing what we have done easy to do, we can avoid retracted papers, failed drugs, and ruined careers.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;what-are-you-proposing&quot;&gt;What are you proposing?&lt;/h3&gt;
&lt;p&gt;We originally thought about a separate event from ESA itself, modeled after &lt;a href=&quot;http://scienceonline.com/&quot;&gt;Science Online&lt;/a&gt;, incorporating a variety of topics. However, we thought testing the waters for this sort of non-traditional unconference format would be better in 2013. We are gathering ideas from the community (see “How do I make my voice heard?” below). The ideas on the wiki that get the most traction, and have 1-2 champions that are willing to see the idea through and lead the workshop at ESA will be turned in to proposals for ESA workshops. In addition, we will be submitting a proposal for an Ignite session at ESA. To summarise, we will be running:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;A few workshops (at lunch hours, and half-day). Topics may include:
    &lt;ul&gt;
      &lt;li&gt;Data sharing&lt;/li&gt;
      &lt;li&gt;Data visualization&lt;/li&gt;
      &lt;li&gt;Data management&lt;/li&gt;
      &lt;li&gt;Alternatives to academia&lt;/li&gt;
      &lt;li&gt;Blogging&lt;/li&gt;
      &lt;li&gt;Social media&lt;/li&gt;
      &lt;li&gt;Reproducible science writing&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;One Ignite session on “Tools for better/faster science”. See more about Ignite sessions &lt;a href=&quot;http://www.esa.org/minneapolis/ignite.php&quot;&gt;here&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;A “tweetup” event to socialize in a more relaxed atmosphere&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;These will all be loosely aggregated under the &lt;a href=&quot;https://twitter.com/search/realtime?q=%23AltEcology&quot;&gt;#AltEcology&lt;/a&gt; hashtag.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;how-do-i-make-my-voice-heard&quot;&gt;How do I make my voice heard?&lt;/h3&gt;
&lt;p&gt;We have set up a wiki in which anyone can contribute. Please share your ideas and voice your support for existing ones at the wiki &lt;a href=&quot;http://ecologyunconference.wikispaces.com/&quot;&gt;here&lt;/a&gt;.  You can just throw ideas out there, or even propose new workshops and nominate people to lead them. We’re currently moving to transform existing ideas into ESA workshop and Ignite proposals to meet the &lt;a href=&quot;http://www.esa.org/minneapolis/workshop.php&quot;&gt;November 29 deadline&lt;/a&gt;, but we’ll be incorporating input from the wiki right up to the meeting itself in August 2013.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;get-in-touch&quot;&gt;Get in touch&lt;/h3&gt;
&lt;p&gt;If you have any questions/comments, let us know in the comments section below, tweet us (Sandra: &lt;a href=&quot;https://twitter.com/sandramchung&quot;&gt;@sandramchung&lt;/a&gt;, Scott: &lt;a href=&quot;https://twitter.com/recology_&quot;&gt;@recology_&lt;/a&gt;), or email (&lt;a href=&quot;&amp;#109;&amp;#097;&amp;#105;&amp;#108;&amp;#116;&amp;#111;:&amp;#115;&amp;#097;&amp;#110;&amp;#100;&amp;#114;&amp;#097;&amp;#046;&amp;#109;&amp;#046;&amp;#099;&amp;#104;&amp;#117;&amp;#110;&amp;#103;&amp;#064;&amp;#103;&amp;#109;&amp;#097;&amp;#105;&amp;#108;&amp;#046;&amp;#099;&amp;#111;&amp;#109;&quot;&gt;Sandra&lt;/a&gt;, &lt;a href=&quot;&amp;#109;&amp;#097;&amp;#105;&amp;#108;&amp;#116;&amp;#111;:&amp;#109;&amp;#121;&amp;#114;&amp;#109;&amp;#101;&amp;#099;&amp;#111;&amp;#099;&amp;#121;&amp;#115;&amp;#116;&amp;#117;&amp;#115;&amp;#064;&amp;#103;&amp;#109;&amp;#097;&amp;#105;&amp;#108;&amp;#046;&amp;#099;&amp;#111;&amp;#109;&quot;&gt;Scott&lt;/a&gt;).&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;#### Get the .md file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2012-11-15-altecology.md&quot;&gt;at my github account&lt;/a&gt;.  Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Displaying Your Data in Google Earth Using R2G2</title>
   <link href="http://recology.info//2012/10/R2G2-package/"/>
   <updated>2012-10-24T00:00:00-07:00</updated>
   <id>http://recology.info//2012/10/R2G2-package</id>
   <content type="html">&lt;p&gt;Have you ever wanted to easily visualize your ecology data in &lt;a href=&quot;http://earth.google.com&quot;&gt;Google Earth&lt;/a&gt;?  &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt; is a new package for R, available via &lt;a href=&quot;http://cran.r-project.org/&quot;&gt;R CRAN&lt;/a&gt; and formally described in &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/1755-0998.12012/abstract&quot;&gt;this Molecular Ecology Resources article&lt;/a&gt;, which provides a user-friendly bridge between R and the Google Earth interface.  Here, we will provide a brief introduction to the package, including a short tutorial, and then encourage you to try it out with your own data!&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://barkerlab.net/nils.html&quot;&gt;Nils Arrigo&lt;/a&gt;, with some help from &lt;a href=&quot;http://portal.environment.arizona.edu/students/profiles/loren-albert&quot;&gt;Loren Albert&lt;/a&gt;, &lt;a href=&quot;http://barkerlab.net/mike.html&quot;&gt;Mike Barker&lt;/a&gt;, and Pascal Mickelson (one of the contributors to &lt;a href=&quot;http://sckott.github.io/about.html&quot;&gt;Recology&lt;/a&gt;), has created a set of R tools to generate KML files to view data with geographic components.  Instead of just telling you what the tools can do, though, we will show you a couple of examples using publically available data.  Note: a number of individual files are linked to throughout the tutorial below, but just in case you would rather download all the tutorial files in one go, have at it (&lt;a href=&quot;/public/img/R2G2tutorial/R2G2tutorial.zip&quot;&gt;tutorial zip file&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Among the basic tools in &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt; is the ability to place features—like dots, shapes, or images (including plots you produced in R)— that represent discrete observations at specific geographical locations.  For example, in the figure below, we show the migratory path of a particular turkey vulture in autumn of three successive years (red = 2009; blue = 2010; green = 2011).&lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/public/img/R2G2tutorial/Vulture_Path.jpg&quot; alt=&quot;Google Earth image with three successive years of a particular turkey vulture&#39;s migration&quot; width=&quot;800&quot; /&gt;&lt;br /&gt;
&lt;small&gt;Google Earth imagery showing migratory path of a particular turkey vulture in 2009, 2010, and 2011.&lt;/small&gt;
&lt;/div&gt;

&lt;p&gt;We use the &lt;em&gt;PolyLines2GE&lt;/em&gt; function that is part of &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt; to create line segments between the geographical coordinates which have been obtained from a turkey vulture tagged with a transponder (data accessed via the &lt;a href=&quot;http://movebank.org/&quot;&gt;Movebank Data Repository&lt;/a&gt; and is from the &lt;a href=&quot;http://movebank.org/movebank/#page%3Dstudies%2Cpath%3Dstudy481458&quot;&gt;Turkey Vulture Acopian Center USA GPS&lt;/a&gt;).  The &lt;em&gt;PolyLines2GE&lt;/em&gt; function looks like the following:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;PolyLines2GE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;coords&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vulture_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;  
			&lt;span class=&quot;n&quot;&gt;nesting&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vulture_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;  
			&lt;span class=&quot;n&quot;&gt;colors&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;auto&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
			&lt;span class=&quot;n&quot;&gt;goo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Vulture_Path.kml&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
			&lt;span class=&quot;n&quot;&gt;maxAlt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1e4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
			&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
			&lt;span class=&quot;n&quot;&gt;closepoly&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
			&lt;span class=&quot;n&quot;&gt;lwd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
			&lt;span class=&quot;n&quot;&gt;extrude&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;It expects to receive an array (“coords”) containing latitude and longitude coordinates in decimal degrees. Additionally, each individual coordinate has a flag associated with it (“nesting”) so that each data series can be distinguished.  Illustrating what you need is easier than explaining:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;nesting longitude latitude
1	long1A		lat1A
1	long1B		lat1B
1	long1C		lat1C
2	long2A		lat2A
2	long2B		lat2B
3	long3A		lat3A
3	long3B		lat3B
3	long3C		lat3C&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Feeding the columns of this array to the function results in three differently colored lines:  the first would connect the coordinates 1A-1B-1C, while the second would connect 2A-2B, and the third would connect 3A-3B-3C.  The only other user-defined input that is strictly necessary is the output file name (“Vulture_Path.kml” in this case).  The other options—which allow you control of the appearance of the lines and of the altitude at which your line displays in Google Earth—have reasonable defaults that are well-documented in the function definition itself.  Check out this example in Google Earth &lt;a href=&quot;/public/img/R2G2tutorial/Vulture_Path.kml&quot;&gt;by downloading the KML file&lt;/a&gt;.  Alternatively, &lt;a href=&quot;/public/img/R2G2tutorial/Vulture_Path.R&quot;&gt;download the annotated R script&lt;/a&gt; and generate the KML file for yourself.&lt;/p&gt;

&lt;p&gt;Now, let’s say you wanted to get a sense of the range and abundance of two congeneric species.  In this second example, we use the &lt;em&gt;Hist2GE&lt;/em&gt; function to create a histogram—overlaid on the surface of the earth—which shows the species distribution of &lt;em&gt;Mimulus lewisii&lt;/em&gt; (red) and &lt;em&gt;Mimulus nasutus&lt;/em&gt; (blue) in North America.&lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/public/img/R2G2tutorial/Mimulus_Distribution.jpg&quot; alt=&quot;Google Earth image showing the distribution of Mimulus in North America&quot; width=&quot;800&quot; /&gt;&lt;br /&gt;
&lt;small&gt;Google Earth imagery showing the species distribution of &lt;em&gt;Mimulus lewisii&lt;/em&gt; and &lt;em&gt;Mimulus nasutus&lt;/em&gt;&lt;/small&gt;
&lt;/div&gt;

&lt;p&gt;As you might expect, each polygon represents an occurrence of the species in question, while the height of the polygon represents the abundance of the species at that geographic location.  Species occurring within a particular distance of each other have been grouped together for the histogram.  For this example, we retrieve data from the &lt;a href=&quot;http://data.gbif.org/&quot;&gt;GBIF&lt;/a&gt; database from within R (see the example code for how that is done).  Inputs to the Hist2GE function are:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;Hist2GE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;coords&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MyCompleteData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;  
		&lt;span class=&quot;n&quot;&gt;species&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;MyCompleteData&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;  
		&lt;span class=&quot;n&quot;&gt;grid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;grid10000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
		&lt;span class=&quot;n&quot;&gt;goo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Mimulus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
		&lt;span class=&quot;n&quot;&gt;nedges&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
		&lt;span class=&quot;n&quot;&gt;orient&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
		&lt;span class=&quot;n&quot;&gt;maxAlt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1e4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;As in the first example, the function expects to receive an array containing the longitude and latitude (“coords”), a vector distinguishing individual observations (“species”), and an output file name (“goo”).  In this case, however, we also need to specify the size of the grid we will use to group observations together to construct the histogram.  Several pre-defined grid sizes are included in the package to do this grouping; these all cover large geographic areas and therefore must account for the curvature of the earth.  Here is a list of these pre-defined grids:&lt;/p&gt;

&lt;table border=&quot;1&quot;&gt;
    &lt;tr&gt;&lt;th&gt;Grid Name&lt;/th&gt;&lt;th&gt;Approximate Area of Grid Division &lt;/th&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;grid20000&lt;/td&gt;&lt;td&gt;25,500 sq. km&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;grid10000&lt;/td&gt;&lt;td&gt;51,000 sq. km&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;grid5000&lt;/td&gt;&lt;td&gt;102,000 sq. km&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;grid500&lt;/td&gt;&lt;td&gt;1,020,000 sq. km&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;grid50&lt;/td&gt;&lt;td&gt;10,200,000 sq. km&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;

&lt;p&gt;For smaller geographic areas (less than 25,000 square kilometers, or an area of about 158 km per side), you can customize the grid size by specifying the bounds of your region of interest in decimal degrees, as well as the coarseness of the grid within that region.  While it is possible to use this custom grid definition for larger sizes, beware that not all areas defined thusly will be of equal size due to the earth’s curvature (obviously the bigger you go, the worse it gets…).  Finally, you again have control over the display parameters of the histogram.  In particular, the maximum altitude (“maxAlt”) controls how high the tallest bar in the histogram will go.  Here is &lt;a href=&quot;/public/img/R2G2tutorial/Mimulus_Distribution.kml&quot;&gt;the resulting KML file&lt;/a&gt;, as well as &lt;a href=&quot;/public/img/R2G2tutorial/Mimulus_Distribution.R&quot;&gt;the annotated R script&lt;/a&gt; so you can further explore the example.&lt;/p&gt;

&lt;p&gt;More complex visual representations are also possible using &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt;.  For instance, you can also create contour plots or phylogenies overlaid directly on the surface of the earth.  We included a couple examples of this type in &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/1755-0998.12012/abstract&quot;&gt;our Molecular Ecology Resources article&lt;/a&gt;, and if the response seems good, we may post a follow up tutorial showing how we went about creating those examples.&lt;/p&gt;

&lt;p&gt;It is our sincere hope that you will use the tools in &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt; to more effectively visualize the geographical aspects of your data.  In particular, we are excited about the potential for incorporating &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt; into data analysis pipelines connecting analysis in R with data visualization and exploration in Google Earth.  Ultimately, the inclusion of KML files as supplementary materials to journal articles should also enrich one’s understanding of the data being presented!&lt;/p&gt;

&lt;p&gt;&lt;big&gt;&lt;b&gt;Note:  If you make something cool using &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt;, please post a link to your KML file in the comments; we would love to see!&lt;/b&gt;&lt;/big&gt;&lt;/p&gt;

&lt;p&gt;Citation information for &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt;:&lt;br /&gt;
&lt;em&gt;Arrigo, N., Albert, L. P., Mickelson, P. G. and Barker, M. S. (2012), Quantitative visualization of biological data in Google Earth using R2G2, an R CRAN package. Molecular Ecology Resources. doi: 10.1111/1755-0998.12012&lt;/em&gt;&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Getting taxonomic names downstream</title>
   <link href="http://recology.info//2012/10/get-taxa-downstream/"/>
   <updated>2012-10-16T00:00:00-07:00</updated>
   <id>http://recology.info//2012/10/get-taxa-downstream</id>
   <content type="html">&lt;p&gt;It can be a pain in the ass to get taxonomic names. For example, I sometimes need to get all the Class names for a set of species.  This is a relatively easy problem using the &lt;a href=&quot;http://www.itis.gov/ws_description.html&quot;&gt;ITIS API&lt;/a&gt; (example below).&lt;/p&gt;

&lt;p&gt;The much harder problem is getting all the taxonomic names downstream. ITIS doesn’t provide an API method for this - well, they do (&lt;a href=&quot;http://www.itis.gov/ws_hierApiDescription.html#getHierarchyDn&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;getHirerachyDownFromTSN&lt;/code&gt;&lt;/a&gt;), but it only provides direct children (e.g., the genera within a tribe - but it won’t give all the species within each genus).&lt;/p&gt;

&lt;p&gt;So in the &lt;code class=&quot;highlighter-rouge&quot;&gt;taxize&lt;/code&gt; package, we wrote a function called &lt;code class=&quot;highlighter-rouge&quot;&gt;downstream&lt;/code&gt;, which allows you to get taxonomic names to any downstream point, e.g.:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;get all Classes within Animalia,&lt;/li&gt;
  &lt;li&gt;get all Species within a Family&lt;/li&gt;
  &lt;li&gt;etc.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;install-packages--you-can-get-other-packages-from-cran-but-taxize-is-only-on-github-for-now&quot;&gt;Install packages.  You can get other packages from CRAN, but taxize is only on GitHub for now.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# install_github(&#39;ritis&#39;, &#39;ropensci&#39;) # uncomment if not already installed
# install_github(&#39;taxize_&#39;, &#39;ropensci&#39;) # uncomment if not already
# installed
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ritis&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;taxize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;get-upstream-taxonomic-names&quot;&gt;Get upstream taxonomic names.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# Search for a TSN by scientific name
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;searchbyscientificname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Tardigrada&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;tsn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;combinedname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;in&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Tardigrada&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;tsn&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Get just one immediate higher taxonomic name
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gethierarchyupfromtsn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tsn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tsn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;  parentName parentTsn rankName  taxonName    tsn
1   Animalia    202423   Phylum Tardigrada 155166&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# Get full hierarchy upstream from TSN
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getfullhierarchyfromtsn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tsn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tsn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;  parentName parentTsn rankName        taxonName    tsn
1                       Kingdom         Animalia 202423
2   Animalia    202423   Phylum       Tardigrada 155166
3 Tardigrada    155166    Class     Eutardigrada 155362
4 Tardigrada    155166    Class Heterotardigrada 155167
5 Tardigrada    155166    Class   Mesotardigrada 155358&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;get-taxonomc-names-downstream&quot;&gt;Get taxonomc names downstream.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# Get genera downstream fromthe Class Bangiophyceae
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;downstream&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;846509&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Genus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;    tsn parentName parentTsn   taxonName rankId rankName
1 11531 Bangiaceae     11530      Bangia    180    Genus
2 11540 Bangiaceae     11530    Porphyra    180    Genus
3 11577 Bangiaceae     11530 Porphyrella    180    Genus
4 11580 Bangiaceae     11530 Conchocelis    180    Genus&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# Get families downstream from Acridoidea
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;downstream&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;650497&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Family&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;      tsn parentName parentTsn      taxonName rankId rankName
1  102195 Acridoidea    650497      Acrididae    140   Family
2  650502 Acridoidea    650497     Romaleidae    140   Family
3  657472 Acridoidea    650497    Charilaidae    140   Family
4  657473 Acridoidea    650497   Lathiceridae    140   Family
5  657474 Acridoidea    650497     Lentulidae    140   Family
6  657475 Acridoidea    650497    Lithidiidae    140   Family
7  657476 Acridoidea    650497   Ommexechidae    140   Family
8  657477 Acridoidea    650497    Pamphagidae    140   Family
9  657478 Acridoidea    650497  Pyrgacrididae    140   Family
10 657479 Acridoidea    650497    Tristiridae    140   Family
11 657492 Acridoidea    650497 Dericorythidae    140   Family&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# Get species downstream from Ursus
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;downstream&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;180541&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Species&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;     tsn parentName parentTsn        taxonName rankId rankName
1 180542      Ursus    180541  Ursus maritimus    220  Species
2 180543      Ursus    180541     Ursus arctos    220  Species
3 180544      Ursus    180541 Ursus americanus    220  Species
4 621850      Ursus    180541 Ursus thibetanus    220  Species&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;
&lt;p&gt;#### Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-10-16-get-taxa-downstream.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2012-10-16-get-taxa-downstream.md&quot;&gt;.md file&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Exploring phylogenetic tree balance metrics</title>
   <link href="http://recology.info//2012/10/phylogenetic-tree-balance/"/>
   <updated>2012-10-10T00:00:00-07:00</updated>
   <id>http://recology.info//2012/10/phylogenetic-tree-balance</id>
   <content type="html">&lt;p&gt;I need to simulate balanced and unbalanced phylogenetic trees for some research I am doing.  In order to do this, I do rejection sampling: simulate a tree -&amp;gt; measure tree shape -&amp;gt; reject if not balanced or unbalanced &lt;strong&gt;enough&lt;/strong&gt;.  But what is enough?  We need to define some cutoff value to determine what will be our set of balanced and unbalanced trees.&lt;/p&gt;

&lt;h3 id=&quot;a-function-to-calculate-shape-metrics-and-a-custom-theme-for-plottingn-phylogenies&quot;&gt;A function to calculate shape metrics, and a custom theme for plottingn phylogenies.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;metric&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;colless&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;metric&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;colless&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;xx&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.treeshape&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# convert to apTreeshape format
&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;colless&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xx&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;yule&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# calculate colless&#39; metric
&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;metric&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;gamma&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;gammaStat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;metric should be one of colless or gamma&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;theme_myblank&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;stopifnot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;theme_blank&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ggplot2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theme_blank&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ggplot2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;theme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;panel.grid.major&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;panel.grid.minor&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;panel.background&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;plot.background&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;axis.title.x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;colour&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;axis.title.y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;axis.text.x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;axis.text.y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;axis.line&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;axis.ticks&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;simulate-some-trees&quot;&gt;Simulate some trees&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ape&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;phytools&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;numtrees&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# lets simulate 1000 trees
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trees&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pbtree&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nsim&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;numtrees&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ape&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;simulate&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;500&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pure&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;birth&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;trees&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;with&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spp&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;each&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ape&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;makes&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;it&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;run&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;faster&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;calculate-colless-shape-metric-on-each-tree&quot;&gt;Calculate Colless’ shape metric on each tree&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plyr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;apTreeshape&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;colless_df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ldply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trees&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;metric&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;colless&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# calculate metric for each tree
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;colless_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;       V1
1 -0.1761
2  0.2839
3  0.4639
4  0.9439
5 -0.6961
6 -0.1161&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# Calculate the percent of trees that will fall into the cutoff for balanced and unbalanced trees
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;col_percent_low&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;colless_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;colless_df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;V1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;V1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;numtrees&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;col_percent_high&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;colless_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;colless_df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;V1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;V1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;numtrees&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;create-a-distribution-of-the-metric-values&quot;&gt;Create a distribution of the metric values&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;colless_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;V1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# plot histogram of distribution of values
&lt;/span&gt;	&lt;span class=&quot;n&quot;&gt;geom_histogram&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
	&lt;span class=&quot;n&quot;&gt;theme_bw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
	&lt;span class=&quot;n&quot;&gt;scale_x_continuous&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;limits&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;breaks&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
	&lt;span class=&quot;n&quot;&gt;geom_vline&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xintercept&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colour&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;red&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;linetype&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;longdash&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;geom_vline&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xintercept&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colour&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;red&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;linetype&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;longdash&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;ggtitle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;paste0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Distribution of Colless&#39; metric for 1000 trees, cutoffs at -0.7 and 0.7 results in\n &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;col_percent_low&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;% (&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;numtrees&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;col_percent_low&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;) &#39;balanced&#39; trees (left) and &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;col_percent_low&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;% (&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;numtrees&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;col_percent_low&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;) &#39;unbalanced&#39; trees (right)&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;  
	&lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Colless&#39; Metric Value&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Number of phylogenetic trees&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;theme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot.title&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/collesshist.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;create-phylogenies-representing-balanced-and-unbalanced-trees-using-the-custom-theme&quot;&gt;Create phylogenies representing balanced and unbalanced trees (using the custom theme)&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggphylo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ggphylo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trees&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;which.min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;colless_df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;V1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;do.plot&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_myblank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ggphylo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trees&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;which.max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;colless_df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;V1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;do.plot&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_myblank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/collessphylog.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;now-put-it-all-together-in-one-plot-using-some-gridextra-magic&quot;&gt;Now, put it all together in one plot using some gridExtra magic.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gridExtra&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;grid.newpage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pushViewport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;viewport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;layout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;grid.layout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;vpa_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;viewport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.49&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;vpb_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;viewport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.23&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;vpc_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;viewport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.82&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vpa_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vpb_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vpc_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/collessall.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;and-the-same-for-gamma-stat-which-measures-the-distribution-of-nodes-in-time&quot;&gt;And the same for Gamma stat, which measures the distribution of nodes in time.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20
21
22
23&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;gamma_df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ldply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trees&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;foo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;metric&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;gamma&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# calculate metric for each tree
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gam_percent_low&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gamma_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gamma_df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;V1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;V1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;numtrees&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;gam_percent_high&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gamma_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gamma_df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;V1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;V1&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;numtrees&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gamma_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;V1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# plot histogram of distribution of values
&lt;/span&gt;	&lt;span class=&quot;n&quot;&gt;geom_histogram&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
	&lt;span class=&quot;n&quot;&gt;theme_bw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_size&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
	&lt;span class=&quot;n&quot;&gt;scale_x_continuous&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;breaks&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
	&lt;span class=&quot;n&quot;&gt;geom_vline&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xintercept&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colour&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;red&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;linetype&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;longdash&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;geom_vline&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xintercept&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colour&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;red&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;linetype&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;longdash&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;ggtitle&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;paste0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Distribution of Gamma metric for 1000 trees, cutoffs at -1 and 1 results in\n &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gam_percent_low&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;% (&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;numtrees&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gam_percent_low&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;) trees with deeper nodes (left) and &quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gam_percent_high&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;% (&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;numtrees&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gam_percent_high&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;) trees with shallower nodes (right)&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;  
	&lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Gamma Metric Value&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Number of phylogenetic trees&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;theme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plot.title&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ggphylo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trees&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;which.min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gamma_df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;V1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;do.plot&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_myblank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ggphylo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trees&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;which.max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gamma_df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;V1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;do.plot&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_myblank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;grid.newpage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;pushViewport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;viewport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;layout&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;grid.layout&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;vpa_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;viewport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.49&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;vpb_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;viewport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.23&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;vpc_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;viewport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.82&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vpa_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vpb_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vpc_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/gammaall.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;#### Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-10-10-phylogenetic-tree-balance.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2012-10-10-phylogenetic-tree-balance.md&quot;&gt;.md file&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>GBIF biodiversity data from R - more functions</title>
   <link href="http://recology.info//2012/10/rgbif-newfxns/"/>
   <updated>2012-10-08T00:00:00-07:00</updated>
   <id>http://recology.info//2012/10/rgbif-newfxns</id>
   <content type="html">&lt;h4 id=&quot;update-in-response-to-jarretts-query-i-laid-out-a-separate-use-case-in-which-you-may-want-to-query-by-higher-taxonomic-rankings-than-species-see-below--in-addition-added-examples-of-querying-by-location-in-reply-to-comments-by-seminym&quot;&gt;UPDATE: In response to Jarrett’s query I laid out a separate use case in which you may want to query by higher taxonomic rankings than species. See below.  In addition, added examples of querying by location in reply to comments by seminym.&lt;/h4&gt;

&lt;hr /&gt;

&lt;p&gt;We have been working on an R package to get GBIF data from R, with the stable version available through CRAN &lt;a href=&quot;URL&quot;&gt;here&lt;/a&gt;, and the development version available on GitHub &lt;a href=&quot;http://github.com/rgbif&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;We had a Google Summer of code stuent work on the package this summer - you can see his work on the package over at his GitHub page &lt;a href=&quot;&quot;&gt;here&lt;/a&gt;.  We have added some new functionality since his work, and would like to show it off.&lt;/p&gt;

&lt;h3 id=&quot;lets-install-rgbif-first&quot;&gt;Lets install rgbif first.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# install_github(&#39;rgbif&#39;, &#39;ropensci&#39;) # uncomment if not already installed
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rgbif&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plyr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;XML&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;httr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;maps&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;get-taxonomic-information-on-a-specific-taxon-or-taxa-in-gbif-by-their-taxon-concept-keys&quot;&gt;Get taxonomic information on a specific taxon or taxa in GBIF by their taxon concept keys.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;keys&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;taxonsearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scientificname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Puma concolor&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;many&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;matches&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;to&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;this&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt; [1] &quot;51780668&quot; &quot;51758018&quot; &quot;50010499&quot; &quot;51773067&quot; &quot;51078815&quot; &quot;51798065&quot;
 [7] &quot;51088007&quot; &quot;50410780&quot; &quot;50305290&quot; &quot;51791438&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;taxonget&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;keys&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]])&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;let&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;first&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;one&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;first&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;row&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;the&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;one&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;we&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;searched&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;51780668&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[[1]]
                    sciname taxonconceptkeys       rank
1             Puma concolor         51780668    species
2                      Puma         51780667      genus
3                   Felidae         51780651     family
4                 Carnivora         51780613      order
5                  Mammalia         51780547      class
6                  Chordata         51775774     phylum
7                  Animalia         51775773    kingdom
8 Puma concolor californica         51780669 subspecies
9   Puma concolor improcera         51780670 subspecies&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;the-occurrencedensity-function-was-renamed-to-densitylist-because-it-is-in-the-density-api-service-not-the-occurrence-api-service--you-can-use-densitylist-to-get-a-dataframe-of-total-occurrence-counts-by-one-degree-cell-for-a-single-taxon-country-dataset-data-publisher-or-data-network--just-a-quick-reminder-of-what-the-function-can-do&quot;&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;occurrencedensity&lt;/code&gt; function was renamed to &lt;code class=&quot;highlighter-rouge&quot;&gt;densitylist&lt;/code&gt; because it is in the &lt;code class=&quot;highlighter-rouge&quot;&gt;density&lt;/code&gt; API service, not the &lt;code class=&quot;highlighter-rouge&quot;&gt;occurrence&lt;/code&gt; API service.  You can use &lt;code class=&quot;highlighter-rouge&quot;&gt;densitylist&lt;/code&gt; to get a data.frame of total occurrence counts by one-degree cell for a single taxon, country, dataset, data publisher or data network.  Just a quick reminder of what the function can do:&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;densitylist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;originisocountrycode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;CA&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;  cellid minLatitude maxLatitude minLongitude maxLongitude count
1  46913          40          41          -67          -66    44
2  46914          40          41          -66          -65   907
3  46915          40          41          -65          -64   510
4  46916          40          41          -64          -63   645
5  46917          40          41          -63          -62    56
6  46918          40          41          -62          -61   143&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;using-a-related-function-densityspplist-you-can-get-a-species-list-by-one-degree-cell-as-well&quot;&gt;Using a related function, &lt;code class=&quot;highlighter-rouge&quot;&gt;density_spplist&lt;/code&gt;, you can get a species list by one-degree cell as well.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# Get a species list by cell, choosing one at random
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;density_spplist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;originisocountrycode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;CO&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spplist&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;random&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt; [1] &quot;Abarema laeta (Benth.) Barneby &amp;amp; J.W.Grimes&quot;
 [2] &quot;Abuta grandifolia (Mart.) Sandwith&quot;         
 [3] &quot;Acalypha cuneata Poepp.&quot;                    
 [4] &quot;Acalypha diversifolia Jacq.&quot;                
 [5] &quot;Acalypha macrostachya Jacq.&quot;                
 [6] &quot;Acalypha stachyura Pax&quot;                     
 [7] &quot;Acanthoscelio acutus&quot;                       
 [8] &quot;Accipiter collaris&quot;                         
 [9] &quot;Actitis macularia&quot;                          
[10] &quot;Adelobotrys klugii Wurdack&quot;                 &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# density_spplist(originisocountrycode = &#39;CO&#39;, spplist = &#39;r&#39;) # can
# abbreviate the `spplist` argument
&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Get a species list by cell, choosing the one with the greatest no. of
# records
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;density_spplist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;originisocountrycode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;CO&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spplist&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;great&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;great&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;abbreviated&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`greatest`&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt; [1] &quot;Acanthaceae Juss.&quot;                
 [2] &quot;Accipitridae sp.&quot;                 
 [3] &quot;Accipitriformes/Falconiformes sp.&quot;
 [4] &quot;Apodidae sp.&quot;                     
 [5] &quot;Apodidae sp. (large swift sp.)&quot;   
 [6] &quot;Apodidae sp. (small swift sp.)&quot;   
 [7] &quot;Arctiinae&quot;                        
 [8] &quot;Asteraceae Bercht. &amp;amp; J. Presl&quot;    
 [9] &quot;Asteraceae sp. 1&quot;                 
[10] &quot;Asteraceae sp. 6&quot;                 &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# Can also get a data.frame with counts instead of the species list
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;density_spplist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;originisocountrycode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;CO&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;spplist&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;great&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;listcount&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;counts&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;                              names_ count
1                  Acanthaceae Juss.     2
2                   Accipitridae sp.     6
3  Accipitriformes/Falconiformes sp.     2
4                       Apodidae sp.     5
5     Apodidae sp. (large swift sp.)     8
6     Apodidae sp. (small swift sp.)     5
7                          Arctiinae     7
8      Asteraceae Bercht. &amp;amp; J. Presl     2
9                   Asteraceae sp. 1     6
10                  Asteraceae sp. 6    10&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;you-can-now-map-point-results-from-fxns-occurrencelist-and-those-from-densitylist-which-plots-them-as-points-or-as-tiles-respectively--point-map-using-output-from-occurrencelist&quot;&gt;You can now map point results, from fxns &lt;code class=&quot;highlighter-rouge&quot;&gt;occurrencelist&lt;/code&gt; and those from &lt;code class=&quot;highlighter-rouge&quot;&gt;densitylist&lt;/code&gt;, which plots them as points or as tiles, respectively.  Point map, using output from occurrencelist.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;occurrencelist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;scientificname&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Puma concolor&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;coordinatestatus&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;maxresults&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;latlongdf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;gbifmap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;make&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;plotting&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;world&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/gbifmap1.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;point-map-using-output-from-occurrencelist-with-many-species-plotted-as-different-colors&quot;&gt;Point map, using output from occurrencelist, with many species plotted as different colors&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;splist&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Accipiter erythronemius&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Junco hyemalis&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Aix sponsa&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Buteo regalis&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;splist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;occurrencelist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;coordinatestatus&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;maxresults&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;latlongdf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;gbifmap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/gbifmap2.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;tile-map-using-output-from-densitylist-using-results-in-canada-only&quot;&gt;Tile map, using output from densitylist, using results in Canada only.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;out2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;densitylist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;originisocountrycode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;CA&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# data for Canada
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gbifmap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;world&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/gbifmap31.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;gbifmap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;region&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Canada&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;on&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Canada&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/gbifmap32.png&quot; alt=&quot;NA&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;we-can-also-query-by-higher-taxonomic-rankings-and-map-all-lower-species-within-that-ranking-above-we-queried-by-scientificname-but-we-can-also-query-by-higher-taxonomy-7071443-is-the-taxonconceptkey-for-bacillariophyceae-a-class-which-includes-many-lower-species&quot;&gt;We can also query by higher taxonomic rankings, and map all lower species within that ranking. Above we queried by scientificname, but we can also query by higher taxonomy. 7071443 is the taxonconceptkey for ‘Bacillariophyceae’, a Class which includes many lower species.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;densitylist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;taxonconceptKey&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;7071443&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;gbifmap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/algae.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;seminym-asked-about-querying-by-area-you-can-query-by-area-though-slightly-differently-for-occurrencelist-and-densitylist-functions-for-occurrencelist-you-can-search-using-min-and-max-lat-and-long-values-and-min-an-max-altitude-pretty-cool-eh&quot;&gt;seminym asked about querying by area. You can query by area, though slightly differently for occurrencelist and densitylist functions. For occurrencelist you can search using min and max lat and long values (and min an max altitude, pretty cool, eh).&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# Get occurrences or density by area, using min/max lat/long coordinates
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;occurrencelist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;minlatitude&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;maxlatitude&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;minlongitude&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;maxlongitude&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-95&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;coordinatestatus&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;maxresults&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;latlongdf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Using `geom_point`
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gbifmap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;state&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;texas&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geom_point&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/byarea_occurr1.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# Using geom_jitter to move the points apart from one another
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gbifmap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;state&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;texas&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geom_jitter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;position_jitter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/byarea_occurr2.png&quot; alt=&quot;NA&quot; /&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# And move points a lot
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gbifmap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;state&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;texas&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geom_jitter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;position_jitter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/byarea_occurr3.png&quot; alt=&quot;NA&quot; /&gt;&lt;/p&gt;

&lt;h3 id=&quot;and-you-can-query-by-area-in-densitylist-by-specifying-a-place-using-the-originisocountrycode-argument-as-done-in-an-above-example--just-showing-the-head-of-the-dataframe-here&quot;&gt;And you can query by area in &lt;code class=&quot;highlighter-rouge&quot;&gt;densitylist&lt;/code&gt; by specifying a place using the &lt;code class=&quot;highlighter-rouge&quot;&gt;originisocountrycode&lt;/code&gt; argument (as done in an above example).  Just showing the head of the data.frame here.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# Get density by place, note that you can&#39;t use the lat and long arguments
# in densitylist
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;densitylist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;originisocountrycode&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;CA&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;  cellid minLatitude maxLatitude minLongitude maxLongitude count
1  46913          40          41          -67          -66    44
2  46914          40          41          -66          -65   907
3  46915          40          41          -65          -64   510
4  46916          40          41          -64          -63   645
5  46917          40          41          -63          -62    56
6  46918          40          41          -62          -61   143&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;
&lt;p&gt;#### Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-10-08-rgbif-newfxns.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2012-10-08-rgbif-newfxns.md&quot;&gt;.md file&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Vertnet - getting vertebrate museum record data and a quick map</title>
   <link href="http://recology.info//2012/09/rvertnet/"/>
   <updated>2012-09-19T00:00:00-07:00</updated>
   <id>http://recology.info//2012/09/rvertnet</id>
   <content type="html">&lt;p&gt;We (&lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt;) started a repo to wrap the API for &lt;a href=&quot;http://vertnet.org/index.php&quot;&gt;VertNet&lt;/a&gt;, an open access online database of vertebrate specimen records across many collection holders. Find the open source code &lt;a href=&quot;https://github.com/ropensci/rvertnet&quot;&gt;here&lt;/a&gt; - please contribute if you are so inclined.  We had a great Google Summer of Code student, &lt;a href=&quot;http://vijaybarve.wordpress.com/&quot;&gt;Vijay Barve&lt;/a&gt; contributing to the repo this summer, so it is getting close to being CRAN-able.&lt;/p&gt;

&lt;p&gt;Most of the functions in the repo get you the raw data, but there were no functions to visualize the data.  Since much of the data records of latitude and longitude data, maps are a natural visualization to use.&lt;/p&gt;

&lt;p&gt;What follows is a quick example of using the basic &lt;code class=&quot;highlighter-rouge&quot;&gt;vertmap&lt;/code&gt; function.&lt;/p&gt;

&lt;h3 id=&quot;first-lets-install-rvertnet&quot;&gt;First, let’s install &lt;code class=&quot;highlighter-rouge&quot;&gt;rvertnet&lt;/code&gt;&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# install_github(&#39;rvertnet&#39;, &#39;ropensci&#39;) # uncomment if not installed
# already
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rvertnet&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;first-lets-get-some-data-using-vertoccurrence&quot;&gt;First, let’s get some data using &lt;code class=&quot;highlighter-rouge&quot;&gt;vertoccurrence&lt;/code&gt;&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vertoccurrence&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;q&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;larva&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;num&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# get records on keyword &#39;larva&#39;, limit to 100
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;how&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;many&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] 100&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;now-map-it-using-vertmap--this-is-a-very-basic-function-it-simply-cleans-up-the-input-dataframe-removing-rows-without-latlong-data-and-providing-warnings-when-the-input-dataframe-is-not-in-the-correct-format--vertmap-uses-the-ggplot2-framework-for-the-map--if-you-want-to-make-you-own-map-please-do-so----this-is-just-a-simple-fxn-to-get-you-started-if-you-want-to-take-a-quick-look-at-the-data&quot;&gt;Now map it using &lt;code class=&quot;highlighter-rouge&quot;&gt;vertmap&lt;/code&gt;.  This is a very basic function: it simply cleans up the input data.frame, removing rows without lat/long data, and providing warnings when the input data.frame is not in the correct format.  &lt;code class=&quot;highlighter-rouge&quot;&gt;vertmap&lt;/code&gt; uses the &lt;code class=&quot;highlighter-rouge&quot;&gt;ggplot2&lt;/code&gt; framework for the map.  If you want to make you own map please do so -  this is just a simple fxn to get you started if you want to take a quick look at the data.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;vertmap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;make&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;map&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;using&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vertmap&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/vertmap.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;#### Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-09-19-rvertnet.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2012-09-19-rvertnet.md&quot;&gt;.md file&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr-and-nice-knitr-highlightingetc-in-in-rstudiohttprstudioorg&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Getting data from figures in published papers</title>
   <link href="http://recology.info//2012/09/getting-data/"/>
   <updated>2012-09-18T00:00:00-07:00</updated>
   <id>http://recology.info//2012/09/getting-data</id>
   <content type="html">&lt;h2 id=&quot;the-problem&quot;&gt;The problem:&lt;/h2&gt;
&lt;p&gt;There are a lot of figures in published papers in the scholarly literature, like the below, from (Attwood &lt;em&gt;et. al.&lt;/em&gt; 2012)):&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/getfig2.png&quot; alt=&quot;alt text&quot; /&gt;&lt;/p&gt;

&lt;p&gt;At some point, a scientist wants to ask a question for which they can synthesize the knowledge on that question by collecting data from the published literature.  This often requires something like the following workflow:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;Search for relevant papers (e.g., via Google Scholar).&lt;/li&gt;
  &lt;li&gt;Collect the papers.&lt;/li&gt;
  &lt;li&gt;Decide which are appropriate for inclusion.&lt;/li&gt;
  &lt;li&gt;Collect data from the figures using software on a native application.  Examples include &lt;a href=&quot;http://www.arizona-software.ch/graphclick/&quot;&gt;GraphClick&lt;/a&gt; and &lt;a href=&quot;http://rsbweb.nih.gov/ij/&quot;&gt;ImageJ&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;Proof data.&lt;/li&gt;
  &lt;li&gt;Analyze data &amp;amp; publish paper.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;This workflow needs revamping, particularly in step number 3 - collecting the data.  This data remains private, moving from one closed source (original publication) to another (personal computer).  We can surely do better.&lt;/p&gt;

&lt;h2 id=&quot;a-solution&quot;&gt;A solution&lt;/h2&gt;
&lt;p&gt;The data collection process (Step 3 above) can make use of modern technology, and be based in the browser. Some benefits of a browser based data collection approach:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Cross-platform: a data digitization program that lives in the browser can be more easily cross-platform (Linux/Mac/Windows) than a native app.&lt;/li&gt;
  &lt;li&gt;Linked data: with the increasing abundance of APIs (application programming interfaces), we can link the data going into this app to anything of interest.  This is not so easy in a native app.&lt;/li&gt;
  &lt;li&gt;Automatic updates: a web based browser can be updated easily without requiring a user to go get updates.&lt;/li&gt;
  &lt;li&gt;User-based: a web based browser can easily integrate secure user login so that users can be associated with data collected, allowing for quantification of user-based error, and eventually user based scores/badges/etc. if so desired.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;For those concerned about a browser based approach to data collection from figures, it will likely be possible to make it work offline as well, then send data up to servers when connected to the web again.&lt;/p&gt;

&lt;p&gt;What would be great about having data be public by default is that the work would be reproducible easily, at least on the data side of things. Hopefully the researchers would make all their code available publicly to recreate their analyses.&lt;/p&gt;

&lt;h2 id=&quot;question-why-would-this-idea-work&quot;&gt;Question: Why would this idea work?&lt;/h2&gt;
&lt;p&gt;Better question: Why wouldn’t it work!&lt;/p&gt;

&lt;p&gt;I think this idea could be awesome.  The reason I think it could be is based on two observations:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;There is a seemingly endless supply of academic papers with figures in them from which data can be extracted.**&lt;/li&gt;
  &lt;li&gt;There is increasing use of meta-analysis in science, which is fed by just this kind of data.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;** p.s. in the future, perhaps we will move to all SVG format figures or something even better, in which case data can be extracted from the underlying XML&lt;/p&gt;

&lt;h2 id=&quot;okay-maybe-its-a-good-idea-but-who-owns-the-data-in-figures-in-published-papers&quot;&gt;Okay, maybe it’s a good idea, but who owns the data in figures in published papers?&lt;/h2&gt;
&lt;p&gt;As far as I know, and I’ve checked with a few knowledgeable people, no one owns this data. So it’s ripe for the digitizing!&lt;/p&gt;

&lt;h2 id=&quot;open-access&quot;&gt;Open access&lt;/h2&gt;
&lt;p&gt;I want this project to be totally open access (and I hope you do too).  I love models like GitHub where everything is public by default (unless you are an enterprise user, exceptions, exceptions), and I think that is what this requires.  You may be thinking though: “But I am collecting data for my meta-analysis and I don’t want to share the data with anyone else”.  My answer: “I understand where you are coming from, but it doesn’t seem very likely that someone will be asking the exact same question as you and be looking for the data from the exact same papers”.  There will just be a huge database of data from figures, and all the appropriate metadata of course.  Anyone should be able to use this.&lt;/p&gt;

&lt;h2 id=&quot;apis&quot;&gt;APIs&lt;/h2&gt;
&lt;p&gt;It would be great to build this from the start having an API in mind.  That is, how do we need to structure the data to be easily served up in an API to other websites, or pulled down to someone’s local machine within Python or R to do data manipulation, analysis, and visualization?  We are going to need a key-value store database, such as MongoDB/CouchDB because ideally at least we would store the data collected, the figure itself, use information, etc.&lt;/p&gt;

&lt;h2 id=&quot;what-is-being-done-about-this&quot;&gt;What is being done about this?&lt;/h2&gt;
&lt;p&gt;I was fortunate enough to tag along with &lt;a href=&quot;http://emhart.github.com/&quot;&gt;Ted Hart&lt;/a&gt;, a postdoc at &lt;a href=&quot;PUTINLINKHERE&quot;&gt;UBC&lt;/a&gt;, on a recently submitted NCEAS working group proposal. Who knows if we’ll get it, but we are already working on a prototype, so we will hit the ground running if we get funded, and just hit the ground, but walk a bit slower if we don’t get the funding.&lt;/p&gt;

&lt;h2 id=&quot;what-could-this-be-in-the-future&quot;&gt;What could this be in the future?&lt;/h2&gt;
&lt;p&gt;At least in my mind, I think of this idea going the direction of gamification, including points, badges, etc., sort of like &lt;a href=&quot;http://fold.it/portal/&quot;&gt;FoldIt&lt;/a&gt; or &lt;a href=&quot;http://www.galaxyzoo.org/&quot;&gt;GalaxyZoo&lt;/a&gt;.  At first we need alpha-, then beta-testers, which I imagine will most likely be academics exracting data for a meta-analysis for example.  But in the future, it would be great to make the interface enjoyable enough to attract non-academics, which could greatly increase the speed of data collection.&lt;/p&gt;

&lt;p&gt;Once there are a lot of people collecting data we can get many data points for every single data point in a graph.  Whereas right now, someone clicks on each data point in a graph one, maybe two times if they are lucky.  In the future, we could have ten different users clicking on each mean and each error bar in each graph.  So exciting!  The following figure illustrates this.&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/clicks.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;h2 id=&quot;what-do-you-think&quot;&gt;What do you think?&lt;/h2&gt;
&lt;p&gt;Is this idea totally insane?  Is it do-able?  Is it worth doing?&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;#### Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-09-18-getting-data.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2012-09-18-getting-data.md&quot;&gt;.md file&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr-and-nice-knitr-highlightingetc-in-in-rstudiohttprstudioorg&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h4&gt;

&lt;hr /&gt;
&lt;p&gt;#### References&lt;/p&gt;
&lt;p&gt;Attwood AS, Scott-Samuel NE, Stothart G, Munafò MR and Laks J (2012).
&amp;ldquo;Glass Shape Influences Consumption Rate For Alcoholic Beverages.&amp;rdquo;
&lt;em&gt;Plos One&lt;/em&gt;, &lt;b&gt;7&lt;/b&gt;.
&lt;a href=&quot;http://dx.doi.org/10.1371/journal.pone.0043007&quot;&gt;http://dx.doi.org/10.1371/journal.pone.0043007&lt;/a&gt;.

&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Scholarly metadata from R</title>
   <link href="http://recology.info//2012/09/rmetadata/"/>
   <updated>2012-09-17T00:00:00-07:00</updated>
   <id>http://recology.info//2012/09/rmetadata</id>
   <content type="html">&lt;p&gt;Metadata!  Metadata is very cool.  It’s super hot right now - everybody is talking about it.  Okay, maybe not everyone, but it’s an important part of archiving scholarly work.&lt;/p&gt;

&lt;p&gt;We are working on &lt;a href=&quot;https://github.com/ropensci/rmetadata&quot;&gt;a repo on GitHub &lt;code class=&quot;highlighter-rouge&quot;&gt;rmetadata&lt;/code&gt;&lt;/a&gt; to be a one stop shop for querying metadata from around the web.  Various repos on GitHub we have started - &lt;a href=&quot;https://github.com/ropensci/rpmc&quot;&gt;rpmc&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rpmc&quot;&gt;rdatacite&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rpmc&quot;&gt;rdryad&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rpmc&quot;&gt;rpensoft&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rpmc&quot;&gt;rhindawi&lt;/a&gt; - will at least in part be folded into &lt;code class=&quot;highlighter-rouge&quot;&gt;rmetadata&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;As a start we are writing functions to hit any metadata services that use the &lt;a href=&quot;http://www.openarchives.org/OAI/openarchivesprotocol.html&quot;&gt;OAI-PMH: “Open Archives Initiative Protocol for Metadata Harvesting”&lt;/a&gt; framework.  &lt;code class=&quot;highlighter-rouge&quot;&gt;OAI-PMH&lt;/code&gt; has six methods (or verbs as they are called) for data harvesting that are the same across different metadata providers:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;GetRecord&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;Identify&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ListIdentifiers&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ListMetadataFormats&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ListRecords&lt;/code&gt;&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ListSets&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;OAI-PMH&lt;/code&gt; provides an updating list of data providers, which we can easily use to get the base URLs for their data.  Then we just use one of the six above methods to query their metadata.&lt;/p&gt;

&lt;h3 id=&quot;lets-install-rmetadata-first&quot;&gt;Let’s install rmetadata first.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rmetadata&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;ropensci&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rmetadata&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;the-most-basic-thing-you-can-do-with-oai-pmh-is-identify-the-data-provider-getting-their-basic-information-the-identify-verb&quot;&gt;The most basic thing you can do with &lt;code class=&quot;highlighter-rouge&quot;&gt;OAI-PMH&lt;/code&gt; is identify the data provider, getting their basic information. The &lt;code class=&quot;highlighter-rouge&quot;&gt;Identify&lt;/code&gt; verb.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# one provider
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;md_identify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;provider&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;datacite&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;repositoryName                     baseURL protocolVersion
1   DataCite MDS http://oai.datacite.org/oai             2.0
        adminEmail    earliestDatestamp deletedRecord
1 admin@datacite.org 2011-01-01T00:00:00Z            no
         granularity compression compression.1
1 YYYY-MM-DDThh:mm:ssZ        gzip       deflate
                                                                                                                                                    description
1 oai, oai.datacite.org, :, oai:oai.datacite.org:12425, http://www.openarchives.org/OAI/2.0/oai-identifier http://www.openarchives.org/OAI/2.0/oai-identifier.xsd&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# many providers
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;md_identify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;provider&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;datacite&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;pensoft&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;    repositoryName                     baseURL protocolVersion
1       DataCite MDS http://oai.datacite.org/oai             2.0
2 Pensoft Publishers       http://oai.pensoft.eu             2.0
        adminEmail    earliestDatestamp deletedRecord
1 admin@datacite.org 2011-01-01T00:00:00Z            no
2               NULL           2008-07-04            no
         granularity compression compression.1
1 YYYY-MM-DDThh:mm:ssZ        gzip       deflate
2           YYYY-MM-DD        NULL          NULL
                                                                                                                                                    description
1 oai, oai.datacite.org, :, oai:oai.datacite.org:12425, http://www.openarchives.org/OAI/2.0/oai-identifier http://www.openarchives.org/OAI/2.0/oai-identifier.xsd
2                                                                                                                                                            NULL&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# no match for one, two matches for other
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;md_identify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;provider&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;harvard&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;journal&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$harvard
             x
1 no match found

$journal
                                             repo_name
1       Hrcak - Portal of scientific journals of Croatia
2 International journal of Power Electronics Engineering&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# let&#39;s pick one from the second
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;md_identify&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;provider&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Hrcak&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;                                  repositoryName
1 Hrcak - Portal of scientific journals of Croatia
                  baseURL protocolVersion    adminEmail
1 http://hrcak.srce.hr/oai/             2.0 hrcak@srce.hr
earliestDatestamp deletedRecord granularity
1        2005-12-01            no  YYYY-MM-DD
                                                                                                                                                                        description
1 oai, hrcak.srce.hr, :, oai:hrcak.srce.hr:anIdentifier, http://www.openarchives.org/OAI/2.0/oai-identifier                    http://www.openarchives.org/OAI/2.0/oai-identifier.xsd&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;there-are-a-variety-of-metadata-formats-depending-on-the-data-provider---list-them-with-the-listmetadataformats-verb&quot;&gt;There are a variety of metadata formats, depending on the data provider - list them with the &lt;code class=&quot;highlighter-rouge&quot;&gt;ListMetadataFormats&lt;/code&gt; verb.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# List metadata formats for a provider
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;md_listmetadataformats&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;provider&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dryad&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;metadataPrefix
1         oai_dc
2            rdf
3            ore
4           mets
                                                     schema
1              http://www.openarchives.org/OAI/2.0/oai_dc.xsd
2                 http://www.openarchives.org/OAI/2.0/rdf.xsd
3 http://tweety.lanl.gov/public/schemas/2008-06/atom-tron.sch
4                  http://www.loc.gov/standards/mets/mets.xsd
                          metadataNamespace
1 http://www.openarchives.org/OAI/2.0/oai_dc/
2    http://www.openarchives.org/OAI/2.0/rdf/
3                 http://www.w3.org/2005/Atom
4                    http://www.loc.gov/METS/&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# List metadata formats for a specific identifier for a provider
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;md_listmetadataformats&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;provider&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;pensoft&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;identifier&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.3897/zookeys.1.10&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;          identifier metadataPrefix
1 10.3897/zookeys.1.10         oai_dc
2 10.3897/zookeys.1.10           mods
                                           schema
1    http://www.openarchives.org/OAI/2.0/oai_dc.xsd
2 http://www.loc.gov/standards/mods/v3/mods-3-1.xsd
                          metadataNamespace
1 http://www.openarchives.org/OAI/2.0/oai_dc/
2                  http://www.loc.gov/mods/v3&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;the-listrecords-verb-is-used-to-harvest-records-from-a-repository&quot;&gt;The &lt;code class=&quot;highlighter-rouge&quot;&gt;ListRecords&lt;/code&gt; verb is used to harvest records from a repository&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;md_listrecords&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;provider&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;datacite&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]][,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;                identifier            datestamp setSpec
1 oai:oai.datacite.org:32153 2011-06-08T08:57:11Z     TIB
2 oai:oai.datacite.org:32200 2011-06-20T08:11:08Z     TIB
3 oai:oai.datacite.org:32220 2011-06-28T14:11:08Z     TIB
4 oai:oai.datacite.org:32241 2011-06-30T13:24:45Z     TIB
5 oai:oai.datacite.org:32255 2011-07-01T12:09:24Z     TIB
6 oai:oai.datacite.org:32282 2011-07-05T09:08:10Z     TIB&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;listidentifiers-is-an-abbreviated-form-of-listrecords-retrieving-only-headers-rather-than-records&quot;&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;ListIdentifiers&lt;/code&gt; is an abbreviated form of &lt;code class=&quot;highlighter-rouge&quot;&gt;ListRecords&lt;/code&gt;, retrieving only headers rather than records.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# Single provider
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;md_listidentifiers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;provider&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;datacite&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;set&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;REFQUALITY&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]][&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &quot;oai:oai.datacite.org:32426&quot; &quot;oai:oai.datacite.org:32152&quot;
[3] &quot;oai:oai.datacite.org:25453&quot; &quot;oai:oai.datacite.org:25452&quot;
[5] &quot;oai:oai.datacite.org:25451&quot; &quot;oai:oai.datacite.org:25450&quot;
[7] &quot;oai:oai.datacite.org:25449&quot; &quot;oai:oai.datacite.org:25407&quot;
[9] &quot;oai:oai.datacite.org:48328&quot; &quot;oai:oai.datacite.org:48439&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;md_listidentifiers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;provider&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;dryad&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;2012-07-15&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]][&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &quot;oai:datadryad.org:10255/dryad.9106&quot;
[2] &quot;oai:datadryad.org:10255/dryad.33780&quot;
[3] &quot;oai:datadryad.org:10255/dryad.33901&quot;
[4] &quot;oai:datadryad.org:10255/dryad.33902&quot;
[5] &quot;oai:datadryad.org:10255/dryad.34472&quot;
[6] &quot;oai:datadryad.org:10255/dryad.34558&quot;
[7] &quot;oai:datadryad.org:10255/dryad.39975&quot;
[8] &quot;oai:datadryad.org:10255/dryad.35065&quot;
[9] &quot;oai:datadryad.org:10255/dryad.35081&quot;
[10] &quot;oai:datadryad.org:10255/dryad.35082&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# Many providers
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;md_listidentifiers&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;provider&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;datacite&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;pensoft&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;2012-08-21&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;llply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;display&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;just&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;few&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;them&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[[1]]
[1] &quot;oai:oai.datacite.org:1099317&quot; &quot;oai:oai.datacite.org:1099572&quot;
[3] &quot;oai:oai.datacite.org:1099824&quot; &quot;oai:oai.datacite.org:1099695&quot;
[5] &quot;oai:oai.datacite.org:1088239&quot; &quot;oai:oai.datacite.org:1088122&quot;
[7] &quot;oai:oai.datacite.org:1088190&quot; &quot;oai:oai.datacite.org:1175749&quot;
[9] &quot;oai:oai.datacite.org:1175288&quot; &quot;oai:oai.datacite.org:1115603&quot;

[[2]]
[1] &quot;10.3897/phytokeys.16.2884&quot; &quot;10.3897/phytokeys.16.3602&quot;
[3] &quot;10.3897/phytokeys.16.3186&quot; &quot;10.3897/zookeys.216.3407&quot;
[5] &quot;10.3897/zookeys.216.3332&quot;  &quot;10.3897/zookeys.216.3224&quot;
[7] &quot;10.3897/zookeys.216.3769&quot;  &quot;10.3897/zookeys.216.3360&quot;
[9] &quot;10.3897/zookeys.216.3646&quot;  &quot;10.3897/neobiota.14.3140&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;with-listsets-you-can-retrieve-the-set-structure-of-a-repository&quot;&gt;With &lt;code class=&quot;highlighter-rouge&quot;&gt;ListSets&lt;/code&gt; you can retrieve the set structure of a repository.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# arXiv, returns a data.frame
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;md_listsets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;provider&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;arXiv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]])&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;           setName          setSpec
1   Computer Science               cs
2        Mathematics             math
3 Nonlinear Sciences             nlin
4            Physics          physics
5       Astrophysics physics:astro-ph
6   Condensed Matter physics:cond-mat&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# many providers, returns a list
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;md_listsets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;provider&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;pensoft&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;arXiv&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[[1]]
                                setName            setSpec
1                                 ZooKeys            zookeys
2                                 BioRisk            biorisk
3                               PhytoKeys          phytokeys
4                                NeoBiota           neobiota
5         Journal of Hymenoptera Research                jhr
6  International Journal of Myriapodology                ijm
7                Comparative Cytogenetics        compcytogen
8                    Subterranean Biology           subtbiol
9                     Nature Conservation natureconservation
10                               MycoKeys           mycokeys

[[2]]
                                  setName          setSpec
1                          Computer Science               cs
2                               Mathematics             math
3                        Nonlinear Sciences             nlin
4                                   Physics          physics
5                              Astrophysics physics:astro-ph
6                          Condensed Matter physics:cond-mat
7  General Relativity and Quantum Cosmology    physics:gr-qc
8          High Energy Physics - Experiment   physics:hep-ex
9             High Energy Physics - Lattice  physics:hep-lat
10      High Energy Physics - Phenomenology   physics:hep-ph
11             High Energy Physics - Theory   physics:hep-th
12                     Mathematical Physics  physics:math-ph
13                       Nuclear Experiment  physics:nucl-ex
14                           Nuclear Theory  physics:nucl-th
15                          Physics (Other)  physics:physics
16                          Quantum Physics physics:quant-ph
17                     Quantitative Biology            q-bio
18                     Quantitative Finance            q-fin
19                               Statistics             stat&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;retrieve-an-individual-metadata-record-from-a-repository-using-the-getrecord-verb&quot;&gt;Retrieve an individual metadata record from a repository using the &lt;code class=&quot;highlighter-rouge&quot;&gt;GetRecord&lt;/code&gt; verb.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# Single provider, one identifier
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;md_getrecord&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;provider&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;pensoft&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;identifier&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.3897/zookeys.1.10&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;          identifier  datestamp
1 10.3897/zookeys.1.10 2008-07-04
                                                                                           dc.title
1 A new candidate for a Gondwanaland distribution in the Zodariidae (Araneae): Australutica in Africa
 dc.creator  dc.subject dc.subject.1 dc.subject.2 dc.subject.3
1 Jocqué,Rudy new species Gondwanaland Soutpansberg      Araneae
       dc.source
1 ZooKeys 1: 59-66
                                                                                                                                                                                                                                                                                                                   dc.description
1 Two new species of Australutica Jocqué, 1995, a genus formerly only known from Australia, are described from South Africa: A. africana n. sp. from Soutpansberg and A. normanlarseni n. sp. from the Cape Peninsula. The taxonomic position of the new species is discussed and a key to the species of Australutica is provided.
      dc.publisher dc.date          dc.type dc.format
1 Pensoft Publishers    2008 Research Article text/html
                         dc.identifier
1 http://dx.doi.org/10.3897/zookeys.1.10
                                    dc.identifier.1 dc.language
1 http://www.pensoft.net/journals/zookeys/article/10/          en
                                                                                 dc..attrs
1 http://www.openarchives.org/OAI/2.0/oai_dc/ http://www.openarchives.org/OAI/2.0/oai_dc.xsd&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# Single provider, multiple identifiers
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;md_getrecord&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;provider&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;pensoft&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;identifier&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;10.3897/zookeys.1.10&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;10.3897/zookeys.4.57&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;          identifier  datestamp
1 10.3897/zookeys.1.10 2008-07-04
2 10.3897/zookeys.4.57 2008-12-17
                                                                                              dc.title
1    A new candidate for a Gondwanaland distribution in the Zodariidae (Araneae): Australutica in Africa
2 Studies of Tiger Beetles. CLXXVIII. A new Lophyra (Lophyra) from Somaliland (Coleoptera, Cicindelidae)
   dc.creator    dc.subject dc.subject.1 dc.subject.2 dc.subject.3
1   Jocqué,Rudy   new species Gondwanaland Soutpansberg      Araneae
2 Cassola,Fabio Tiger Beetles Cicindelidae      Lophyra   Somaliland
       dc.source
1 ZooKeys 1: 59-66
2 ZooKeys 4: 65-69
                                                                                                                                                                                                                                                                                                                                                                                                                 dc.description
1                                                                                               Two new species of Australutica Jocqué, 1995, a genus formerly only known from Australia, are described from South Africa: A. africana n. sp. from Soutpansberg and A. normanlarseni n. sp. from the Cape Peninsula. The taxonomic position of the new species is discussed and a key to the species of Australutica is provided.
2 A new tiger beetle species, Lophyra (Lophyra) praetermissa n. sp. (Coleoptera, Cicindelidae), obviously a close relative of L. (L.) histrio (Tschitschérine, 1903), is described from the environs of Erigavo, Somaliland (northern Somalia). Its discovery thus brings up to 73 the number of the species of this genus presently known worldwide (39 species of which - 29 from Africa - belong to the typonominal subgenus).
      dc.publisher dc.date          dc.type dc.format
1 Pensoft Publishers    2008 Research Article text/html
2 Pensoft Publishers    2008 Research Article text/html
                         dc.identifier
1 http://dx.doi.org/10.3897/zookeys.1.10
2 http://dx.doi.org/10.3897/zookeys.4.57
                                    dc.identifier.1 dc.language
1 http://www.pensoft.net/journals/zookeys/article/10/          en
2 http://www.pensoft.net/journals/zookeys/article/57/          en
                                                                                 dc..attrs
1 http://www.openarchives.org/OAI/2.0/oai_dc/ http://www.openarchives.org/OAI/2.0/oai_dc.xsd
2 http://www.openarchives.org/OAI/2.0/oai_dc/ http://www.openarchives.org/OAI/2.0/oai_dc.xsd&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Cool, so I hope people find this post and package useful.  Let me know what you think in comments below, or if you have code specific comments or additions, go to &lt;a href=&quot;https://github.com/ropensci/rmetadata&quot;&gt;the GitHub repo for &lt;code class=&quot;highlighter-rouge&quot;&gt;rmetadata&lt;/code&gt;&lt;/a&gt;.  In a upcoming post I will show an example  of what you can do with &lt;code class=&quot;highlighter-rouge&quot;&gt;rmetadata&lt;/code&gt; in terms of an actual research question.&lt;/p&gt;

&lt;hr /&gt;
&lt;p&gt;#### Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-09-15-rmetadata.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2012-09-17-rmetadata.md&quot;&gt;.md file&lt;/a&gt;.&lt;/p&gt;

&lt;h4 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr-and-nice-knitr-highlightingetc-in-in-rstudiohttprstudioorg&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Getting data on your government</title>
   <link href="http://recology.info//2012/09/gov-dat/"/>
   <updated>2012-09-01T00:00:00-07:00</updated>
   <id>http://recology.info//2012/09/gov-dat</id>
   <content type="html">&lt;hr /&gt;

&lt;p&gt;I created an R package a while back to interact with some APIs that serve up data on what our elected represenatives are up to, including the &lt;a href=&quot;http://developer.nytimes.com/&quot;&gt;New York Times Congress API&lt;/a&gt;, and the &lt;a href=&quot;http://services.sunlightlabs.com/&quot;&gt;Sunlight Labs API&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;What kinds of things can you do with &lt;code class=&quot;highlighter-rouge&quot;&gt;govdat&lt;/code&gt;?  Here are a few examples.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;how-do-the-two-major-parties-differ-in-the-use-of-certain-words-searches-the-congressional-record-using-the-sunlight-labs-capitol-words-api&quot;&gt;How do the two major parties differ in the use of certain words (searches the congressional record using the Sunlight Labs Capitol Words API)?&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# install_github(&#39;govdat&#39;, &#39;sckott&#39;)
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;govdat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reshape2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;dems&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sll_cw_dates&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;phrase&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;science&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;start_date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;1996-01-20&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;end_date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;2012-09-01&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;granularity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;year&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;party&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;D&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;printdf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;repubs&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sll_cw_dates&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;phrase&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;science&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;start_date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;1996-01-20&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;end_date&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;2012-09-01&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;granularity&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;year&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;party&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;R&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;printdf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;melt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;party&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;D&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dems&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;dems&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;party&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;R&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;nrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;repubs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;repubs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;yearmonth&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;count&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colour&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;party&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;party&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geom_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;scale_colour_manual&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;values&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;blue&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;red&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;use of the word &#39;Science&#39;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;theme_bw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;axis.text.x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;panel.grid.major&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;panel.grid.minor&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;legend.position&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/unnamed-chunk-1.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;lets-get-some-data-on-donations-to-individual-elected-representatives&quot;&gt;Let’s get some data on donations to individual elected representatives.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plyr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Let&#39;s get Nancy Pelosi&#39;s entity ID
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sll_ts_aggregatesearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Nancy Pelosi&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$name
[1] &quot;Nancy Pelosi (D)&quot;

$count_given
[1] 0

$firm_income
[1] 0

$count_lobbied
[1] 0

$seat
[1] &quot;federal:house&quot;

$total_received
[1] 13769274

$state
[1] &quot;CA&quot;

$lobbying_firm
NULL

$count_received
[1] 9852

$party
[1] &quot;D&quot;

$total_given
[1] 0

$type
[1] &quot;politician&quot;

$id
[1] &quot;85ab2e74589a414495d18cc7a9233981&quot;

$non_firm_spending
[1] 0

$is_superpac
NULL&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# Her entity ID
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sll_ts_aggregatesearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Nancy Pelosi&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &quot;85ab2e74589a414495d18cc7a9233981&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# And search for her top donors by sector
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nancy&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ldply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sll_ts_aggregatetopsectors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sll_ts_aggregatesearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Nancy Pelosi&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;nancy&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;but&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;just&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;abbreviations&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;for&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sectors&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;   sector count     amount
1       F  1847 2698672.00
2       P   981 2243050.00
3       H   829 1412700.00
4       K  1345 1409836.00
5       Q  1223 1393154.00
6       N   829 1166187.00
7       B   537  932044.00
8       W   724  760800.00
9       Y   820  664926.00
10      E   201  283575.00&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sll_ts_sectors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# load sectors abbrevations data
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nancy2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nancy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sll_ts_sectors&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;sector&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# attach full sector names
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nancy2_melt&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;melt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nancy2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id.vars&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;nancy2_melt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nancy2_melt&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# and lets plot some results
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nancy2_melt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sector_name&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geom_bar&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;coord_flip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;facet_wrap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;variable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;scales&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;free&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ncol&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/unnamed-chunk-2.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;## It looks like a lot of individual donations (the count facet) by
## finance/insurance/realestate, but by amount, the most (by slim margin)
&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;##&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;from&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;labor&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;organizations.&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;or-we-may-want-to-get-a-bio-of-a-congressperson-here-we-get-todd-akin-of-mo-and-some-twitter-searching-too-indeed&quot;&gt;Or we may want to get a bio of a congressperson. Here we get Todd Akin of MO. And some twitter searching too? Indeed.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nyt_cg_memberbioroles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;A000358&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# cool, lots of info, output cutoff for brevity
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]][[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]][&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$member_id
[1] &quot;A000358&quot;

$first_name
[1] &quot;Todd&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# we can get her twitter id from this bio, and search twitter using
# twitteR package
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;akintwitter&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]][[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;twitter_id&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# install.packages(&#39;twitteR&#39;)
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;twitteR&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;tweets&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;userTimeline&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;akintwitter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;tweets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;there&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;s&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;some&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gems&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;there&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;no&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doubt&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[[1]]
[1] &quot;RepToddAkin: Do you receive my Akin Alert e-newsletter?  Pick the issues you’d like to get updates on and sign up here!\nhttp://t.co/nZfiRjTF&quot;

[[2]]
[1] &quot;RepToddAkin: If the 2001 &amp;amp;amp; 2003 tax policies expire, taxes will increase over $4 trillion in the next 10 years. America can&#39;t afford it. #stopthetaxhike&quot;

[[3]]
[1] &quot;RepToddAkin: A govt agency&#39;s order shouldn&#39;t defy constitutional rights. I&#39;m still working for #religiousfreedom and repealing the HHS mandate. #prolife&quot;

[[4]]
[1] &quot;RepToddAkin: I am a cosponsor of the bill being considered today to limit abortions in DC. RT if you agree! #prolife http://t.co/Mesrjl0w&quot;

[[5]]
[1] &quot;RepToddAkin: We need to #StopTheTaxHike. Raising taxes like the President wants would destroy more than 700,000 jobs. #4jobs http://t.co/KUTd0M7U&quot;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;get-the-rmd-file-used-to-create-this-post-at-my-github-accounthttpsgithubcomsckottsckottgithubcomtreemasterdrafts2012-09-01-gov-datrmd---or-md-filehttpsgithubcomsckottsckottgithubcomtreemasterposts2012-09-01-gov-datmd&quot;&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-09-01-gov-dat.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2012-09-01-gov-dat.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h3&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr-and-nice-knitr-highlightingetc-in-in-rstudiohttprstudioorg&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h3&gt;
</content>
 </entry>
 
 <entry>
   <title>Getting ecology and evolution journal titles from R</title>
   <link href="http://recology.info//2012/08/get-ecoevo-journal-titles/"/>
   <updated>2012-08-31T00:00:00-07:00</updated>
   <id>http://recology.info//2012/08/get-ecoevo-journal-titles</id>
   <content type="html">&lt;hr /&gt;

&lt;p&gt;So I want to mine some #altmetrics data for some research I’m thinking about doing.  The steps would be:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;Get journal titles for ecology and evolution journals.&lt;/li&gt;
  &lt;li&gt;Get DOI’s for all papers in all the above journal titles.&lt;/li&gt;
  &lt;li&gt;Get altmetrics data on each DOI.&lt;/li&gt;
  &lt;li&gt;Do some fancy analyses.&lt;/li&gt;
  &lt;li&gt;Make som pretty figs.&lt;/li&gt;
  &lt;li&gt;Write up results.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;It’s early days, so jus working on the first step.  However, getting a list of journals in ecology and evolution is frustratingly hard.  This turns out to not be that easy if you are (1) trying to avoid &lt;a href=&quot;http://thomsonreuters.com/&quot;&gt;Thomson Reuters&lt;/a&gt;, and (2) want a machine interface way to do it (read: API).&lt;/p&gt;

&lt;p&gt;Unfortunately, Mendeley’s API does not have methods for getting a list of journals by field, or at least I don’t know how to do it using &lt;a href=&quot;http://apidocs.mendeley.com/&quot;&gt;their API&lt;/a&gt;.  No worries though - &lt;a href=&quot;http://crossref.org/&quot;&gt;Crossref&lt;/a&gt; comes to save the day.   Here’s my attempt at this using the &lt;a href=&quot;http://help.crossref.org/#using_oai_pmh&quot;&gt;Crossref OAI-PMH&lt;/a&gt;.&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;i-wrote-a-little-while-loop-to-get-journal-titles-from-the-crossref-oai-pmh-this-takes-a-while-to-run-but-at-least-it-works-on-my-machine---hopefully-yours-too&quot;&gt;I wrote a little while loop to get journal titles from the Crossref OAI-PMH. This takes a while to run, but at least it works on my machine - hopefully yours too!&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11
12
13
14
15
16
17
18
19
20&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;XML&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;RCurl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;characters&quot;&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# define a iterator, also used for gettingn the resumptionToken
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nameslist&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# define empty list to put joural titles in to
&lt;/span&gt;&lt;span class=&quot;k&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;baseurl&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;http://oai.crossref.org/OAIHandler?verb=ListSets&quot;&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;characters&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;tok2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;NULL&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;tok2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;paste&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;&amp;amp;resumptionToken=&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sep&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;query&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;paste&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;baseurl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tok2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sep&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;crsets&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xmlToList&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xmlParse&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getURL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;query&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;names&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;crsets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]],&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;setName&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]))&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;nameslist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;token&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;names&lt;/span&gt;
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;crsets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.attrs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;resumptionToken&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;try-error&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;no more data&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;token&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;crsets&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;.attrs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;resumptionToken&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;yay--hopefully-it-worked-if-you-tried-it--lets-see-how-long-the-list-of-journal-titles-is&quot;&gt;Yay!  Hopefully it worked if you tried it.  Let’s see how long the list of journal titles is.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;nameslist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;of&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;each&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;                          characters c65ebc3f-b540-4672-9c00-f3135bf849e3 
                               10001                                10001 
6f61b343-a8f4-48f1-8297-c6f6909ca7f7 
                                6864 &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;allnames&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;do.call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nameslist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# combine to list
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;allnames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] 26866&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;now-lets-use-some-regex-to-pull-out-the-journal-titles-that-are-likely-ecology-and-evolutionary-biology-journals--the--symbol-says-the-string-must-start-here-the-s-means-whitespace--the--lets-you-specify-a-set-of-letters-you-are-looking-for-eg-ee-means-capital-e-or-lowercase-e--i-threw-in-titles-that-had-the-words-systematic-and-natrualist-too--tried-to-trim-any-whitespace-as-well-using-the-stringr-package&quot;&gt;Now, let’s use some &lt;code class=&quot;highlighter-rouge&quot;&gt;regex&lt;/code&gt; to pull out the journal titles that are likely ecology and evolutionary biology journals.  The &lt;code class=&quot;highlighter-rouge&quot;&gt;^&lt;/code&gt; symbol says “the string must start here”. The &lt;code class=&quot;highlighter-rouge&quot;&gt;\\s&lt;/code&gt; means whitespace.  The &lt;code class=&quot;highlighter-rouge&quot;&gt;[]&lt;/code&gt; lets you specify a set of letters you are looking for, e.g., &lt;code class=&quot;highlighter-rouge&quot;&gt;[Ee]&lt;/code&gt; means capital &lt;code class=&quot;highlighter-rouge&quot;&gt;E&lt;/code&gt; &lt;em&gt;OR&lt;/em&gt; lowercase &lt;code class=&quot;highlighter-rouge&quot;&gt;e&lt;/code&gt;.  I threw in titles that had the words systematic and natrualist too.  Tried to trim any whitespace as well using the &lt;code class=&quot;highlighter-rouge&quot;&gt;stringr&lt;/code&gt; package.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;stringr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;ecotitles&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;allnames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str_detect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;allnames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;^[Ee]cology|\\s[Ee]cology&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;evotitles&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;allnames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str_detect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;allnames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;^[Ee]volution|\\s[Ee]volution&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;systtitles&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;allnames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str_detect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;allnames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;^[Ss]ystematic|\\s[Ss]systematic&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;naturalist&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;allnames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;str_detect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;allnames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;[Nn]aturalist&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;ecoevotitles&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ecotitles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;evotitles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;systtitles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;naturalist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# combine to list
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ecoevotitles&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;str_trim&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ecoevotitles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;side&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;both&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# trim whitespace, if any
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ecoevotitles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] 188&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# Just the first ten titles
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ecoevotitles&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt; [1] &quot;Microbial Ecology in Health and Disease&quot;           
 [2] &quot;Population Ecology&quot;                                
 [3] &quot;Researches on Population Ecology&quot;                  
 [4] &quot;Behavioral Ecology and Sociobiology&quot;               
 [5] &quot;Microbial Ecology&quot;                                 
 [6] &quot;Biochemical Systematics and Ecology&quot;               
 [7] &quot;FEMS Microbiology Ecology&quot;                         
 [8] &quot;Journal of Experimental Marine Biology and Ecology&quot;
 [9] &quot;Applied Soil Ecology&quot;                              
[10] &quot;Forest Ecology and Management&quot;                     &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;get-the-rmd-file-used-to-create-this-post-at-my-github-accounthttpsgithubcomsckottsckottgithubcomtreemasterdrafts2012-08-30-get-ecoevo-journal-titlesrmd&quot;&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-08-30-get-ecoevo-journal-titles.Rmd&quot;&gt;at my github account&lt;/a&gt;.&lt;/h3&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr-and-nice-knitr-highlightingetc-in-in-rstudiohttprstudioorg&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h3&gt;
</content>
 </entry>
 
 <entry>
   <title>Ecology unconference at ESA 2013</title>
   <link href="http://recology.info//2012/08/ecology-unconference/"/>
   <updated>2012-08-30T09:25:00-07:00</updated>
   <id>http://recology.info//2012/08/ecology-unconference</id>
   <content type="html">&lt;hr /&gt;

&lt;p&gt;So I heard many people say after or during the recent ESA conference in Portland that they really enjoyed the converstations more than listening to talks or looking at posters.&lt;/p&gt;

&lt;p&gt;There was some chatter about doing an unconference associated with next year’s ESA conference in Minneapolis. And Sandra Chung (@sandramchung) got on it and started a wiki that we can all conribute ideas to. The wiki is here: &lt;a href=&quot;http://ecologyunconference.wikispaces.com/&quot;&gt;http://ecologyunconference.wikispaces.com/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;What is an unconference? The idea of an unconference is to have a community organized meetup in which interactions among people are emphasized over the traditional lecture and poster format. For example, many sessions may just be organized a single idea, and people attending have a discussion around the topic. The format can be decided by the community.&lt;/p&gt;

&lt;p&gt;What will we do there? The broadest restriction is that topics should be about science that happens online. You may say, “Well, real ecology happens in the field!”. Yes, but a lot of the products of ecology are put online, and increasingly the discussion of the practice of ecology happens online. Check out the &lt;a href=&quot;http://scienceonline2012.com/&quot;&gt;Science Online 2012 website&lt;/a&gt; for a little taste of what we hope to achieve next year.&lt;/p&gt;

&lt;p&gt;How do I get involved? Go to the wiki and start contributing: &lt;a href=&quot;http://ecologyunconference.wikispaces.com/&quot;&gt;http://ecologyunconference.wikispaces.com/&lt;/a&gt;. There are already some suggestions for topics…Here’s a screenshot of the ideas for Session Proposals page:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/ecologyunconf.png&quot; alt=&quot;ecologyunconf&quot; /&gt;&lt;/p&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;important--use-the-esaun13-hashtag-to-talk-about-this-unconference-on-twitter-g-and-appnet&quot;&gt;Important!  Use the #esaun13 hashtag to talk about this unconference on Twitter, G+, and app.net.&lt;/h3&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;get-the-rmd-file-used-to-create-this-post-at-my-github-accounthttpsgithubcomsckottsckottgithubcomtreemasterdrafts2012-08-30-making-matricesrmd&quot;&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-08-30-making-matrices.Rmd&quot;&gt;at my github account&lt;/a&gt;.&lt;/h3&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h3&gt;
</content>
 </entry>
 
 <entry>
   <title>Making matrices with zeros and ones</title>
   <link href="http://recology.info//2012/08/making-matrices/"/>
   <updated>2012-08-30T09:02:00-07:00</updated>
   <id>http://recology.info//2012/08/making-matrices</id>
   <content type="html">&lt;hr /&gt;

&lt;h2 id=&quot;so-i-was-trying-to-figure-out-a-fast-way-to-make-matrices-with-randomly-allocated-0-or-1-in-each-cell-of-the-matrix-i-reached-out-on-twitter-and-got-many-responses-thanks-tweeps&quot;&gt;So I was trying to figure out a fast way to make matrices with randomly allocated 0 or 1 in each cell of the matrix. I reached out on Twitter, and got many responses (thanks tweeps!).&lt;/h2&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;here-is-the-solution-i-came-up-with-see-if-you-can-tell-why-it-would-be-slow&quot;&gt;Here is the solution I came up with. See if you can tell why it would be slow.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;mm&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sample&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;      [,1] [,2] [,3] [,4] [,5]
 [1,]    1    0    1    0    1
 [2,]    0    0    1    1    1
 [3,]    0    0    0    0    1
 [4,]    0    1    1    0    1
 [5,]    0    1    1    1    1
 [6,]    1    0    1    1    1
 [7,]    0    1    0    1    0
 [8,]    0    0    1    0    1
 [9,]    1    0    1    1    1
[10,]    1    0    0    1    1&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;ted-hart-distribecology-replied-first-with&quot;&gt;Ted Hart (@distribecology) replied first with:&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rbinom&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ncol&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nrow&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;      [,1] [,2] [,3] [,4] [,5]
 [1,]    1    1    0    1    1
 [2,]    1    0    0    1    0
 [3,]    0    1    0    0    0
 [4,]    0    0    1    0    0
 [5,]    1    0    1    0    0
 [6,]    0    0    0    0    1
 [7,]    1    0    0    0    0
 [8,]    0    1    0    1    0
 [9,]    1    1    1    1    0
[10,]    0    1    1    0    0&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;next-david-smith-revodavid-and-rafael-maia-hylospar-came-up-with-about-the-same-solution&quot;&gt;Next, David Smith (@revodavid) and Rafael Maia (@hylospar) came up with about the same solution.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sample&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;replace&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;      [,1] [,2] [,3] [,4] [,5]
 [1,]    0    0    0    0    1
 [2,]    0    0    0    0    0
 [3,]    0    1    1    0    1
 [4,]    1    0    0    1    0
 [5,]    0    0    0    0    1
 [6,]    1    0    1    1    1
 [7,]    1    1    1    1    0
 [8,]    0    0    0    1    1
 [9,]    1    0    0    0    1
[10,]    0    1    0    1    1&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;then-there-was-the-solution-by-luis-apiolaza-zentree&quot;&gt;Then there was the solution by Luis Apiolaza (@zentree).&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;runif&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;      [,1] [,2] [,3] [,4] [,5]
 [1,]    0    1    1    0    0
 [2,]    1    0    1    1    0
 [3,]    1    0    1    0    0
 [4,]    1    0    0    0    1
 [5,]    1    0    1    1    0
 [6,]    1    0    0    0    0
 [7,]    1    0    0    0    0
 [8,]    1    1    1    0    0
 [9,]    0    0    0    0    1
[10,]    1    0    0    1    1&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;last-a-solution-was-proposed-using-rcpparmadillo-but-i-couldnt-get-it-to-work-on-my-machine-but-here-is-the-function-anyway-if-someone-can&quot;&gt;Last, a solution was proposed using &lt;code class=&quot;highlighter-rouge&quot;&gt;RcppArmadillo&lt;/code&gt;, but I couldn’t get it to work on my machine, but here is the function anyway if someone can.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;inline&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;RcppArmadillo&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;f&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cxxfunction&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;body&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;return wrap(arma::randu(5,10));&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;plugin&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;RcppArmadillo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;and-here-is-the-comparison-of-systemtime-for-each-solution&quot;&gt;And here is the comparison of system.time for each solution.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;mm&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;

&lt;span class=&quot;n&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sample&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;recology_&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;   user  system elapsed 
  0.470   0.002   0.471 &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rbinom&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ncol&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;nrow&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;distribecology&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;   user  system elapsed 
  0.014   0.000   0.015 &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sample&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;replace&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;revodavid&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;hylospar&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;   user  system elapsed 
  0.015   0.000   0.014 &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;runif&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;m&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;m&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;n&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;zentree&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;   user  system elapsed 
  0.014   0.000   0.014 &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;if-you-want-to-take-the-time-to-learn-c-or-already-know-it-the-rcpparmadillo-option-would-likely-be-the-fastest-but-i-think-imo-for-many-scientists-especially-ecologists-we-probably-dont-already-know-c-so-will-stick-to-the-next-fastest-options&quot;&gt;If you want to take the time to learn C++ or already know it, the RcppArmadillo option would likely be the fastest, but I think (IMO) for many scientists, especially ecologists, we probably don’t already know C++, so will stick to the next fastest options.&lt;/h3&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;get-the-rmd-file-used-to-create-this-post-at-my-github-accounthttpsgithubcomsckottsckottgithubcomtreemasterdrafts2012-08-30-making-matricesrmd&quot;&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-08-30-making-matrices.Rmd&quot;&gt;at my github account&lt;/a&gt;.&lt;/h3&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr-and-nice-knitr-highlightingetc-in-in-rstudiohttprstudioorg&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h3&gt;
</content>
 </entry>
 
 <entry>
   <title>ggplot2 maps with insets</title>
   <link href="http://recology.info//2012/08/ggplot-inset-map/"/>
   <updated>2012-08-22T00:00:00-07:00</updated>
   <id>http://recology.info//2012/08/ggplot-inset-map</id>
   <content type="html">&lt;blockquote&gt;
  &lt;p&gt;UPDATE: changed data source so that the entire example can be run by anyone on their own machine. Also, per Joachim’s suggestion, I put a box around the blown up area of the map. In addition, rgeos and maptools removed, not needed.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;hr /&gt;

&lt;p&gt;Here’s a quick demo of creating a map with an inset within it using ggplot. The inset is achieved using the &lt;code class=&quot;highlighter-rouge&quot;&gt;gridExtra&lt;/code&gt; package.&lt;/p&gt;

&lt;h3 id=&quot;install-libraries&quot;&gt;Install libraries&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ggplot2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;maps&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;grid&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;gridExtra&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;ggplot2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;maps&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;grid&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;gridExtra&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;create-a-data-frame&quot;&gt;Create a data frame&lt;/h3&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ecosystem&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;oak&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;steppe&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;prairie&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;each&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;lat&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rnorm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mean&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;51&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lon&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rnorm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mean&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-113&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sd&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   ecosystem      lat       lon
#&amp;gt; 1       oak 49.58285 -107.6930
#&amp;gt; 2       oak 52.58942 -116.6920
#&amp;gt; 3       oak 50.49277 -114.5542
#&amp;gt; 4       oak 50.05943 -116.5660
#&amp;gt; 5       oak 51.76492 -112.1457
#&amp;gt; 6       oak 52.82153 -112.8858
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;get-maps-using-the-maps-library&quot;&gt;Get maps using the maps library&lt;/h3&gt;

&lt;p&gt;Get a map of Canada&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;canadamap&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;map&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;world&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Canada&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;plot&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;x&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;y&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;Get a map of smaller extent&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;canadamapsmall&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;canadamap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;canadamap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-90&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;canadamap&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;54&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;canadamapsmall_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;na.omit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;canadamapsmall&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;This should get your corner points for the box, picking min and max of lat and lon&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;insetrect&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xmin&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;canadamapsmall_&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xmax&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;canadamapsmall_&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;ymin&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;canadamapsmall_&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ymax&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;canadamapsmall_&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;        xmin      xmax     ymin     ymax
#&amp;gt; 1 -133.0975 -90.38942 48.04721 53.99915
&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;make-the-maps&quot;&gt;Make the maps&lt;/h3&gt;

&lt;p&gt;Create a theme to be used by both plots&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;ptheme&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;panel.border&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_rect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;colour&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;black&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;linetype&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;panel.grid.major&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
  &lt;span class=&quot;n&quot;&gt;panel.grid.minor&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;panel.background&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_rect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;white&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;legend.key&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The inset map, all of Canada&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;canadamap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;theme_bw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;geom_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;canadamap&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colour&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;black&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;white&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;geom_rect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;insetrect&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;xmin&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xmin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xmax&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xmax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ymin&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ymin&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ymax&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ymax&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alpha&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colour&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;blue&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;linetype&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;ptheme&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%+%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;legend.position&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;axis.ticks&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;axis.text.x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;axis.text.y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;The larger map, zoomed in, with the data&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;lon&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;lat&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colour&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ecosystem&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;theme_bw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base_size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;geom_jitter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;alpha&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;geom_path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;canadamapsmall&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;colour&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;black&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fill&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;white&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;scale_size&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;guide&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;none&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  &lt;span class=&quot;n&quot;&gt;ptheme&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%+%&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;legend.position&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;legend.text&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;face&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;bold&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;legend.title&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;face&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;bold&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;axis.ticks&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;element_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
	&lt;span class=&quot;n&quot;&gt;labs&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&#39;&#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;h3 id=&quot;print-maps&quot;&gt;Print maps&lt;/h3&gt;

&lt;p&gt;One an inset of the other. This approach uses the &lt;code class=&quot;highlighter-rouge&quot;&gt;gridExtra&lt;/code&gt; package for flexible alignment, etc. of ggplot graphs.&lt;/p&gt;

&lt;div class=&quot;highlighter-rouge&quot;&gt;&lt;pre class=&quot;highlight&quot;&gt;&lt;code&gt;&lt;span class=&quot;n&quot;&gt;grid.newpage&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;vpb_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;viewport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# the larger map
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;vpa_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;viewport&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;width&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;height&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# the inset in upper right
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;b&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vpb_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;a&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vpa_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;
&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2012-08-22-ggplot-inset-map/unnamed-chunk-11-1.png&quot; alt=&quot;plot of chunk unnamed-chunk-11&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Hitting the Global Names Resolver API</title>
   <link href="http://recology.info//2012/07/global-names-resolver/"/>
   <updated>2012-07-20T00:00:00-07:00</updated>
   <id>http://recology.info//2012/07/global-names-resolver</id>
   <content type="html">&lt;h2 id=&quot;example-of-using-the-global-names-resolver-api-to-check-species-names&quot;&gt;Example of using the Global Names Resolver API to check species names&lt;/h2&gt;

&lt;hr /&gt;

&lt;p&gt;There are a number of options for resolution of taxonomic names. The &lt;a href=&quot;http://tnrs.iplantcollaborative.org/&quot;&gt;Taxonomic Name Resolution Service (TNRS)&lt;/a&gt; comes to mind. There is a new service for taxonomic name resoultion called the &lt;a href=&quot;http://resolver.globalnames.org/&quot;&gt;Global Names Resolver&lt;/a&gt;. They describe the service thusly “&lt;em&gt;Resolve lists of scientific names against known sources. This service parses incoming names, executes exact or fuzzy matching as required, and displays a confidence score for each match along with its identifier.&lt;/em&gt;”.&lt;/p&gt;

&lt;hr /&gt;

&lt;h2 id=&quot;load-required-packages&quot;&gt;Load required packages&lt;/h2&gt;

&lt;h3 id=&quot;just-uncomment-the-code-to-use&quot;&gt;Just uncomment the code to use.&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;c1&quot;&gt;# If you don&#39;t have them already
# install.packages(c(&#39;RJSONIO&#39;,&#39;plyr&#39;,&#39;devtools&#39;)) require(devtools)
# install_github(&#39;taxize_&#39;,&#39;ropensci&#39;)
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;RJSONIO&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plyr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;taxize&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;get-the-data-sources-available&quot;&gt;Get the data sources available&lt;/h2&gt;

&lt;h3 id=&quot;get-just-ids-and-names-of-sources-in-a-dataframe&quot;&gt;Get just id’s and names of sources in a data.frame&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;tail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gnr_datasources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;todf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##     id                                title
## 82 164                            BioLib.cz
## 83 165 Tropicos - Missouri Botanical Garden
## 84 166                                nlbif
## 85 167                                 IPNI
## 86 168              Index to Organism Names
## 87 169                        uBio NameBank&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;give-me-the-id-for-eol-encyclopedia-of-life&quot;&gt;Give me the id for EOL (Encyclopedia of Life)&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gnr_datasources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;todf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;EOL&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;id&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## [1] 12&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;fuzzy-search-for-sources-with-the-word-zoo&quot;&gt;Fuzzy search for sources with the word “zoo”&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;gnr_datasources&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;todf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;outdf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;agrep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;zoo&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;title&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ignore.case&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;outdf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##     id             title
## 20 100 Mushroom Observer
## 25 105           ZooKeys&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h2 id=&quot;resolve-some-names&quot;&gt;Resolve some names&lt;/h2&gt;

&lt;h3 id=&quot;search-for-helianthus-annuus-and-homo-sapiens-return-a-dataframe&quot;&gt;Search for &lt;em&gt;Helianthus annuus&lt;/em&gt; and &lt;em&gt;Homo sapiens&lt;/em&gt;, return a data.frame&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;gnr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;names&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Helianthus annuus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Homo sapiens&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;returndf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##   data_source_id    submitted_name       name_string score    title
## 1              4 Helianthus annuus Helianthus annuus 0.988     NCBI
## 3             10 Helianthus annuus Helianthus annuus 0.988 Freebase&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;search-for-the-same-species-with-only-using-data-source-12-ie-eol&quot;&gt;Search for the same species, with only using data source 12 (i.e., EOL)&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;gnr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;names&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Helianthus annuus&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Homo sapiens&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data_source_ids&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;12&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;returndf&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##   data_source_id    submitted_name       name_string score title
## 1             12 Helianthus annuus Helianthus annuus 0.988   EOL
## 2             12      Homo sapiens      Homo sapiens 0.988   EOL&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;thats-it-have-fun-and-put-bugscommentsetc-herehttpsgithubcomropenscitaxizeissues&quot;&gt;That’s it. Have fun! And put bugs/comments/etc. &lt;a href=&quot;https://github.com/ropensci/taxize_/issues&quot;&gt;here&lt;/a&gt;.&lt;/h3&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;written-in-markdownhttpdaringfireballnetprojectsmarkdown-with-help-from-knitrhttpyihuinameknitr-and-nice-knitr-highlightingetc-in-in-rstudiohttprstudioorg&quot;&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h3&gt;

&lt;hr /&gt;

&lt;h3 id=&quot;i-prepared-the-markdown-for-this-post-by&quot;&gt;I prepared the markdown for this post by:&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;table style=&quot;border-spacing: 0&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td class=&quot;gutter gl&quot; style=&quot;text-align: right&quot;&gt;&lt;pre class=&quot;lineno&quot;&gt;1
2
3
4
5
6
7
8
9
10
11&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;n&quot;&gt;KnitPost&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;base.url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;knitr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;opts_knit&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;base.url&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;base.url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;fig.path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;paste0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;img/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sub&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;.Rmd$&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;basename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;/&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;opts_chunk&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fig.path&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fig.path&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;opts_chunk&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;set&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;fig.cap&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;center&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;render_jekyll&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;knit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;input&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;envir&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;parent.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;setwd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/path/to/_posts&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;KnitPost&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;/path/to/postfile.Rmd&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;w&quot;&gt;
&lt;/span&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;from &lt;a href=&quot;http://jfisher-usgs.github.com/r/2012/07/03/knitr-jekyll/&quot;&gt;jfisher&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Recent R packages for ecology and evolution</title>
   <link href="http://recology.info//2012/06/recent-r-eeb-packages/"/>
   <updated>2012-06-14T00:00:00-07:00</updated>
   <id>http://recology.info//2012/06/recent-r-eeb-packages</id>
   <content type="html">&lt;p&gt;Many R packages/tools have come out recently for doing ecology and evolution. All of the below were described in Methods in Ecology and Evolution, except for spider, which came out in &lt;a href=&quot;http://onlinelibrary.wiley.com/journal/10.1111/(ISSN)1755-0998&quot;&gt;Molecular Ecology Resources&lt;/a&gt;. Here are some highlights.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;mvabund &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2012.00190.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/mvabund/index.html&quot;&gt;get R pkg&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Model-based analysis of multivariate abundance data. Visualising data, fitting predictive models, checking assumptions, hypothesis testing.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;popdemo &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2012.00222.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/popdemo/index.html&quot;&gt;get R pkg&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Population demography using projection matrix analysis.&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;motmot &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00132.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/motmot/index.html&quot;&gt;get R pkg&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Models of trait macroevolution on trees&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;spider &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.1755-0998.2011.03108.x/abstract?deniedAccessCustomisedMessage=&amp;amp;userIsAuthenticated=false&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/spider/index.html&quot;&gt;get R pkg&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Analysis of species identity and evolution, with particular reference to DNA barcoding&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;BaSTA &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2012.00186.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/BaSTA/index.html&quot;&gt;get R pkg&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Bayesian estimation of age-specific survival from incomplete mark–recapture/recovery data with covariates&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;abc &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00179.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/abc/index.html&quot;&gt;get R pkg&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Approximate Bayesian Computation (ABC)&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;RNetLogo &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00180.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/RNetLogo/index.html&quot;&gt;get R pkg&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Running and exploring individual-based models implemented in NetLogo&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;phytools &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00169.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/phytools/index.html&quot;&gt;get R pkg&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Tools for phylogenetic comparative biology&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;smatr &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00153.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/smatr/index.html&quot;&gt;get R pkg&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Estimation and inference about allometric lines&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;RBrownie &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00112.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://www.brianomeara.info/tutorials/brownie&quot;&gt;get R pkg ?&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Testing hypotheses about rates of evolutionary change&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
  &lt;li&gt;polytomy resolver &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00103.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00103.x/suppinfo&quot;&gt;get R pkg&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Resolve polytomies on dated phylogenies with their R scripts [here][].&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;And a cool tool came out for the Python programming language.&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;NichePy &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00184.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;https://github.com/bastodian/NichePy&quot;&gt;get python&lt;/a&gt;
    &lt;ul&gt;
      &lt;li&gt;Modular tools for estimating the similarity of ecological niche and species distribution models&lt;/li&gt;
    &lt;/ul&gt;
  &lt;/li&gt;
&lt;/ul&gt;

</content>
 </entry>
 
 <entry>
   <title>Visualize your Github stats (forks and watchers) in a browser with R!</title>
   <link href="http://recology.info//2012/05/opencpu-github-stats/"/>
   <updated>2012-05-05T00:00:00-07:00</updated>
   <id>http://recology.info//2012/05/opencpu-github-stats</id>
   <content type="html">&lt;p&gt;So &lt;a href=&quot;http://opencpu.org/&quot;&gt;OpenCPU&lt;/a&gt; is pretty awesome.  You can run R in a browser using URL calls with an alphanumeric code (e.g., x3e50ee0780) defining a stored function, and any arguments you pass to it.&lt;/p&gt;

&lt;p&gt;Go &lt;a href=&quot;http://beta.opencpu.org/apps/opencpu.demo/storefunction/&quot;&gt;here&lt;/a&gt; to store a function.  And you can output lots of different types of things: png, pdf, json, etc - see &lt;a href=&quot;http://opencpu.org/documentation/outputs/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Here’s a function I created:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/2602432.js?file=getgithubstats.r&quot;&gt;&lt;/script&gt;

&lt;p&gt;It makes a &lt;a href=&quot;http://had.co.nz/ggplot2/&quot;&gt;ggplot2&lt;/a&gt; graphic of your watchers and forks on each repo (up to 100 repos), sorted by descending number of forks/watchers.&lt;/p&gt;

&lt;p&gt;Here’s an example from the function.  Paste the following in to your browser and you should get the below figure.&lt;/p&gt;

&lt;p&gt;http://beta.opencpu.org/R/call/opencpu.demo/gitstats/png&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/hadley.png&quot; alt=&quot;had&quot; /&gt;&lt;/p&gt;

&lt;p&gt;And you can specify user or organization name using arguments in the URL&lt;/p&gt;

&lt;p&gt;http://beta.opencpu.org/R/call/opencpu.demo/gitstats/png?type=’org’&amp;amp;id=’ropensci’&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/ropensci.png&quot; alt=&quot;ropensci&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Sweet. Have fun.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>mvabund - new R pkg for multivariate abundance data</title>
   <link href="http://recology.info//2012/03/mvabund/"/>
   <updated>2012-03-19T00:00:00-07:00</updated>
   <id>http://recology.info//2012/03/mvabund</id>
   <content type="html">&lt;p&gt;There is a new R package in town, mvabund, which does, as they say “statistical methods for analysing multivariate abundance data”.  The authors introduced the paper in an online early paper in Methods in Ecology and Evolution &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2012.00190.x/full&quot;&gt;here&lt;/a&gt;, R package &lt;a href=&quot;http://cran.r-project.org/web/packages/mvabund/index.html&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The package is meant to visualize data, fit predictive models, check model assumptions, and test hypotheses about community-environment associations.&lt;/p&gt;

&lt;p&gt;Here is a quick example.&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/2112141.js?file=mvabund.r&quot;&gt;&lt;/script&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/mvabund1.png&quot; alt=&quot;mvabund1&quot; /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/mvabund2.png&quot; alt=&quot;mvabund2&quot; /&gt;&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Journal Articles Need Interactive Graphics</title>
   <link href="http://recology.info//2012/02/science-publications-need-interactive-graphics/"/>
   <updated>2012-02-25T00:00:00-08:00</updated>
   <id>http://recology.info//2012/02/science-publications-need-interactive-graphics</id>
   <content type="html">&lt;p&gt;I should have thought of it earlier: In a day and age when we are increasingly reading scientific literature on computer screens, why is it that we limit our peer-reviewed data representation to static, unchanging graphs and plots? Why do we not try to create dynamic visualizations of our rich and varied data sets? Would we not derive benefits in the quality and clarity of scientific discourse from publishing these visualizations?&lt;/p&gt;

&lt;p&gt;An article in the very good (and under-appreciated, in my opinion) &lt;em&gt;&lt;a href=&quot;http://www.americanscientist.org/&quot;&gt;American Scientist&lt;/a&gt;&lt;/em&gt; magazine written by Brian Hayes started me thinking about these questions.  &lt;a href=&quot;http://www.americanscientist.org/issues/pub/pixels-or-perish&quot;&gt;“Pixels or Perish”&lt;/a&gt; begins by recapping the evolution of graphics in scientific publications and notes that before people were good at making plots digitally, they were good at making figures from using photographic techniques; and before that, from elaborate engravings.  Clearly, the state-of-the-art in scientific publishing is a moving target.&lt;/p&gt;

&lt;p&gt;Hayes points out that one of the primary advantages of static images is that everyone knows how to use them and that almost no one lacks the tools to view them.  That is, printed images in a magazine or static digital images in the portable document format (pdf) are easily viewed on paper or on a screen and can be readily interpreted by a wide audience.  While I agree that this feature is very important, why have we not, as scientists, moved to the next level?  We do not lack the ability to interpret data–it is our job to do so–not to mention that we are some of the heaviest generators of data in the first place.&lt;/p&gt;

&lt;p&gt;The obstacles to progress towards interactive data are two-fold.  First, generating dynamic data visualizations is not as easy as generating static plots.  The data visualization tools simply are not as well developed and they do not show up as frequently in the programming environments in which scientists work.  One example Hayes cites is that the ideas from programs such as &lt;a href=&quot;http://vis.stanford.edu/files/2011-D3-InfoVis.pdf&quot;&gt;D^3&lt;/a&gt; have not yet made an appearance in software, like &lt;a href=&quot;http://www.r-project.org/&quot;&gt;R&lt;/a&gt; and &lt;a href=&quot;http://www.mathworks.com/products/matlab/&quot;&gt;Matlab&lt;/a&gt;, that more scientists use. This is one reason why I am so excited by the work that our very own &lt;a href=&quot;http://sckott.github.io/recologyabout.html&quot;&gt;Scott&lt;/a&gt; has been doing with this &lt;a href=&quot;http://sckott.github.io/&quot;&gt;Recology&lt;/a&gt; blog, in trying to promote awareness of tools in &lt;a href=&quot;http://www.r-project.org/&quot;&gt;R&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The second is that neither of our currently dominant publishing formats (physical paper and digital pdf files) support dynamic graphics. Hayes says it better than I could: “…the Web is not where scientists publish…[publications are]…available &lt;em&gt;through&lt;/em&gt; the Web, not &lt;em&gt;on&lt;/em&gt; the Web.”  So, not many current publications really take advantage of the new capabilities that the Web has offered us to showcase dynamic data sets.  In fact, while &lt;a href=&quot;http://www.sciencemag.org/&quot;&gt;Science&lt;/a&gt; and &lt;a href=&quot;http://wwww.nature.com&quot;&gt;Nature&lt;/a&gt;–just to name two prominent examples of scientific journals–make available HTML versions of their articles, it seems like most of the interactivity is limited to looking at larger versions of figures in the articles*.  I myself usually just download the pdf version of articles rather than viewing the HTML version.  This obstacle, however, is not a fundamental one; it is only the current situation.&lt;/p&gt;

&lt;p&gt;The more serious obstacle that Hayes foresees in transitioning to dynamic graphics is one of archiving. Figures in journal articles printed in 1900 are still readable today, but there is no guarantee that a particular file format will survive in usable form to 2100, or even 2020.  I do not know the answer to this conundrum.  A balance might need to be struck between generating static and dynamic data.  At least in the medium term, papers should probably also contain static versions of figures representing dynamic data sets. It is inelegant, but it could avoid the situation where we lose access to information that was once there.&lt;/p&gt;

&lt;p&gt;That said, if the &lt;a href=&quot;http://www.nytimes.com&quot;&gt;New York Times&lt;/a&gt; can do it, so can we.  We should not wait to make our data presentation more dynamic and interactive.  At first, it will be difficult to incorporate these kinds of figures into the articles themselves, and they will likely be relegated to the “supplemental material” dead zone that is infrequently viewed.  But the more dynamic material that journals receive from authors, the more incentive they will have to expand upon their current offerings.  Ultimately, doing so will greatly improve the quality of scientific discourse.&lt;/p&gt;

&lt;p&gt;&lt;small&gt;* Whether the lack of dynamic data visualization on these journals’ websites is due to the authors not submitting such material or due to restrictions from the journals themselves, I do not know. I suspect the burden falls more on the authors’ shoulders at this point than the journals’.&lt;/small&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Take the INNGE survey on math and ecology</title>
   <link href="http://recology.info//2012/02/math-ecology-survey/"/>
   <updated>2012-02-17T00:00:00-08:00</updated>
   <id>http://recology.info//2012/02/math-ecology-survey</id>
   <content type="html">&lt;p&gt;Many ecologists are R users, but we vary in our understanding of the math and statistical theory behind models we use. There is no clear consensus on what should be the basic mathematical training of ecologists.&lt;/p&gt;

&lt;p&gt;To learn what the community thinks, we invite you to fill out a short and anonymous questionnaire on this topic &lt;a href=&quot;https://sites.google.com/site/mathematicsandecologysurvey/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The questionnaire was designed by &lt;a href=&quot;http://www.cebc.cnrs.fr/Fidentite/barraquand/barraquand.htm&quot;&gt;Frédéric Barraquand&lt;/a&gt;, a graduate student at Université Pierre et Marie Curie, in collaboration with the International Network of Next-Generation Ecologists (&lt;a href=&quot;http://www.innge.net&quot;&gt;INNGE&lt;/a&gt;).&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Scraping Flora of North America</title>
   <link href="http://recology.info//2012/01/flora-north-america-scraping/"/>
   <updated>2012-01-27T00:00:00-08:00</updated>
   <id>http://recology.info//2012/01/flora-north-america-scraping</id>
   <content type="html">&lt;p&gt;So &lt;a href=&quot;http://fna.huh.harvard.edu/&quot;&gt;Flora of North America&lt;/a&gt; is an awesome collection of taxonomic information for plants across the continent.  However, the information within is not easily machine readable.&lt;/p&gt;

&lt;p&gt;So, a little web scraping is called for.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/ropensci/rfna&quot;&gt;rfna&lt;/a&gt; is an R package to collect information from the Flora of North America.&lt;/p&gt;

&lt;p&gt;So far, you can:
1. Get taxonomic names from web pages that index the names.
2. Then get daughter URLs for those taxa, which then have their own 2nd order daughter URLs you can scrape, or scrape the 1st order daughter page. 
3. Query Asteraceae taxa for whether they have paleate or epaleate receptacles.  This function is something I needed, but more functions will be made like this to get specific traits.&lt;/p&gt;

&lt;p&gt;Further functions will do search, etc.&lt;/p&gt;

&lt;p&gt;You can install by:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;install.packages&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;devtools&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;devtools&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;install_github&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rfna&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;rOpenSci&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rfna&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Here is an example where a set of URLs is acquired using function &lt;code class=&quot;highlighter-rouge&quot;&gt;getdaughterURLs&lt;/code&gt;, then the function &lt;code class=&quot;highlighter-rouge&quot;&gt;receptacle&lt;/code&gt; is used to ask whether of each the taxa at those URLs have paleate or epaleate receptacles.&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/1690353.js?file=rfna_demo.r&quot;&gt;&lt;/script&gt;

</content>
 </entry>
 
 <entry>
   <title>RNetLogo - A package for running NetLogo from R</title>
   <link href="http://recology.info//2012/01/RNetLogo/"/>
   <updated>2012-01-23T00:00:00-08:00</updated>
   <id>http://recology.info//2012/01/RNetLogo</id>
   <content type="html">&lt;p&gt;Described in a new Methods in Ecology and Evolution paper &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00180.x/abstract&quot;&gt;here&lt;/a&gt;, a new &lt;a href=&quot;http://cran.r-project.org/&quot;&gt;R&lt;/a&gt; package &lt;a href=&quot;http://cran.r-project.org/web/packages/RNetLogo/index.html&quot;&gt;RNetLogo&lt;/a&gt; allows you to use &lt;a href=&quot;http://ccl.northwestern.edu/netlogo/&quot;&gt;NetLogo&lt;/a&gt; from R.&lt;/p&gt;

&lt;p&gt;NetLogo is software is a “multi-agent programmable modeling environment”. NetLogo can be used in individual- and agent-based modeling, and is used in the book &lt;a href=&quot;http://www.railsback-grimm-abm-book.com/&quot;&gt;&lt;em&gt;Agent-based and Individual-based Modeling: A Practical Introduction&lt;/em&gt;&lt;/a&gt; by Railsback &amp;amp; Grimm.&lt;/p&gt;

&lt;p&gt;I have not tried the package yet, but looks interesting. I am always a fan of running stand-alone programs from R if possible.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Taking a Closer Look at Peer Review</title>
   <link href="http://recology.info//2012/01/reviewing-peer-review-process/"/>
   <updated>2012-01-16T00:00:00-08:00</updated>
   <id>http://recology.info//2012/01/reviewing-peer-review-process</id>
   <content type="html">&lt;p&gt;This post is only tangentially about open science.  It is more directly about the process of peer review and how it might be improved.  I am working on a follow-up post about how these points can be addressed in an open publishing environment.&lt;/p&gt;

&lt;p&gt;A &lt;a href=&quot;http://arxiv.org/abs/1110.0791&quot;&gt;recent paper on the arXiv&lt;/a&gt; got me thinking about the sticking points in the publishing pipeline.  As it stands, most scientists have a pretty good understanding of how peer reviewed publishing is supposed to work.  Once an author—or more likely, a group of authors—decides that a manuscript is ready for action, the following series of events will occur:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;the authors submit the manuscript to the journal of choice;&lt;/li&gt;
  &lt;li&gt;the journal’s editor makes a general decision about whether the article is appropriate for the journal;&lt;/li&gt;
  &lt;li&gt;in the affirmative case, the editor selects referees for the manuscript and sends them the text for review;&lt;/li&gt;
  &lt;li&gt;the referees return reviews of the manuscript (the referees are not typically identified to the authors);&lt;/li&gt;
  &lt;li&gt;the editor makes the decision to reject the manuscript, accept it with minor revisions, or accept it with major revisions.  Rejected manuscripts usually start over the process in another journal.  Minor revisions to accepted manuscripts are usually made quickly and publication proceeds.  In the case of major revisions, the suggested changes are made, if possible, and the manuscript is returned to the editor.  At this point, the referees may get a second crack at the material (but not necessarily), before the editor makes a final accept/reject decision based on the feedback from the referees.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Peer review of manuscripts exists for several reasons.  For one, self-regulation determines the suitability of the material for publication if it was not already obvious to the editor of the journal.  Having peer reviewers also improves the material and its presentation.  Furthermore, having expert reviewers lends credibility to the work and insures that misleading, wrong, or crackpot material does not receive the stamp of credibility.  Finally, finding appropriately skilled referees spreads the workload beyond the editors, who may not have the resources to evaluate every paper arriving at their desk.&lt;/p&gt;

&lt;p&gt;Though peer review has a storied history, it also has its drawbacks.  First, and perhaps foremost, the process is often a slow one, with many months elapsing during even one round of communications between the authors, the editor, and the referees.  Peer review is not always an objective process either: referees have the power to delay, or outright reject, work that their competitors have completed, and thus they may lose their impartiality in the process.  Additionally, the publishing process does not reveal the feedback process that occurs between authors and referees, which can be a scientifically and pedagogically valuable exchange.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://arxiv.org/abs/1110.0791&quot;&gt;One proposal&lt;/a&gt; to address the shortcomings of the peer review process (alluded to in the first paragraph) was posted by Sergey Bozhevolnyi on the &lt;a href=&quot;http://arxiv.org/&quot;&gt;arXiv&lt;/a&gt;, a pre-publication website for many physics-related manuscripts.  Bozhevolnyi calls his model of publishing Rapid, Impartial, and Comprehensive (RIC) publishing.  To him, “rapid” means that editors should approve or reject manuscripts before the manuscripts are sent to the referees for review.  Then, “impartial” means that referees, who might otherwise have an interest in rejecting a perfectly fine paper, lose the power to dictate whether or not a manuscript is published.  Instead, the referees critique the paper without assessing whether it is publication-worthy.  Lastly, “comprehensive” involves publishing everything having to do with the manuscript.  That is, all positive and negative reviews are published in conjunction with the all versions of a manuscript.&lt;/p&gt;

&lt;p&gt;The primary benefit of RIC, according to Bozhevolnyi, is that it saves the energies of authors, editors, and referees, thus allowing them all to do more research and less wrangling.  Since most papers are ultimately accepted somewhere, then we should not cause additional delays in publishing by first rejecting them in multiple places.  Instead, collate the manuscript and the reviews and publish them all together, along with any revisions to the manuscript.  Having the reviews be publicly viewable will encourage referees to be more careful about writing their critiques and supporting their assertions, and the process as a whole will be more transparent than it currently is.&lt;/p&gt;

&lt;p&gt;Before I critique the RIC publishing proposal, I should point out that some aspects of the proposal are very appealing.  I particularly like the idea of publishing all reviews in addition to the manuscript.  That said, I find it difficult to believe that the incentives for authors and referees change for the better under this proposal.  For example, what happens if authors receive feedback, do not wish to invest the time to address the critique, and subsequently allow the original manuscript and the reviews to stand as they are?  This situation seems like a moral hazard for authors that does a disservice to the quality of scientific literature.  On the part of the referees, does removing decision-making authority make reviewing less appealing?  Disempowering the referees by potentially ignoring their critique and only counting it as a minor part of the publishing process will not motivate them to write better reviews.  In the case of editors, what makes us believe that an editor, or an editorial board, has the background to properly evaluate the suitability of work for acceptance into a journal?  The reason we have referees in the current peer review system is because they have the very expertise and familiarity needed for this task.&lt;/p&gt;

&lt;p&gt;Does the fact that Bozhevolnyi’s RIC proposal does not make sense mean that peer review is fine as it is?  I do not think so.  Instead, it is worth asking what parts of peer review we like and what parts we would like to improve.  I posit that rejection, or the threat of rejection, is the greatest motivator for authors to make necessary changes to their manuscript.  As such, rejection by peers is still the best way to require and receive revisions.  Though I think that referees should retain their rejecting power (and their anonymity!), I feel strongly that the entire peer review process would benefit from the increased transparency and accountability that publishing unsigned reviews would add.  As far as editors, they play a role in shaping the kind of journal they run by selecting appropriate material on a general level, but they should not play too large a role in determining the “important” research in any field.  The model used by the journal [Public Library of Science One][] is a promising one in this regard, with the only acceptance criterion being whether the science is sound.&lt;/p&gt;

&lt;p&gt;The amount of time that it takes to publish is one of the most frustrating aspects of peer review, however.  Journals could voluntarily publish time-to-publication figures, a number which could then be used by authors—along with impact factors and acceptance rates—to decide which journals to submit to.  For instance, an editor of the Journal of Orthodontics writes about just this fact in &lt;a href=&quot;http://jorthod.maneyjournals.org/content/29/3/171.full&quot;&gt;an editorial&lt;/a&gt;.  A Google search for “journal time to publication” reveals that people have been thinking about this problem for a while (e.g. &lt;a href=&quot;http://www.hutter1.net/journals.htm&quot;&gt;computer science comparisons&lt;/a&gt;), but no general standard exists across journals.  In fact, I suspect these are numbers most journals are afraid will hurt them more than help them.  Nevertheless, journals acknowledge the demand for rapid publication when they offer services like [Springer’s Fast Track publishing&lt;a href=&quot;http://www.springer.com/societies+%26+publishing+partners/society+%26+partner+zone?SGWID=0-173202-12-772912-0&quot;&gt;fasttrackpub&lt;/a&gt; or &lt;a href=&quot;http://pra.aps.org/highlighting-rapids&quot;&gt;Physical Review’s Rapid Communications&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Ultimately, it may not matter what journals do because authors are routing around this problem via pre-publication archives such as the &lt;a href=&quot;http://arxiv.org/&quot;&gt;arXiv&lt;/a&gt; for physics-related subject matter.  Though not without complications, especially in the health sciences (see, for example, &lt;a href=&quot;http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0010782&quot;&gt;“The Promise and Perils of Pre-Publication Review”&lt;/a&gt;), pre-publication allows authors to communicate results and establish priority without stressing about getting through the peer review process as fast as possible.  Instead, the process takes its normal, slower course while authors move along their on-going research.&lt;/p&gt;

&lt;p&gt;I will conclude by leaving an open question that I may address in a future post:  how do you encourage peer reviewers to do the best possible job, in a timely manner, without only relying on their altruism to doing good science and being good members of the community?  It is this question about peer review, I feel, that is the most fraught with complication and subject to the law of unintended consequences if the incentives are changed.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Function for phylogeny resolution</title>
   <link href="http://recology.info//2012/01/phylogeny-resolution/"/>
   <updated>2012-01-13T00:00:00-08:00</updated>
   <id>http://recology.info//2012/01/phylogeny-resolution</id>
   <content type="html">&lt;p&gt;UPDATE:  Yeah, so the treeresstats function had a problem in one of the calculations.  I fixed that and added some more calulcations to the function.&lt;/p&gt;

&lt;p&gt;I couldn’t find any functions to calculate number of polytomies, and related metrics.&lt;/p&gt;

&lt;p&gt;Here’s a simple function that gives four metrics on a phylo tree object:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/1607531.js?file=treeresstats.R&quot;&gt;&lt;/script&gt;

&lt;p&gt;Here’s output from the gist above:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trsize_tips&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trsize_nodes&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;13&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;numpolys&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;numpolysbytrsize_tips&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.06666667&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;numpolysbytrsize_nodes&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.07692308&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;proptipsdescpoly&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.2&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;propnodesdich&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.9230769&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;And an example with many trees:&lt;/p&gt;

&lt;table border=&quot;1&quot;&gt;
	&lt;tr&gt;
		&lt;th&gt;trsize_tips&lt;/th&gt;
		&lt;th&gt;trsize_nodes&lt;/th&gt;
		&lt;th&gt;numpolys&lt;/th&gt;
		&lt;th&gt;numpolysbytrsize_tips&lt;/th&gt;
		&lt;th&gt;numpolysbytrsize_nodes&lt;/th&gt;
		&lt;th&gt;proptipsdescpoly&lt;/th&gt;
		&lt;th&gt;propnodesdich&lt;/th&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
		&lt;td&gt;20&lt;/td&gt; &lt;td&gt;13&lt;/td&gt; &lt;td&gt;4&lt;/td&gt; &lt;td&gt;0.20&lt;/td&gt; &lt;td&gt;0.31&lt;/td&gt; &lt;td&gt;0.7&lt;/td&gt; &lt;td&gt;0.69&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
		&lt;td&gt;20&lt;/td&gt; &lt;td&gt;7&lt;/td&gt; &lt;td&gt;3&lt;/td&gt; &lt;td&gt;0.15&lt;/td&gt; &lt;td&gt;0.43&lt;/td&gt; &lt;td&gt;0.9&lt;/td&gt; &lt;td&gt;0.57&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
		&lt;td&gt;20&lt;/td&gt; &lt;td&gt;11&lt;/td&gt; &lt;td&gt;6&lt;/td&gt; &lt;td&gt;0.30&lt;/td&gt; &lt;td&gt;0.55&lt;/td&gt; &lt;td&gt;1.0&lt;/td&gt; &lt;td&gt;0.45&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
		&lt;td&gt;20&lt;/td&gt; &lt;td&gt;13&lt;/td&gt; &lt;td&gt;4&lt;/td&gt; &lt;td&gt;0.20&lt;/td&gt; &lt;td&gt;0.31&lt;/td&gt; &lt;td&gt;0.7&lt;/td&gt; &lt;td&gt;0.69&lt;/td&gt;
	&lt;/tr&gt;
	&lt;tr&gt;
		&lt;td&gt;20&lt;/td&gt; &lt;td&gt;9&lt;/td&gt; &lt;td&gt;5&lt;/td&gt; &lt;td&gt;0.25&lt;/td&gt; &lt;td&gt;0.56&lt;/td&gt; &lt;td&gt;1.0&lt;/td&gt; &lt;td&gt;0.44&lt;/td&gt;
	&lt;/tr&gt;
&lt;/table&gt;
</content>
 </entry>
 
 <entry>
   <title>Moving from blogger and wordpress to jekyll</title>
   <link href="http://recology.info//2012/01/moving-from-blogger-wordpress-to-jekyll/"/>
   <updated>2012-01-11T00:00:00-08:00</updated>
   <id>http://recology.info//2012/01/moving-from-blogger-wordpress-to-jekyll</id>
   <content type="html">&lt;p&gt;Recology used to be hosted on Blogger, and my personal website was hosted on Wordpress.  Neither platform was very satisfying.  Blogger is very limited in their layouts, unless you use dynamic views, which suck because they don’t allow javascript snippets to render GitHub gists.  Wordpress is just limited all around as you can’t put in hardly anythig excep text and some pictures. They both have their place, but not so much for content that requires syntax highlighting, references, etc.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/mojombo/jekyll&quot;&gt;Jekyll&lt;/a&gt; powered sites on &lt;a href=&quot;https://github.com/&quot;&gt;GitHub&lt;/a&gt; are an awesome alternative.  You do have to write the code yourself, but you can copy any number of templates on GitHub with a simple &lt;code class=&quot;highlighter-rouge&quot;&gt;git clone&lt;/code&gt; onto your machine, edit the text a bit, push it up to GitHub, and that’s it.&lt;/p&gt;

&lt;p&gt;On Blogger and Wordpress you can’t see the code behind why different blogs/sites look different.  But on Jekyll/GitHub you can see the code behind each site (see &lt;a href=&quot;https://github.com/mojombo/jekyll/wiki/sites&quot;&gt;here&lt;/a&gt; for a list of Jekyll/GitHub sites and their source code), which makes learning so easy.&lt;/p&gt;

&lt;p&gt;Here is a video on YouTube that explains in some detail Jekyll/GitHub sites:&lt;/p&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;http://www.youtube.com/embed/7mXeJlFdZ2c&quot; frameborder=&quot;0&quot; allowfullscreen=&quot;&quot;&gt;&lt;/iframe&gt;

&lt;p&gt;A great point in the video above is that a Jekyll site allows a workflow that is great not only for code-junkies, but for scientists.  What is the most important thing about science?  That it is reproducible of course.   Documenting your code and sharing with everyone on GitHub or SVN, etc. is great for science in facilitating collaboration and facilitating transparency.  Having your website/blog on Jekyll fits right in to this workflow (that is, pull down any changes - write/edit something - commit - push to GitHub).  Although this sort of worklow isn’t necessary for a blog, it is nice for scientists to use this workflow all the time.&lt;/p&gt;

&lt;p&gt;Here’s how to get started:&lt;/p&gt;

&lt;ol&gt;
  &lt;li&gt;&lt;a href=&quot;http://git-scm.com/&quot;&gt;Install git&lt;/a&gt;&lt;/li&gt;
  &lt;li&gt;&lt;a href=&quot;https://github.com/signup/free&quot;&gt;Get a free GitHub account&lt;/a&gt; and &lt;a href=&quot;http://help.github.com/mac-set-up-git/&quot;&gt;configure GitHub&lt;/a&gt;.  If you are afraid of the command line, there is a great GitHub app &lt;a href=&quot;http://mac.github.com/&quot;&gt;here&lt;/a&gt;.&lt;/li&gt;
  &lt;li&gt;&lt;code class=&quot;highlighter-rouge&quot;&gt;git clone&lt;/code&gt; a jekyll template to your machine.  There are hundreds of these now.  Look &lt;a href=&quot;https://github.com/mojombo/jekyll/wiki/sites&quot;&gt;here&lt;/a&gt; for your favorite, and &lt;code class=&quot;highlighter-rouge&quot;&gt;git clone&lt;/code&gt; it. ***&lt;/li&gt;
  &lt;li&gt;Edit the template you have cloned, and commit and push to GitHub.  That’s it.  It will take just a bit to render.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;There is more to it than that, but that is how you can get started.  If you want to add comments, &lt;a href=&quot;http://disqus.com/&quot;&gt;Disqus&lt;/a&gt; is a great option.  Once you fork someones jekyll site, make sure to change all the personal/site specific information to your information, including the RSS feed.&lt;/p&gt;

&lt;p&gt;*** Note: You can name your repo for your site/blog as yourgithubname.github.com if you want your URL for the site to be http://yourgithubname.github.com.  Or you can name your repo whatever you want, e.g., disrepo, then the URL will be http://yourgithubname.github.com/disrepo.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Presenting results of logistic regression</title>
   <link href="http://recology.info//2012/01/logistic-regression-barplot-fig/"/>
   <updated>2012-01-10T05:50:00-08:00</updated>
   <id>http://recology.info//2012/01/logistic-regression-barplot-fig</id>
   <content type="html">&lt;p&gt;So my advisor pointed out this ‘new’ (well, 2004), way of plotting results of logistic regression results.  The idea was presented in a 2004 Bulletin of the Ecological Society of America issue (&lt;a href=&quot;http://esapubs.org/bulletin/backissues/085-3/bulletinjuly2004_2column.htm#tools1&quot;&gt;here&lt;/a&gt;).  I tried to come up with a  solution using, what else, ggplot2.  I don’t have it quite all the way down - I am missing the second y-axis values for the histograms, but someone smarter than me can figure that part out (note that Hadley doesn’t want to support second y-axes in ggplot2, but they can probably be hacked on).&lt;/p&gt;

&lt;p&gt;Here’s the code:
&lt;script src=&quot;https://gist.github.com/1589136.js?file=loghistplot.R&quot;&gt;&lt;/script&gt;&lt;/p&gt;

&lt;p&gt;Here’s a few examples using datasets provided with the ggplot2 package:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;loghistplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mtcars&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;mpg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;vs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/mtcarsplot.png&quot; alt=&quot;mtcars plot&quot; /&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;loghistplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;movies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rating&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/moviesplot.png&quot; alt=&quot;movies plot&quot; /&gt;&lt;/p&gt;

&lt;p&gt;And two examples of the logpointplot function:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;logpointplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mtcars&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;mpg&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;vs&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/logpointplot1.png&quot; alt=&quot;mtcars point plot&quot; /&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;logpointplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;movies&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;rating&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;Action&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/logpointplot2.png&quot; alt=&quot;movies point plot&quot; /&gt;&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Testing twitterfeed</title>
   <link href="http://recology.info//2012/01/testing-twitterfeed/"/>
   <updated>2012-01-08T09:33:00-08:00</updated>
   <id>http://recology.info//2012/01/testing-twitterfeed</id>
   <content type="html">&lt;p&gt;Does this work on twitterfeed?&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Weecology can has new mammal dataset</title>
   <link href="http://recology.info//2011/12/weecology-can-has-new-mammal-dataset/"/>
   <updated>2011-12-29T06:11:00-08:00</updated>
   <id>http://recology.info//2011/12/weecology-can-has-new-mammal-dataset</id>
   <content type="html">&lt;p&gt;So the &lt;a href=&quot;http://weecology.org/&quot;&gt;Weecology&lt;/a&gt; folks have published a large dataset on mammal communities in a data paper in &lt;a href=&quot;http://www.esajournals.org/doi/abs/10.1890/11-0262.1&quot;&gt;Ecology&lt;/a&gt;. I know nothing about mammal communities, but that doesn’t mean one can’t play with the data…&lt;/p&gt;

&lt;h3 id=&quot;their-dataset-consists-of-five-csv-files&quot;&gt;Their dataset consists of five csv files:&lt;/h3&gt;
&lt;ul&gt;
  &lt;li&gt;communities,&lt;/li&gt;
  &lt;li&gt;references,&lt;/li&gt;
  &lt;li&gt;sites,&lt;/li&gt;
  &lt;li&gt;species, and&lt;/li&gt;
  &lt;li&gt;trapping data&lt;/li&gt;
&lt;/ul&gt;

&lt;h3 id=&quot;where-are-these-sites-and-by-the-way-do-they-vary-much-in-altitude&quot;&gt;Where are these sites, and by the way, do they vary much in altitude?&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;http://3.bp.blogspot.com/-BKqBoPCDA_A/Tvx9nLbMlkI/AAAAAAAAFPA/9_pG_Ihx33I/s1600/usmap.png&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img src=&quot;http://3.bp.blogspot.com/-BKqBoPCDA_A/Tvx9nLbMlkI/AAAAAAAAFPA/9_pG_Ihx33I/s1600/usmap.png&quot; height=&quot;230&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://1.bp.blogspot.com/-KkU_EcX8-EY/Tvx9n7hiP9I/AAAAAAAAFPI/7LoV0IjRiAM/s1600/worldmap.png&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img src=&quot;http://1.bp.blogspot.com/-KkU_EcX8-EY/Tvx9n7hiP9I/AAAAAAAAFPI/7LoV0IjRiAM/s1600/worldmap.png&quot; height=&quot;230&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;lets-zoom-in-on-just-the-states&quot;&gt;Let’s zoom in on just the states&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;http://3.bp.blogspot.com/-BKqBoPCDA_A/Tvx9nLbMlkI/AAAAAAAAFPA/9_pG_Ihx33I/s1600/usmap.png&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img src=&quot;http://3.bp.blogspot.com/-BKqBoPCDA_A/Tvx9nLbMlkI/AAAAAAAAFPA/9_pG_Ihx33I/s1600/usmap.png&quot; height=&quot;230&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;h3 id=&quot;what-phylogenies-can-we-get-for-the-species-in-this-dataset&quot;&gt;What phylogenies can we get for the species in this dataset?&lt;/h3&gt;

&lt;p&gt;We can use the &lt;a href=&quot;http://cran.r-project.org/web/packages/treebase/&quot;&gt;rOpenSci package treebase&lt;/a&gt; to search the online phylogeny repository &lt;a href=&quot;http://www.treebase.org/treebase-web/home.html&quot;&gt;TreeBASE&lt;/a&gt;. Limiting to returning a max of 1 tree (to save time), we can see that X species are in at least 1 tree on the TreeBASE database. Nice.&lt;/p&gt;

&lt;p&gt;So there are 321 species in the database with at least 1 tree in the TreeBASE database. Of course there could be many more, but we limited results from TreeBASE to just 1 tree per query.&lt;/p&gt;

&lt;h3 id=&quot;heres-the-code&quot;&gt;Here’s the code:&lt;/h3&gt;

&lt;script src=&quot;https://gist.github.com/1534730.js?file=mammaldataset.R&quot;&gt;&lt;/script&gt;

</content>
 </entry>
 
 <entry>
   <title>Recology is 1 yr old</title>
   <link href="http://recology.info//2011/12/recology-is-1-yr-old/"/>
   <updated>2011-12-23T16:52:00-08:00</updated>
   <id>http://recology.info//2011/12/recology-is-1-yr-old</id>
   <content type="html">&lt;p&gt;This blog has lasted a whole year already.  Thanks for reading and commenting.&lt;/p&gt;

&lt;h3 id=&quot;there-are-a-couple-of-announcements&quot;&gt;There are a couple of announcements:&lt;/h3&gt;

&lt;ol&gt;
  &lt;li&gt;Less blogging: I hope to put in many more years blogging here, but in full disclosure &lt;a href=&quot;http://jecologyblog.wordpress.com/&quot;&gt;I am blogging for Journal of Ecology&lt;/a&gt; now, so I am going to be (and already have been) blogging less here.&lt;/li&gt;
  &lt;li&gt;More blogging: If anyone wants to write guest posts at Recology on the topics of using R for ecology and evolution, or open science, please contact me.&lt;/li&gt;
  &lt;li&gt;Different blogging: I was going to roll out the new dynamic views for this blog, but Google doesn’t allow javascript, which is how I include code using GitHub gists. Oh well…&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Anywho, here is the breakdown of visits to this blog, visualized using #ggplot2, of course. There were a total of about 23,000 pageviews in the first year of this blog.&lt;/p&gt;

&lt;p&gt;Here is the pie chart code I used:
&lt;script src=&quot;https://gist.github.com/1515754.js?file=piechart.R&quot;&gt;&lt;/script&gt;&lt;/p&gt;

&lt;p&gt;Visits to top ten posts:&lt;/p&gt;

&lt;p&gt;&lt;img style=&quot; margin-right: 2em; border:none&quot; src=&quot;http://farm8.staticflickr.com/7158/6613213609_e491cd6f95_d.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Visits by by pages:&lt;/p&gt;

&lt;p&gt;&lt;img style=&quot; margin-right: 2em; border:none&quot; src=&quot;http://farm8.staticflickr.com/7033/6613216069_6c7b0d2aca_d.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Visits by top referring sites:&lt;/p&gt;

&lt;p&gt;&lt;img style=&quot; margin-right: 2em; border:none&quot; src=&quot;http://farm8.staticflickr.com/7008/6613217859_a03bcfee3e_d.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Visits by country:&lt;/p&gt;

&lt;p&gt;&lt;img style=&quot; margin-right: 2em; border:none&quot; src=&quot;http://farm8.staticflickr.com/7027/6613219049_97cf21a84e_d.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Visits by browsers:&lt;/p&gt;

&lt;p&gt;&lt;img style=&quot; margin-right: 2em; border:none&quot; src=&quot;http://farm8.staticflickr.com/7147/6613232905_5a98d82f87_d.jpg&quot; /&gt;&lt;/p&gt;

&lt;p&gt;Visits by operating system:&lt;/p&gt;

&lt;p&gt;&lt;img style=&quot; margin-right: 2em; border:none&quot; src=&quot;http://farm8.staticflickr.com/7005/6613236311_7cab55afd6_d.jpg&quot; /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Dynamic views don't support javascript-so reverting back to simple views</title>
   <link href="http://recology.info//2011/12/dynamic-views-don-t-support-javascript-so-reverting-back-to-simple-views/"/>
   <updated>2011-12-22T09:36:00-08:00</updated>
   <id>http://recology.info//2011/12/dynamic-views-don-t-support-javascript-so-reverting-back-to-simple-views</id>
   <content type="html">&lt;p&gt;Sorry for the temporary loss of GitHub gists…Hopefully dynamic views will support javascript soon!!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>I Work For The Internet !</title>
   <link href="http://recology.info//2011/12/i-work-for-internet/"/>
   <updated>2011-12-13T07:35:00-08:00</updated>
   <id>http://recology.info//2011/12/i-work-for-internet</id>
   <content type="html">&lt;p&gt;UPDATE: code and figure updated at 647 AM CST on 19 Dec ‘11. Also, see Jarrett Byrnes (improved) fork of my gist &lt;a href=&quot;https://gist.github.com/1474802&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The site &lt;a href=&quot;http://iworkfortheinternet.org/&quot;&gt;I WORK FOR THE INTERNET&lt;/a&gt; is collecting pictures and first names (last name initials only) to show collective support against SOPA (the Stop Online Piracy Act). Please stop by their site and add your name/picture.&lt;/p&gt;

&lt;p&gt;I used the #rstats package twitteR, created by Jeff Gentry, to search for tweets from people signing this site with their picture, then plotted using ggplot2, and also used Hadley’s lubridate to round timestamps on tweets to be able to bin tweets in to time slots for plotting.&lt;/p&gt;

&lt;p&gt;Tweets containing the phrase ‘I work for the internet’ by time:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://1.bp.blogspot.com/-KALUtp3xQ_Q/Tu8ya0ZX0GI/AAAAAAAAFNM/JGVLj1qSRYs/s1600/Rplot01.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;326&quot; src=&quot;http://1.bp.blogspot.com/-KALUtp3xQ_Q/Tu8ya0ZX0GI/AAAAAAAAFNM/JGVLj1qSRYs/s400/Rplot01.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Here’s the code as a GitHub gist. Sometimes the searchTwitter fxn doesn’t returns an error, which I don’t understand, but you can play with it:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/1472619.js?file=iworkfortheinternet.R&quot;&gt;&lt;/script&gt;

</content>
 </entry>
 
 <entry>
   <title>LondonR meetings presentations</title>
   <link href="http://recology.info//2011/12/londonr-meetings-presentations/"/>
   <updated>2011-12-11T09:59:00-08:00</updated>
   <id>http://recology.info//2011/12/londonr-meetings-presentations</id>
   <content type="html">&lt;p&gt;Three presentations uploaded on &lt;a href=&quot;http://www.londonr.org/Presentations/Agenda.html&quot; target=&quot;_blank&quot;&gt;LondonR meetings website&lt;/a&gt;.  I especially enjoyed the &lt;a href=&quot;http://www.londonr.org/Presentations/segue-presentation-LondonRUG%20(1).ppt&quot; target=&quot;_blank&quot;&gt;JD Long presentation&lt;/a&gt; on the seque package for simulations using Amazon’s EC2.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>rOpenSci won 3rd place in the PLoS-Mendeley Binary Battle!</title>
   <link href="http://recology.info//2011/11/ropensci-won-3rd-place-in-the-plos-mendeley-binary-battle/"/>
   <updated>2011-11-30T10:28:00-08:00</updated>
   <id>http://recology.info//2011/11/ropensci-won-3rd-place-in-the-plos-mendeley-binary-battle</id>
   <content type="html">&lt;p&gt;&lt;br /&gt;&amp;lt;div style=&quot;font-family: Georgia, &#39;Times New Roman&#39;, &#39;Bitstream Charter&#39;, Times, serif; font-size: 13px; line-height: 19px;&quot;&amp;gt;I am part of the rOpenSci development team (&lt;a href=&quot;http://ropensci.org/developers/&quot; target=&quot;_blank&quot;&gt;along with Carl Boettiger, Karthik Ram, and Nick Fabina&lt;/a&gt;).   Our website: &lt;a href=&quot;http://ropensci.org/&quot;&gt;http://ropensci.org/&lt;/a&gt;.  Code at Github: &lt;a href=&quot;https://github.com/ropensci&quot;&gt;https://github.com/ropensci&lt;/a&gt;&amp;lt;/div&amp;gt;&amp;lt;div style=&quot;font-family: Georgia, &#39;Times New Roman&#39;, &#39;Bitstream Charter&#39;, Times, serif; font-size: 13px; line-height: 19px;&quot;&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div style=&quot;font-family: Georgia, &#39;Times New Roman&#39;, &#39;Bitstream Charter&#39;, Times, serif; font-size: 13px; line-height: 19px;&quot;&amp;gt;We entered two of our R packages for integrating with PLoS Journals (rplos) and Mendeley (RMendeley) in the &lt;a data-mce-href=&quot;http://dev.mendeley.com/api-binary-battle&quot; href=&quot;http://dev.mendeley.com/api-binary-battle&quot; target=&quot;_blank&quot;&gt;Mendeley-PLoS Binary Battle&lt;/a&gt;.  Get them at GitHub (&lt;a data-mce-href=&quot;https://github.com/ropensci/rplos&quot; href=&quot;https://github.com/ropensci/rplos&quot; target=&quot;_blank&quot;&gt;rplos&lt;/a&gt;; &lt;a data-mce-href=&quot;https://github.com/ropensci/RMendeley&quot; href=&quot;https://github.com/ropensci/RMendeley&quot; target=&quot;_blank&quot;&gt;RMendeley&lt;/a&gt;).&amp;lt;/div&amp;gt;&amp;lt;div style=&quot;font-family: Georgia, &#39;Times New Roman&#39;, &#39;Bitstream Charter&#39;, Times, serif; font-size: 13px; line-height: 19px;&quot;&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div style=&quot;font-family: Georgia, &#39;Times New Roman&#39;, &#39;Bitstream Charter&#39;, Times, serif; font-size: 13px; line-height: 19px;&quot;&amp;gt;These two packages allow users (from R! of course) to search and retrieve data from PLoS journals (including their altmetrics data), and from Mendeley.  You could surely mash up data from both PLoS and Mendeley.  That’s what’s cool about rOpenSci - we provide the tools, and leave it up to users vast creativity to do awesome things.&amp;lt;/div&amp;gt;&amp;lt;div style=&quot;font-family: Georgia, &#39;Times New Roman&#39;, &#39;Bitstream Charter&#39;, Times, serif; font-size: 13px; line-height: 19px;&quot;&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div style=&quot;font-family: Georgia, &#39;Times New Roman&#39;, &#39;Bitstream Charter&#39;, Times, serif; font-size: 13px; line-height: 19px;&quot;&amp;gt;3rd place gives us a $1,000 prize, plus a &lt;a data-mce-href=&quot;http://ardrone.parrot.com/parrot-ar-drone/uk/&quot; href=&quot;http://ardrone.parrot.com/parrot-ar-drone/uk/&quot; target=&quot;_blank&quot;&gt;Parrot AR Drone helicopter&lt;/a&gt;.&amp;lt;/div&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Public vote open for Mendely-PLoS Binary Battle: vote rOpenSci!</title>
   <link href="http://recology.info//2011/11/public-vote-open-for-mendely-plos/"/>
   <updated>2011-11-19T07:00:00-08:00</updated>
   <id>http://recology.info//2011/11/public-vote-open-for-mendely-plos</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.surveygizmo.com/s3/722753/Mendeley-PLoS-Binary-Battle-Public-Vote&quot;&gt;http://www.surveygizmo.com/s3/722753/Mendeley-PLoS-Binary-Battle-Public-Vote&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>My talk on doing phylogenetics in R</title>
   <link href="http://recology.info//2011/11/my-talk-on-doing-phylogenetics-in-r/"/>
   <updated>2011-11-18T11:15:00-08:00</updated>
   <id>http://recology.info//2011/11/my-talk-on-doing-phylogenetics-in-r</id>
   <content type="html">&lt;p&gt;I gave a talk today on doing very basic phylogenetics in R, including getting sequence data, aligning sequence data, plotting trees, doing trait evolution stuff, etc.&lt;br /&gt;&lt;br /&gt;Please comment if you have code for doing bayesian phylogenetic inference in R.  I know phyloch has function mrbayes, but can’t get it to work…&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;div id=&quot;__ss_10222772&quot; style=&quot;width: 425px;&quot;&amp;gt;&lt;strong style=&quot;display: block; margin: 12px 0 4px;&quot;&gt;&lt;a href=&quot;http://www.slideshare.net/schamber/phylogenetics-in-r&quot; target=&quot;_blank&quot; title=&quot;Phylogenetics in R&quot;&gt;Phylogenetics in R&lt;/a&gt;&lt;/strong&gt; &amp;lt;iframe frameborder=&quot;0&quot; height=&quot;355&quot; marginheight=&quot;0&quot; marginwidth=&quot;0&quot; scrolling=&quot;no&quot; src=&quot;http://www.slideshare.net/slideshow/embed_code/10222772&quot; width=&quot;425&quot;&amp;gt;&amp;lt;/iframe&amp;gt; &lt;br /&gt;&amp;lt;div style=&quot;padding: 5px 0 12px;&quot;&amp;gt;View more &lt;a href=&quot;http://www.slideshare.net/&quot; target=&quot;_blank&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/schamber&quot; target=&quot;_blank&quot;&gt;schamber&lt;/a&gt; &amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Check out a video of my research at RocketHub</title>
   <link href="http://recology.info//2011/11/check-out-video-of-my-research-at/"/>
   <updated>2011-11-01T07:36:00-07:00</updated>
   <id>http://recology.info//2011/11/check-out-video-of-my-research-at</id>
   <content type="html">&lt;p&gt;Okay, so this post isn’t at all about R - but I can’t resist begging my readers for some help. &lt;br /&gt;&lt;br /&gt;I’m trying to get some crowdfunding for my research on the evolution of native plants in agricultural landscapes.  My campaign is part of a larger project by about 50 other scientists and me to see how well it works to go straight to the public to get funding for science research.  All these projects, including mine, are hosted at a site called RocketHub - a site that hosts crowdfunding projects of all sorts – and now they have science.&lt;br /&gt;&lt;br /&gt;It is important to get a few bucks at the beginning so that the people that don’t know me with deep pockets will hopefully chip in once they see the money ball rolling.  &lt;br /&gt;&lt;br /&gt;The funding will go towards paying some students to collect data in the lab for me.&lt;br /&gt;&lt;br /&gt;Here’s the link if you want to donate, or just to check out the video I made about my research!&lt;br /&gt;&lt;a href=&quot;http://www.rockethub.com/projects/3790-evolution-in-agriculture&quot;&gt;http://www.rockethub.com/projects/3790-evolution-in-agriculture&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;And watch the video here too:&lt;br /&gt;&lt;br /&gt;&amp;lt;iframe allowfullscreen=&quot;&quot; frameborder=&quot;0&quot; height=&quot;315&quot; src=&quot;http://www.youtube.com/embed/W1mQgK6xFn0&quot; width=&quot;560&quot;&amp;gt;&amp;lt;/iframe&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>My little presentation on getting web data through R</title>
   <link href="http://recology.info//2011/10/my-little-presentation-on-getting-web/"/>
   <updated>2011-10-28T09:16:00-07:00</updated>
   <id>http://recology.info//2011/10/my-little-presentation-on-getting-web</id>
   <content type="html">&lt;div id=&quot;__ss_9926321&quot; style=&quot;width: 425px;&quot;&gt;&lt;span style=&quot;display: block; margin: 12px 0 4px;&quot;&gt;With examples from &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt; R packages.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;display: block; margin: 12px 0 4px;&quot;&gt;p.s. I am no expert at this...&lt;/span&gt;&lt;strong style=&quot;display: block; margin: 12px 0 4px;&quot;&gt;&lt;br /&gt;&lt;/strong&gt;&lt;strong style=&quot;display: block; margin: 12px 0 4px;&quot;&gt;&lt;a href=&quot;http://www.slideshare.net/schamber/web-data-from-r&quot; target=&quot;_blank&quot; title=&quot;Web data from R&quot;&gt;Web data from R&lt;/a&gt;&lt;/strong&gt; &lt;iframe frameborder=&quot;0&quot; height=&quot;355&quot; marginheight=&quot;0&quot; marginwidth=&quot;0&quot; scrolling=&quot;no&quot; src=&quot;http://www.slideshare.net/slideshow/embed_code/9926321&quot; width=&quot;425&quot;&gt;&lt;/iframe&gt; &lt;br /&gt;&lt;div style=&quot;padding: 5px 0 12px;&quot;&gt;View more &lt;a href=&quot;http://www.slideshare.net/&quot; target=&quot;_blank&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/schamber&quot; target=&quot;_blank&quot;&gt;schamber&lt;/a&gt; &lt;/div&gt;&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>Two new rOpenSci R packages are on CRAN</title>
   <link href="http://recology.info//2011/10/two-new-ropensci-r-packages-are-on-cran/"/>
   <updated>2011-10-27T05:27:00-07:00</updated>
   <id>http://recology.info//2011/10/two-new-ropensci-r-packages-are-on-cran</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/&quot;&gt;Carl Boettiger&lt;/a&gt;, a graduate student at UC Davis, just got two packages on &lt;a href=&quot;http://cran.r-project.org/web/packages/available_packages_by_name.html&quot;&gt;CRAN&lt;/a&gt;.  One is &lt;a href=&quot;http://cran.r-project.org/web/packages/treebase/index.html&quot;&gt;treebase&lt;/a&gt;, which which handshakes with the &lt;a href=&quot;http://www.treebase.org/treebase-web/home.html&quot;&gt;Treebase&lt;/a&gt; API.  The other is &lt;a href=&quot;http://cran.r-project.org/web/packages/rfishbase/index.html&quot;&gt;rfishbase&lt;/a&gt;, which connects with the &lt;a href=&quot;http://www.fishbase.org/search.php&quot;&gt;Fishbase&lt;/a&gt;, although I believe just scrapes XML content as there is no API.  See development on GitHub for treebase &lt;a href=&quot;https://github.com/ropensci/treeBASE&quot;&gt;here&lt;/a&gt;, and for rfishbase &lt;a href=&quot;https://github.com/ropensci/rfishbase&quot;&gt;here&lt;/a&gt;.  Carl has some tutorials on treebase and rfishbase at his website &lt;a href=&quot;http://www.carlboettiger.info/&quot;&gt;here&lt;/a&gt;, and we have an official rOpenSci tutorial for treebase &lt;a href=&quot;http://ropensci.org/tutorials/r-treebase-tutorial/&quot;&gt;here&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;Basically, these two R packages let you search and pull down data from Treebase and Fishbase - pretty awesome.  This improves workflow, and puts your data search and acquisition component into your code, instead of being a bunch of mouse clicks in a browser.&lt;br /&gt;&lt;br /&gt;These two packages are part of the &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci project&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Two-sex demographic models in R</title>
   <link href="http://recology.info//2011/10/two-sex-demographic-models-in-r/"/>
   <updated>2011-10-26T07:31:00-07:00</updated>
   <id>http://recology.info//2011/10/two-sex-demographic-models-in-r</id>
   <content type="html">&lt;p&gt;Tom Miller (a prof here at Rice) and Brian Inouye have a paper out in Ecology (&lt;a href=&quot;http://www.esajournals.org/doi/abs/10.1890/11-0028.1&quot;&gt;paper&lt;/a&gt;, &lt;a href=&quot;http://www.esapubs.org/archive/archive_E.htm&quot;&gt;appendices&lt;/a&gt;) that confronts two-sex models of dispersal with empirical data.&lt;br /&gt;&lt;br /&gt;They conducted the first confrontation of two-sex demographic models with empirical data on lab populations of bean beetles &lt;i&gt;Callosobruchus&lt;/i&gt;. &lt;br /&gt;&lt;br /&gt;Their R code for the modeling work is available at Ecological Archives (link &lt;a href=&quot;http://www.esapubs.org/archive/ecol/E092/186/&quot;&gt;here&lt;/a&gt;).&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Here is a figure made from running the five blocks of code in ‘Miller_and_Inouye_figures.txt’ that reproduces Fig. 4 (A-E) in their Ecology paper (p = proportion female, Nt = density).  Nice!&lt;br /&gt;A: Saturating density dependence &lt;br /&gt;B: Over-compensatory density dependence&lt;br /&gt;C: Sex-specific gamma’s (but bM=bF=0.5)&lt;br /&gt;D: &lt;span style=&quot;background-color: transparent;&quot;&gt;Sex-specific b’s (but gammaM=gammaF=1)&lt;/span&gt;&lt;br /&gt;E: &lt;span style=&quot;background-color: transparent;&quot;&gt;Sex-specific b’s (but gammaM=gammaF=2)&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;http://2.bp.blogspot.com/-Ht7fPEjDhQY/TqgYoiQQlPI/AAAAAAAAFEU/ehhPrxOseK4/s1600/Screen+Shot+2011-10-26+at+9.26.11+AM.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;391&quot; src=&quot;http://2.bp.blogspot.com/-Ht7fPEjDhQY/TqgYoiQQlPI/AAAAAAAAFEU/ehhPrxOseK4/s400/Screen+Shot+2011-10-26+at+9.26.11+AM.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>New food web dataset</title>
   <link href="http://recology.info//2011/10/new-food-web-dataset/"/>
   <updated>2011-10-14T11:00:00-07:00</updated>
   <id>http://recology.info//2011/10/new-food-web-dataset</id>
   <content type="html">&lt;p&gt;&lt;br /&gt;&lt;br /&gt;So, there is a new food web dataset out that was put in Ecological Archives &lt;a href=&quot;http://www.esapubs.org/Archive/ecol/E092/173/default.htm&quot;&gt;here&lt;/a&gt;, and I thought I would play with it.  The food web is from Otago Harbour, an intertidal mudflat ecosystem in New Zealand.  The web contains 180 nodes, with 1,924 links. &lt;br /&gt;&lt;br /&gt;Fun stuff…&lt;br /&gt;&lt;br /&gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;igraph, default layout plot&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;http://3.bp.blogspot.com/-2lQOoeAqGCM/Tphf9GJI8LI/AAAAAAAAFEA/EPwum7GfwXg/s1600/igraphplot.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;303&quot; src=&quot;http://3.bp.blogspot.com/-2lQOoeAqGCM/Tphf9GJI8LI/AAAAAAAAFEA/EPwum7GfwXg/s400/igraphplot.jpeg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;igraph, circle layout plot, nice&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;http://1.bp.blogspot.com/--hGl2IwHi4M/TphhJYdBO0I/AAAAAAAAFEI/8GsLuUkbYcM/s1600/igraphcircleplot.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;303&quot; src=&quot;http://1.bp.blogspot.com/--hGl2IwHi4M/TphhJYdBO0I/AAAAAAAAFEI/8GsLuUkbYcM/s400/igraphcircleplot.jpeg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;My funky little gggraph function plot&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;get the gggraph function, and make it better, &lt;a href=&quot;https://github.com/sckott/gggraph&quot;&gt;here at Github&lt;/a&gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;http://4.bp.blogspot.com/-MBPHlFaVWos/Tphf82gWUpI/AAAAAAAAFD4/qaxCX4PP-C0/s1600/gggraphplot.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;303&quot; src=&quot;http://4.bp.blogspot.com/-MBPHlFaVWos/Tphf82gWUpI/AAAAAAAAFD4/qaxCX4PP-C0/s400/gggraphplot.jpeg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&lt;br /&gt;&lt;script src=&quot;https://gist.github.com/1287545.js?file=newfoodwb.R&quot;&gt;&lt;/script&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Phylogenetic community structure: PGLMMs</title>
   <link href="http://recology.info//2011/10/phylogenetic-community-structure-pglmms/"/>
   <updated>2011-10-13T08:18:00-07:00</updated>
   <id>http://recology.info//2011/10/phylogenetic-community-structure-pglmms</id>
   <content type="html">&lt;p&gt;So, &lt;a href=&quot;http://r-ecology.blogspot.com/2011/01/new-approach-to-analysis-of.html&quot;&gt;I’ve blogged about this topic before&lt;/a&gt;, way back on 5 Jan this year.&lt;br /&gt;&lt;br /&gt;Matt Helmus, a postdoc in the &lt;a href=&quot;http://woottonlab.uchicago.edu/&quot;&gt;Wootton lab at the University of Chicago&lt;/a&gt;, published a paper with Anthony Ives in Ecological Monographs this year (&lt;a href=&quot;http://www.esajournals.org/doi/abs/10.1890/10-1264.1&quot;&gt;abstract here&lt;/a&gt;).  The paper addressed a new statistical approach to phylogenetic community structure. &lt;br /&gt;&lt;br /&gt;As I said in the original post, part of the power of the PGLMM (phylogenetic generalized linear mixed models) approach is that you don’t have to conduct quite so many separate statistical tests as with the previous null model/randomization approach. &lt;br /&gt;&lt;br /&gt;Their original code was written in Matlab.  Here I provide the R code that Matt has so graciously shared with me.  There are four functions and a fifth file has an example use case.  The example and output are shown below. &lt;br /&gt;&lt;br /&gt;Look for the inclusion of Matt’s PGLMM to the picante R package in the future.&lt;br /&gt;&lt;br /&gt;&lt;u&gt;Here are links to the files as GitHub gists:&amp;nbsp;&lt;/u&gt;&lt;br /&gt;PGLMM.data.R:  &lt;a href=&quot;https://gist.github.com/1278205&quot;&gt;https://gist.github.com/1278205&lt;/a&gt;&lt;br /&gt;PGLMM.fit.R:  &lt;a href=&quot;https://gist.github.com/1284284&quot;&gt;https://gist.github.com/1284284&lt;/a&gt;&lt;br /&gt;PGLMM.reml.R:  &lt;a href=&quot;https://gist.github.com/1284287&quot;&gt;https://gist.github.com/1284287&lt;/a&gt;&lt;br /&gt;PGLMM.sim.R:  &lt;a href=&quot;https://gist.github.com/1284288&quot;&gt;https://gist.github.com/1284288&lt;/a&gt;&lt;br /&gt;PGLMM_example.R:  &lt;a href=&quot;https://gist.github.com/1284442&quot;&gt;https://gist.github.com/1284442&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;Enjoy!&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&lt;u&gt;The example&lt;/u&gt;&lt;/b&gt;&lt;br /&gt;&lt;script src=&quot;https://gist.github.com/1284477.js?file=PGLMM_exampleoutput.R&quot;&gt;&lt;/script&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;..and the figures…&lt;br /&gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;http://3.bp.blogspot.com/-ODHXaozYSFY/Tpb9qSXbbHI/AAAAAAAAFDg/hLHlGDiYRSw/s1600/plot1.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;315&quot; src=&quot;http://3.bp.blogspot.com/-ODHXaozYSFY/Tpb9qSXbbHI/AAAAAAAAFDg/hLHlGDiYRSw/s320/plot1.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;http://2.bp.blogspot.com/-tQYXCZWIMYs/Tpb9q5zF4EI/AAAAAAAAFDo/_iOxMYf5DsI/s1600/plot2.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;307&quot; src=&quot;http://2.bp.blogspot.com/-tQYXCZWIMYs/Tpb9q5zF4EI/AAAAAAAAFDo/_iOxMYf5DsI/s320/plot2.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;http://1.bp.blogspot.com/-fowoTDI0chc/Tpb9rMAlswI/AAAAAAAAFDw/7pvqZ-jpECk/s1600/plot3.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;http://1.bp.blogspot.com/-fowoTDI0chc/Tpb9rMAlswI/AAAAAAAAFDw/7pvqZ-jpECk/s320/plot3.png&quot; width=&quot;316&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>R talk on regular expressions (regex)</title>
   <link href="http://recology.info//2011/10/r-talk-on-regular-expressions-regex/"/>
   <updated>2011-10-06T08:50:00-07:00</updated>
   <id>http://recology.info//2011/10/r-talk-on-regular-expressions-regex</id>
   <content type="html">&lt;p&gt;Regular expressions are a powerful in any language to manipulate, search, etc. data.&lt;/p&gt;

&lt;p&gt;For example:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fruit&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;apple&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;banana&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;pear&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;pineapple&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fruit&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;apple&quot;&lt;/span&gt;     &lt;span class=&quot;s2&quot;&gt;&quot;banana&quot;&lt;/span&gt;    &lt;span class=&quot;s2&quot;&gt;&quot;pear&quot;&lt;/span&gt;      &lt;span class=&quot;s2&quot;&gt;&quot;pineapple&quot;&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;grep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;fruit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# there is an &quot;a&quot; in each of the words
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; 
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;strsplit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a string&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;s&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# strsplit splits the string on the &quot;s&quot;
&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;a &quot;&lt;/span&gt;    &lt;span class=&quot;s2&quot;&gt;&quot;tring&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;R base has many functions for regular expressions, see slide 9 of Ed’s talk below.  The package stringr, created by Hadley Wickham, is a nice alternative that wraps the base regex functions for easier use. I highly recommend &lt;a href=&quot;http://cran.r-project.org/web/packages/stringr/index.html&quot;&gt;stringr&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Ed Goodwin, the coordinator of the &lt;a href=&quot;http://www.meetup.com/houstonr/&quot;&gt;Houston R Users group&lt;/a&gt;, gave a presentation to the group last night on regular expressions in R. It was a great talk, and he is allowing me to post his talk here.&lt;/p&gt;

&lt;p&gt;Enjoy!  And thanks for sharing Ed!&lt;/p&gt;

&lt;div style=&quot;width:425px&quot; id=&quot;__ss_9576621&quot;&gt; &lt;strong style=&quot;display:block;margin:12px 0 4px&quot;&gt;&lt;a href=&quot;http://www.slideshare.net/schamber/regexpresentationedgoodwin&quot; title=&quot;regex-presentation_ed_goodwin&quot; target=&quot;_blank&quot;&gt;regex-presentation_ed_goodwin&lt;/a&gt;&lt;/strong&gt; &lt;iframe src=&quot;http://www.slideshare.net/slideshow/embed_code/9576621&quot; width=&quot;425&quot; height=&quot;355&quot; frameborder=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; scrolling=&quot;no&quot;&gt;&lt;/iframe&gt; &lt;div style=&quot;padding:5px 0 12px&quot;&gt; View more &lt;a href=&quot;http://www.slideshare.net/&quot; target=&quot;_blank&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/schamber&quot; target=&quot;_blank&quot;&gt;schamber&lt;/a&gt; &lt;/div&gt; &lt;/div&gt;

</content>
 </entry>
 
 <entry>
   <title>R tutorial on visualizations/graphics</title>
   <link href="http://recology.info//2011/09/r-tutorial-on-visualizationsgraphics/"/>
   <updated>2011-09-30T08:48:00-07:00</updated>
   <id>http://recology.info//2011/09/r-tutorial-on-visualizationsgraphics</id>
   <content type="html">&lt;p&gt;Rolf Lohaus, a Huxley postdoctoral fellow here in the EEB dept at Rice University, gave our R course a talk on basic visualizations in R this morning.&lt;br /&gt;&lt;br /&gt;Enjoy!&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;script src=&quot;https://gist.github.com/1254174.js?file=visualizations_tutorial.R&quot;&gt;&lt;/script&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Short on funding? Can't get a grant? Crowdfunding! #SciFund</title>
   <link href="http://recology.info//2011/09/short-on-funding-cant-get-grant/"/>
   <updated>2011-09-27T09:16:00-07:00</updated>
   <id>http://recology.info//2011/09/short-on-funding-cant-get-grant</id>
   <content type="html">&lt;p&gt;Crowdsourced funding is becoming a sustainable way for various artists, entrepreneurs, etc. to get their idea funded from individuals. For example, think of &lt;a href=&quot;http://www.kickstarter.com/&quot;&gt;Kickstarter&lt;/a&gt; and &lt;a href=&quot;http://www.rockethub.com/&quot;&gt;RocketHub&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Jai Ranganathan and Jarrett Byrnes have started an experiment to determine how well crowdfunding can work for scientists: The SciFund Challenge. Go here to &lt;a href=&quot;http://scifund.wordpress.com/sign-up/&quot;&gt;signup&lt;/a&gt; and here for their &lt;a href=&quot;http://scifund.wordpress.com/&quot;&gt;website&lt;/a&gt;. &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;The deadline to sign up is Oct. 1&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Ten Simple Rules for OA Publishers talk by Philip Bourne</title>
   <link href="http://recology.info//2011/09/ten-simple-rules-for-oa-publishers-talk/"/>
   <updated>2011-09-23T12:44:00-07:00</updated>
   <id>http://recology.info//2011/09/ten-simple-rules-for-oa-publishers-talk</id>
   <content type="html">&lt;div id=&quot;__ss_9354451&quot; style=&quot;width: 425px;&quot;&gt;&lt;strong style=&quot;display: block; margin: 12px 0 4px;&quot;&gt;&lt;a href=&quot;http://www.slideshare.net/pebourne/ten-simple-rules-for-open-access-publishers&quot; target=&quot;_blank&quot; title=&quot;Ten Simple Rules for Open Access Publishers&quot;&gt;Ten Simple Rules for Open Access Publishers&lt;/a&gt;&lt;/strong&gt; &lt;iframe frameborder=&quot;0&quot; height=&quot;355&quot; marginheight=&quot;0&quot; marginwidth=&quot;0&quot; scrolling=&quot;no&quot; src=&quot;http://www.slideshare.net/slideshow/embed_code/9354451&quot; width=&quot;425&quot;&gt;&lt;/iframe&gt; &lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;padding: 5px 0 12px;&quot;&gt;View more &lt;a href=&quot;http://www.slideshare.net/&quot; target=&quot;_blank&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/pebourne&quot; target=&quot;_blank&quot;&gt;Philip Bourne&lt;/a&gt; &lt;/div&gt;&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>@drewconway interview on @DataNoBorders at the Strata conference</title>
   <link href="http://recology.info//2011/09/drewconway-interview-on-datanoborders/"/>
   <updated>2011-09-22T21:10:00-07:00</updated>
   <id>http://recology.info//2011/09/drewconway-interview-on-datanoborders</id>
   <content type="html">&lt;p&gt;The O’Reilly Media Strata Summit has many interviews on YouTube (just search YouTube for it)&lt;br /&gt;&lt;br /&gt;Drew Conway is the author of a R packages, including &lt;a href=&quot;http://cran.r-project.org/web/packages/infochimps/index.html&quot;&gt;infochimps&lt;/a&gt;, an R wrapper to the &lt;a href=&quot;http://www.infochimps.com/&quot;&gt;Infochimps&lt;/a&gt; API service.&lt;br /&gt;&lt;br /&gt;The YouTube video:&amp;lt;iframe allowfullscreen=&quot;&quot; frameborder=&quot;0&quot; height=&quot;315&quot; src=&quot;http://www.youtube.com/embed/fsnnwTWoOLk&quot; width=&quot;560&quot;&amp;gt;&amp;lt;/iframe&amp;gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Open science talk by Carl Boettiger</title>
   <link href="http://recology.info//2011/09/open-science-talk-by-carl-boettiger/"/>
   <updated>2011-09-22T20:55:00-07:00</updated>
   <id>http://recology.info//2011/09/open-science-talk-by-carl-boettiger</id>
   <content type="html">&lt;p&gt;Carl Boettiger gave a talk on the topic of open science to incoming UC Davis graduate students.&lt;/p&gt;

&lt;p&gt;Here is the audio &lt;a href=&quot;http://www.archive.org/details/ThingsIWishIKnewThreeYearsAgo-ByTheDavisOpenScienceGroup&amp;amp;reCache=1&quot;&gt;click here&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Here are the slides &lt;a href=&quot;http://hazelnusse.github.com/DOS_WOW2011/#title-slide&quot;&gt;clickhere&lt;/a&gt;&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>My take on an R introduction talk</title>
   <link href="http://recology.info//2011/09/my-take-on-r-introduction-talk/"/>
   <updated>2011-09-09T11:03:00-07:00</updated>
   <id>http://recology.info//2011/09/my-take-on-r-introduction-talk</id>
   <content type="html">&lt;p&gt;UPDATE: I put in an R tutorial as a Github gist below.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Here is a short intro R talk I gave today…for what it’s worth…&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;div id=&quot;__ss_9195930&quot; style=&quot;width: 425px;&quot;&amp;gt;&lt;strong style=&quot;display: block; margin: 12px 0 4px;&quot;&gt;&lt;a href=&quot;http://www.slideshare.net/schamber/r-introduction&quot; target=&quot;_blank&quot; title=&quot;R Introduction&quot;&gt;R Introduction&lt;/a&gt;&lt;/strong&gt; &amp;lt;iframe frameborder=&quot;0&quot; height=&quot;355&quot; marginheight=&quot;0&quot; marginwidth=&quot;0&quot; scrolling=&quot;no&quot; src=&quot;http://www.slideshare.net/slideshow/embed_code/9195930&quot; width=&quot;425&quot;&amp;gt;&amp;lt;/iframe&amp;gt; &lt;br /&gt;&amp;lt;div style=&quot;padding: 5px 0 12px;&quot;&amp;gt;View more &lt;a href=&quot;http://www.slideshare.net/&quot; target=&quot;_blank&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/schamber&quot; target=&quot;_blank&quot;&gt;schamber&lt;/a&gt; &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;script src=&quot;https://gist.github.com/1208321.js?file=Rintrotutorial.R&quot;&gt;&lt;/script&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>A Data Visualization Book</title>
   <link href="http://recology.info//2011/09/data-visualization-book/"/>
   <updated>2011-09-08T23:28:00-07:00</updated>
   <id>http://recology.info//2011/09/data-visualization-book</id>
   <content type="html">&lt;p&gt;&lt;i&gt;Note:  thanks to Scott for inviting me to contribute to the Recology blog despite being an ecology outsider; my work is primarily in atomic physics. -Pascal&lt;/i&gt;&amp;lt;p&amp;gt;A part of me has always liked thinking about how to effectively present information, but until the past year, I had not read much to support my (idle) interest in information visualization.  That changed in the spring when I read Edward Tufte’s &lt;i&gt;The Visual Display of Quantitative Information&lt;/i&gt;, a book that stimulated me to think more deeply about presenting information.  I originally started with a specific task in mind–a wonderful tool for focusing one’s interests–but quickly found that Tufte’s book was less a practical guide and more a list of general design principles.  Then, a few months ago, I stumbled upon Nathan Yau’s blog, &lt;a href=&quot;http://flowingdata.com/&quot;&gt;FlowingData&lt;/a&gt;, and found out he was writing a practical guide to design and visualization.  Conveniently enough for me, Yau’s book, &lt;i&gt;&lt;a href=&quot;http://book.flowingdata.com/&quot;&gt;Visualize This&lt;/a&gt;&lt;/i&gt;, would be released within a month of my discovery of his blog; what follows are my impressions of &lt;i&gt;Visualize This&lt;/i&gt;.&amp;lt;p&amp;gt;I have liked &lt;i&gt;Visualize This&lt;/i&gt; a lot.  Yau writes with much the same informal tone as on his blog, and the layout is visually pleasing (good thing, too, for a book about visualizing information!).  The first few chapters are pretty basic if you have done much data manipulation before, but it is really nice to have something laid out so concisely.  The examples are good, too, in that he is very explicit about every step: there is no intuiting what that missing step should be.  The author even acknowledges in the introduction that the first part of the book is at an introductory level.&amp;lt;p&amp;gt;Early in the book, Yau discusses where to obtain data.  This compilation of sources is potentially a useful reference for someone, like me, who almost always generates his own data in the lab.  Unfortunately, Yau does not talk much about preparation of (or best practices for) your own data.  Additionally, from the perspective of a practicing scientist, it would have been nice to hear about how to archive data to make sure it is readable far into the future, but that is probably outside the scope of the book.&amp;lt;p&amp;gt;Yau seems really big into using open source software for getting and analyzing data (e.g. Python, R, etc…), but he is surprisingly attached to the proprietary Adobe Illustrator for turning figures into presentation quality graphics.  He says that he feels like the default options in most analysis programs do not make for very good quality graphics (and he is right), but he does not really acknowledge that you can generate nice output if you go beyond the default settings.  For me, the primary advantage of generating output programmatically is that it is easy to regenerate when you need to change the data or the formatting on the plot.  Using a graphical user interface, like in Adobe Illustrator, is nice if you are only doing something once (how often does that happen?), but when you have to regenerate the darn figure fifty times to satisfy your advisor, it gets tedious to move things around pixel by pixel.&amp;lt;p&amp;gt;By the time I reached the middle chapters, I started finding many of the details to be repetitive.  Part of this repetition stems from the fact that Yau divides these chapters by the type of visualization. For example, “Visualizing Proportions” and “Visualizing Relationships” are two of the chapter titles.  While I think these distinctions are important ones for telling the right story about one’s data, creating figures for the different data types often boils down to choosing different functions in R or Python. People with less analysis and presentation experience should find the repetition helpful, but I increasingly skimmed these sections as I went along.  &amp;lt;p&amp;gt;Working through Yau’s examples for steps you do not already know would probably be the most useful way of getting something out of the book.  So, for example, I started trying to use Python to scrape data from a webpage, something I had not previously done.  I followed the book’s example of this data-scraping just fine, but as with most things in programming, you find all sorts of minor hurdles to clear when you try your own thing. In my case, I am re-learning the Python I briefly learned about 10 years ago–partly in anticipation of not having access to Matlab licenses once I vacate the academy–since I have forgotten a lot of the syntax.  A lot of this stuff would be faster if I were working in Matlab which I grew more familiar with in graduate school.&amp;lt;p&amp;gt;Overall, &lt;i&gt;Visualize This&lt;/i&gt; is a really nice looking book and will continue to be useful to me as a reference. Yau concludes his book with a refreshing reminder to provide context for the data we present.  This advice is particularly relevant when presenting to a wider or lay audience, but it is still important for us, as scientists, to clearly communicate our findings in the literature.  Patterns in the data are not often self-evident, and therefore we should think carefully about which visualization tools will best convey the meaning of our results.&amp;lt;p&amp;gt;&lt;small&gt;Edited to add &lt;a href=&quot;http://book.flowingdata.com/&quot;&gt; a link to &lt;i&gt;Visualize This&lt;/i&gt;&lt;/a&gt; here and in the introductory paragraph.&lt;/small&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>FigShare Talk</title>
   <link href="http://recology.info//2011/09/figshare-talk/"/>
   <updated>2011-09-08T21:36:00-07:00</updated>
   <id>http://recology.info//2011/09/figshare-talk</id>
   <content type="html">&lt;p&gt;FigShare - I very much like this idea of a place to put your data online that is NOT published. Dryad is a nice place for datastes linked with published papers, but there isn’t really a place for datasets that perhaps did not make the cut for a published paper, and if known to the scientific community, could potentially help resolve the “file-drawer” effect in meta-analyses. (wow, run on sentence)&lt;br /&gt;&lt;br /&gt; &amp;lt;iframe frameborder=&quot;0&quot; height=&quot;225&quot; src=&quot;http://player.vimeo.com/video/26416313?title=0&amp;amp;byline=0&amp;amp;portrait=0&quot; width=&quot;400&quot;&amp;gt;&amp;lt;/iframe&amp;gt;&lt;br /&gt;&lt;a href=&quot;http://vimeo.com/26416313&quot;&gt;“Figshare - Why don’t you publish all your research?” Mark Hahnel Imperial College London&lt;/a&gt; from &lt;a href=&quot;http://vimeo.com/biogeeks&quot;&gt;London Biogeeks&lt;/a&gt; on &lt;a href=&quot;http://vimeo.com/&quot;&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Jonathan Eisen on the Fourth Domain and Open Science</title>
   <link href="http://recology.info//2011/09/jonathan-eisen-on-fourth-domain-and/"/>
   <updated>2011-09-06T16:53:00-07:00</updated>
   <id>http://recology.info//2011/09/jonathan-eisen-on-fourth-domain-and</id>
   <content type="html">&lt;iframe frameborder=&quot;0&quot; height=&quot;227&quot; src=&quot;http://player.vimeo.com/video/28444926?portrait=0&quot; width=&quot;400&quot;&gt;&lt;/iframe&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;a href=&quot;http://vimeo.com/28444926&quot;&gt;Stalking the Fourth Domain with Jonathan Eisen, Ph D&lt;/a&gt; from &lt;a href=&quot;http://vimeo.com/user8340111&quot;&gt;mendelspod&lt;/a&gt; on &lt;a href=&quot;http://vimeo.com/&quot;&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>rnpn: An R interface for the National Phenology Network</title>
   <link href="http://recology.info//2011/08/rnpn-r-interface-for-national-phenology/"/>
   <updated>2011-08-31T08:26:00-07:00</updated>
   <id>http://recology.info//2011/08/rnpn-r-interface-for-national-phenology</id>
   <content type="html">&lt;p&gt;The team at &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt; and I have been working on a wrapper for the &lt;a href=&quot;http://www.usanpn.org/&quot;&gt;USA National Phenology Network&lt;/a&gt; API. The following is a demo of some of the current possibilities. We will have more functions down the road. Get the publicly available code, and contribute, at Github &lt;a href=&quot;https://github.com/ropensci/rnpn&quot;&gt;here&lt;/a&gt;. If you try this out look at the &lt;a href=&quot;https://github.com/ropensci/rnpn/blob/master/DESCRIPTION&quot;&gt;Description file &lt;/a&gt;for the required R packages to run rnpn. Let us know at Github (&lt;a href=&quot;https://github.com/ropensci&quot;&gt;here&lt;/a&gt;) or at our website  &lt;a href=&quot;http://ropensci.org/&quot;&gt;http://ropensci.org/&lt;/a&gt;, or in the comments below, or on twitter (@rOpenSci), what use cases you would like to see with the rnpn package.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&lt;u&gt;Method and demo of each&lt;/u&gt;&lt;/b&gt;:&lt;br /&gt;&lt;i&gt;&lt;b&gt;Get observations for species by day&lt;/b&gt;&lt;/i&gt;&lt;br /&gt;&lt;i&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-style: normal;&quot;&gt;From the documentation: “&lt;/span&gt;&lt;/i&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Arial; font-size: 13px; white-space: pre-wrap;&quot;&gt;This function will return a list of species, containing all the dates which observations were made about the species, and a count of the number of such observations made on that date.&lt;/span&gt;&lt;i&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-style: normal;&quot;&gt;”&lt;/span&gt;&lt;/i&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-size: x-small;&quot;&gt;#### Note, the data below is truncated for blogging brevity…&lt;/span&gt;&lt;br /&gt;&amp;lt;div style=&quot;overflow: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&amp;gt; getobsspbyday&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;‘2008-01-01’&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;‘2011-12-31’&lt;/span&gt;&lt;span style=&quot;color: #666666;&quot;&gt;) # Searched for species 1 and 2 from Jan 1, 2008 to Dec 31, 2011&lt;/span&gt;&lt;br /&gt;          &lt;a href=&quot;http://inside-r.org/r-doc/base/date&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;date&lt;/span&gt;&lt;/a&gt; count   species&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-03-08     &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-03-&lt;span style=&quot;color: #cc66cc;&quot;&gt;15&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-03-&lt;span style=&quot;color: #cc66cc;&quot;&gt;22&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-03-&lt;span style=&quot;color: #cc66cc;&quot;&gt;24&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-03-&lt;span style=&quot;color: #cc66cc;&quot;&gt;26&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;6&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-04-&lt;span style=&quot;color: #cc66cc;&quot;&gt;17&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;7&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-04-&lt;span style=&quot;color: #cc66cc;&quot;&gt;24&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;8&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-05-&lt;span style=&quot;color: #cc66cc;&quot;&gt;12&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;9&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-05-&lt;span style=&quot;color: #cc66cc;&quot;&gt;20&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;10&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-&lt;span style=&quot;color: #cc66cc;&quot;&gt;11&lt;/span&gt;-&lt;span style=&quot;color: #cc66cc;&quot;&gt;24&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;11&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-&lt;span style=&quot;color: #cc66cc;&quot;&gt;12&lt;/span&gt;-07     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;12&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2010&lt;/span&gt;-01-&lt;span style=&quot;color: #cc66cc;&quot;&gt;18&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;13&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2010&lt;/span&gt;-01-&lt;span style=&quot;color: #cc66cc;&quot;&gt;23&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;62&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2011&lt;/span&gt;-05-&lt;span style=&quot;color: #cc66cc;&quot;&gt;29&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;63&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2011&lt;/span&gt;-06-&lt;span style=&quot;color: #cc66cc;&quot;&gt;27&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;64&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2011&lt;/span&gt;-06-&lt;span style=&quot;color: #cc66cc;&quot;&gt;30&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;65&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-03-&lt;span style=&quot;color: #cc66cc;&quot;&gt;17&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;66&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-04-03     &lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;67&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-04-05     &lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;68&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-04-&lt;span style=&quot;color: #cc66cc;&quot;&gt;10&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;69&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-04-&lt;span style=&quot;color: #cc66cc;&quot;&gt;17&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;br /&gt;&lt;/i&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;b&gt;Get individuals at specific stations&lt;/b&gt;&lt;/i&gt;&lt;br /&gt;From the documentation: “&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Arial; font-size: 13px; white-space: pre-wrap;&quot;&gt;This function returns all of the individuals at a series of stations.&lt;/span&gt;“&lt;br /&gt;&amp;lt;div&amp;gt;&lt;br /&gt;&amp;lt;div style=&quot;overflow-x: auto; overflow-y: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&amp;gt; getindsatstations&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;507&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;523&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666;&quot;&gt;# Searched for any individuals at stations 507 and 523&lt;/span&gt;&lt;br /&gt;   individual_id individual_name species_id kingdom&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;1200&lt;/span&gt;         dogwood         &lt;span style=&quot;color: #cc66cc;&quot;&gt;12&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;1197&lt;/span&gt;    purple lilac         &lt;span style=&quot;color: #cc66cc;&quot;&gt;36&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;1193&lt;/span&gt;         white &lt;a href=&quot;http://inside-r.org/r-doc/base/t&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;t&lt;/span&gt;&lt;/a&gt;         &lt;span style=&quot;color: #cc66cc;&quot;&gt;38&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;3569&lt;/span&gt;     forsythia-&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;         &lt;span style=&quot;color: #cc66cc;&quot;&gt;73&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;1206&lt;/span&gt;            jack        &lt;span style=&quot;color: #cc66cc;&quot;&gt;150&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;6&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;1199&lt;/span&gt;      trout lily        &lt;span style=&quot;color: #cc66cc;&quot;&gt;161&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;7&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;1198&lt;/span&gt;           dandy        &lt;span style=&quot;color: #cc66cc;&quot;&gt;189&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;8&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;1192&lt;/span&gt;           red &lt;a href=&quot;http://inside-r.org/r-doc/base/t&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;t&lt;/span&gt;&lt;/a&gt;        &lt;span style=&quot;color: #cc66cc;&quot;&gt;192&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;9&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;1710&lt;/span&gt;    common lilac         &lt;span style=&quot;color: #cc66cc;&quot;&gt;36&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;10&lt;/span&gt;          &lt;span style=&quot;color: #cc66cc;&quot;&gt;1711&lt;/span&gt;  common lilac &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;         &lt;span style=&quot;color: #cc66cc;&quot;&gt;36&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;11&lt;/span&gt;          &lt;span style=&quot;color: #cc66cc;&quot;&gt;1712&lt;/span&gt;       dandelion        &lt;span style=&quot;color: #cc66cc;&quot;&gt;189&lt;/span&gt; Plantae&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;br /&gt;&lt;/i&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;br /&gt;&lt;/i&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;br /&gt;&lt;/i&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;b&gt;Get individuals of species at stations&lt;/b&gt;&lt;/i&gt;&lt;br /&gt;From the documentation: “&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Arial; font-size: 13px; white-space: pre-wrap;&quot;&gt;This function will return a list of all the individuals, which are members of a species, among  any number of stations.&lt;/span&gt;”&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&lt;br /&gt;&amp;lt;div style=&quot;overflow-x: auto; overflow-y: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&amp;gt; getindspatstations&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;35&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;60&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;259&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;  &lt;span style=&quot;color: #666666;&quot;&gt;# Search for individuals of species 35 at stations 60 and 259 in year 2009&lt;/span&gt;&lt;br /&gt;  individual_id individual_name number_observations&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;          &lt;span style=&quot;color: #cc66cc;&quot;&gt;1715&lt;/span&gt;            west                   &lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;          &lt;span style=&quot;color: #cc66cc;&quot;&gt;1716&lt;/span&gt;            east                   &lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;br /&gt;&lt;/i&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;br /&gt;&lt;/i&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;br /&gt;&lt;/i&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;b&gt;Get observation associated with particular observation&lt;/b&gt;&lt;/i&gt;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-style: normal;&quot;&gt;From the documentation:&lt;/span&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Arial; font-size: x-small;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;white-space: pre-wrap;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-style: normal;&quot;&gt; &lt;/span&gt;”&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Arial; font-size: 13px; white-space: pre-wrap;&quot;&gt;This function will return the comment associated with a particular observation.&lt;/span&gt;&lt;span class=&quot;Apple-style-span&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Arial; font-size: x-small;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;white-space: pre-wrap;&quot;&gt;”&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Arial; font-size: x-small;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;white-space: pre-wrap;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: monospace; white-space: pre;&quot;&gt;&amp;gt; getobscomm&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1938&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666;&quot;&gt;# The observation for observation number 1938&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&amp;lt;div style=&quot;overflow-x: auto; overflow-y: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;$observation_comment&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;“some lower branches are bare”&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Tenure track position in systematics at the University of Vermont</title>
   <link href="http://recology.info//2011/08/tenure-track-position-in-systematics-at/"/>
   <updated>2011-08-22T13:24:00-07:00</updated>
   <id>http://recology.info//2011/08/tenure-track-position-in-systematics-at</id>
   <content type="html">&lt;p&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;background-color: white; color: #4f4f4f; font-family: Arial, Tahoma, Helvetica, FreeSans, sans-serif; font-size: 15px; line-height: 20px;&quot;&gt;&lt;/span&gt;&lt;br /&gt;&lt;center style=&quot;text-align: left;&quot;&gt;There is an awesome position opening up for an assistant professor in systematics at the University of Vermont. Below is the announcement, and see the &lt;a href=&quot;http://currentecology.blogspot.com/2011/08/tenure-track-position-in-systematics-at.html&quot;&gt;original post&lt;/a&gt; at the &lt;a href=&quot;http://currentecology.blogspot.com/&quot;&gt;Distributed Ecology blog&lt;/a&gt;. Why is this related to R? One can do a lot of systematics work in R, including retrieving scientific collections data through an upcoming package handshaking with &lt;a href=&quot;http://vertnet.org/index.php&quot;&gt;VertNet&lt;/a&gt; (part of the &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt; project), managing large data sets, retrieval of GenBank data through the ape package (see fxn read.genbank), phylogenetic reconstruction and analysis, and more. So I am sure a systematist with R ninja skills will surely have a head up on the rest of the field.&amp;nbsp;&lt;/center&gt;&lt;center style=&quot;text-align: left;&quot;&gt;&lt;br /&gt;&lt;/center&gt;&lt;center style=&quot;text-align: left;&quot;&gt;&lt;br /&gt;&lt;/center&gt;&lt;center&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/center&gt;&lt;center&gt;&lt;b&gt;Assistant Professor in Systematics&lt;/b&gt;&lt;/center&gt;&lt;br /&gt;&lt;br /&gt;Department of Biology&lt;br /&gt;University of Vermont&lt;br /&gt;Burlington, Vermont&lt;br /&gt;&lt;br /&gt;The Department of Biology of the University of Vermont seeks applications for a tenure- track Assistant Professor position in Systematics and Evolutionary Biology of arthropods, especially insects. The position will be open in the fall of 2012. The successful candidate will have expertise in classical and molecular systematics, including analysis of complex data sets. Candidates pursuing phylogenomics and innovative methods in bioinformatics in combination with taxonomy are especially encouraged to apply. Department information at:&lt;a href=&quot;http://www.uvm.edu/~biology/&quot; style=&quot;color: #0499fa; text-decoration: none;&quot;&gt; http://www.uvm.edu/~biology/&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;All applicants are expected to: 1) hold a Ph.D. degree in relevant disciplines and have two or more years of postdoctoral experience; 2) develop a competitively funded research program; 3) teach undergraduate courses (chosen from among general biology, evolution, systematic entomology, and others in the candidate’s expertise); 4) teach, mentor and advise undergraduate and graduate students; and 5) oversee a natural history collection of historic significance.&lt;br /&gt;&lt;br /&gt;Candidates must apply online:&lt;a href=&quot;http://www.uvmjobs.com/&quot; style=&quot;color: #0499fa; text-decoration: none;&quot;&gt; http://www.uvmjobs.com/&lt;/a&gt;. On left see “Search Postings” then find “Biology” under “HCM Department” then posting 0040090 (first posting). Sorry, but we cannot supply the direct link because it will time out.&lt;br /&gt;&lt;br /&gt;Attach a cover letter with a statement of research focus and teaching interests (one document), a curriculum vitae, representative publications, and the contact information of three references.&lt;br /&gt;&lt;br /&gt;Review of applications will begin on September 15, 2011, and will continue until the position is filled. Questions and up to three additional publications may be directed to Dr. Jos. J. Schall: jschall@uvm.edu.&lt;br /&gt;&lt;br /&gt;The University of Vermont recently identified several “Spires of Excellence” in which it will strategically focus institutional investments and growth over the next several years. One spire associated with the position is Complex Systems. Candidates whose research interests align with this spire are especially encouraged to apply&lt;a href=&quot;http://www.uvm.edu/~tri/&quot; style=&quot;color: #0499fa; text-decoration: none;&quot;&gt;http://www.uvm.edu/~tri/&lt;/a&gt;.&lt;br /&gt;The University seeks faculty who can contribute to the diversity and excellence of the academic community through their research, teaching, and/or service. Applicants are requested to include in their cover letter information about how they will further this goal. The University of Vermont is an Affirmative Action/Equal Opportunity employer. The Department is committed to increasing faculty diversity and welcomes applications from women, underrepresented ethnic, racial and cultural groups, and from people with disabilities.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Thursday at #ESA11</title>
   <link href="http://recology.info//2011/08/thursday-at-esa11/"/>
   <updated>2011-08-12T06:11:00-07:00</updated>
   <id>http://recology.info//2011/08/thursday-at-esa11</id>
   <content type="html">&lt;p&gt;Interesting talks/posters:&amp;lt;div&amp;gt;&lt;br /&gt;Richard Lankau presented research on trade-offs and competitive ability. He suggests that during range expansion selection for increased intraspecific competitive ability in older populations leads to loss of traits for interspecific competitive traits due to trade-offs between these traits. &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Ellner emphatically states that rapid evolution DOES matter for ecological responses, and longer-term evolutionary patterns as well. [His paper on the talk he was giving came out prior to his talk, which he pointed out, good form sir]&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Lauren Sullivan gave an interesting talk on bottom up and top down effects on plant reproduction in one site of a huge network of sites doing similar nutrient and herbivory manipulations around the globe - NutNet (go here: &lt;a href=&quot;http://nutnet.science.oregonstate.edu/&quot;&gt;http://nutnet.science.oregonstate.edu/&lt;/a&gt;). &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Laura Prugh shows in California that the engineering effects (i.e., the mounds that they make) of giant kangaroo rats are more important for the associated food web than the species interaction effects (the proxy used was just density of rats). &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Kristy Deiner suggests that chironomids are more phylogenetic similar in lakes with stocked fish relative to fishless lakes, in high elevation lakes in the Sierra Nevada. She used barcode data to generate her phylogeny of chironomids. If you have barcode data and want to search BOLD Systems site, one option is doing it from R using rbold, a package under development at &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt; (code at &lt;a href=&quot;https://github.com/sckott/rbold&quot;&gt;Github&lt;/a&gt;). &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Jessica Gurevitch presented a large working group’s methods/approach to a set of reviews on invasion biology. We didn’t get to see a lot of results from this work, but I personally was glad to see her explaining to a packed room the utility of meta-analysis, and comparing to the medical field in which meta-analysis is sort of the gold standard by which to draw conclusions. &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Following Jessica, Jason Fridley told us about the Evolutionary Imbalance Hypothesis (EIH) (see my notes &lt;a href=&quot;http://schamber.wordpress.com/lab-notebook-2/&quot;&gt;here&lt;/a&gt;). He posed the problem of, when two biotas come together, what determines which species are retained in this new community and which species are left out. He listed a litany of traits/responses to measure to get at this problem, but suggested that with a little bit of “desktop ecology”, we could simply ask: Is the invasability of X region related to the phylogenetic diversity of that region? In three destination regions (Eastern Deciduous Forests, Mediterranean California, and the Czech Republic) out of four there was a positive relationship between proportion of invasive plant species in a source region and the phylogenetic diversity of the source regions. &amp;lt;ul&amp;gt;&amp;lt;/ul&amp;gt;&amp;lt;/div&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Wednesday at #ESA11</title>
   <link href="http://recology.info//2011/08/wednesday-at-esa11/"/>
   <updated>2011-08-11T06:50:00-07:00</updated>
   <id>http://recology.info//2011/08/wednesday-at-esa11</id>
   <content type="html">&lt;p&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times, &#39;Times New Roman&#39;, serif;&quot;&gt;Interesting talks/posters:&lt;/span&gt;&lt;br /&gt;&amp;lt;div&amp;gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times, &#39;Times New Roman&#39;, serif;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;ul&amp;gt;&amp;lt;li&amp;gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times, &#39;Times New Roman&#39;, serif;&quot;&gt;Ethan White’s poster describing &lt;a href=&quot;http://ecologicaldata.org/&quot;&gt;EcologicalData.org&lt;/a&gt; was of course awesome given my interest in getting data into the hands of ecologists over at &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci.org&lt;/a&gt;. Ethan also has software you can download on your machine to get the datasets you want easily - &lt;a href=&quot;http://ecologicaldata.org/ecodata-retriever&quot;&gt;EcoData Retriever&lt;/a&gt;. [rOpenSci will try to take advantage of their work and allow you to call the retriever from R]&lt;/span&gt;&amp;lt;/li&amp;gt;&lt;/p&gt;
&lt;li&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times, &#39;Times New Roman&#39;, serif;&quot;&gt;Carl Boettiger&#39;s talk was awesome. He explained how we need better tools to be able to predict collapses using early warning signals. He developed a way to estimate the statistical distribution of probabilities of system collapse.&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times, &#39;Times New Roman&#39;, serif;&quot;&gt;Jennifer Dunne: Explained how she put together an ancient network from Germany. Bravo.&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times, &#39;Times New Roman&#39;, serif;&quot;&gt;Carlos Melian explained his model of network buildup that starts from individuals, allows speciation, and other evolutionary processes.&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times, &#39;Times New Roman&#39;, serif;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;background-color: white;&quot;&gt;Rachel Winfree told us that in two sets of mutualistic plant-pollinator networks in New Jersey and California, that the least connected pollinator species were the most likely to be lost from the network with increasing agricultural intensity.&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times, &#39;Times New Roman&#39;, serif;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;background-color: white;&quot;&gt;Dan Cariveau suggests that pollination crop services can be stabilized even with increasing agriculture intensity if in fact pollinator species respond in different ways. That is, some pollinators may decrease in abundance with increasing ag intensity, while other species may increase - retaining overall pollination services to crops.&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;p&gt;&amp;lt;/ul&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;ul&amp;gt;&amp;lt;/ul&amp;gt;&amp;lt;/div&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday at #ESA11</title>
   <link href="http://recology.info//2011/08/monday-at-esa11/"/>
   <updated>2011-08-08T20:17:00-07:00</updated>
   <id>http://recology.info//2011/08/monday-at-esa11</id>
   <content type="html">&lt;p&gt;Monday was a good day at ESA in Austin. There were a few topics I promised to report on in my blogging/tweeting.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;…focused on open source data. &lt;a href=&quot;http://www.nceas.ucsb.edu/~strasser/Site/Home.html&quot;&gt;Carly Strasser’s&lt;/a&gt; presentation on guidelines for data management was awesome (including other talks in the symposium on Creating Effective Data Management Plans for Ecological Research). Although this was a good session, I can’t help but wish that they had hammered home the need for open science more. Oh well. Also, they talked a lot about how, and not a lot of why we should properly curate data. Still, a good session. One issue Carly and I talked about was tracking code in versioning systems such as &lt;a href=&quot;https://github.com/&quot;&gt;Github&lt;/a&gt;. There doesn’t seem to be a culture of versioning code for analyses/simulations in ecology. But when we get there…it will be easier to share/track/collaborate on  code.&lt;br /&gt;&lt;br /&gt;…used R software. &lt;a href=&quot;http://eco.confex.com/eco/2011/preliminaryprogram/abstract_31982.htm&quot;&gt;David Jennings&lt;/a&gt; talked about a meta-analysis asking if phylogenetic distance influences competition strength in pairwise experiments. David used the metafor package in R to do his meta-analysis. Good form sir.&lt;br /&gt;&lt;br /&gt;…did cool science. &lt;a href=&quot;http://www.ecologicalevolution.org/people/former-lab-members/matthew-helmus/&quot;&gt;Matt Helmus &lt;/a&gt;presented a great talk on phylogenetic species area curves (likely using R, or Matlab maybe?).&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;p.s. &lt;a href=&quot;http://ropensci.org/developers/&quot;&gt;We&lt;/a&gt; launched &lt;a href=&quot;http://ropensci.org/2011/07/welcome-to-ropensci/&quot;&gt;rOpenSci&lt;/a&gt; today.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Oddities:&lt;br /&gt;&amp;lt;ul&amp;gt;&amp;lt;li&amp;gt;The Tilman effect - Tilman’s talk was so packed it looked like there was a line waiting to get into a trendy bar. &lt;a href=&quot;http://www.math.ualberta.ca/~ashander/images/til.jpg&quot;&gt;Here’s a picture&lt;/a&gt; (credit: Jaime Ashander). Bigger room next time anyone? &amp;lt;/li&amp;gt;&lt;/p&gt;
&lt;li&gt;Wiley came out with an open source journal called &lt;a href=&quot;http://onlinelibrary.wiley.com/journal/10.1002/(ISSN)2045-7758&quot;&gt;Ecology and Evolution&lt;/a&gt;. This brings them to 3 open source journals (the other two are in other fields). We (&lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt;) will attempt to hand-shake with these journals.&amp;nbsp; &lt;/li&gt;
&lt;li&gt;The vegetarian lunch option was surprisingly good. Nice.&amp;nbsp;&lt;/li&gt;
&lt;p&gt;&amp;lt;/ul&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>(#ESA11) rOpenSci: a collaborative effort to develop R-based tools for facilitating Open Science</title>
   <link href="http://recology.info//2011/08/esa11-ropensci-collaborative-effort-to_08/"/>
   <updated>2011-08-08T08:06:00-07:00</updated>
   <id>http://recology.info//2011/08/esa11-ropensci-collaborative-effort-to_08</id>
   <content type="html">&lt;p&gt;Our &lt;a href=&quot;http://ropensci.org/developers/&quot;&gt;development team&lt;/a&gt; would like to announce the launch of &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt;. As the title states, this project aims to create &lt;a href=&quot;http://www.r-project.org/&quot;&gt;R&lt;/a&gt; &lt;a href=&quot;http://cran.r-project.org/web/packages/available_packages_by_name.html&quot;&gt;packages&lt;/a&gt; to make open science more available to researchers.&lt;br /&gt;&lt;br /&gt;&amp;lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&amp;gt;&amp;lt;tbody&amp;gt;&lt;/p&gt;
&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;http://1.bp.blogspot.com/-9YIk1e1liUU/Tj8YAoOPyQI/AAAAAAAAElQ/9gCMQ8CJORI/s1600/ropensci.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; src=&quot;http://1.bp.blogspot.com/-9YIk1e1liUU/Tj8YAoOPyQI/AAAAAAAAElQ/9gCMQ8CJORI/s1600/ropensci.png&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;font-size: 13px; text-align: center;&quot;&gt;&lt;a href=&quot;http://ropensci.org/&quot;&gt;http://ropensci.org/&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;p&gt;&amp;lt;/tbody&amp;gt;&amp;lt;/table&amp;gt;&lt;br /&gt;What this means is that we seek to connect researchers using R with as much open data as possible, mainly through APIs. There are a number of R packages that already do this (e.g., &lt;a href=&quot;http://cran.r-project.org/web/packages/infochimps/index.html&quot;&gt;infochimps&lt;/a&gt;, &lt;a href=&quot;http://cran.r-project.org/web/packages/twitteR/index.html&quot;&gt;twitteR&lt;/a&gt;), but we are making more packages, e.g., for &lt;a href=&quot;https://github.com/cboettig/RMendeley&quot;&gt;Mendeley&lt;/a&gt;, &lt;a href=&quot;https://github.com/sckott/rplos&quot;&gt;PLoS Journals&lt;/a&gt;, and &lt;a href=&quot;https://github.com/sckott/taxize_&quot;&gt;taxonomic sources&lt;/a&gt; (&lt;a href=&quot;http://www.itis.gov/&quot;&gt;ITIS&lt;/a&gt;, &lt;a href=&quot;http://www.eol.org/&quot;&gt;EOL&lt;/a&gt;, &lt;a href=&quot;http://tnrs.iplantcollaborative.org/&quot;&gt;TNRS&lt;/a&gt;, &lt;a href=&quot;http://www.phylodiversity.net/phylomatic/&quot;&gt;Phylomatic&lt;/a&gt;, &lt;a href=&quot;http://www.ubio.org/&quot;&gt;UBio&lt;/a&gt;).&lt;br /&gt;&lt;br /&gt;Importantly, we are creating a package called &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt;, which aims to integrate functions from packages for individual open data sources.&lt;br /&gt;&lt;br /&gt;If you are somewhat interested, follow our progress on our &lt;a href=&quot;http://ropensci.org/&quot;&gt;website&lt;/a&gt;, on &lt;a href=&quot;http://twitter.com/#!/rOpenSci&quot;&gt;Twitter&lt;/a&gt;, or &lt;a href=&quot;http://ropensci.org/contact/&quot;&gt;contact us&lt;/a&gt;. If you are really^2 interested you could go to &lt;a href=&quot;https://github.com/&quot;&gt;Github&lt;/a&gt; and contribute. If  you are really^3 interested, &lt;a href=&quot;http://ropensci.org/developers/&quot;&gt;join our development team&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Blogging/tweeting from #ESA11</title>
   <link href="http://recology.info//2011/07/bloggingtweeting-from-esa11/"/>
   <updated>2011-07-31T12:46:00-07:00</updated>
   <id>http://recology.info//2011/07/bloggingtweeting-from-esa11</id>
   <content type="html">&lt;p&gt;I will be blogging about the upcoming Ecological Society of America meeting in Austin, TX. I will focus on discussing talks/posters that:&lt;br /&gt;&lt;br /&gt;&amp;lt;ol&amp;gt;&amp;lt;li&amp;gt;Have taken a cool approach to using data, or&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Have focused on open science/data, or&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Done something cool with R software, or&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Are just exciting in general&amp;lt;/li&amp;gt;&amp;lt;/ol&amp;gt;&amp;lt;div&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;I will also tweet throughout the meeting from @recology_ (yes the underscore is part of the name, recology was already taken). &amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;The hashtag for the meeting this year is #ESA11&amp;lt;/div&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Models in Evolutionary Ecology seminar, organized by Timothee Poisot</title>
   <link href="http://recology.info//2011/07/models-in-evolutionary-ecology-seminar/"/>
   <updated>2011-07-18T05:27:00-07:00</updated>
   <id>http://recology.info//2011/07/models-in-evolutionary-ecology-seminar</id>
   <content type="html">&lt;p&gt;Here is one of the talks by Thomas Brouquet, and see the rest &lt;a href=&quot;http://www.dailymotion.com/playlist/x1mv7l_mez_en_video_cefe-colloque#videoId=xjylea&quot;&gt;here&lt;/a&gt;. &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;iframe frameborder=&quot;0&quot; height=&quot;270&quot; src=&quot;http://www.dailymotion.com/embed/video/xjylea&quot; width=&quot;480&quot;&amp;gt;&amp;lt;/iframe&amp;gt;&lt;br /&gt;&lt;a href=&quot;http://www.dailymotion.com/video/xjylea_thomas-broquet_tech&quot; target=&quot;_blank&quot;&gt;Thomas Broquet&lt;/a&gt; &lt;i&gt;by &lt;a href=&quot;http://www.dailymotion.com/mez_en_video&quot; target=&quot;_blank&quot;&gt;mez_en_video&lt;/a&gt;&lt;/i&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Archiving ecology/evolution data sets online</title>
   <link href="http://recology.info//2011/07/archiving-ecologyevolution-data-sets/"/>
   <updated>2011-07-15T19:02:00-07:00</updated>
   <id>http://recology.info//2011/07/archiving-ecologyevolution-data-sets</id>
   <content type="html">&lt;p&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Georgia, &#39;Times New Roman&#39;, &#39;Bitstream Charter&#39;, Times, serif; font-size: 13px; line-height: 19px;&quot;&gt;&lt;/span&gt;&lt;br /&gt;We now have many options for archiving data sets online:&lt;br /&gt;&lt;br /&gt;&lt;a data-mce-href=&quot;http://datadryad.org/&quot; href=&quot;http://datadryad.org/&quot; target=&quot;_blank&quot;&gt;Dryad&lt;/a&gt;, &lt;a data-mce-href=&quot;http://knb.ecoinformatics.org/index.jsp&quot; href=&quot;http://knb.ecoinformatics.org/index.jsp&quot; target=&quot;_blank&quot;&gt;KNB&lt;/a&gt;, &lt;a data-mce-href=&quot;http://www.esapubs.org/archive/&quot; href=&quot;http://www.esapubs.org/archive/&quot; target=&quot;_blank&quot;&gt;Ecological Archives&lt;/a&gt;, &lt;a data-mce-href=&quot;http://www.esapubs.org/archive/archive_D.htm&quot; href=&quot;http://www.esapubs.org/archive/archive_D.htm&quot; target=&quot;_blank&quot;&gt;Ecology Data Papers&lt;/a&gt;, &lt;a data-mce-href=&quot;http://ecologicaldata.org/&quot; href=&quot;http://ecologicaldata.org/&quot; target=&quot;_blank&quot;&gt;Ecological Data&lt;/a&gt;, etc.&lt;br /&gt;&lt;br /&gt;However, these portals largely do not communicate with one another as far as I know, and there is no way to search over all data set sources, again, as far as I know. So, I wonder if it would ease finding of all these different data sets to get these different sites to get their data sets cloned on a site like Infochimps, or have links from Infochimps.  Infochimps already has APIs (and there’s an R wrapper for the Infochimps API already set up here: http://cran.r-project.org/web/packages/infochimps/index.html by Drew Conway), and they have discussions set up there, etc.&lt;br /&gt;&lt;br /&gt;Does it make sense to post data sets linked to published works on Infochimps? I think probably not know that I think about it. But perhaps it makes sense for other data sets, or subsets of data sets that are not linked with published works to be posted there as I know at least Dryad only accepts data sets linked with published papers.&lt;br /&gt;&lt;br /&gt;One use case is there was a tweet from someone recently that his students were excited about getting their data sets on their resume/CV, but didn’t think there was a way to put them any place where there wasn’t a precondition that the data set was linked with a published work. Seems like this could be a good opportunity to place these datasets on Infcohimps, and at least they are available then where a lot of people are searching for data sets, etc.&lt;br /&gt;&lt;br /&gt;What I think would be ideal is if Dryad, KNB, etc. could link their datasets to Infochimps, where they could be found, then users can either get them from Infochimps, or perhaps you would have to go to the Dryad site, e.g. But at least you could search over all ecological data sets then.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>CRdata vs. Cloudnumbers</title>
   <link href="http://recology.info//2011/07/crdata-vs-cloudnumbers/"/>
   <updated>2011-07-14T06:31:00-07:00</updated>
   <id>http://recology.info//2011/07/crdata-vs-cloudnumbers</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.cloudnumbers.com/&quot;&gt;Cloudnumbers&lt;/a&gt; and &lt;a href=&quot;http://crdata.org/&quot;&gt;CRdata&lt;/a&gt; are two new cloud computing services.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;I tested the two services with a very simple script. The script simply creates a dataframe of 10000 numbers via rnorm, and assigns them to a factor of one of two levels (a or b). I then take the mean of the two factor levels with the aggregate function.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;In CRdata you need to put in some extra code to format the output in a browser window. For example, the last line below needs to have ‘&amp;lt;crdata_object&amp;gt;’ on both sides of the output object so it can be rendered in a browser. And etc. for other things that one would print to a console. Whereas you don’t need this extra code for using Cloudnumbers.&lt;br /&gt;&lt;br /&gt;&amp;lt;div style=&quot;overflow: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt; &lt;br /&gt;dat &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/data.frame&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;n = &lt;a href=&quot;http://inside-r.org/r-doc/stats/rnorm&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rnorm&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;10000&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; p = &lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;‘a’&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;‘b’&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; each=&lt;span style=&quot;color: #cc66cc;&quot;&gt;5000&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;out &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/stats/aggregate&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;aggregate&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;n ~ p&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt; = dat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#&amp;lt;crdata_object&amp;gt;out&amp;lt;/crdata_object&amp;gt;&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&lt;br /&gt;Here is a screenshot of the output from CRdata with the simple script above.&lt;br /&gt;&lt;img height=&quot;208&quot; src=&quot;http://f.cl.ly/items/1D090q2N0Y3a410W262V/Screen%20shot%202011-07-14%20at%208.04.33%20AM.png&quot; width=&quot;400&quot; /&gt;&lt;br /&gt;This simple script ran in about 20 seconds or so from starting the job to finishing. However, it seems like the only output option is html. Can this be right? This seems like a terrible only option.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;In Cloudnumbers you have to start a workspace, upload your R code file.&lt;br /&gt;Then, start a session…&lt;br /&gt;choose your software platform…&lt;br /&gt;choose packages (one at a time, very slow)…&lt;br /&gt;then choose number of clusters, etc.&lt;br /&gt;Then finally star the job.&lt;br /&gt;Then it initializes, then finally you can open the console, and&lt;br /&gt;Then from here it is like running R as you normally would, except on the web.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;u&gt;Who wins (at least for our very minimal example above)&lt;/u&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;ol&amp;gt;&amp;lt;li&amp;gt;Speed of entire process (not just running code): CRdata&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Ease of use: CRdata&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Cost: CRdata (free only)&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Least annoying: Cloudnumbers (you don’t have to add in extra code to run your own code)&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Opensource: CRdata (you can use publicly available code on the site)&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Long-term use: Cloudnumbers (more powerful, flexible, etc.)&amp;lt;/li&amp;gt;&amp;lt;/ol&amp;gt;&amp;lt;div&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;I imagine Cloudnumbers could be faster for larger jobs, but you would have to pay for the speed of course. &amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;What I really want to see is a cloud computing service that accepts code directly run from R or RStudio. Hmmm…that would be so tasty indeed. I think&lt;a href=&quot;http://cloudnumbers.zendesk.com/entries/20199198-using-an-external-terminal-ssh-console&quot;&gt; Cloudnumbers may be able to do this&lt;/a&gt;, but haven’t tested it yet.  &amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;Perhaps using the server version of RStudio along with Amazon’s EC2 is a better option than both of these. See Karthik Ram’s &lt;a href=&quot;http://inundata.org/2011/03/30/r-ec2-rstudio-server/&quot;&gt;post&lt;/a&gt; about using RStudio server along with Amazon’s EC2. Even just running RStudio server on your Unbuntu machine or virtual machine is a pretty cool option, even without EC2 (works like a charm on my Parallels Ubuntu vm on my Mac). &amp;lt;/div&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>rbold: An R Interface for Bold Systems barcode repository</title>
   <link href="http://recology.info//2011/06/rbold-an-r-interface-for-bold-systems-barcode-repository/"/>
   <updated>2011-06-28T07:27:00-07:00</updated>
   <id>http://recology.info//2011/06/rbold-an-r-interface-for-bold-systems-barcode-repository</id>
   <content type="html">&lt;p&gt;Have you ever wanted to &lt;a href=&quot;http://services.boldsystems.org/index.php?page=1_esearch&amp;amp;status=&quot;&gt;search&lt;/a&gt; and &lt;a href=&quot;http://services.boldsystems.org/index.php?page=2_efetch&amp;amp;status=&quot;&gt;fetch&lt;/a&gt; barcode data from &lt;a href=&quot;http://www.boldsystems.org/views/login.php&quot;&gt;Bold Systems&lt;/a&gt;?&lt;br /&gt;&lt;br /&gt;I am developing functions to interface with Bold from R. I just started, but hopefully folks will find it useful.&lt;br /&gt;&lt;br /&gt;The code is at Github &lt;a href=&quot;https://github.com/ropensci/rbold&quot;&gt;here&lt;/a&gt;. The two functions are still very buggy, so please bring up issues below, or in the Issues area on Github. For example, some searches work and other similar searches don’t. Apologies in advance for the bugs.&lt;br /&gt;&lt;br /&gt;Below is a screenshot of an example query using function getsampleids to get barcode identifiers for specimens. You can then use getseqs function to grab barcode data for specific specimens or many specimens.&lt;br /&gt;&lt;img alt=&quot;Screen shot 2011-06-28 at 9.24.00 AM.png&quot; height=&quot;267&quot; src=&quot;http://cl.ly/1V1y1Q1A0t062F2y2308/Screen_shot_2011-06-28_at_9.24.00_AM.png&quot; width=&quot;400&quot; /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>iEvoBio 2011 Synopsis</title>
   <link href="http://recology.info//2011/06/ievobio-2011-synopsis/"/>
   <updated>2011-06-22T19:38:00-07:00</updated>
   <id>http://recology.info//2011/06/ievobio-2011-synopsis</id>
   <content type="html">&lt;p&gt;We just wrapped up the &lt;a href=&quot;http://ievobio.org/&quot;&gt;2011 iEvoBio meeting&lt;/a&gt;. It was awesome! If you didn’t go this year or last year, definitely think about going next year.&lt;br /&gt;&amp;lt;div&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;Here is a list of the cool projects that were discussed at the meeting (apologies if I left some out):&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&amp;lt;ol&amp;gt;&amp;lt;li&amp;gt;&lt;a href=&quot;http://vistrails.org/index.php/Main_Page&quot;&gt;Vistrails&lt;/a&gt;: workflow tool, awesome project by Claudio Silva&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;&lt;a href=&quot;http://www.commplish.com/&quot;&gt;Commplish&lt;/a&gt;: purpose is to use via API’s, not with the web UI&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;&lt;a href=&quot;http://phylopic.org/&quot;&gt;Phylopic&lt;/a&gt;: a database of life-form silouhettes, including an API for remote access, sweet!&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;&lt;a href=&quot;http://gloome.tau.ac.il/&quot;&gt;Gloome&lt;/a&gt;&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;&lt;a href=&quot;http://www.mappinglife.org/&quot;&gt;MappingLife&lt;/a&gt;: awesome geographic/etc data visualization interace on the web&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;&lt;a href=&quot;http://bioinfolab.unl.edu/~canderson/SuiteMSA/&quot;&gt;SuiteSMA&lt;/a&gt;: visualizating multiple alignments&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;&lt;a href=&quot;https://github.com/cboettig/treeBASE&quot;&gt;treeBASE&lt;/a&gt;: R interface to treebase, by &lt;a href=&quot;http://www.carlboettiger.info/&quot;&gt;Carl Boettiger&lt;/a&gt;&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;&lt;a href=&quot;http://vertnet.org/index.php&quot;&gt;VertNet&lt;/a&gt;: database for vertebrate natural history collections&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;&lt;a href=&quot;http://sourceforge.net/projects/revbayes/&quot;&gt;RevBayes&lt;/a&gt;: revamp of MrBayes, with GUI, etc. &amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;&lt;a href=&quot;https://www.phenoscape.org/wiki/Main_Page&quot;&gt;Phenoscape Knowledge Base&lt;/a&gt;&amp;lt;/li&amp;gt;&amp;lt;ul&amp;gt;&amp;lt;li&amp;gt;Peter Midford lightning talk: talked about matching taxonomic and genetic data&amp;lt;/li&amp;gt;&amp;lt;/ul&amp;gt;&amp;lt;li&amp;gt;&lt;a href=&quot;http://biscicol.blogspot.com/p/biscicol-prototype.html&quot;&gt;BiSciCol&lt;/a&gt;: biological science collections tracker&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;&lt;a href=&quot;http://www.ontogrator.org/&quot;&gt;Ontogrator&lt;/a&gt; &amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;&lt;a href=&quot;http://tnrs.iplantcollaborative.org/&quot;&gt;TNRS&lt;/a&gt;: taxonomic name resolution service&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;&lt;a href=&quot;http://www.boldsystems.org/views/login.php&quot;&gt;Barcode of Life data systems&lt;/a&gt;, and &lt;a href=&quot;http://services.boldsystems.org/&quot;&gt;remote access&lt;/a&gt;&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;&lt;a href=&quot;http://www.mooreabiocode.org/about&quot;&gt;Moorea Biocode Project&lt;/a&gt;&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;&lt;a href=&quot;http://amarallab.mbl.edu/mirada/mirada.html&quot;&gt;Microbial LTER’s data&lt;/a&gt;&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;&lt;a href=&quot;http://birdvis.org/&quot;&gt;BirdVis&lt;/a&gt;: interactive bird data visualization (Claudio Silva in collaboration with Cornell Lab of Ornithology)&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;&lt;a href=&quot;http://www.crowdlabs.org/&quot;&gt;Crowdlabs&lt;/a&gt;: I think the site is down right now, another project by Claudio Silva&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;&lt;a href=&quot;http://hydrodictyon.eeb.uconn.edu/projects/phycas/index.php/Phycas_Home&quot;&gt;Phycas&lt;/a&gt;: Bayesian phylogenetics, can you just call this from R?&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;RIP MrBayes!!!! replaced by RevBayes (see 9 above)&amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Slides of presentations will be at &lt;a href=&quot;http://www.slideshare.net/event/ievobio11&quot;&gt;Slideshare&lt;/a&gt; (not all presentations up yet)          &amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;A birds of a feather group I was involved in proposed an idea (TOL-o-matic) like Phylomatic, but of broader scope, for easy access and submission of trees, and perhaps even social (think just pushing a ‘SHARE’ button within PAUP, RevBayes, or other phylogenetics software)! &amp;lt;/li&amp;gt;&amp;lt;li&amp;gt;Synopses of Birds of a Feather discussion groups: &lt;a href=&quot;http://piratepad.net/iEvoBio11-BoF-reportouts&quot;&gt;http://piratepad.net/iEvoBio11-BoF-reportouts&lt;/a&gt;&amp;lt;/li&amp;gt;&amp;lt;/ol&amp;gt;&amp;lt;/div&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>PLoS journals API from R: "rplos"</title>
   <link href="http://recology.info//2011/06/plos-journals-api-from-r-rplos/"/>
   <updated>2011-06-21T06:30:00-07:00</updated>
   <id>http://recology.info//2011/06/plos-journals-api-from-r-rplos-</id>
   <content type="html">&lt;p&gt;The Public Libraries of Science (PLOS) has an API so that developers can create cool tools to access their data (including full text papers!!).&lt;br /&gt;&lt;br /&gt;Carl Boettiger at UC Davis and I are working on R functions that use the PLoS API. See our code on Github &lt;a href=&quot;https://github.com/ropensci/rplos&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: red;&quot;&gt;here&lt;/span&gt;&lt;/a&gt;. See the wiki at the Github page for examples of use. We hope to deploy rplos as a package someday soon. Please feel free to suggest changes/additions rplos in the comments below or on the Github/rplos site.&lt;br /&gt;&lt;br /&gt;Get your own API key &lt;a href=&quot;http://api.plos.org/&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: red;&quot;&gt;here&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>ggplot2 talk by Hadley Whickam at Google</title>
   <link href="http://recology.info//2011/06/ggplot2-talk-by-hadley-whickam-at-google/"/>
   <updated>2011-06-17T09:40:00-07:00</updated>
   <id>http://recology.info//2011/06/ggplot2-talk-by-hadley-whickam-at-google</id>
   <content type="html">&lt;iframe allowfullscreen=&quot;&quot; frameborder=&quot;0&quot; height=&quot;349&quot; src=&quot;http://www.youtube.com/embed/TaxJwC_MP9Q&quot; width=&quot;560&quot;&gt;&lt;/iframe&gt;
</content>
 </entry>
 
 <entry>
   <title>OpenStates from R via API: watch your elected representatives</title>
   <link href="http://recology.info//2011/06/openstates-from-r-via-api-watch-your-elected-representatives/"/>
   <updated>2011-06-10T21:19:00-07:00</updated>
   <id>http://recology.info//2011/06/openstates-from-r-via-api-watch-your-elected-representatives</id>
   <content type="html">&lt;p&gt;I am writing some functions to acquire data from the &lt;a href=&quot;http://openstates.sunlightlabs.com/&quot;&gt;OpenStates project,&lt;/a&gt; via &lt;a href=&quot;http://openstates.sunlightlabs.com/api/&quot;&gt;their API&lt;/a&gt;. They have &lt;a href=&quot;http://groups.google.com/group/fifty-state-project&quot;&gt;a great support community&lt;/a&gt; at Google Groups as well.&lt;br /&gt;&lt;br /&gt;On its face this post is not obviously about ecology or evolution, but well, our elected representatives do, so to speak, hold our environment in a noose, ready to let the Earth hang any day.&lt;br /&gt;&lt;br /&gt;Code &lt;a href=&quot;https://SChamberlain@github.com/SChamberlain/ropstates.git&quot;&gt;I am developing is over at Github&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;Here is an example of its use in R, in this case using the Bill Search option (billsearch.R on my Github site), and in this case you do not provide your API key in the function call, but instead put it in your .Rprofile file, which is called when you open R. We are searching here for the term ‘agriculture’ in Texas (‘tx’), in the ‘upper’ chamber.&lt;br /&gt;&lt;br /&gt;&amp;lt;div style=&quot;overflow: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&amp;gt; temp &amp;lt;- billsearch&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;‘agriculture’&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/datasets/state&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;state&lt;/span&gt;&lt;/a&gt; = &lt;span style=&quot;color: blue;&quot;&gt;‘tx’&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; chamber = &lt;span style=&quot;color: blue;&quot;&gt;‘upper’&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&amp;gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;temp&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;21&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&amp;gt; temp&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;br /&gt;$title&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;“Congratulating John C. Padalino of El Paso for being appointed to the United States Department of Agriculture.”&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;$created_at&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;“2010-08-11 07:59:46”&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;$updated_at&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;“2010-09-02 03:34:39”&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;$chamber&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;“upper”&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;$state&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;“tx”&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;$session&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;“81”&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;$type&lt;br /&gt;$type&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;“resolution”&lt;/span&gt;&lt;br /&gt; &lt;br /&gt; &lt;br /&gt;$subjects&lt;br /&gt;$subjects&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;“Resolutions”&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;$subjects&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;“Other”&lt;/span&gt;&lt;br /&gt; &lt;br /&gt; &lt;br /&gt;$bill_id&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;“SR 1042”&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Apparently, the first bill (SR 2042, see $bill_id at the bottom of the list output) that came up was to congratulate John Paladino for being appointed to the USDA.&lt;br /&gt;&lt;br /&gt;The other function I have ready is getting basic metadata on a state, called statemetasearch.&lt;br /&gt;&lt;br /&gt;I plan to develop more functions for all the possible API calls to the OpenStates project.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Just turned on 'mobile template' for this blog, let me know if it works</title>
   <link href="http://recology.info//2011/06/just-turned-on-mobile-template-for-this-blog-let-me-know-if-it-works/"/>
   <updated>2011-06-09T10:50:00-07:00</updated>
   <id>http://recology.info//2011/06/just-turned-on-mobile-template-for-this-blog-let-me-know-if-it-works</id>
   <content type="html">&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://f.cl.ly/items/0V2S0T1k3X3G2p0W2p1e/Screen%20shot%202011-06-09%20at%2012.49.15%20PM.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;161&quot; src=&quot;http://f.cl.ly/items/0V2S0T1k3X3G2p0W2p1e/Screen%20shot%202011-06-09%20at%2012.49.15%20PM.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>> 10,000 visits to Recology!!!!</title>
   <link href="http://recology.info//2011/06/10000-visits-to-my-recology/"/>
   <updated>2011-06-09T10:09:00-07:00</updated>
   <id>http://recology.info//2011/06/10000-visits-to-my-recology</id>
   <content type="html">&lt;p&gt;Thanks so much everyone for stopping by!&lt;br /&gt;&lt;br /&gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;http://f.cl.ly/items/3m2g3b3r2o1b1k1b3x27/Screen%20shot%202011-06-09%20at%2012.07.33%20PM.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;337&quot; src=&quot;http://f.cl.ly/items/3m2g3b3r2o1b1k1b3x27/Screen%20shot%202011-06-09%20at%2012.07.33%20PM.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>How to fit power laws</title>
   <link href="http://recology.info//2011/06/how-to-fit-power-laws/"/>
   <updated>2011-06-07T13:24:00-07:00</updated>
   <id>http://recology.info//2011/06/how-to-fit-power-laws</id>
   <content type="html">&lt;p&gt;A new paper out in Ecology by Xiao and colleagues (in press, &lt;a href=&quot;http://www.esajournals.org/doi/abs/10.1890/11-0538.1&quot;&gt;here&lt;/a&gt;) compares the use of log-transformation to non-linear regression for analyzing power-laws.&lt;br /&gt;&lt;br /&gt;They suggest that the error distribution should determine which method performs better. When your errors are additive, homoscedastic, and normally distributed, they propose using non-linear regression. When errors are multiplicative, heteroscedastic, and lognormally distributed, they suggest using linear regression on log-transformed data. The assumptions about these two methods are different, so cannot be correct for a single dataset.&lt;br /&gt;&lt;br /&gt;They will provide their R code for their methods once they are up on Ecological Archives (they weren’t up there by the time of this post).&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>searching ITIS and fetching Phylomatic trees</title>
   <link href="http://recology.info//2011/06/searching-itis-and-fetching-phylomatic-trees/"/>
   <updated>2011-06-03T15:35:00-07:00</updated>
   <id>http://recology.info//2011/06/searching-itis-and-fetching-phylomatic-trees</id>
   <content type="html">&lt;p&gt;I am writing a set of functions to search ITIS for taxonomic information (more databases to come) and functions to fetch plant phylogenetic trees from Phylomatic. &lt;a href=&quot;https://github.com/sckott/taxize_&quot;&gt;Code at github&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;Also, see the examples in the demos folder on the Github site above.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;script src=&quot;https://gist.github.com/1007288.js?file=taxize_example.R&quot;&gt;&lt;/script&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;http://1.bp.blogspot.com/-rcw5OIf3Hak/Telhj896L0I/AAAAAAAAEh4/p6GhpNRW6IA/s1600/examplephylogenyplot.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;http://1.bp.blogspot.com/-rcw5OIf3Hak/Telhj896L0I/AAAAAAAAEh4/p6GhpNRW6IA/s400/examplephylogenyplot.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>phylogenetic signal simulations</title>
   <link href="http://recology.info//2011/05/phylogenetic-signal-simulations/"/>
   <updated>2011-05-18T06:13:00-07:00</updated>
   <id>http://recology.info//2011/05/phylogenetic-signal-simulations</id>
   <content type="html">&lt;p&gt;I did a little simulation to examine how K and lambda vary in response to tree size (and how they compare to each other on the same simulated trees). I use Liam Revell’s functions fastBM to generate traits, and phylosig to measure phylogenetic signal.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Two observations:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;First, it seems that lambda is more sensitive than K to tree size, but then lambda levels out at about 40 species, whereas K continues to vary around a mean of 1.&lt;/li&gt;
  &lt;li&gt;Second, K is more variable than lambda at all levels of tree size (compare standard error bars).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Does this make sense to those smart folks out there?
&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/977999.js?file=phylogeneticsignal_sim.R&quot;&gt;&lt;/script&gt;
&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://4.bp.blogspot.com/-hY0LQNsBzWc/TdNOJFMZzkI/AAAAAAAAEcg/SYeSCgUfyOY/s400/physig_sim.jpeg&quot; /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>A simple function for plotting phylogenies in ggplot2</title>
   <link href="http://recology.info//2011/05/simple-function-for-plotting/"/>
   <updated>2011-05-17T12:37:00-07:00</updated>
   <id>http://recology.info//2011/05/simple-function-for-plotting</id>
   <content type="html">&lt;p&gt;UPDATE: Greg jordan has a much more elegant way of plotting trees with ggplot2. See his links in the comments below.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;I wrote a simple function for plotting a phylogeny in ggplot2. However, it only handles a 3 species tree right now, as I haven’t figured out how to generalize the approach to N species.&lt;br /&gt;&lt;br /&gt;Any ideas on how to improve this?&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;script src=&quot;https://gist.github.com/977207.js?file=ggtree_v1.R&quot;&gt;&lt;/script&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>plyr's idata.frame VS. data.frame</title>
   <link href="http://recology.info//2011/05/plyrs-idataframe-vs-dataframe/"/>
   <updated>2011-05-13T13:16:00-07:00</updated>
   <id>http://recology.info//2011/05/plyrs-idataframe-vs-dataframe</id>
   <content type="html">&lt;hr /&gt;
&lt;p&gt;I had seen the function idata.frame in plyr before, but not really tested it. From the plyr documentation:&lt;/p&gt;

&lt;blockquote&gt;
  &lt;p&gt;&lt;em&gt;“An immutable data frame works like an ordinary data frame, except that when you subset it, it returns a reference to the original data frame, not a a copy. This makes subsetting substantially faster and has a big impact when you are working with large datasets with many groups.”&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;For example, although baseball is a data.frame, its immutable counterpart is a reference to it:&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;idata.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;baseball&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;environment&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x1022c74e8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;attr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(,&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;class&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;idf&quot;&lt;/span&gt;         &lt;span class=&quot;s2&quot;&gt;&quot;environment&quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;Here are a few comparisons of operations on normal data frames and immutable data frames. Immutable data frames don’t work with the doBy package, but do work with aggregate in base functions.  Overall, the speed gains using idata.frame are quite impressive - I will use it more often for sure.&lt;/p&gt;

&lt;p&gt;Here’s the comparisons of idata.frames and data.frames:&lt;/p&gt;

&lt;hr /&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# load packages
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plyr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;reshape2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Make immutable data frame
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;baseball_i&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;idata.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;baseball&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;example-1---idataframe-more-than-twice-as-fast&quot;&gt;Example 1 - idata.frame more than twice as fast&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ddply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;baseball&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;year&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;summarise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mean&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rbi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;   user  system elapsed 
  8.509   0.266   8.798 &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ddply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;baseball_i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;year&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;summarise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mean&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rbi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;   user  system elapsed 
  7.233   0.025   7.334 &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;example-2---bummer-this-does-not-work-with-idataframes&quot;&gt;Example 2 - Bummer, this does not work with idata.frame’s&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;colwise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is.numeric&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;baseball&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;works&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;  year stint   g  ab   r   h X2b X3b hr rbi sb cs  bb so ibb hbp sh sf
1 2007     4 165 705 177 257  64  28 73  NA NA NA 232 NA  NA  NA NA NA
  gidp
1   NA&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;colwise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;is.numeric&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;baseball_i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;err&quot;&gt;#&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;doesn&lt;/span&gt;&lt;span class=&quot;err&quot;&gt;&#39;&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;t&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;work&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Error: is.data.frame(df) is not TRUE&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;example-3---idataframe-twice-as-fast&quot;&gt;Example 3 - idata.frame twice as fast&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;baseball&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;baseball&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;year&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;1884&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;   user  system elapsed 
  1.329   0.035   1.378 &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;baseball_i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;baseball_i&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;year&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;1884&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;   user  system elapsed 
  0.674   0.015   0.689 &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;example-4---idataframe-faster&quot;&gt;Example 4 - idata.frame faster&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;melt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;baseball&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;   user  system elapsed 
  7.129   0.506   7.691 &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;melt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;baseball_i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;   user  system elapsed 
  0.852   0.162   1.015 &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;and-you-can-go-back-to-a-data-frame-by&quot;&gt;And you can go back to a data frame by&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;baseball_i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;str&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;d&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&#39;data.frame&#39;: 21699 obs. of  22 variables:
 $ id   : chr  &quot;ansonca01&quot; &quot;forceda01&quot; &quot;mathebo01&quot; &quot;startjo01&quot; ...
 $ year : int  1871 1871 1871 1871 1871 1871 1871 1872 1872 1872 ...
 $ stint: int  1 1 1 1 1 1 1 1 1 1 ...
 $ team : chr  &quot;RC1&quot; &quot;WS3&quot; &quot;FW1&quot; &quot;NY2&quot; ...
 $ lg   : chr  &quot;&quot; &quot;&quot; &quot;&quot; &quot;&quot; ...
 $ g    : int  25 32 19 33 29 29 29 46 37 25 ...
 $ ab   : int  120 162 89 161 128 146 145 217 174 130 ...
 $ r    : int  29 45 15 35 35 40 36 60 26 40 ...
 $ h    : int  39 45 24 58 45 47 37 90 46 53 ...
 $ X2b  : int  11 9 3 5 3 6 5 10 3 11 ...
 $ X3b  : int  3 4 1 1 7 5 7 7 0 0 ...
 $ hr   : int  0 0 0 1 3 1 2 0 0 0 ...
 $ rbi  : int  16 29 10 34 23 21 23 50 15 16 ...
 $ sb   : int  6 8 2 4 3 2 2 6 0 2 ...
 $ cs   : int  2 0 1 2 1 2 2 6 1 2 ...
 $ bb   : int  2 4 2 3 1 4 9 16 1 1 ...
 $ so   : int  1 0 0 0 0 1 1 3 1 0 ...
 $ ibb  : int  NA NA NA NA NA NA NA NA NA NA ...
 $ hbp  : int  NA NA NA NA NA NA NA NA NA NA ...
 $ sh   : int  NA NA NA NA NA NA NA NA NA NA ...
 $ sf   : int  NA NA NA NA NA NA NA NA NA NA ...
 $ gidp : int  NA NA NA NA NA NA NA NA NA NA ...&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;idataframe-doesnt-work-with-the-doby-package&quot;&gt;idata.frame doesn’t work with the doBy package&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;doBy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;summaryBy&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rbi&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;year&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;baseball_i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;FUN&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;mean&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;na.rm&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Error: cannot coerce type &#39;environment&#39; to vector of type &#39;any&#39;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;h3 id=&quot;but-idataframe-works-with-aggregate-in-base-but-with-minimal-speed-gains-and-aggregate-is-faster-than-ddply&quot;&gt;But idata.frame works with aggregate in base (but with minimal speed gains) and aggregate is faster than ddply&lt;/h3&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aggregate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rbi&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;year&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;baseball&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mean&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;   user  system elapsed 
  4.998   0.346   5.373 &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aggregate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rbi&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;year&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;baseball_i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mean&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;   user  system elapsed 
  4.745   0.283   5.045 &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ddply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;baseball_i&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;year&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;summarise&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;mean&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rbi&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;   user  system elapsed 
 13.293   0.042  13.428 &lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

</content>
 </entry>
 
 <entry>
   <title>google reader</title>
   <link href="http://recology.info//2011/05/google-reader/"/>
   <updated>2011-05-12T11:10:00-07:00</updated>
   <id>http://recology.info//2011/05/google-reader</id>
   <content type="html">&lt;p&gt;I just realized that the gists code blocks don’t show up in Google Reader, so you have to click the link to my blog to see the gists. Apologies for that!&lt;br /&gt;&lt;br /&gt;-S&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Comparison of functions for comparative phylogenetics</title>
   <link href="http://recology.info//2011/05/comparison-of-functions-for-comparative-phylogenetics/"/>
   <updated>2011-05-11T08:08:00-07:00</updated>
   <id>http://recology.info//2011/05/comparison-of-functions-for-comparative-phylogenetics</id>
   <content type="html">&lt;p&gt;With all the packages (and beta stage groups of functions) for comparative phylogenetics in R (tested here: picante, geiger, ape, motmot, Liam Revell’s functions), I was simply interested in which functions to use in cases where multiple functions exist to do the same thing. I only show default settings, so perhaps these functions would differ under different parameter settings.  [I am using a Mac 2.4 GHz i5, 4GB RAM]&lt;br /&gt;&lt;br /&gt;Get motmot here: &lt;a href=&quot;https://r-forge.r-project.org/R/?group_id=782&quot;&gt;https://r-forge.r-project.org/R/?group_id=782&lt;/a&gt;&lt;br /&gt;Get Liam Revell’s functions here: &lt;a href=&quot;http://anolis.oeb.harvard.edu/~liam/R-phylogenetics/&quot;&gt;http://anolis.oeb.harvard.edu/~liam/R-phylogenetics/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/3600585.js?file=comparfxn.r&quot;&gt;&lt;/script&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;It’s hard to pick an overall winner because not all functions are available in all packages, but there are definitely some functions that are faster than others.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>RHIPE package in R for interfacing between Hadoop and R</title>
   <link href="http://recology.info//2011/05/rhipe-package-in-r-for-interfacing-between-hadoop-and-r/"/>
   <updated>2011-05-04T17:11:00-07:00</updated>
   <id>http://recology.info//2011/05/rhipe-package-in-r-for-interfacing-between-hadoop-and-r</id>
   <content type="html">&lt;div&gt;&lt;strong&gt;&lt;a href=&quot;http://www.lecturemaker.com/2011/02/rhipe/#video&quot; title=&quot;Click link to go to the video page&quot;&gt;RHIPE: An Interface Between Hadoop and R&lt;/a&gt;&lt;/strong&gt;&lt;br /&gt;Presented by Saptarshi Guha&lt;/div&gt;
&lt;p&gt;&lt;a href=&quot;http://www.lecturemaker.com/2011/02/rhipe/#video&quot;&gt;&lt;img alt=&quot;Video Link&quot; border=&quot;0&quot; height=&quot;169&quot; src=&quot;http://www.lecturemaker.com/lectures/RMeetUp2010/RHIPE_Lecture.jpg&quot; title=&quot;Click image to go to the video page&quot; width=&quot;300&quot; /&gt;&lt;/a&gt;          &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;And &lt;a href=&quot;http://blog.piccolboni.info/2011/04/looking-for-map-reduce-language.html&quot;&gt;this review&lt;/a&gt; of methods for interfacing with Hadoop suggests R’s RHIPE is quite nice.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Treebase trees from R</title>
   <link href="http://recology.info//2011/05/treebase-trees-from-r/"/>
   <updated>2011-05-03T08:00:00-07:00</updated>
   <id>http://recology.info//2011/05/treebase-trees-from-r</id>
   <content type="html">&lt;p&gt;UPDATE: See Carl Boettiger’s functions/package at Github for searching Treebase &lt;a href=&quot;https://github.com/ropensci/treeBASE&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Treebase is a great resource for phylogenetic trees, and has a nice interface for searching for certain types of trees. However, if you want to simply download a lot of trees for analyses (like that in &lt;a href=&quot;http://biology.mcgill.ca/faculty/davies/pdfs/Davies_etal_Evolution_2011.pdf&quot;&gt;Davies et al.&lt;/a&gt;), then you want to be able to access trees in bulk (I believe Treebase folks are working on an API though). I wrote some simple code for extracting trees from &lt;a href=&quot;http://treebase.org/&quot;&gt;Treebase.org&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;It reads an xml file of (in this case consensus) URL’s for each tree, parses the xml, makes a vector of URL’s, reads the nexus files with error checking, remove trees that gave errors, then a simple plot looking at metrics of the trees.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Is there an easier way to do this?&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/953468.js?file=treebase_code.R&quot;&gt;&lt;/script&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://2.bp.blogspot.com/-AaMexPVCreo/TcAW171ZBaI/AAAAAAAAEbc/bDafe7YgGcw/s320/sampetreebaseplot.png&quot; /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Processing nested lists</title>
   <link href="http://recology.info//2011/04/processing-nested-lists/"/>
   <updated>2011-04-28T15:41:00-07:00</updated>
   <id>http://recology.info//2011/04/processing-nested-lists</id>
   <content type="html">&lt;p&gt;So perhaps you have all figured this out already, but I was excited to figure out how to finally neatly get all the data frames, lists, vectors, etc. out of a nested list. It is as easy as nesting calls to the apply family of functions, in the case below, using plyr’s apply like functions. Take this example:&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;div style=&quot;overflow: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot;&amp;gt;&lt;span style=&quot;color: #666666; font-family: monospace; font-style: italic;&quot;&gt;# Nested lists code, an example&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: monospace; font-style: italic;&quot;&gt;# Make a nested list&lt;/span&gt;&lt;br /&gt;mylist &lt;span style=&quot;font-family: monospace;&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/list&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;list&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;mylist_ &lt;span style=&quot;font-family: monospace;&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/list&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;list&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: black; font-family: monospace; font-weight: bold;&quot;&gt;for&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;(&lt;/span&gt;i &lt;span style=&quot;color: black; font-family: monospace; font-weight: bold;&quot;&gt;in&lt;/span&gt; &lt;span style=&quot;color: #cc66cc; font-family: monospace;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;font-family: monospace;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #cc66cc; font-family: monospace;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;{&lt;/span&gt;&lt;br /&gt; &lt;span style=&quot;color: black; font-family: monospace; font-weight: bold;&quot;&gt;for&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;(&lt;/span&gt;j &lt;span style=&quot;color: black; font-family: monospace; font-weight: bold;&quot;&gt;in&lt;/span&gt; &lt;span style=&quot;color: #cc66cc; font-family: monospace;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;font-family: monospace;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #cc66cc; font-family: monospace;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;{&lt;/span&gt;&lt;br /&gt;  mylist&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;[&lt;/span&gt;j&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;font-family: monospace;&quot;&gt;&amp;lt;-&lt;/span&gt; i&lt;span style=&quot;font-family: monospace;&quot;&gt;*&lt;/span&gt;j&lt;br /&gt; &lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;}&lt;/span&gt;&lt;br /&gt;mylist_&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;[&lt;/span&gt;i&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;font-family: monospace;&quot;&gt;&amp;lt;-&lt;/span&gt; mylist&lt;br /&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;}&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: monospace; font-style: italic;&quot;&gt;# return values from first part of list&lt;/span&gt;&lt;br /&gt;laply&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;(&lt;/span&gt;mylist_&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc; font-family: monospace;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933; font-family: monospace;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/identity&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;identity&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;[1] 1 2 3 4 5&amp;lt;/pre&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot;&amp;gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: monospace; font-style: italic;&quot;&gt;# return all values&lt;/span&gt;&lt;br /&gt;laply&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;(&lt;/span&gt;mylist_&lt;span style=&quot;color: #339933; font-family: monospace;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/function&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;)&lt;/span&gt; laply&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #339933; font-family: monospace;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/identity&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;identity&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;     1  2  3  4  5&lt;br /&gt;[1,] 1  2  3  4  5&lt;br /&gt;[2,] 2  4  6  8 10&lt;br /&gt;[3,] 3  6  9 12 15&lt;br /&gt;[4,] 4  8 12 16 20&lt;br /&gt;[5,] 5 10 15 20 25&amp;lt;/pre&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# perform some function, in this case sqrt of each value&lt;/span&gt;&lt;br /&gt;laply&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;mylist_&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/function&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; laply&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/function&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/sqrt&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;sqrt&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot;&amp;gt;&lt;span style=&quot;color: #009900;&quot;&gt;  &lt;/span&gt;&lt;br /&gt;        1        2        3        4        5&lt;br /&gt;[1,] 1.000000 1.414214 1.732051 2.000000 2.236068&lt;br /&gt;[2,] 1.414214 2.000000 2.449490 2.828427 3.162278&lt;br /&gt;[3,] 1.732051 2.449490 3.000000 3.464102 3.872983&lt;br /&gt;[4,] 2.000000 2.828427 3.464102 4.000000 4.472136&lt;br /&gt;[5,] 2.236068 3.162278 3.872983 4.472136 5.000000&lt;br /&gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&lt;br /&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Running Phylip's contrast application for trait pairs from R</title>
   <link href="http://recology.info//2011/04/running-phylip-s-contrast-application-for-trait-pairs-from-r/"/>
   <updated>2011-04-26T05:40:00-07:00</updated>
   <id>http://recology.info//2011/04/running-phylip-s-contrast-application-for-trait-pairs-from-r</id>
   <content type="html">&lt;p&gt;Here is some code to run Phylip’s contrast application from R and get the output within R to easily manipulate yourself. Importantly, the code is written specifically for trait pairs only as the regular expression work in the code specifically grabs data from contast results when only two traits are input. You could easily change the code to do N traits. Note that the p-value calculated for the chi-square statistic is not output from contrast, but is calculated within the function ‘PhylipWithinSpContr’. In the code below there are two functions that make a lot of busy work easier: ‘WritePhylip’ and ‘PhylipWithinSpContr’. The first function is nice because the formatting required for data input to Phylip programs is so, well, awkward  - and this function does it for you. The second function runs contrast and retrieves the output data. The example data set I produce in the code below has multiple individuals per species, so that contrasts are calculated taking into account within species variation. Get Phylip’s contrast documentation &lt;a href=&quot;http://evolution.genetics.washington.edu/phylip/doc/contrast.html&quot;&gt;here&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;Note that the data input format allows only 10 characters for the species name, so I suggest if your species names are longer than 10 characters use the function abbreviate, for example, to shorten all names to no longer than 10 characters. Also, within the function WritePhylip I concatenate species names and their number of individuals per species leaving plenty of space.&lt;br /&gt;&lt;br /&gt;Also, mess around with the options in the “system” call to get what you want. For example, I used “R”, “W” and “Y”, meaning replace old outfile (R), then turn on within species analyses (W), then accept all options (Y). E..g, if you don’t have an old outfile, then you obviously don’t need to replace the old file with the “R” command.&lt;br /&gt;&lt;br /&gt;(p.s. I have not tried this on a windows machine).&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;script src=&quot;https://gist.github.com/942176.js?file=phylip_fromR.R&quot;&gt;&lt;/script&gt;&lt;br /&gt;&lt;br /&gt;Here is example output:&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Monaco; font-size: 12px; line-height: 17px; white-space: pre-wrap;&quot;&gt;&lt;/span&gt;&lt;br /&gt;&amp;lt;pre class=&quot;G1dpdwhmFL&quot; style=&quot;border-bottom-style: none; border-color: initial; border-left-style: none; border-right-style: none; border-top-style: none; border-width: initial; font-family: Monaco; font-size: 9pt !important; line-height: 1.45; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; outline-color: initial; outline-style: none; outline-width: initial; white-space: pre-wrap !important;&quot; tabindex=&quot;0&quot;&amp;gt;&lt;span class=&quot;G1dpdwhmIL  ace_keyword&quot; style=&quot;white-space: pre;&quot;&gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;G1dpdwhmMK  ace_keyword&quot;&gt;datout&lt;br /&gt;&lt;/span&gt;               names2   dat…1.    dat…2.&lt;br /&gt;1      VarAIn_VarAest   0.000110   -0.000017&lt;br /&gt;2      VarAIn_VarAest  -0.000017    0.000155&lt;br /&gt;3      VarAIn_VarEest   0.790783   -0.063097&lt;br /&gt;4      VarAIn_VarEest  -0.063097    0.981216&lt;br /&gt;5      VarAIn_VarAreg   1.000000   -0.107200&lt;br /&gt;6      VarAIn_VarAreg  -0.151800    1.000000&lt;br /&gt;7     VarAIn_VarAcorr   1.000000   -0.127600&lt;br /&gt;8     VarAIn_VarAcorr  -0.127600    1.000000&lt;br /&gt;9      VarAIn_VarEreg   1.000000   -0.064300&lt;br /&gt;10     VarAIn_VarEreg  -0.079800    1.000000&lt;br /&gt;11    VarAIn_VarEcorr   1.000000   -0.071600&lt;br /&gt;12    VarAIn_VarEcorr  -0.071600    1.000000&lt;br /&gt;13    VarAOut_VarEest   0.790734   -0.063104&lt;br /&gt;14    VarAOut_VarEest  -0.063104    0.981169&lt;br /&gt;15    VarAOut_VarEreg   1.000000   -0.064300&lt;br /&gt;16    VarAOut_VarEreg  -0.079800    1.000000&lt;br /&gt;17   VarAOut_VarEcorr   1.000000   -0.071600&lt;br /&gt;18   VarAOut_VarEcorr  -0.071600    1.000000&lt;br /&gt;19    logL_withvar_df -68.779770    6.000000&lt;br /&gt;20 logL_withoutvar_df -68.771450    3.000000&lt;br /&gt;21           chisq_df  -0.016640    3.000000&lt;br /&gt;22            chisq_p   1.000000 -999.000000&amp;lt;/pre&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Phylometa from R: Randomization via Tip Shuffle</title>
   <link href="http://recology.info//2011/04/phylometa-from-r-randomization-via-tip-shuffle/"/>
   <updated>2011-04-16T11:44:00-07:00</updated>
   <id>http://recology.info//2011/04/phylometa-from-r-randomization-via-tip-shuffle</id>
   <content type="html">&lt;p&gt;—UPDATE: I am now using code formatting from gist.github, so I replaced the old prettyR code (sorry guys). The github way is much easier and prettier. I hope readers like the change.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;a href=&quot;http://r-ecology.blogspot.com/2011/04/phylometa-from-r-udpate.html&quot;&gt;I wrote earlier&lt;/a&gt; about some code I wrote for running Phylometa (software to do phylogenetic meta-analysis) from R.&lt;br /&gt;&lt;br /&gt;I have been concerned about what exactly is the right penalty for including phylogeny in a meta-analysis. E.g.: AIC is calculated from Q in Phylometa, and Q increases with tree size.&lt;br /&gt;&lt;br /&gt;So, I wrote some code to shuffle the tips of your tree N number of times, run Phylometa, and extract just the “Phylogenetic MA” part of the output. So, we compare the observed output (without tip shuffling) to the distribution of the tip shuffled output, and we can calculate a P-value from that. The code I wrote simply extracts the pooled effect size for fixed and also random-effects models. But you could change the code to extract whatever you like for the randomization.&lt;br /&gt;&lt;br /&gt;I think the point of this code is not to estimate your pooled effects, etc., but may be an alternative way to compare traditional to phylogenetic MA where hopefully simply incorporating a tree is not penalizing the meta-analysis so much that you will always accept the traditional MA as better.&lt;br /&gt;&lt;br /&gt;Get the code &lt;a href=&quot;https://gist.github.com/925343#file_phylometa_rand_fxn_one.r&quot;&gt;here&lt;/a&gt;, and also below. Get the example &lt;a href=&quot;http://wp.me/PRT1F-2R&quot;&gt;tree file&lt;/a&gt; and &lt;a href=&quot;http://wp.me/PRT1F-2S&quot;&gt;data file&lt;/a&gt;, named “phylogeny.txt” and “metadata_2g.txt”, respectively below (or use your own data!). You need the file “phylometa_fxn.r” from my website, get &lt;a href=&quot;https://gist.github.com/939970&quot;&gt;here&lt;/a&gt;, but just call it using source as seen below.&lt;br /&gt;&lt;br /&gt;&lt;script src=&quot;https://gist.github.com/925343.js?file=phylometa_rand_fxn_one.R&quot;&gt;&lt;/script&gt;&lt;br /&gt;&lt;br /&gt;As you can see, the observed values fall well within the distribution of values obtained from shuffling tips.  P-values were 0.64 and 0.68 for fixed- and random-effects MA’s, respectively. This suggests, to me at least, that the traditional (distribution of tip shuffled analyses, the histograms below) and phylogenetic (red lines) MA’s are not different. The way I would use this is as an additional analysis to the actual Phylometa output.&lt;br /&gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;http://4.bp.blogspot.com/-fpEjXUBvAw8/TanftVw49QI/AAAAAAAAEbY/z9rJKThxRMo/s1600/metadata_2g.txt.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;400&quot; src=&quot;http://4.bp.blogspot.com/-fpEjXUBvAw8/TanftVw49QI/AAAAAAAAEbY/z9rJKThxRMo/s400/metadata_2g.txt.jpeg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>RStudio Beta 2 is Out!</title>
   <link href="http://recology.info//2011/04/rstudio-beta-2-is-out/"/>
   <updated>2011-04-11T07:33:00-07:00</updated>
   <id>http://recology.info//2011/04/rstudio-beta-2-is-out-</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://blog.rstudio.org/2011/04/11/rstudio-beta2/&quot;&gt;RStudio Beta 2 (v0.93) « RStudio Blog&lt;/a&gt;&amp;lt;div&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;A new beta version of RStudio is out! &amp;lt;/div&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Adjust branch lengths with node ages: comparison of two methods</title>
   <link href="http://recology.info//2011/04/adjust-branch-lengths-with-node-ages-comparison-of-two-methods/"/>
   <updated>2011-04-10T11:02:00-07:00</updated>
   <id>http://recology.info//2011/04/adjust-branch-lengths-with-node-ages-comparison-of-two-methods</id>
   <content type="html">&lt;p&gt;Here is an approach for comparing two methods of adjusting branch lengths on trees: bladj in the program Phylocom and a fxn written by Gene Hunt at the Smithsonian.&lt;br /&gt;&lt;br /&gt;Get the code and example files (tree and node ages) &lt;a href=&quot;https://gist.github.com/938313&quot;&gt;here&lt;/a&gt;&lt;br /&gt;Get phylocom here: &lt;a href=&quot;http://www.phylodiversity.net/phylocom/&quot;&gt;http://www.phylodiversity.net/phylocom/&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;Gene Hunt’s method has many options you can mess with, including setting tip ages (not available in bladj), setting node ages, and minimum branch length imposed. You will notice that Gene’s method may be not the appropriate if you only have extant taxa.&lt;br /&gt;&lt;br /&gt;The function AdjBrLens uses as input a newick tree file and a text file of node ages, and uses functions you can simply run by “source” the R file bladjing_twomethods.R file from &lt;a href=&quot;https://gist.github.com/938313&quot;&gt;here&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;Note that blad does not like numbers for node names, so you have to put a character in front of a number of just character names for nodes.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;div style=&quot;overflow: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# This is where the work happens… &lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Directory below needs to have at least three items:&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#  1. phylocom executable for windows or mac&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#  2. tree newick file&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#  3. node ages file as required by phylocom, see their manual&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Output: trees_out is a list of three trees, the original, bladj, and Gene Hunt’s method&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Also, within the function all three trees are written to file as PDFs&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/setwd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;setwd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“/Mac/R_stuff/Blog_etc/Bladjing”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# set working directory&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/source&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;source&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“bladjing_twomethods.R”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# run functions from source file&lt;/span&gt;&lt;br /&gt;trees_out &amp;lt;- AdjBrLens&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“tree.txt”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;“nodeages.txt”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# plot trees of three methods together, &lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# with nodes with age estimates labeled&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/grDevices/jpeg&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;jpeg&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“threeplots.jpeg”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; quality=&lt;span style=&quot;color: #cc66cc;&quot;&gt;100&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/layout&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;layout&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/matrix&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;matrix&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/plot&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;plot&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trees_out&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;nodelabels&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trees_out&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;$node.label&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; cex = &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.6&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/title&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;title&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“original tree”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/plot&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;plot&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trees_out&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;nodelabels&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trees_out&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;$node.label&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; cex = &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.6&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/title&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;title&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“bladj method”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/plot&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;plot&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trees_out&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;nodelabels&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trees_out&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;$node.label&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; cex = &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.6&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/title&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;title&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“gene hunt method, scalePhylo”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/grDevices/dev.off&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;dev.off&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;It is sort of hard to see the differences in the branch length changes here, but the individual output trees will reveal the differences better.&lt;br /&gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;http://2.bp.blogspot.com/-tLK1y12TYlI/TaHwayCs3GI/AAAAAAAAEbU/rPsFYqSEDuI/s1600/threeplots.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; src=&quot;http://2.bp.blogspot.com/-tLK1y12TYlI/TaHwayCs3GI/AAAAAAAAEbU/rPsFYqSEDuI/s1600/threeplots.jpeg&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Phylometa from R - UDPATE</title>
   <link href="http://recology.info//2011/04/phylometa-from-r-udpate/"/>
   <updated>2011-04-01T14:18:00-07:00</updated>
   <id>http://recology.info//2011/04/phylometa-from-r-udpate</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://r-ecology.blogspot.com/2010/12/phylogenetic-meta-analysis-in-r-using.html&quot;&gt;A while back I posted some messy code to run Phylometa from R&lt;/a&gt;, especially useful for processing the output data from Phylometa which is not easily done. The code is still quite messy, but it should work now. I have run the code with tens of different data sets and phylogenies so it should work. &lt;br /&gt;&amp;lt;div&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;I fixed errors when parentheses came up against numbers in the output, and other things. You can use the code for up to 4 levels of your grouping variable. In addition, there are some lines of code to plot the effect sizes with confidence intervals, comparing random and fixed effects models and phylogenetic and traditional models. &amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;Get the code at my website:&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;-&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: #333333; font-family: Georgia, &#39;Bitstream Charter&#39;, serif; font-size: 14px; line-height: 23px;&quot;&gt;&lt;a href=&quot;https://gist.github.com/939970&quot; style=&quot;border-bottom-width: 0px; border-color: initial; border-left-width: 0px; border-right-width: 0px; border-style: initial; border-top-width: 0px; color: #1c9bdc; font-style: inherit; font-weight: inherit; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; outline-color: initial; outline-style: initial; outline-width: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px; text-decoration: underline; vertical-align: baseline;&quot; target=&quot;_blank&quot;&gt;phylometa_fxn.R&lt;/a&gt;&lt;/span&gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;-&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: #333333; font-family: Georgia, &#39;Bitstream Charter&#39;, serif; font-size: 14px; line-height: 23px;&quot;&gt;&lt;a href=&quot;https://gist.github.com/939971&quot; style=&quot;border-bottom-width: 0px; border-color: initial; border-left-width: 0px; border-right-width: 0px; border-style: initial; border-top-width: 0px; color: #1c9bdc; font-style: inherit; font-weight: inherit; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; outline-color: initial; outline-style: initial; outline-width: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px; text-decoration: underline; vertical-align: baseline;&quot; target=&quot;_blank&quot;&gt;phylometa_inR_run.R&lt;/a&gt;&lt;/span&gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;- Use the first file to do the work, calling the second file using source().&lt;br /&gt;- This new code works with Marc’s new version of Phylometa, so please update: http://lajeunesse.myweb.usf.edu/publications.html&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;Again, please let me know if it doesn’t work, if it’s worthless, what changes could make it better.&lt;br /&gt;&lt;br /&gt;Some notes on tree formatting for Phylometa. &lt;br /&gt;1. Trees cannot have node labels - remove them (e.g., tree$node.label &amp;lt; NULL).&lt;br /&gt;2. Trees cannot have zero length branches. This may seem like a non-problem, but it might be for example if you have resolved polytomies and zero length branches are added to resolve the polytomy.&lt;br /&gt;3. I think you cannot have a branch length on the root branch.&lt;br /&gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Bio-ORACLE</title>
   <link href="http://recology.info//2011/03/bio-oracle/"/>
   <updated>2011-03-25T06:38:00-07:00</updated>
   <id>http://recology.info//2011/03/bio-oracle</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.oracle.ugent.be/index.html&quot;&gt;Bio-ORACLE&lt;/a&gt;&amp;lt;div&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;A new dataset available of geophysical, biotic and climate data. Should be fun to play with in R. &amp;lt;/div&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>basic ggplot2 network graphs ver2</title>
   <link href="http://recology.info//2011/03/basic-ggplot2-network-graphs-ver2/"/>
   <updated>2011-03-23T12:09:00-07:00</updated>
   <id>http://recology.info//2011/03/basic-ggplot2-network-graphs-ver2</id>
   <content type="html">&lt;hr /&gt;

&lt;p&gt;I posted last week a simple function to plot networks using ggplot2 package. Here is version 2. I still need to work on figuring out efficient vertex placement.&lt;/p&gt;

&lt;p&gt;Changes in version 2:&lt;/p&gt;

&lt;ul&gt;
  &lt;li&gt;You have one of three options: use an igraph object, a matrix, or a dataframe (matrices will be converted to data frames within the function)&lt;/li&gt;
  &lt;li&gt;If you have data on food webs similar to that provided in the Takapoto dataset provided in the NetIndices package, you can set trophic = “TRUE”, and gggraph will use the function TrophInd to assign trophic levels (the y axis value) to each vertex/node. You have to provide additional information along with this option such as what the imports and exports are, see NetIndices documentation.&lt;/li&gt;
  &lt;li&gt;I added some simple error checking.&lt;/li&gt;
  &lt;li&gt;if using method=”df” and trophic=”FALSE”, x axis placement of vertices is now done using the function degreex (see inside the fxn), which sorts vertices according to their degree (so the least connected species are on the left of the graph; note that species with the same degree are not stacked on the y-axis because e.g., two vertices of degree=5 would get x=3 then x=4).&lt;/li&gt;
&lt;/ul&gt;

&lt;hr /&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# ggraph Version 2
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;bipartite&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;igraph&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# gggraph, version 3 g = an igraph graph object, a matrix, or data frame
# vplace = type of vertex placement assignment, one of rnorm, runif, etc.
# method = one of &#39;df&#39; for data frame, &#39;mat&#39; for matrix or &#39;igraph&#39; for an
# igraph graph object trophic = TRUE or FALSE for using Netindices
# function TrophInd to determine trophic level (y value in graph)
# trophinames = columns in matrix or dataframe to use for calculating
# trophic level import = named or refereced by col# columns of matrix or
# dataframe to use for import argument of TrophInd export = named or
# refereced by col# columns of matrix or dataframe to use for export
# argument of TrophInd dead = named or refereced by col# columns of matrix
# or dataframe to use for dead argument of TrophInd
&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;gggraph&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vplace&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rnorm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;trophic&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;FALSE&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;trophinames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;export&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;degreex&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;degreecol&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;degreerow&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;degrees&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;degreecol&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;degreerow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;degrees&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;seq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;degrees&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rownames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;df&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# require igraph
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;igraph&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;must first install &#39;igraph&#39; package.&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# require ggplot2
&lt;/span&gt;    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;ggplot2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;must first install &#39;ggplot2&#39; package.&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    
    &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;method&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;df&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;matrix&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;g&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;data.frame&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
            &lt;span class=&quot;n&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;object must be of class &#39;data.frame.&#39;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trophic&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;FALSE&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;# data preparation from adjacency matrix
&lt;/span&gt;            &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expand.grid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dimnames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.vector&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;as.matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is.na&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sort.list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cols&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;freqint&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; 
                &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            
            &lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cols&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; 
                &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;freqint&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;g_df_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;melt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
            
            &lt;span class=&quot;n&quot;&gt;xy_s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;degreex&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rnorm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g_df_&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;g_df_2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g_df_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xy_s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trophic&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;TRUE&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;# require NetIndices
&lt;/span&gt;            &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NetIndices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; 
                &lt;span class=&quot;n&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;must first install &#39;NetIndices&#39; package.&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;# data preparation from adjacency matrix
&lt;/span&gt;            &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;expand.grid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;dimnames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trophinames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trophinames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; 
                &lt;span class=&quot;n&quot;&gt;as.vector&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;as.matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trophinames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;trophinames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])))&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;is.na&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sort.list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cols&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;freqint&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;temp&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; 
                &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            
            &lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rows&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;cols&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; 
                &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;freqint&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;g_df_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;melt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
            
            &lt;span class=&quot;n&quot;&gt;xy_s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g_df_&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rnorm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g_df_&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))),&lt;/span&gt; 
                &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;TrophInd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Import&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;import&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Export&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;export&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            &lt;span class=&quot;n&quot;&gt;g_df_2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g_df_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xy_s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# plotting
&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g_df_2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geom_point&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geom_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;freqint&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
            &lt;span class=&quot;n&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geom_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hjust&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
            &lt;span class=&quot;n&quot;&gt;theme_bw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;panel.grid.major&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;panel.grid.minor&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
            &lt;span class=&quot;n&quot;&gt;axis.text.x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;axis.text.y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;axis.title.x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
            &lt;span class=&quot;n&quot;&gt;axis.title.y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;axis.ticks&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;panel.border&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
            &lt;span class=&quot;n&quot;&gt;legend.position&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;none&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        
        &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# return graph
&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;method&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;igraph&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;k&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;igraph&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
            &lt;span class=&quot;n&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;object must be of class &#39;igraph.&#39;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# data preparation from igraph object
&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;g_&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;get.edgelist&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g_&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;melt&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;xy_s&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vplace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))),&lt;/span&gt; 
            &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vplace&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
        &lt;span class=&quot;n&quot;&gt;g_df2&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g_df&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;xy_s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;by&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;value&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        
        &lt;span class=&quot;c1&quot;&gt;# plotting
&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ggplot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;g_df2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;y&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geom_point&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geom_line&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
            &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;group&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;linetype&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;id&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;geom_text&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;size&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;hjust&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
            &lt;span class=&quot;n&quot;&gt;aes&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;label&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;value&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_bw&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;opts&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;panel.grid.major&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
            &lt;span class=&quot;n&quot;&gt;panel.grid.minor&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;axis.text.x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;axis.text.y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
            &lt;span class=&quot;n&quot;&gt;axis.title.x&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;axis.title.y&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;axis.ticks&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
            &lt;span class=&quot;n&quot;&gt;panel.border&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;theme_blank&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;legend.position&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;none&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        
        &lt;span class=&quot;n&quot;&gt;p&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# return graph
&lt;/span&gt;    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;k&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;paste&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;do not recognize method = \&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;method&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;\&quot;;\nmethods are \&quot;df\&quot; and \&quot;igraph\&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;n&quot;&gt;sep&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Eg
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;NetIndices&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;data&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Takapoto&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;gggraph&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;Takapoto&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vplace&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rnorm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;method&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;df&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;trophic&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;TRUE&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;trophinames&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
    &lt;span class=&quot;n&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;CO2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;export&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;CO2&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Sedimentation&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;Grazing&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/gggraph1.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

&lt;figure class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;n&quot;&gt;plants&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rlnorm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;meanlog&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sdlog&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;animals&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;rlnorm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;n&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;meanlog&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;sdlog&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;plants&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;plants&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;plants&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;animals&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;animals&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;animals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;r2dtable&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;animals&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;plants&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# if errors, rerun again until no error
&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;as.data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]])&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;rownames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&quot;a&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;b&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;c&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;d&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;e&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;gggraph&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;z&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;vplace&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rnorm&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;method&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;df&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;trophic&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&quot;FALSE&quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/figure&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/gggraph2.png&quot; alt=&quot;center&quot; /&gt;&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>basic ggplot2 network graphs</title>
   <link href="http://recology.info//2011/03/basic-ggplot2-network-graphs/"/>
   <updated>2011-03-17T06:35:00-07:00</updated>
   <id>http://recology.info//2011/03/basic-ggplot2-network-graphs</id>
   <content type="html">&lt;p&gt;I have been looking around on the web and have not found anything yet related to using ggplot2 for making graphs/networks. I put together a few functions to make very simple graphs. The bipartite function especially is not ideal, as of course we only want to allow connections between unlike nodes, not all nodes. These functions do not, obviously, take full advantage of the power of ggplot2, but it’s a start.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/3601320.js?file=gggraph.r&quot;&gt;&lt;/script&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/gggraph/erdos.jpeg&quot; width=&quot;500&quot; height=&quot;500&quot; /&gt;
&lt;img src=&quot;/public/img/gggraph/barabasi.jpeg&quot; width=&quot;500&quot; height=&quot;500&quot; /&gt;
&lt;img src=&quot;/public/img/gggraph/grg.jpeg&quot; width=&quot;500&quot; height=&quot;500&quot; /&gt;
&lt;img src=&quot;/public/img/gggraph/growing.jpeg&quot; width=&quot;500&quot; height=&quot;500&quot; /&gt;
&lt;img src=&quot;/public/img/gggraph/watts.jpeg&quot; width=&quot;500&quot; height=&quot;500&quot; /&gt;
&lt;img src=&quot;/public/img/gggraph/grg-bipartite.jpeg&quot; width=&quot;500&quot; height=&quot;500&quot; /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Species abundance distributions and basketball</title>
   <link href="http://recology.info//2011/03/species-abundance-distributions-and/"/>
   <updated>2011-03-13T13:00:00-07:00</updated>
   <id>http://recology.info//2011/03/species-abundance-distributions-and</id>
   <content type="html">&lt;p&gt;A post over at the Phased blog (http://www.nasw.org/users/mslong/) highlights a recent paper in PLoS One by Robert Warren et al. Similar results were obtained in a 2007 Ecology Letters paper by Nekola and Brown, who showed that abundance distributions found in ecology are similar to those found for scientific citations, Eastern North American precipitation, among other things. A similar argument was made by Nee et al. in 1991 (in the journal PRSL-B). The author of the blog appears to agree with the outcome of the Warren et al. study.&lt;br /&gt;&lt;br /&gt;I tend to disagree.&lt;br /&gt;&lt;br /&gt;In the field of graphs/networks, many networks (social, sexual intercourse among humans, etc.) are found to have similar statistical properties to those of ecological networks (food webs, interactions among mutualists, etc.). However, just because these networks have similar statistical properties does not mean that the statistical properties of ecological networks have no biological meaning.&lt;br /&gt;&lt;br /&gt;They make the argument that the common SAD fit may be an artifact of large data sets alone. However, I don’t see any explanation of why they think large data sets is a valid explanation of SADs. Surely SAD’s are fit to varying sizes of datasets. The problem with small datasets is lack of statistical power to detect a particular pattern, but surely you can get a fit for a particular SAD to a small dataset.&lt;br /&gt;&lt;br /&gt;There are ecological mechanistic theories behind different SAD models. They argue that because very similar SADs are found in ecological and non-ecological datasets alike one option is that a universal mechanism structures ecological and non-ecological data (with the mechanism unknown in both). Why can’t the same SAD pattern be generated by different mechanisms? &lt;br /&gt;&lt;br /&gt;Are Warren et al, Nekola, and Nee right in questioning the utility of SADs? Questioning our theories and ideas only makes the theories better in the end by weeding out shortcomings, etc.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;float: left; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; padding-top: 5px;&quot;&gt;&lt;a href=&quot;http://www.researchblogging.org/&quot;&gt;&lt;img alt=&quot;ResearchBlogging.org&quot; src=&quot;http://www.researchblogging.org/public/citation_icons/rb2_large_white.png&quot; style=&quot;border: 0;&quot; /&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;Z3988&quot; title=&quot;ctx_ver=Z39.88-2004&amp;amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;amp;rft.jtitle=PLoS+ONE&amp;amp;rft_id=info%3Adoi%2F10.1371%2Fjournal.pone.0017342&amp;amp;rfr_id=info%3Asid%2Fresearchblogging.org&amp;amp;rft.atitle=Universal+Ecological+Patterns+in+College+Basketball+Communities&amp;amp;rft.issn=1932-6203&amp;amp;rft.date=2011&amp;amp;rft.volume=6&amp;amp;rft.issue=3&amp;amp;rft.spage=0&amp;amp;rft.epage=&amp;amp;rft.artnum=http%3A%2F%2Fdx.plos.org%2F10.1371%2Fjournal.pone.0017342&amp;amp;rft.au=Warren%2C+R.&amp;amp;rft.au=Skelly%2C+D.&amp;amp;rft.au=Schmitz%2C+O.&amp;amp;rft.au=Bradford%2C+M.&amp;amp;rfe_dat=bpr3.included=1;bpr3.tags=Ecology+%2F+Conservation&quot;&gt;Warren, R., Skelly, D., Schmitz, O., &amp;amp; Bradford, M. (2011). Universal Ecological Patterns in College Basketball Communities &lt;span style=&quot;font-style: italic;&quot;&gt;PLoS ONE, 6&lt;/span&gt; (3) DOI: &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pone.0017342&quot; rev=&quot;review&quot;&gt;10.1371/journal.pone.0017342&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>cloudnumbers.com</title>
   <link href="http://recology.info//2011/03/cloudnumbers-com/"/>
   <updated>2011-03-11T05:28:00-08:00</updated>
   <id>http://recology.info//2011/03/cloudnumbers-com</id>
   <content type="html">&lt;p&gt;UPDATE: I guess it still is not actually available. Bummer…&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Has anyone used cloudnumbers.com?&lt;br /&gt;&lt;br /&gt;http://www.cloudnumbers.com/&lt;br /&gt;&lt;br /&gt;They provide cloud computing, and have built in applications, including R.&lt;br /&gt;&lt;br /&gt;How well does it work? Does it increase processing speed? I guess it may at the least free up RAM and processor space on your own machine.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Five ways to visualize your pairwise comparisons</title>
   <link href="http://recology.info//2011/03/for-all-your-pairwise-comparison-needs/"/>
   <updated>2011-03-05T10:49:00-08:00</updated>
   <id>http://recology.info//2011/03/for-all-your-pairwise-comparison-needs</id>
   <content type="html">&lt;p&gt;UPDATE: &lt;i&gt;&lt;u&gt;At the bottom are two additional methods, and some additions (underlined) are added to the original 5 methods. Thanks for all the feedback...&lt;/u&gt;&lt;/i&gt;&lt;br /&gt;&lt;i&gt;&lt;u&gt;-Also, another post &lt;a href=&quot;http://www.r-statistics.com/2010/04/correlation-scatter-plot-matrix-for-ordered-categorical-data/&quot;&gt;here&lt;/a&gt; about ordered-categorical data&lt;/u&gt;&lt;/i&gt;&lt;br /&gt;&lt;i&gt;&lt;u&gt;-Also #2, a method combining splom and hexbin packages &lt;a href=&quot;http://procomun.wordpress.com/2011/03/18/splomr/&quot;&gt;here&lt;/a&gt;, for larger datasets&lt;/u&gt;&lt;/i&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;In data analysis it is often nice to look at all pairwise combinations of continuous variables in scatterplots. Up until recently, I have used the function splom in the package lattice, but ggplot2 has superior aesthetics, I think anyway.&lt;br /&gt;&lt;br /&gt;Here a few ways to accomplish the task:&lt;br /&gt;&lt;br /&gt;# load packages&lt;br /&gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&amp;gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/require&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;require&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/lattice&quot;&gt;lattice&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/require&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;require&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/ggplot2&quot;&gt;ggplot2&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;&amp;lt;/pre&amp;gt;&amp;lt;div&amp;gt;&amp;lt;div style=&quot;overflow: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/require&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;require&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/car&quot;&gt;car&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&lt;br /&gt;1) Using base graphics, function “pairs”&lt;br /&gt;&amp;lt;div style=&quot;overflow: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/pairs&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;pairs&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; pch = &lt;span style=&quot;color: #cc66cc;&quot;&gt;21&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;https://lh3.googleusercontent.com/-QrjiX4jAPxo/TXJ-Qj0mpfI/AAAAAAAAEac/DQkKhzJgl7c/s1600/pairs.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;https://lh3.googleusercontent.com/-QrjiX4jAPxo/TXJ-Qj0mpfI/AAAAAAAAEac/DQkKhzJgl7c/s400/pairs.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;2) Using lattice package, function “splom”&lt;br /&gt;&lt;br /&gt;-&lt;u&gt;Additional code to improve splom plots &lt;a href=&quot;http://www.mail-archive.com/r-help@stat.math.ethz.ch/msg94527.html&quot;&gt;here&lt;/a&gt; (and see Oscar&#39;s code below in comments)&lt;/u&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;div style=&quot;overflow: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&lt;a href=&quot;http://inside-r.org/r-doc/lattice/splom&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;splom&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;~&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;https://lh6.googleusercontent.com/-boKmTPP2s60/TXKAc4YcbCI/AAAAAAAAEak/ImCWlnGkpmc/s1600/splom.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;https://lh6.googleusercontent.com/-boKmTPP2s60/TXKAc4YcbCI/AAAAAAAAEak/ImCWlnGkpmc/s400/splom.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;3) Using package ggplot2, function “plotmatrix”&lt;br /&gt;&lt;br /&gt;&amp;lt;div style=&quot;overflow: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;plotmatrix&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;https://lh4.googleusercontent.com/-3aqCYfmVpNw/TXJ-RG6Zs8I/AAAAAAAAEag/ADZRrR8QB8g/s1600/plotmatrix.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;https://lh4.googleusercontent.com/-3aqCYfmVpNw/TXJ-RG6Zs8I/AAAAAAAAEag/ADZRrR8QB8g/s400/plotmatrix.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;4) a function called ggcorplot by Mike Lawrence at Dalhousie University&lt;br /&gt;&lt;br /&gt;-get ggcorplot function at &lt;a href=&quot;http://groups.google.com/group/ggplot2/attach/6bf632a9718dddd6/ggcorplot.R?part=2&quot;&gt;this link&lt;/a&gt;&lt;br /&gt;-&lt;u&gt;ggcorplot is also built in to Deducer (&lt;a href=&quot;http://www.deducer.org/pmwiki/pmwiki.php?n=Main.DeducerManual&quot;&gt;get here&lt;/a&gt;); see Ian&#39;s code below in the comments&lt;/u&gt;&lt;br /&gt;-&lt;u&gt;Lastly, an improved version of ggcorplot is built in to the ez package (&lt;a href=&quot;http://cran.r-project.org/web/packages/ez/index.html&quot;&gt;get here&lt;/a&gt;)&lt;/u&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;div style=&quot;overflow: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;ggcorplot&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;br /&gt;  &lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt; = &lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  var_text_size = &lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  cor_text_limits = &lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;10&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;https://lh6.googleusercontent.com/-jw2x1p68lp0/TXJ-Qs3JgwI/AAAAAAAAEaY/42UfLSleVHc/s1600/ggcorplot.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;https://lh6.googleusercontent.com/-jw2x1p68lp0/TXJ-Qs3JgwI/AAAAAAAAEaY/42UfLSleVHc/s400/ggcorplot.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;5) panel.cor function using pairs, similar to ggcorplot, but using base graphics. Not sure who wrote this function, but &lt;a href=&quot;http://addictedtor.free.fr/graphiques/graphcode.php?graph=137&quot;&gt;here&lt;/a&gt; is where I found it.&lt;br /&gt;&amp;lt;div style=&quot;overflow: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div style=&quot;overflow: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;panel.cor &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/function&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; y&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; digits=&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; prefix=&lt;span style=&quot;color: blue;&quot;&gt;””&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; cex.cor&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    usr &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/graphics/par&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;par&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“usr”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/on.exit&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;on.exit&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/par&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;par&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;usr&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;    &lt;a href=&quot;http://inside-r.org/r-doc/graphics/par&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;par&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;usr = &lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;    r &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/abs&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;abs&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/stats/cor&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;cor&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; y&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;    txt &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/format&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;format&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;r&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.123456789&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; digits=digits&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;br /&gt;    txt &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/paste&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;paste&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;prefix&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; txt&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; sep=&lt;span style=&quot;color: blue;&quot;&gt;””&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;    &lt;span style=&quot;color: black; font-weight: bold;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/missing&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;missing&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;cex.cor&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; cex &amp;lt;- &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.8&lt;/span&gt;/strwidth&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;txt&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt; &lt;br /&gt;    test &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/stats/cor.test&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;cor.test&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;    &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# borrowed from printCoefmat&lt;/span&gt;&lt;br /&gt;    Signif &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/stats/symnum&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;symnum&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;test$p.value&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/boot/corr&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;corr&lt;/span&gt;&lt;/a&gt; = &lt;span style=&quot;color: black; font-weight: bold;&quot;&gt;FALSE&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; na = &lt;span style=&quot;color: black; font-weight: bold;&quot;&gt;FALSE&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;br /&gt;                  cutpoints = &lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.001&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.01&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.05&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt;                  &lt;a href=&quot;http://inside-r.org/r-doc/graphics/symbols&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;symbols&lt;/span&gt;&lt;/a&gt; = &lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“***”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;“**”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;“*”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;”.”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;” ”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt; &lt;br /&gt;    &lt;a href=&quot;http://inside-r.org/r-doc/graphics/text&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;text&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; txt&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; cex = cex * r&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;    &lt;a href=&quot;http://inside-r.org/r-doc/graphics/text&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;text&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;.8&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;.8&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; Signif&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; cex=cex&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/col&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;col&lt;/span&gt;&lt;/a&gt;=&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;}&lt;/span&gt;&lt;br /&gt; &amp;lt;/pre&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/pairs&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;pairs&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; lower.panel=&lt;a href=&quot;http://inside-r.org/r-doc/graphics/panel.smooth&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;panel.smooth&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; upper.panel=panel.cor&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;https://lh3.googleusercontent.com/-df9_9d84Qdg/TXJ9s9OZQgI/AAAAAAAAEaU/zHwWtTQZFSw/s1600/panel.cor.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;https://lh3.googleusercontent.com/-df9_9d84Qdg/TXJ9s9OZQgI/AAAAAAAAEaU/zHwWtTQZFSw/s400/panel.cor.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;A comparison of run times…&lt;br /&gt;&lt;br /&gt;&amp;lt;div style=&quot;overflow: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&amp;gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/system.time&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system.time&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/pairs&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;pairs&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;   user  &lt;a href=&quot;http://inside-r.org/r-doc/base/system&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system&lt;/span&gt;&lt;/a&gt; elapsed &lt;br /&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.138&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.008&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.156&lt;/span&gt; &lt;br /&gt;&amp;gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/system.time&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system.time&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/lattice/splom&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;splom&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;~&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;   user  &lt;a href=&quot;http://inside-r.org/r-doc/base/system&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system&lt;/span&gt;&lt;/a&gt; elapsed &lt;br /&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.003&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.000&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.003&lt;/span&gt; &lt;br /&gt;&amp;gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/system.time&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system.time&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;plotmatrix&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;   user  &lt;a href=&quot;http://inside-r.org/r-doc/base/system&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system&lt;/span&gt;&lt;/a&gt; elapsed &lt;br /&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.052&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.000&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.052&lt;/span&gt; &lt;br /&gt;&amp;gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/system.time&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system.time&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ggcorplot&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;br /&gt;+ &lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt; = &lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  var_text_size = &lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  cor_text_limits = &lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;10&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;   user  &lt;a href=&quot;http://inside-r.org/r-doc/base/system&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system&lt;/span&gt;&lt;/a&gt; elapsed &lt;br /&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.130&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.001&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.131&lt;/span&gt; &lt;br /&gt;&amp;gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/system.time&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system.time&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/pairs&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;pairs&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; lower.panel=&lt;a href=&quot;http://inside-r.org/r-doc/graphics/panel.smooth&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;panel.smooth&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; upper.panel=panel.cor&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;   user  &lt;a href=&quot;http://inside-r.org/r-doc/base/system&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system&lt;/span&gt;&lt;/a&gt; elapsed &lt;br /&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.170&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.011&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.200&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;…shows that splom is the fastest method, with the method using the panel.cor function pulling up the rear.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;6) given by a reader in the comments (get her/his code &lt;a href=&quot;http://handlesman.blogspot.com/2011/03/matrix-plot-with-confidence-intervals.html&quot;&gt;here&lt;/a&gt;). This one is nice as it gives 95% CI’s for the correlation coefficients, AND histograms of each variable.&lt;br /&gt;&lt;br /&gt;&lt;a href=&quot;https://lh5.googleusercontent.com/-zC6MFpoo5w8/TXO0aJt1UtI/AAAAAAAAEao/lMOOaniqYPU/s1600/pairs_anehandlesman.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;https://lh5.googleusercontent.com/-zC6MFpoo5w8/TXO0aJt1UtI/AAAAAAAAEao/lMOOaniqYPU/s400/pairs_anehandlesman.png&quot; style=&quot;cursor: move;&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;7) a reader in the comments suggested the scatterplotMatrix (spm can be used) function in the car package. This one has the advantage of plotting distributions of each variable, and providing fits to each data with confidence intervals.&lt;br /&gt;&lt;br /&gt;&amp;lt;div style=&quot;overflow: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;spm&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;https://lh4.googleusercontent.com/-gV9rB3jhZUU/TXTY57Z0bwI/AAAAAAAAEas/GuEWgTGpVzk/s1600/car.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;https://lh4.googleusercontent.com/-gV9rB3jhZUU/TXTY57Z0bwI/AAAAAAAAEas/GuEWgTGpVzk/s400/car.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;https://lh5.googleusercontent.com/-zC6MFpoo5w8/TXO0aJt1UtI/AAAAAAAAEao/lMOOaniqYPU/s1600/pairs_anehandlesman.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&lt;a href=&quot;https://lh5.googleusercontent.com/-zC6MFpoo5w8/TXO0aJt1UtI/AAAAAAAAEao/lMOOaniqYPU/s1600/pairs_anehandlesman.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&lt;a href=&quot;https://lh5.googleusercontent.com/-zC6MFpoo5w8/TXO0aJt1UtI/AAAAAAAAEao/lMOOaniqYPU/s1600/pairs_anehandlesman.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&lt;a href=&quot;https://lh5.googleusercontent.com/-zC6MFpoo5w8/TXO0aJt1UtI/AAAAAAAAEao/lMOOaniqYPU/s1600/pairs_anehandlesman.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&lt;a href=&quot;https://lh5.googleusercontent.com/-zC6MFpoo5w8/TXO0aJt1UtI/AAAAAAAAEao/lMOOaniqYPU/s1600/pairs_anehandlesman.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&lt;a href=&quot;https://lh5.googleusercontent.com/-zC6MFpoo5w8/TXO0aJt1UtI/AAAAAAAAEao/lMOOaniqYPU/s1600/pairs_anehandlesman.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Check out Phyloseminar.org</title>
   <link href="http://recology.info//2011/03/check-out-phyloseminar-org/"/>
   <updated>2011-03-04T06:22:00-08:00</updated>
   <id>http://recology.info//2011/03/check-out-phyloseminar-org</id>
   <content type="html">&lt;div&gt;They have online seminars that you can join in on live, and watch later as recorded videos. Check it out at: &lt;a href=&quot;http://phyloseminar.org/index.html&quot;&gt;phyloseminar.org home&lt;/a&gt;&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>RStudio</title>
   <link href="http://recology.info//2011/02/rstudio/"/>
   <updated>2011-02-28T18:21:00-08:00</updated>
   <id>http://recology.info//2011/02/rstudio</id>
   <content type="html">&lt;p&gt;&lt;b&gt;&lt;u&gt;New thoughts&lt;/u&gt;&lt;/b&gt;: After actually using it more, it is quite nice, but I have a couple of major issues.&lt;br /&gt;1. The text editor is quite slow to scroll through.&lt;br /&gt;2. ggplot2 graphics look bad, worse than if just running R alone.&lt;br /&gt;&lt;br /&gt;&lt;a href=&quot;http://www.rstudio.org/&quot;&gt;RStudio&lt;/a&gt;&lt;br /&gt;&amp;lt;div&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;Everyone seems to be excited about this…&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;Is it any good? Seems great for folks just learning R, but perhaps less ideal for advanced R users?&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>R overtakes SAS in popularity</title>
   <link href="http://recology.info//2011/02/r-overtakes-sas-in-popularity/"/>
   <updated>2011-02-25T06:58:00-08:00</updated>
   <id>http://recology.info//2011/02/r-overtakes-sas-in-popularity</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.tiobe.com/index.php/content/paperinfo/tpci/index.html&quot;&gt;TIOBE Software: Tiobe Index&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Phenotypic selection analysis in R</title>
   <link href="http://recology.info//2011/02/phenotypic-selection-analysis-in-r/"/>
   <updated>2011-02-24T07:43:00-08:00</updated>
   <id>http://recology.info//2011/02/phenotypic-selection-analysis-in-r</id>
   <content type="html">&lt;p&gt;I have up to recently always done my phenotypic selection analyses in SAS. I finally got some code I think works to do everything SAS would do. Feedback much appreciated!&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;div style=&quot;overflow: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;########################Selection analyses#############################&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/install.packages&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;install.packages&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“car”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“reshape”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“ggplot2”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/require&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;require&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/car&quot;&gt;car&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/require&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;require&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/stats/reshape&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;reshape&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/require&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;require&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/ggplot2&quot;&gt;ggplot2&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Create data set&lt;/span&gt;&lt;br /&gt;dat &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/data.frame&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;plant = &lt;a href=&quot;http://inside-r.org/r-doc/base/seq&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;seq&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;100&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; trait1 = &lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.15&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.21&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.25&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.6&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.8&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.9&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;10&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;12&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;13&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;14&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;15&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;16&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; each = &lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; trait2 = &lt;a href=&quot;http://inside-r.org/r-doc/stats/runif&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;runif&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;100&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; fitness = &lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;10&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;50&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; each = &lt;span style=&quot;color: #cc66cc;&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Make relative fitness column&lt;/span&gt;&lt;br /&gt;dat_ &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/cbind&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;cbind&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; dat$fitness/mean&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat$fitness&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/names&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;names&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat_&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &amp;lt;- &lt;span style=&quot;color: blue;&quot;&gt;“relfitness”&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Standardize traits&lt;/span&gt;&lt;br /&gt;dat_ &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/cbind&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;cbind&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat_&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;-&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; rescaler&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat_&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“sd”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;####Selection differentials and correlations among traits, cor.prob uses function in functions.R file&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;############################################################################&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;####### Function for calculating correlation matrix, corrs below diagonal,&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;####### and P-values above diagonal&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;############################################################################&lt;/span&gt;&lt;br /&gt;cor.prob &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/function&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;X&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; dfr = &lt;a href=&quot;http://inside-r.org/r-doc/base/nrow&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;nrow&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;X&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; - &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;{&lt;/span&gt;&lt;br /&gt;         R &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/stats/cor&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;cor&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;X&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;         above &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/row&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;row&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;R&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &amp;lt; &lt;a href=&quot;http://inside-r.org/r-doc/base/col&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;col&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;R&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;         r2 &amp;lt;- R&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;above&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;^&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;br /&gt;         Fstat &amp;lt;- r2 * dfr / &lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; - r2&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;         R&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;above&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &amp;lt;- &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; - &lt;a href=&quot;http://inside-r.org/r-doc/stats/pf&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;pf&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;Fstat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; dfr&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;         R&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;}&lt;/span&gt; &lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Get selection differentials and correlations among traits in one data frame&lt;/span&gt;&lt;br /&gt;dat_seldiffs &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/stats/cov&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;cov&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat_&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# calculates sel’n differentials using cov&lt;/span&gt;&lt;br /&gt;dat_selcorrs &amp;lt;- cor.prob&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat_&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# use P-values above diagonal for significance of sel’n differentials in dat_seldiffs&lt;/span&gt;&lt;br /&gt;dat_seldiffs_selcorrs &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/data.frame&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat_seldiffs&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; dat_selcorrs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# combine the two&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;##########################################################################&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;####Selection gradients&lt;/span&gt;&lt;br /&gt;dat_selngrad &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/stats/lm&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;lm&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;relfitness ~ trait1 * trait2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt; = dat_&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/summary&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;summary&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat_selngrad&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# where “Estimate” is our sel’n gradient&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;####Check assumptions&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/stats/shapiro.test&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;shapiro.test&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat_selngrad$residuals&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# normality, bummer, non-normal&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/hist&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;hist&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat_selngrad$residuals&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# plot residuals&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/VIF&quot;&gt;vif&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat_selngrad&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# check variance inflation factors (need package car), everything looks fine&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/plot&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;plot&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat_selngrad&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# cycle through diagnostic plots&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;############################################################################&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Plot data&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat_&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trait1&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; relfitness&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom_point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom_smooth&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;method = &lt;span style=&quot;color: blue;&quot;&gt;“lm”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; labs&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x=&lt;span style=&quot;color: blue;&quot;&gt;“Trait 1”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y=&lt;span style=&quot;color: blue;&quot;&gt;“Relative fitness”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“myplot.jpeg”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Plot of relative fitness vs. trait 1 standardized&lt;br /&gt;&lt;br /&gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;http://2.bp.blogspot.com/-OVQl92LOmZY/TWZ8RW9lHlI/AAAAAAAAEaQ/MGB39Lyghig/s1600/myplot.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;400&quot; src=&quot;http://2.bp.blogspot.com/-OVQl92LOmZY/TWZ8RW9lHlI/AAAAAAAAEaQ/MGB39Lyghig/s400/myplot.jpeg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Phylogenetic analysis with the phangorn package: an example</title>
   <link href="http://recology.info//2011/02/phylogenetic-analysis-with-the-phangorn-package-an-example/"/>
   <updated>2011-02-21T10:31:00-08:00</updated>
   <id>http://recology.info//2011/02/phylogenetic-analysis-with-the-phangorn-package-an-example</id>
   <content type="html">&lt;p&gt;The phangorn package is a relatively new package in R for the analysis and comparison of phylogenies. See &lt;a href=&quot;http://bioinformatics.oxfordjournals.org/content/27/4/592.short&quot;&gt;here&lt;/a&gt; for the Bioinformatics paper and &lt;a href=&quot;http://cran.r-project.org/web/packages/phangorn/index.html&quot;&gt;here&lt;/a&gt; for the package. Here is an example of using phangorn from getting sequences to making phylogenies and visualizing them:&lt;br /&gt;&lt;br /&gt;&lt;u&gt;Getting sequences from Genbank&lt;/u&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;u&gt;Multiple alignment&lt;/u&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;u&gt;Maximum likelihood tree reconstruction&lt;/u&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;u&gt;Visualizing trees&lt;/u&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;u&gt;Visualizing trees and traits&lt;/u&gt;&lt;br /&gt;Make fake traits:&lt;br /&gt;&lt;br /&gt;Visualize them on trees:&lt;br /&gt;&lt;u&gt;&lt;br /&gt;&lt;/u&gt;&lt;br /&gt;&lt;u&gt;&lt;br /&gt;&lt;/u&gt;&lt;br /&gt;&lt;u&gt;&lt;br /&gt;&lt;/u&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Farmer's markets data</title>
   <link href="http://recology.info//2011/02/farmer-s-markets-data/"/>
   <updated>2011-02-16T20:41:00-08:00</updated>
   <id>http://recology.info//2011/02/farmer-s-markets-data</id>
   <content type="html">&lt;p&gt;I combined USDA data on farmer’s markets in the US with population census data to get an idea of the disparity in farmers markets by state, and then also expressed per capita.&lt;br /&gt;&lt;br /&gt;Download USDA data &lt;a href=&quot;http://www.ams.usda.gov/AMSv1.0/getfile?dDocName=STELPRDC5087258&amp;amp;acct=frmrdirmkt&quot;&gt;here&lt;/a&gt;. The formatted file I used below is &lt;a href=&quot;http://schamber.files.wordpress.com/2011/02/farmmarkets.xls&quot;&gt;here&lt;/a&gt; (in excel format, although I read into R as csv file). The census data is read from url as below.&lt;br /&gt;&lt;br /&gt;California has a ton of absolute number of farmer’s markets, but Vermont takes the cake by far with number of markets per capita. Iowa comes in a distant second behind Vermont in markets per capita.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;The code:&lt;br /&gt;&amp;lt;div style=&quot;overflow: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;######## Farmer’s Markets #############&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/setwd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;setwd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“/Mac/R_stuff/Blog_etc/USDAFarmersMarkets”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Set to your working directory, this is where you want to call files from and write files to&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/install.packages&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;install.packages&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“ggplot2”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;“RCurl”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;  &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# install all packags required below&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/require&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;require&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/ggplot2&quot;&gt;ggplot2&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# plyr is libraried along with ggplot2, as ggplot2 uses plyr (as well as package reshape) functions&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# read market data&lt;/span&gt;&lt;br /&gt;markets &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/utils/read.csv&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;read.csv&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“farmmarkets.csv”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;markets$state &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/as.factor&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;as.factor&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“Wyoming “&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;“Wyoming”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; markets$LocAddState&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# there was a typo for Wyoming&lt;/span&gt;&lt;br /&gt;markets &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/stats/na.omit&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;na.omit&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;markets&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/str&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;str&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;markets&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# read population census data&lt;/span&gt;&lt;br /&gt;popcen &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/utils/read.csv&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;read.csv&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“http://www.census.gov/popest/national/files/NST_EST2009_ALLDATA.csv”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;popcen &amp;lt;- popcen&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;6&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;17&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/str&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;str&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;popcen&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# summarize&lt;/span&gt;&lt;br /&gt;markets_ &amp;lt;- ddply&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;markets&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; .&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;state&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; summarise&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; markets_n = &lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;LocAddState&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;markets_pop_ &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/merge&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;merge&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;markets_&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; popcen&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;-&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; by.x = &lt;span style=&quot;color: blue;&quot;&gt;“state”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; by.y = &lt;span style=&quot;color: blue;&quot;&gt;“NAME”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# merge two data sets&lt;/span&gt;&lt;br /&gt;markets_pop_$marketspercap &amp;lt;- markets_pop_$markets_n/markets_pop_$POPESTIMATE2009 &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# create column of markets per capita&lt;/span&gt;&lt;br /&gt;markets_pop_$markets_n_st &amp;lt;- markets_pop_$markets_n/max&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;markets_pop_$markets_n&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;markets_pop_$marketspercap_st &amp;lt;- markets_pop_$marketspercap/max&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;markets_pop_$marketspercap&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# plot&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;melt&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;markets_pop_&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;-&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x = state&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; y = value&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; fill = variable&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom_bar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;position = &lt;span style=&quot;color: blue;&quot;&gt;“dodge”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; coord_flip&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“fmarkets_barplot.jpeg”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;Note: the x-axis here is standardized value of number of markets (markets_n_st) and number of markets per capita (marketspercap_st).&lt;br /&gt;&lt;a href=&quot;http://4.bp.blogspot.com/-ceVMLE6yfbk/TVyE31U6LTI/AAAAAAAAEaM/PM2LCHnLPMM/s1600/fmarkets_barplot.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;452&quot; src=&quot;http://4.bp.blogspot.com/-ceVMLE6yfbk/TVyE31U6LTI/AAAAAAAAEaM/PM2LCHnLPMM/s640/fmarkets_barplot.jpeg&quot; style=&quot;cursor: move;&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;div style=&quot;overflow-x: auto; overflow-y: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&amp;gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# maps&lt;/span&gt;&lt;br /&gt;try_require&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“maps”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;states &amp;lt;- map_data&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“state”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;markets_pop_$statelow &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/tolower&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;tolower&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;markets_pop_$state&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;survey_sum_map &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/merge&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;merge&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;states&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; markets_pop_&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; by.x = &lt;span style=&quot;color: blue;&quot;&gt;“region”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; by.y = &lt;span style=&quot;color: blue;&quot;&gt;“statelow”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;survey_sum_map &amp;lt;- survey_sum_map&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/order&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;order&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;survey_sum_map$order&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/str&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;str&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;survey_sum_map&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;qplot&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;long&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; lat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt; = survey_sum_map&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; group = group&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; fill = markets_n&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; geom = &lt;span style=&quot;color: blue;&quot;&gt;“polygon”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; main = &lt;span style=&quot;color: blue;&quot;&gt;“Total farmer’s markets”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + &lt;br /&gt; scale_fill_gradient&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;low=&lt;span style=&quot;color: blue;&quot;&gt;“green”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; high=&lt;span style=&quot;color: blue;&quot;&gt;“black”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“fmarkets_map_green.jpeg”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div style=&quot;margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&amp;gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;a href=&quot;http://2.bp.blogspot.com/-I-Hqg4GtJs0/TVyE3I7BmYI/AAAAAAAAEaI/xNqBq4BqemI/s1600/fmarkets_map_green.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;452&quot; src=&quot;http://2.bp.blogspot.com/-I-Hqg4GtJs0/TVyE3I7BmYI/AAAAAAAAEaI/xNqBq4BqemI/s640/fmarkets_map_green.jpeg&quot; style=&quot;cursor: move;&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;div style=&quot;overflow-x: auto; overflow-y: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&amp;gt;&amp;lt;/pre&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&amp;gt;&amp;lt;/pre&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&amp;gt;qplot&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;long&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; lat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt; = survey_sum_map&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; group = group&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; fill = marketspercap&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; geom = &lt;span style=&quot;color: blue;&quot;&gt;“polygon”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; main = &lt;span style=&quot;color: blue;&quot;&gt;“Farmer’s markets per person”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; scale_fill_gradient&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;low=&lt;span style=&quot;color: blue;&quot;&gt;“green”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; high=&lt;span style=&quot;color: blue;&quot;&gt;“black”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“fmarkerspercap_map_green.jpeg”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div style=&quot;margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&amp;gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&amp;lt;/div&amp;gt;&amp;lt;div&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;http://4.bp.blogspot.com/-g8zapywmu7M/TVyE2qNzFnI/AAAAAAAAEaE/yrjk5txjFgo/s1600/fmarkerspercap_map_green.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;453&quot; src=&quot;http://4.bp.blogspot.com/-g8zapywmu7M/TVyE2qNzFnI/AAAAAAAAEaE/yrjk5txjFgo/s640/fmarkerspercap_map_green.jpeg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;http://2.bp.blogspot.com/-I-Hqg4GtJs0/TVyE3I7BmYI/AAAAAAAAEaI/xNqBq4BqemI/s1600/fmarkets_map_green.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&amp;lt;div style=&quot;overflow: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;http://4.bp.blogspot.com/-ceVMLE6yfbk/TVyE31U6LTI/AAAAAAAAEaM/PM2LCHnLPMM/s1600/fmarkets_barplot.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Troubling news for the teaching of evolution</title>
   <link href="http://recology.info//2011/02/troubling-news-for-teaching-of/"/>
   <updated>2011-02-09T06:20:00-08:00</updated>
   <id>http://recology.info//2011/02/troubling-news-for-teaching-of</id>
   <content type="html">&lt;p&gt;[UPDATE: i remade the maps in green, hope that helps…]&lt;br /&gt;&lt;br /&gt;A recent survey reported in &lt;a href=&quot;http://www.sciencemag.org.silk.library.umass.edu/content/331/6016/404.full&quot;&gt;Science&lt;/a&gt; (“Defeating Creationism in the Courtroom, but not in the Classroom”) found that biology teachers in high school do not often accept the basis of their discipline, as do teachers in other disciplines, and thus may not teach evolution appropriately. Read more here: &lt;a href=&quot;http://www.nytimes.com/2011/02/08/science/08creationism.html?emc=eta1&quot;&gt;New York Times&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;I took a little time to play with the data provided online along with the Science article. The data is available on the Science website along with the article, and the dataset I read into R is unchanged from the original. The states abbreviations file is &lt;a href=&quot;http://schamber.files.wordpress.com/2011/02/states_abbreviations.xls&quot;&gt;here&lt;/a&gt; (as a .xls). Here goes:&lt;br /&gt;&lt;br /&gt;I only played with two survey questions: q1b (no. of hours ecology is taught per year), and q1d (no. of hours evolution is taught per year). I looked at ecology and evolution as this blog is about ecology and evolution. It seems that some states that teach a lot of ecology teach a lot of evolution, but I found no correlation between the two without extreme outliers. I couldn’t help but notice my home state, TX, is near the bottom of the list on both counts - go TX! The teaching of evolution on the map produced below is less predictable than I would have though just based on my assumptions about political will in each state.&lt;br /&gt;&lt;br /&gt;&amp;lt;div style=&quot;overflow: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Analyses of Conditionality Data set of all variables, except for latitude, etc.&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/setwd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;setwd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“/Mac/R_stuff/Blog_etc/EvolutionTeaching/”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Set working directory&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/ggplot2&quot;&gt;ggplot2&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# read in data, and prepare new columns&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/MASS/survey&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;survey&lt;/span&gt;&lt;/a&gt; &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/utils/read.csv&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;read.csv&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“berkmandata.csv”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/str&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;str&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/MASS/survey&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;survey&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;) # (I do realize that survey is a data object in the MASS package)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Assign actual hours to survey answers &lt;/span&gt;&lt;br /&gt;ecol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/MASS/survey&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;survey&lt;/span&gt;&lt;/a&gt;$q1b&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ecol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;1.5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ecol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ecol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;8&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ecol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;13&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ecol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;6&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;18&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ecol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;7&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;evol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/MASS/survey&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;survey&lt;/span&gt;&lt;/a&gt;$q1d&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;evol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;1.5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;evol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;evol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;8&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;evol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;13&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;evol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;6&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;18&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;evol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;7&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/MASS/survey&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;survey&lt;/span&gt;&lt;/a&gt;$ecol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/as.numeric&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;as.numeric&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/MASS/survey&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;survey&lt;/span&gt;&lt;/a&gt;$evol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/as.numeric&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;as.numeric&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# ddply it&lt;/span&gt;&lt;br /&gt;survey_sum &amp;lt;- ddply&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/MASS/survey&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;survey&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; .&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;st_posta&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; summarise&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; mean_ecol_hrs = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ecol&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; na.rm=T&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; mean_evol_hrs = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;evol&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; na.rm=T&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; se_ecol_hrs = &lt;a href=&quot;http://inside-r.org/r-doc/stats/sd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;sd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ecol&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; na.rm=T&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;/sqrt&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; se_evol_hrs = &lt;a href=&quot;http://inside-r.org/r-doc/stats/sd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;sd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;evol&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; na.rm=T&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;/sqrt&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; num_teachers = &lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;st_posta&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# plotting&lt;/span&gt;&lt;br /&gt;limits_ecol &amp;lt;- aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ymax = mean_ecol_hrs + se_ecol_hrs&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ymin = mean_ecol_hrs - se_ecol_hrs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;limits_evol &amp;lt;- aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ymax = mean_evol_hrs + se_evol_hrs&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ymin = mean_evol_hrs - se_evol_hrs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;survey_sum&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x = &lt;a href=&quot;http://inside-r.org/r-doc/stats/reorder&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;reorder&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;st_posta&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; mean_ecol_hrs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; y = mean_ecol_hrs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom_point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom_errorbar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;limits_ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom_text&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;label = num_teachers&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; vjust = &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; hjust = -&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; size = &lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; coord_flip&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; labs&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x = &lt;span style=&quot;color: blue;&quot;&gt;“State”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; y = &lt;span style=&quot;color: blue;&quot;&gt;“Mean hours of ecology taught &lt;span style=&quot;color: #000099; font-weight: bold;&quot;&gt;\n&lt;/span&gt; per year (+/- 1 se)”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;lt;/pre&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&lt;span style=&quot;color: #009900;&quot;&gt;####SMALL NUMBERS BY BARS ARE NUMBER OF TEACHERS THAT RESPONDED TO THE SURVEY&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&amp;lt;/pre&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&lt;a href=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TVKfu6zmnJI/AAAAAAAAEZw/b49TxhUjMmk/s1600/survey_ecol.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;640&quot; src=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TVKfu6zmnJI/AAAAAAAAEZw/b49TxhUjMmk/s640/survey_ecol.jpeg&quot; width=&quot;392&quot; /&gt;&lt;/a&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times; white-space: normal;&quot;&gt;&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TVKfu6zmnJI/AAAAAAAAEZw/b49TxhUjMmk/s1600/survey_ecol.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt; &lt;br /&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;survey_sum&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x = &lt;a href=&quot;http://inside-r.org/r-doc/stats/reorder&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;reorder&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;st_posta&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; mean_evol_hrs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; y = mean_evol_hrs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom_point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom_errorbar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;limits_evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom_text&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;label = num_teachers&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; vjust = &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; hjust = -&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; size = &lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; coord_flip&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; labs&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x = &lt;span style=&quot;color: blue;&quot;&gt;“State”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; y = &lt;span style=&quot;color: blue;&quot;&gt;“Mean hours of evolution taught &lt;span style=&quot;color: #000099; font-weight: bold;&quot;&gt;\n&lt;/span&gt; per year (+/- 1 se)”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;span class=&quot;Apple-style-span&quot; style=&quot;color: #009900;&quot;&gt;####SMALL NUMBERS BY BARS ARE NUMBER OF TEACHERS THAT RESPONDED TO THE SURVEY&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times; white-space: normal;&quot;&gt;&lt;a href=&quot;http://4.bp.blogspot.com/_fANWq796z-w/TVKfuQSN7sI/AAAAAAAAEZs/o1EIVgS7lkA/s1600/survey_evol.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;640&quot; src=&quot;http://4.bp.blogspot.com/_fANWq796z-w/TVKfuQSN7sI/AAAAAAAAEZs/o1EIVgS7lkA/s640/survey_evol.jpeg&quot; width=&quot;392&quot; /&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# map&lt;/span&gt;&lt;br /&gt;try_require&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“maps”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;states &amp;lt;- map_data&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“state”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;statenames &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/utils/read.csv&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;read.csv&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“/Mac/R_stuff/Code/states_abbreviations.csv”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;survey_sum_ &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/merge&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;merge&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;survey_sum&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; statenames&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; by.x = &lt;span style=&quot;color: blue;&quot;&gt;“st_posta”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; by.y = &lt;span style=&quot;color: blue;&quot;&gt;“state_abbrev”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;survey_sum_map &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/merge&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;merge&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;states&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; survey_sum_&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; by.x = &lt;span style=&quot;color: blue;&quot;&gt;“region”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; by.y = &lt;span style=&quot;color: blue;&quot;&gt;“state”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;survey_sum_map &amp;lt;- survey_sum_map&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/order&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;order&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;survey_sum_map$order&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times; white-space: normal;&quot;&gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&amp;gt;qplot&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;long&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; lat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt; = survey_sum_map&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; group = group&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; fill = mean_ecol_hrs&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; geom = &lt;span style=&quot;color: blue;&quot;&gt;“polygon”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + scale_fill_gradient&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;low=&lt;span style=&quot;color: blue;&quot;&gt;“black”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; high=&lt;span style=&quot;color: blue;&quot;&gt;“green”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&amp;lt;/pre&amp;gt;&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&amp;lt;/pre&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot;&amp;gt;&lt;span style=&quot;color: #009900;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times; white-space: normal;&quot;&gt;&lt;a href=&quot;http://3.bp.blogspot.com/-cNO2YWHX0Hk/TVQP5B7VxmI/AAAAAAAAEZ8/GBYKNR5vUBs/s1600/survey_ecol_map_green.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;458&quot; src=&quot;http://3.bp.blogspot.com/-cNO2YWHX0Hk/TVQP5B7VxmI/AAAAAAAAEZ8/GBYKNR5vUBs/s640/survey_ecol_map_green.jpeg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot;&gt;&lt;br /&gt;&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot;&amp;gt; &lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times; white-space: normal;&quot;&gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&amp;gt;qplot&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;long&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; lat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt; = survey_sum_map&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; group = group&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; fill = mean_evol_hrs&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; geom = &lt;span style=&quot;color: blue;&quot;&gt;“polygon”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + scale_fill_gradient&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;low=&lt;span style=&quot;color: blue;&quot;&gt;“black”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; high=&lt;span style=&quot;color: blue;&quot;&gt;“green”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&amp;lt;/pre&amp;gt;&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot;&amp;gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: black; font-family: Times; white-space: normal;&quot;&gt;&lt;a href=&quot;http://2.bp.blogspot.com/-eLaIU-xsE78/TVQP5ol2gBI/AAAAAAAAEaA/vmGvlFhLmfE/s1600/survey_evol_map_green.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;458&quot; src=&quot;http://2.bp.blogspot.com/-eLaIU-xsE78/TVQP5ol2gBI/AAAAAAAAEaA/vmGvlFhLmfE/s640/survey_evol_map_green.jpeg&quot; style=&quot;cursor: move;&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&amp;gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;white-space: normal;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;/pre&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&amp;lt;/pre&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot;&amp;gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;white-space: normal;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Plants are less sex deprived when next to closely related neighbors</title>
   <link href="http://recology.info//2011/02/plants-are-less-sex-deprived-when-next-to-closely-related-neighbors/"/>
   <updated>2011-02-01T20:59:00-08:00</updated>
   <id>http://recology.info//2011/02/plants-are-less-sex-deprived-when-next-to-closely-related-neighbors</id>
   <content type="html">&lt;p&gt;A new early online paper in &lt;a href=&quot;http://www.amjbot.org/cgi/content/abstract/ajb.1000329v1&quot;&gt;American Journal of Botany&lt;/a&gt; by &lt;a href=&quot;http://mysite.science.uottawa.ca/rsargent/&quot;&gt;Risa Sargent&lt;/a&gt; and colleagues suggests that plants are less sex deprived (pollen limited) in vernal pools that have more closely related plant species. Vernal pools are (at least in my experience) small (to quite large) depressions that fill up with water with winter rains, and dry out completely in the summer. Vernal pool adapted plants flower in rings down the pool as the water dries up. Aquatic invertebrates and some herps can last through the summer by burrowing in the soil.&lt;/p&gt;

&lt;p&gt;The study did hand pollination experiments with a focal species, &lt;em&gt;Lasthenia fremontii&lt;/em&gt;. They examined the relationship between these pollen limitation experiments and the relatedness of &lt;em&gt;L. fremontii&lt;/em&gt; to the rest of the plant community in each pool.&lt;/p&gt;

&lt;p&gt;Plant species richness was not related to pollen limitation. Thus, at least in their study with vernal pools in California, relatedness to your plant neighbors has a greater impact than plant richness.&lt;/p&gt;

&lt;p&gt;The great thing about vernal pools is that they are truly terrestrial islands of habitat, surrounded by inhospitable habitat for pool species. Many vernal pools are created artificially for habitat conservation easements (e.g., &lt;a href=&quot;http://www.vollmarconsulting.com/projects/caltrans-madera-pools/index.html&quot;&gt;here&lt;/a&gt;. Perhaps someone can experimentally manipulate phylogenetic diversity in artificially created pools to really get at the causal links.&lt;/p&gt;

&lt;p&gt;p.s. Ok, this post is not terribly R related, except for that this paper used R for some of their statistics.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Good riddance to Excel pivot tables</title>
   <link href="http://recology.info//2011/01/good-riddance-to-excel-pivot-tables/"/>
   <updated>2011-01-30T20:36:00-08:00</updated>
   <id>http://recology.info//2011/01/good-riddance-to-excel-pivot-tables</id>
   <content type="html">&lt;p&gt;Excel pivot tables have been how I have reorganized data…up until now. These are just a couple of examples why R is superior to Excel for reorganizing data:&lt;/p&gt;

&lt;p&gt;UPDATE: I fixed the code to use ‘dcast’ instead of ‘cast’. And library(ggplot2) instead of library(plyr) [plyr is called along with ggplot2]. Thanks Bob!&lt;/p&gt;

&lt;p&gt;Also, see another post on this topic &lt;a href=&quot;http://news.mrdwab.com/2010/08/08/using-the-reshape-packagein-r/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/1578361.js?file=goodriddance.R&quot;&gt;&lt;/script&gt;

&lt;p&gt;&lt;img src=&quot;/pivottable1.png&quot; alt=&quot;Figure&quot; /&gt;&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>R and Google Visualization API: Fish harvests</title>
   <link href="http://recology.info//2011/01/r-and-google-visualization-api-fish/"/>
   <updated>2011-01-17T19:04:00-08:00</updated>
   <id>http://recology.info//2011/01/r-and-google-visualization-api-fish</id>
   <content type="html">&lt;p&gt;I recently gathered fish harvest data from the U.S. National Oceanic and Atmospheric Administarion (NOAA), which I downloaded from &lt;a href=&quot;http://infochimps.com/&quot;&gt;Infochimps&lt;/a&gt;. The data is fish harvest by weight and value, by species for 21 years, from 1985 to 2005.&lt;br /&gt;&lt;br /&gt;Here is a link to a google document of the data I used below. I had to do some minor pocessing in Excel first; thus the link to this data.&lt;br /&gt;https://spreadsheets.google.com/ccc?key=0Aq6aW8n11tS_dFRySXQzYkppLXFaU2F5aC04d19ZS0E&amp;amp;hl=en&lt;br /&gt;&lt;br /&gt;Get the original data from Infochimps here:&lt;br /&gt;http://infochimps.com/datasets/domestic-fish-and-shellfish-catch-value-and-price-by-species-198&lt;br /&gt;&amp;lt;div style=&quot;overflow: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: #666666;&quot;&gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: #666666;&quot;&gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: #666666;&quot;&gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;################# Fish harvest data ########################################&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/setwd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;setwd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“/Mac/R_stuff/Blog_etc/Infochimps/Fishharvest”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Set path&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://www.blogger.com/packages/ggplot2&quot;&gt;ggplot2&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;googleVis&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://www.blogger.com/packages/Hmisc&quot;&gt;Hmisc&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;fish &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/utils/read.csv&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;read.csv&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“fishharvest.csv”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# read data&lt;/span&gt;&lt;br /&gt;fish2 &amp;lt;- melt&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fish&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;id=&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;measure=&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;24&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# melt table&lt;/span&gt;&lt;br /&gt;year &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1985&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;2005&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; each = &lt;span style=&quot;color: #cc66cc;&quot;&gt;117&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;fish2 &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/data.frame&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fish2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;year&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# replace year with actual values&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Google visusalization API&lt;/span&gt;&lt;br /&gt;fishdata &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/data.frame&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/subset&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;subset&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fish2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;fish2$var == &lt;span style=&quot;color: blue;&quot;&gt;“quantity_1000lbs”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;-&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;value_1000dollars=&lt;a href=&quot;http://inside-r.org/r-doc/base/subset&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;subset&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fish2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;fish2$var == &lt;span style=&quot;color: blue;&quot;&gt;“value_1000dollars”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;-&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/names&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;names&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fishdata&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &amp;lt;- &lt;span style=&quot;color: blue;&quot;&gt;“quantity_1000lbs”&lt;/span&gt;&lt;br /&gt;fishharvest &amp;lt;- gvisMotionChart&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fishdata&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; idvar=&lt;span style=&quot;color: blue;&quot;&gt;“species”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; timevar=&lt;span style=&quot;color: blue;&quot;&gt;“year”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/plot&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;plot&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fishharvest&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;script src=&quot;http://www.google.com/jsapi&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;&lt;br /&gt;&lt;script type=&quot;text/javascript&quot;&gt;google.load(&quot;visualization&quot;, &quot;1&quot;, { packages:[&quot;motionchart&quot;] });google.setOnLoadCallback(drawChart);function drawChart() {var data = new google.visualization.DataTable();var datajson = [ [ &quot;Anchovies&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 14566,  2704 ],[ &quot;Bluefish&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 13743,  2363 ],[ &quot;Butterfish&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10338,  3537 ],[ &quot;Cod, Atlantic&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 82823, 35140 ],[ &quot;Cod, Pacific&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.2028e+05, 18556 ],[ &quot;Croaker&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 11088,  3658 ],[ &quot;Flounders&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.9572e+05,1.2912e+05 ],[ &quot;Haddock&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 14416, 13545 ],[ &quot;Halibut&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 61032, 38376 ],[ &quot;Herring, sea; Atlantic &quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 57133,  2968 ],[ &quot;Herring, sea; Pacific&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.4207e+05, 47025 ],[ &quot;Jack mackerel&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 20852,  1770 ],[ &quot;Mackerel, Chub&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 75453,  6324 ],[ &quot;Menhaden&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.7394e+06,1.0068e+05 ],[ &quot;Mullet&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 21205,  5720 ],[ &quot;Ocean perch, Atlantic&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9666,  3179 ],[ &quot;Ocean perch, Pacific&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9034,  1757 ],[ &quot;Pollock, Atlantic&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 43477,  6978 ],[ &quot;Pollock, Alaska&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 92833,  5409 ],[ &quot;Rockfish&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 82109, 23107 ],[ &quot;Sablefish&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 63380, 28692 ],[ &quot;Salmon&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,7.2695e+05,4.398e+05 ],[ &quot;Scup or porgy&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 15996,  9338 ],[ &quot;Sea trout, gray&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16400,  7330 ],[ &quot;Shark, Dogfish&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 11563,   842 ],[ &quot;Snapper, red&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5181, 10661 ],[ &quot;Swordfish&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 12258, 33191 ],[ &quot;Tuna&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 83054, 52515 ],[ &quot;Whiting (Atlantic, silver)&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 44545,  8274 ],[ &quot;Whiting (Pacific, hake)&quot;,1985,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16316,   792 ],[ &quot;Clams&quot;,1985,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.5055e+05,1.2835e+05 ],[ &quot;Crabs&quot;,1985,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.3763e+05,2.0304e+05 ],[ &quot;Lobsters: American&quot;,1985,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 46152,1.149e+05 ],[ &quot;Oysters&quot;,1985,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 44173, 70053 ],[ &quot;Scallops, Calico&quot;,1985,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 12513,  1281 ],[ &quot;Scallops, sea&quot;,1985,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 15829, 74562 ],[ &quot;Shrimp&quot;,1985,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.3369e+05,4.7285e+05 ],[ &quot;Squid, Atlantic&quot;,1985,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,  7157,  7256 ],[ &quot;Squid, Pacific&quot;,1985,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 22276,  4047 ],[ &quot;Anchovies&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 13436,  2523 ],[ &quot;Bluefish&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 13968,  2413 ],[ &quot;Butterfish&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9880,  6576 ],[ &quot;Cod, Atlantic&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 61134, 36142 ],[ &quot;Cod, Pacific&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.0444e+05, 11337 ],[ &quot;Croaker&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 12382,  3883 ],[ &quot;Flounders&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.6905e+05,1.2459e+05 ],[ &quot;Haddock&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10968, 10911 ],[ &quot;Halibut&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 77691, 82925 ],[ &quot;Herring, sea; Atlantic &quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 79381,  4314 ],[ &quot;Herring, sea; Pacific&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.3076e+05, 44598 ],[ &quot;Jack mackerel&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 23672,  1775 ],[ &quot;Mackerel, Chub&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 85444,  6408 ],[ &quot;Menhaden&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.3914e+06, 93762 ],[ &quot;Mullet&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 21646,  6043 ],[ &quot;Ocean perch, Atlantic&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6576,  3160 ],[ &quot;Ocean perch, Pacific&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 15585,  3116 ],[ &quot;Pollock, Atlantic&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 54469, 14044 ],[ &quot;Pollock, Alaska&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.3042e+05,  7167 ],[ &quot;Rockfish&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 92029, 28265 ],[ &quot;Sablefish&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 84868, 45879 ],[ &quot;Salmon&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,6.5852e+05,4.9394e+05 ],[ &quot;Scup or porgy&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16181,  9476 ],[ &quot;Sea trout, gray&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 20602,  7086 ],[ &quot;Shark, Dogfish&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 11114,   964 ],[ &quot;Snapper, red&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4489,  9820 ],[ &quot;Swordfish&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9671, 30508 ],[ &quot;Tuna&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 87811, 54575 ],[ &quot;Whiting (Atlantic, silver)&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 39924,  8312 ],[ &quot;Whiting (Pacific, hake)&quot;,1986,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 25615,  1182 ],[ &quot;Clams&quot;,1986,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.4539e+05,1.3491e+05 ],[ &quot;Crabs&quot;,1986,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.5566e+05,2.7014e+05 ],[ &quot;Lobsters: American&quot;,1986,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 46053,1.2056e+05 ],[ &quot;Oysters&quot;,1986,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 40544, 78068 ],[ &quot;Scallops, Calico&quot;,1986,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,  1616,  3087 ],[ &quot;Scallops, sea&quot;,1986,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 19992, 97415 ],[ &quot;Shrimp&quot;,1986,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,4.0018e+05,6.6274e+05 ],[ &quot;Squid, Atlantic&quot;,1986,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 33145, 10279 ],[ &quot;Squid, Pacific&quot;,1986,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 42262,  4368 ],[ &quot;Anchovies&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 12857,  2706 ],[ &quot;Bluefish&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 15226,  3254 ],[ &quot;Butterfish&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10315,  6496 ],[ &quot;Cod, Atlantic&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 59100, 44179 ],[ &quot;Cod, Pacific&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.7061e+05, 31443 ],[ &quot;Croaker&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 11044,  4396 ],[ &quot;Flounders&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.9971e+05,1.4508e+05 ],[ &quot;Haddock&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6673,  8522 ],[ &quot;Halibut&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 76107, 88254 ],[ &quot;Herring, sea; Atlantic &quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 84536,  4368 ],[ &quot;Herring, sea; Pacific&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.226e+05, 47916 ],[ &quot;Jack mackerel&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 26671,  1831 ],[ &quot;Mackerel, Chub&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 93755,  6433 ],[ &quot;Menhaden&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.7123e+06,1.0442e+05 ],[ &quot;Mullet&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 30125,  8224 ],[ &quot;Ocean perch, Atlantic&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4202,  2709 ],[ &quot;Ocean perch, Pacific&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 19982,  4478 ],[ &quot;Pollock, Atlantic&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 45645, 17916 ],[ &quot;Pollock, Alaska&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.5205e+05, 45849 ],[ &quot;Rockfish&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.1788e+05, 38153 ],[ &quot;Sablefish&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.027e+05, 58107 ],[ &quot;Salmon&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.6202e+05,5.9638e+05 ],[ &quot;Scup or porgy&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 14295,  9810 ],[ &quot;Sea trout, gray&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 17927,  7499 ],[ &quot;Shark, Dogfish&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 14167,  1573 ],[ &quot;Snapper, red&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3732,  8661 ],[ &quot;Swordfish&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9761, 34974 ],[ &quot;Tuna&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.0006e+05, 95803 ],[ &quot;Whiting (Atlantic, silver)&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 34673, 11584 ],[ &quot;Whiting (Pacific, hake)&quot;,1987,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 38783,  1900 ],[ &quot;Clams&quot;,1987,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.3436e+05,1.3286e+05 ],[ &quot;Crabs&quot;,1987,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.8637e+05,3.2188e+05 ],[ &quot;Lobsters: American&quot;,1987,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 45558,1.3355e+05 ],[ &quot;Oysters&quot;,1987,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 39807, 92423 ],[ &quot;Scallops, Calico&quot;,1987,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,  8155,  8889 ],[ &quot;Scallops, sea&quot;,1987,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 32038,1.3226e+05 ],[ &quot;Shrimp&quot;,1987,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.6314e+05,5.7808e+05 ],[ &quot;Squid, Atlantic&quot;,1987,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 38883, 12493 ],[ &quot;Squid, Pacific&quot;,1987,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 43166,  4300 ],[ &quot;Anchovies&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 12425,  2615 ],[ &quot;Bluefish&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16853,  3012 ],[ &quot;Butterfish&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5441,  3407 ],[ &quot;Cod, Atlantic&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 76073, 42941 ],[ &quot;Cod, Pacific&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.6720e+05, 38429 ],[ &quot;Croaker&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10604,  4596 ],[ &quot;Flounders&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.2862e+05,1.4014e+05 ],[ &quot;Haddock&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6429,  7030 ],[ &quot;Halibut&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 81608, 72718 ],[ &quot;Herring, sea; Atlantic &quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 90397,  5229 ],[ &quot;Herring, sea; Pacific&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.3143e+05, 57431 ],[ &quot;Jack mackerel&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 22546,  1685 ],[ &quot;Mackerel, Chub&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.0034e+05,  7498 ],[ &quot;Menhaden&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.0861e+06,1.057e+05 ],[ &quot;Mullet&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 32642, 11218 ],[ &quot;Ocean perch, Atlantic&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  2350,  1467 ],[ &quot;Ocean perch, Pacific&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 11919,  2546 ],[ &quot;Pollock, Atlantic&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 33052, 11071 ],[ &quot;Pollock, Alaska&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.2573e+06, 95252 ],[ &quot;Rockfish&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.2403e+05, 38663 ],[ &quot;Sablefish&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.0751e+05, 91779 ],[ &quot;Salmon&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,6.0615e+05,9.1067e+05 ],[ &quot;Scup or porgy&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 14358,  9572 ],[ &quot;Sea trout, gray&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 20533,  7948 ],[ &quot;Shark, Dogfish&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10070,   975 ],[ &quot;Snapper, red&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4154,  9496 ],[ &quot;Swordfish&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 12818, 42703 ],[ &quot;Tuna&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.1135e+05,1.2099e+05 ],[ &quot;Whiting (Atlantic, silver)&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 35569,  8621 ],[ &quot;Whiting (Pacific, hake)&quot;,1988,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 15740,  1160 ],[ &quot;Clams&quot;,1988,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.3174e+05,1.3478e+05 ],[ &quot;Crabs&quot;,1988,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,4.5563e+05,3.8356e+05 ],[ &quot;Lobsters: American&quot;,1988,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 48643,1.4524e+05 ],[ &quot;Oysters&quot;,1988,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 31892, 78498 ],[ &quot;Scallops, Calico&quot;,1988,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 11868, 12462 ],[ &quot;Scallops, sea&quot;,1988,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 30557,1.2824e+05 ],[ &quot;Shrimp&quot;,1988,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.3087e+05,5.0603e+05 ],[ &quot;Squid, Atlantic&quot;,1988,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 46739, 16220 ],[ &quot;Squid, Pacific&quot;,1988,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 80426,  7689 ],[ &quot;Anchovies&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 13389,  2696 ],[ &quot;Bluefish&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10429,  2245 ],[ &quot;Butterfish&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7051,  4108 ],[ &quot;Cod, Atlantic&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 78423, 47772 ],[ &quot;Cod, Pacific&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.7214e+05, 55375 ],[ &quot;Croaker&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8287,  4114 ],[ &quot;Flounders&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.0249e+05,1.1983e+05 ],[ &quot;Haddock&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3808,  4538 ],[ &quot;Halibut&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 75168, 85145 ],[ &quot;Herring, sea; Atlantic &quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 89657,  5041 ],[ &quot;Herring, sea; Pacific&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.1935e+05, 24391 ],[ &quot;Jack mackerel&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 28422,  1927 ],[ &quot;Mackerel, Chub&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 88667,  6023 ],[ &quot;Menhaden&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.9887e+06, 84462 ],[ &quot;Mullet&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 31594, 15023 ],[ &quot;Ocean perch, Atlantic&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  1392,   919 ],[ &quot;Ocean perch, Pacific&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 22332,  4646 ],[ &quot;Pollock, Atlantic&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 23249,  9922 ],[ &quot;Pollock, Alaska&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.362e+06,1.8692e+05 ],[ &quot;Rockfish&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.3362e+05, 42338 ],[ &quot;Sablefish&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 97590, 73272 ],[ &quot;Salmon&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,7.8587e+05,5.9123e+05 ],[ &quot;Scup or porgy&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9582,  7720 ],[ &quot;Sea trout, gray&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 14187,  7160 ],[ &quot;Shark, Dogfish&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 12804,  1602 ],[ &quot;Snapper, red&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3959, 10329 ],[ &quot;Swordfish&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 11768, 38321 ],[ &quot;Tuna&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 89413,1.0354e+05 ],[ &quot;Whiting (Atlantic, silver)&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 39353,  9403 ],[ &quot;Whiting (Pacific, hake)&quot;,1989,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16564,  1094 ],[ &quot;Clams&quot;,1989,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.3817e+05,1.3494e+05 ],[ &quot;Crabs&quot;,1989,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,4.5838e+05,4.144e+05 ],[ &quot;Lobsters: American&quot;,1989,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 52926,1.4912e+05 ],[ &quot;Oysters&quot;,1989,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 29926, 83585 ],[ &quot;Scallops, Calico&quot;,1989,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,  6580,  5928 ],[ &quot;Scallops, sea&quot;,1989,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 33757,1.3259e+05 ],[ &quot;Shrimp&quot;,1989,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.5151e+05,4.6757e+05 ],[ &quot;Squid, Atlantic&quot;,1989,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 66829, 25592 ],[ &quot;Squid, Pacific&quot;,1989,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 60509,  5509 ],[ &quot;Anchovies&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 13189,  2723 ],[ &quot;Bluefish&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 13802,  3239 ],[ &quot;Butterfish&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6532,  3334 ],[ &quot;Cod, Atlantic&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 95881, 61329 ],[ &quot;Cod, Pacific&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.264e+05, 91384 ],[ &quot;Croaker&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6720,  3390 ],[ &quot;Flounders&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.5452e+05,1.1292e+05 ],[ &quot;Haddock&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5440,  5967 ],[ &quot;Halibut&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 70454, 96700 ],[ &quot;Herring, sea; Atlantic &quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.131e+05,  5746 ],[ &quot;Herring, sea; Pacific&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.0812e+05, 32178 ],[ &quot;Jack mackerel&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8959,   535 ],[ &quot;Mackerel, Chub&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 83721,  5081 ],[ &quot;Menhaden&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.9622e+06, 93896 ],[ &quot;Mullet&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 28554, 12738 ],[ &quot;Ocean perch, Atlantic&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  1322,   703 ],[ &quot;Ocean perch, Pacific&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 60972,  8494 ],[ &quot;Pollock, Atlantic&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 21042, 10516 ],[ &quot;Pollock, Alaska&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.108e+06,2.6834e+05 ],[ &quot;Rockfish&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.3154e+05, 38504 ],[ &quot;Sablefish&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 89802, 58865 ],[ &quot;Salmon&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,7.3315e+05,6.1237e+05 ],[ &quot;Scup or porgy&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 11452,  8677 ],[ &quot;Sea trout, gray&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9880,  5777 ],[ &quot;Shark, Dogfish&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 35793,  3801 ],[ &quot;Snapper, red&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3101,  8411 ],[ &quot;Swordfish&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 13797, 40851 ],[ &quot;Tuna&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 62393,1.0504e+05 ],[ &quot;Whiting (Atlantic, silver)&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 44500, 11281 ],[ &quot;Whiting (Pacific, hake)&quot;,1990,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 21232,  1229 ],[ &quot;Clams&quot;,1990,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.392e+05,1.3019e+05 ],[ &quot;Crabs&quot;,1990,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,4.9942e+05,4.8384e+05 ],[ &quot;Lobsters: American&quot;,1990,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 61017,1.5468e+05 ],[ &quot;Oysters&quot;,1990,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 29193, 93718 ],[ &quot;Scallops, Calico&quot;,1990,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,null ],[ &quot;Scallops, sea&quot;,1990,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 39917,1.537e+05 ],[ &quot;Shrimp&quot;,1990,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.4649e+05,4.9143e+05 ],[ &quot;Squid, Atlantic&quot;,1990,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 59809, 21178 ],[ &quot;Squid, Pacific&quot;,1990,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 36082,  2636 ],[ &quot;Anchovies&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 19245,  6813 ],[ &quot;Bluefish&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 13232,  2731 ],[ &quot;Butterfish&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6181,  3171 ],[ &quot;Cod, Atlantic&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 92636, 74093 ],[ &quot;Cod, Pacific&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.5372e+05,1.2293e+05 ],[ &quot;Croaker&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4761,  2146 ],[ &quot;Flounders&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.0496e+05,1.4479e+05 ],[ &quot;Haddock&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4053,  4581 ],[ &quot;Halibut&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 66339, 99532 ],[ &quot;Herring, sea; Atlantic &quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.0707e+05,  6339 ],[ &quot;Herring, sea; Pacific&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.2314e+05, 30832 ],[ &quot;Jack mackerel&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3618, 24433 ],[ &quot;Mackerel, Chub&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 63336,  4872 ],[ &quot;Menhaden&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.9771e+06, 77694 ],[ &quot;Mullet&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 12717, 10569 ],[ &quot;Ocean perch, Atlantic&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  1176,   543 ],[ &quot;Ocean perch, Pacific&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 29994,  6445 ],[ &quot;Pollock, Atlantic&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 17344,  9901 ],[ &quot;Pollock, Alaska&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.8553e+06,2.4155e+05 ],[ &quot;Rockfish&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 97466,1.0993e+05 ],[ &quot;Sablefish&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 83610, 78166 ],[ &quot;Salmon&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,7.8328e+05,3.5972e+05 ],[ &quot;Scup or porgy&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16145,  9127 ],[ &quot;Sea trout, gray&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8668,  4854 ],[ &quot;Shark, Dogfish&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 34376,  3444 ],[ &quot;Snapper, red&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  2358,  5681 ],[ &quot;Swordfish&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 17963, 50155 ],[ &quot;Tuna&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 35695, 75053 ],[ &quot;Whiting (Atlantic, silver)&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 36533, 11219 ],[ &quot;Whiting (Pacific, hake)&quot;,1991,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 55964,  3692 ],[ &quot;Clams&quot;,1991,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.3424e+05,1.2527e+05 ],[ &quot;Crabs&quot;,1991,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,6.4999e+05,4.1484e+05 ],[ &quot;Lobsters: American&quot;,1991,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 63337,1.6503e+05 ],[ &quot;Oysters&quot;,1991,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 31859, 97996 ],[ &quot;Scallops, Calico&quot;,1991,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,   858 ],[ &quot;Scallops, sea&quot;,1991,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 39302,1.5893e+05 ],[ &quot;Shrimp&quot;,1991,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.2009e+05,5.1285e+05 ],[ &quot;Squid, Atlantic&quot;,1991,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 70929, 30346 ],[ &quot;Squid, Pacific&quot;,1991,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 68640,  5288 ],[ &quot;Anchovies&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 13679,  5228 ],[ &quot;Bluefish&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 11595,  2694 ],[ &quot;Butterfish&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7608,  3701 ],[ &quot;Cod, Atlantic&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 61283, 52013 ],[ &quot;Cod, Pacific&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.5053e+05,1.3248e+05 ],[ &quot;Croaker&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5077,  1893 ],[ &quot;Flounders&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,6.4583e+05,1.4351e+05 ],[ &quot;Haddock&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5111,  5582 ],[ &quot;Halibut&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 68579, 53773 ],[ &quot;Herring, sea; Atlantic &quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.2299e+05,  6821 ],[ &quot;Herring, sea; Pacific&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.5905e+05, 35907 ],[ &quot;Jack mackerel&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  2624,   245 ],[ &quot;Mackerel, Chub&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 41879,  4118 ],[ &quot;Menhaden&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.6443e+06, 82973 ],[ &quot;Mullet&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 22479,  9730 ],[ &quot;Ocean perch, Atlantic&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  1867,   790 ],[ &quot;Ocean perch, Pacific&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 45484, 13561 ],[ &quot;Pollock, Atlantic&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 15843, 10543 ],[ &quot;Pollock, Alaska&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.9521e+06,3.2474e+05 ],[ &quot;Rockfish&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.2507e+05, 47280 ],[ &quot;Sablefish&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 75451, 79634 ],[ &quot;Salmon&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,7.1583e+05,5.8285e+05 ],[ &quot;Scup or porgy&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 14014,  8669 ],[ &quot;Sea trout, gray&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7467,  4479 ],[ &quot;Shark, Dogfish&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 42327,  4675 ],[ &quot;Snapper, red&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3471,  7354 ],[ &quot;Swordfish&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 19713, 60320 ],[ &quot;Tuna&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 56803, 90822 ],[ &quot;Whiting (Atlantic, silver)&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 35893, 10990 ],[ &quot;Whiting (Pacific, hake)&quot;,1992,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.2375e+05,  5866 ],[ &quot;Clams&quot;,1992,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.4245e+05,1.2733e+05 ],[ &quot;Crabs&quot;,1992,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,6.2432e+05,4.7132e+05 ],[ &quot;Lobsters: American&quot;,1992,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 55841,1.6095e+05 ],[ &quot;Oysters&quot;,1992,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 36156,1.1454e+05 ],[ &quot;Scallops, Calico&quot;,1992,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,null ],[ &quot;Scallops, sea&quot;,1992,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 33528,1.6223e+05 ],[ &quot;Shrimp&quot;,1992,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.3776e+05,4.7995e+05 ],[ &quot;Squid, Atlantic&quot;,1992,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 81944, 33925 ],[ &quot;Squid, Pacific&quot;,1992,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 30436,  2698 ],[ &quot;Anchovies&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9786,  4518 ],[ &quot;Bluefish&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10575,  2970 ],[ &quot;Butterfish&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10470,  7039 ],[ &quot;Cod, Atlantic&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 50503, 44956 ],[ &quot;Cod, Pacific&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.828e+05,1.1617e+05 ],[ &quot;Croaker&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9377,  3758 ],[ &quot;Flounders&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.9918e+05,1.356e+05 ],[ &quot;Haddock&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  1938,  2672 ],[ &quot;Halibut&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 63053, 62391 ],[ &quot;Herring, sea; Atlantic &quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.0964e+05,  6511 ],[ &quot;Herring, sea; Pacific&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.0657e+05, 18711 ],[ &quot;Jack mackerel&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3925,   232 ],[ &quot;Mackerel, Chub&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 24051,  1359 ],[ &quot;Menhaden&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.9833e+06,1.0326e+05 ],[ &quot;Mullet&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 31568, 12870 ],[ &quot;Ocean perch, Atlantic&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  1764,   805 ],[ &quot;Ocean perch, Pacific&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 45522, 13477 ],[ &quot;Pollock, Atlantic&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 12500,  8370 ],[ &quot;Pollock, Alaska&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.258e+06,3.5838e+05 ],[ &quot;Rockfish&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.2066e+05, 45696 ],[ &quot;Sablefish&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 77467, 83861 ],[ &quot;Salmon&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,8.8813e+05,4.2353e+05 ],[ &quot;Scup or porgy&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10301,  6439 ],[ &quot;Sea trout, gray&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7032,  4216 ],[ &quot;Shark, Dogfish&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 50164,  6257 ],[ &quot;Snapper, red&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3520,  7608 ],[ &quot;Swordfish&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 21951, 55544 ],[ &quot;Tuna&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 55392, 91430 ],[ &quot;Whiting (Atlantic, silver)&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 35735, 12872 ],[ &quot;Whiting (Pacific, hake)&quot;,1993,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.1018e+05,  9326 ],[ &quot;Clams&quot;,1993,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.4775e+05,1.3803e+05 ],[ &quot;Crabs&quot;,1993,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,6.0444e+05,5.1049e+05 ],[ &quot;Lobsters: American&quot;,1993,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 56513,1.5175e+05 ],[ &quot;Oysters&quot;,1993,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 33575, 86698 ],[ &quot;Scallops, Calico&quot;,1993,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,null ],[ &quot;Scallops, sea&quot;,1993,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 18116,1.056e+05 ],[ &quot;Shrimp&quot;,1993,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,2.9289e+05,4.129e+05 ],[ &quot;Squid, Atlantic&quot;,1993,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 90809, 38323 ],[ &quot;Squid, Pacific&quot;,1993,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 71550,  8079 ],[ &quot;Anchovies&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8334,  1890 ],[ &quot;Bluefish&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9825,  2937 ],[ &quot;Butterfish&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10215,  4857 ],[ &quot;Cod, Atlantic&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 38653, 36160 ],[ &quot;Cod, Pacific&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.6029e+05, 95836 ],[ &quot;Croaker&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 11460,  4321 ],[ &quot;Flounders&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.2686e+05,1.2658e+05 ],[ &quot;Haddock&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   724,  1033 ],[ &quot;Halibut&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 57900, 84898 ],[ &quot;Herring, sea; Atlantic &quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.01e+05,  5816 ],[ &quot;Herring, sea; Pacific&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.1284e+05, 25587 ],[ &quot;Jack mackerel&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6387,   366 ],[ &quot;Mackerel, Chub&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 22148,  1283 ],[ &quot;Menhaden&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.3235e+06,1.2836e+05 ],[ &quot;Mullet&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 30544, 14943 ],[ &quot;Ocean perch, Atlantic&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   968,   602 ],[ &quot;Ocean perch, Pacific&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 30865,  4355 ],[ &quot;Pollock, Atlantic&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8238,  6730 ],[ &quot;Pollock, Alaska&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.1245e+06,3.7593e+05 ],[ &quot;Rockfish&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 91705, 44062 ],[ &quot;Sablefish&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 71339, 84827 ],[ &quot;Salmon&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,9.0109e+05,4.5641e+05 ],[ &quot;Scup or porgy&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10297,  7028 ],[ &quot;Sea trout, gray&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6101,  3998 ],[ &quot;Shark, Dogfish&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 46829,  6393 ],[ &quot;Snapper, red&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3771,  8718 ],[ &quot;Swordfish&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 15260, 44728 ],[ &quot;Tuna&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 71795,1.0866e+05 ],[ &quot;Whiting (Atlantic, silver)&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 35619, 13828 ],[ &quot;Whiting (Pacific, hake)&quot;,1994,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.572e+05, 16747 ],[ &quot;Clams&quot;,1994,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.3143e+05,1.2236e+05 ],[ &quot;Crabs&quot;,1994,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,4.4694e+05,5.3299e+05 ],[ &quot;Lobsters: American&quot;,1994,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 66416,1.9618e+05 ],[ &quot;Oysters&quot;,1994,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 38086, 93737 ],[ &quot;Scallops, Calico&quot;,1994,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,  7162,  6944 ],[ &quot;Scallops, sea&quot;,1994,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 18228, 91793 ],[ &quot;Shrimp&quot;,1994,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,2.8226e+06,5.6417e+05 ],[ &quot;Squid, Atlantic&quot;,1994,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,9.3339e+05, 43409 ],[ &quot;Squid, Pacific&quot;,1994,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.224e+05, 20335 ],[ &quot;Anchovies&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6788,  1193 ],[ &quot;Bluefish&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8379,  2855 ],[ &quot;Butterfish&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6430,  3186 ],[ &quot;Cod, Atlantic&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 29631, 28184 ],[ &quot;Cod, Pacific&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.914e+05,1.0968e+05 ],[ &quot;Croaker&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16027,  5855 ],[ &quot;Flounders&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.2344e+05,1.5024e+05 ],[ &quot;Haddock&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   877,  1207 ],[ &quot;Halibut&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 44796, 66781 ],[ &quot;Herring, sea; Atlantic &quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.4718e+05,  8654 ],[ &quot;Herring, sea; Pacific&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.1748e+05, 49245 ],[ &quot;Jack mackerel&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4132,   279 ],[ &quot;Mackerel, Chub&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 18974,  1130 ],[ &quot;Menhaden&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.847e+06, 99131 ],[ &quot;Mullet&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 22249, 14725 ],[ &quot;Ocean perch, Atlantic&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   962,   608 ],[ &quot;Ocean perch, Pacific&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 34420,  4660 ],[ &quot;Pollock, Atlantic&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7152,  6602 ],[ &quot;Pollock, Alaska&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.8526e+06,2.5961e+05 ],[ &quot;Rockfish&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 90119, 41125 ],[ &quot;Sablefish&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 65904,1.2369e+05 ],[ &quot;Salmon&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.0208e+06,4.8611e+05 ],[ &quot;Scup or porgy&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7221,  6646 ],[ &quot;Sea trout, gray&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6824,  4124 ],[ &quot;Shark, Dogfish&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 52980,  9516 ],[ &quot;Snapper, red&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3645,  8356 ],[ &quot;Swordfish&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 13043, 37270 ],[ &quot;Tuna&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 63864,1.0264e+05 ],[ &quot;Whiting (Atlantic, silver)&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 33548, 14632 ],[ &quot;Whiting (Pacific, hake)&quot;,1995,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.903e+05, 18002 ],[ &quot;Clams&quot;,1995,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.3422e+05,1.4041e+05 ],[ &quot;Crabs&quot;,1995,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.6364e+05,5.1199e+05 ],[ &quot;Lobsters: American&quot;,1995,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 66406,2.1484e+05 ],[ &quot;Oysters&quot;,1995,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 40380,1.0157e+05 ],[ &quot;Scallops, Calico&quot;,1995,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,   957,  1219 ],[ &quot;Scallops, sea&quot;,1995,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 18316, 92826 ],[ &quot;Shrimp&quot;,1995,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.0687e+05,5.7003e+05 ],[ &quot;Squid, Atlantic&quot;,1995,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 74248, 33269 ],[ &quot;Squid, Pacific&quot;,1995,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.5528e+05, 22660 ],[ &quot;Anchovies&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9933,   988 ],[ &quot;Bluefish&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9356,  3166 ],[ &quot;Butterfish&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9685,  5747 ],[ &quot;Cod, Atlantic&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 31422, 26634 ],[ &quot;Cod, Pacific&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,6.0531e+05,1.1198e+05 ],[ &quot;Croaker&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 20483,  7386 ],[ &quot;Flounders&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.5953e+05,1.5405e+05 ],[ &quot;Haddock&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  1257,  1494 ],[ &quot;Halibut&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 49092, 83468 ],[ &quot;Herring, sea; Atlantic &quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.9712e+05, 11194 ],[ &quot;Herring, sea; Pacific&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.2043e+05, 69747 ],[ &quot;Jack mackerel&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4798,   296 ],[ &quot;Mackerel, Chub&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 21994,  1336 ],[ &quot;Menhaden&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.7555e+06, 94150 ],[ &quot;Mullet&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 17026, 12518 ],[ &quot;Ocean perch, Atlantic&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   720,   477 ],[ &quot;Ocean perch, Pacific&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 46305,  6171 ],[ &quot;Pollock, Atlantic&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6529,  4543 ],[ &quot;Pollock, Alaska&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.6231e+06,2.3813e+05 ],[ &quot;Rockfish&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 94760, 39049 ],[ &quot;Sablefish&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 59949,1.0901e+05 ],[ &quot;Salmon&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,8.7706e+05,3.6873e+05 ],[ &quot;Scup or porgy&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6895,  7330 ],[ &quot;Sea trout, gray&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7189,  4839 ],[ &quot;Shark, Dogfish&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 65342, 11804 ],[ &quot;Snapper, red&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4422,  9528 ],[ &quot;Swordfish&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 12879, 36494 ],[ &quot;Tuna&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 85439,1.1026e+05 ],[ &quot;Whiting (Atlantic, silver)&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 35400, 13494 ],[ &quot;Whiting (Pacific, hake)&quot;,1996,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.3054e+05, 17031 ],[ &quot;Clams&quot;,1996,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.2324e+05,1.2778e+05 ],[ &quot;Crabs&quot;,1996,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.918e+05,4.2670e+05 ],[ &quot;Lobsters: American&quot;,1996,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 71641,2.418e+05 ],[ &quot;Oysters&quot;,1996,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 38007,1.1484e+05 ],[ &quot;Scallops, Calico&quot;,1996,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,null ],[ &quot;Scallops, sea&quot;,1996,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 18162,1.0182e+05 ],[ &quot;Shrimp&quot;,1996,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.1688e+05,5.092e+05 ],[ &quot;Squid, Atlantic&quot;,1996,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 65248, 28514 ],[ &quot;Squid, Pacific&quot;,1996,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.7478e+05, 31712 ],[ &quot;Anchovies&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 12738,   827 ],[ &quot;Bluefish&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9307,  2849 ],[ &quot;Butterfish&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7544,  5112 ],[ &quot;Cod, Atlantic&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 28619, 24464 ],[ &quot;Cod, Pacific&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,6.6131e+05,1.4243e+05 ],[ &quot;Croaker&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 27781,  9058 ],[ &quot;Flounders&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.6635e+05,1.3077e+05 ],[ &quot;Haddock&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3316,  3595 ],[ &quot;Halibut&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 69864,1.1736e+05 ],[ &quot;Herring, sea; Atlantic &quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.1101e+05, 11543 ],[ &quot;Herring, sea; Pacific&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.3686e+05, 29341 ],[ &quot;Jack mackerel&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  2557,   281 ],[ &quot;Mackerel, Chub&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 40558,  2762 ],[ &quot;Menhaden&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.0278e+06,1.1205e+05 ],[ &quot;Mullet&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 19637, 13419 ],[ &quot;Ocean perch, Atlantic&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   553,   346 ],[ &quot;Ocean perch, Pacific&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 43166,  3186 ],[ &quot;Pollock, Atlantic&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9372,  5349 ],[ &quot;Pollock, Alaska&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.5125e+06,2.4259e+05 ],[ &quot;Rockfish&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.1699e+05, 47899 ],[ &quot;Sablefish&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 52925,1.0878e+05 ],[ &quot;Salmon&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.6766e+05,2.7037e+05 ],[ &quot;Scup or porgy&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5718,  7449 ],[ &quot;Sea trout, gray&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7314,  4136 ],[ &quot;Shark, Dogfish&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 46345,  7307 ],[ &quot;Snapper, red&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5161, 10365 ],[ &quot;Swordfish&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 13586, 33786 ],[ &quot;Tuna&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 82855,1.0979e+05 ],[ &quot;Whiting (Atlantic, silver)&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 34248, 15024 ],[ &quot;Whiting (Pacific, hake)&quot;,1997,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.996e+05, 27344 ],[ &quot;Clams&quot;,1997,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.1418e+05,1.2969e+05 ],[ &quot;Crabs&quot;,1997,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,4.2996e+05,4.2955e+05 ],[ &quot;Lobsters: American&quot;,1997,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 83921,2.6722e+05 ],[ &quot;Oysters&quot;,1997,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 37115, 92243 ],[ &quot;Scallops, Calico&quot;,1997,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,  3601 ],[ &quot;Scallops, sea&quot;,1997,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 13789, 90291 ],[ &quot;Shrimp&quot;,1997,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,2.9026e+05,5.4406e+05 ],[ &quot;Squid, Atlantic&quot;,1997,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 66177, 33343 ],[ &quot;Squid, Pacific&quot;,1997,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.5761e+05, 22108 ],[ &quot;Anchovies&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3429,   242 ],[ &quot;Bluefish&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8299,  2765 ],[ &quot;Butterfish&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5684,  2848 ],[ &quot;Cod, Atlantic&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 24514, 25474 ],[ &quot;Cod, Pacific&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.5599e+05, 87717 ],[ &quot;Croaker&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 25542,  9719 ],[ &quot;Flounders&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.9118e+05, 96804 ],[ &quot;Haddock&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6252,  7880 ],[ &quot;Halibut&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 73260,1.0397e+05 ],[ &quot;Herring, sea; Atlantic &quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.7972e+05, 10856 ],[ &quot;Herring, sea; Pacific&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 92296, 10722 ],[ &quot;Jack mackerel&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3445,   308 ],[ &quot;Mackerel, Chub&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 45025,  2547 ],[ &quot;Menhaden&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.7057e+06,1.0384e+05 ],[ &quot;Mullet&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 17921,  9420 ],[ &quot;Ocean perch, Atlantic&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   706,   419 ],[ &quot;Ocean perch, Pacific&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 40663,  4072 ],[ &quot;Pollock, Atlantic&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 12307,  8101 ],[ &quot;Pollock, Alaska&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.7165e+06,1.9015e+05 ],[ &quot;Rockfish&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 70058, 33041 ],[ &quot;Sablefish&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 43500, 91823 ],[ &quot;Salmon&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,6.4443e+05,2.5746e+05 ],[ &quot;Scup or porgy&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4913,  6882 ],[ &quot;Sea trout, gray&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8423,  4060 ],[ &quot;Shark, Dogfish&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 49111,  8139 ],[ &quot;Snapper, red&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4257,  9899 ],[ &quot;Swordfish&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 15093, 28888 ],[ &quot;Tuna&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 84999, 94462 ],[ &quot;Whiting (Atlantic, silver)&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 32990, 13369 ],[ &quot;Whiting (Pacific, hake)&quot;,1998,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.0155e+05, 19931 ],[ &quot;Clams&quot;,1998,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.0796e+05,1.3524e+05 ],[ &quot;Crabs&quot;,1998,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,5.5272e+05,4.7338e+05 ],[ &quot;Lobsters: American&quot;,1998,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 79642,2.5364e+05 ],[ &quot;Oysters&quot;,1998,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 33538, 88627 ],[ &quot;Scallops, Calico&quot;,1998,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,null ],[ &quot;Scallops, sea&quot;,1998,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 13061, 79606 ],[ &quot;Shrimp&quot;,1998,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,2.7776e+05,5.1562e+05 ],[ &quot;Squid, Atlantic&quot;,1998,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 93245, 41881 ],[ &quot;Squid, Pacific&quot;,1998,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,  6208,  1591 ],[ &quot;Anchovies&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 11736,  1358 ],[ &quot;Bluefish&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7405,  2673 ],[ &quot;Butterfish&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6090,  3068 ],[ &quot;Cod, Atlantic&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 21445, 23943 ],[ &quot;Cod, Pacific&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.2399e+05, 83227 ],[ &quot;Croaker&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 27016,  7798 ],[ &quot;Flounders&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.3122e+05, 89946 ],[ &quot;Haddock&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6937,  9120 ],[ &quot;Halibut&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 80330,1.247e+05 ],[ &quot;Herring, sea; Atlantic &quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.7548e+05, 11082 ],[ &quot;Herring, sea; Pacific&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 91059, 14989 ],[ &quot;Jack mackerel&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  2461,   199 ],[ &quot;Mackerel, Chub&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 19217,  1082 ],[ &quot;Menhaden&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.9891e+06,1.1308e+05 ],[ &quot;Mullet&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 15336,  8486 ],[ &quot;Ocean perch, Atlantic&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   778,   420 ],[ &quot;Ocean perch, Pacific&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 45402,  3640 ],[ &quot;Pollock, Atlantic&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10129,  8440 ],[ &quot;Pollock, Alaska&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.3259e+06,1.6281e+05 ],[ &quot;Rockfish&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 63223, 30436 ],[ &quot;Sablefish&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 48255, 97148 ],[ &quot;Salmon&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,8.149e+05,3.5978e+05 ],[ &quot;Scup or porgy&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3879,  4783 ],[ &quot;Sea trout, gray&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6935,  4188 ],[ &quot;Shark, Dogfish&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 36712,  5951 ],[ &quot;Snapper, red&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4722, 10492 ],[ &quot;Swordfish&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16022, 33436 ],[ &quot;Tuna&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 58120, 86254 ],[ &quot;Whiting (Atlantic, silver)&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 30997, 14282 ],[ &quot;Whiting (Pacific, hake)&quot;,1999,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.7815e+05, 18593 ],[ &quot;Clams&quot;,1999,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.1223e+05,1.3502e+05 ],[ &quot;Crabs&quot;,1999,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,4.5831e+05,5.2124e+05 ],[ &quot;Lobsters: American&quot;,1999,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 87469,3.2296e+05 ],[ &quot;Oysters&quot;,1999,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 26983, 72658 ],[ &quot;Scallops, Calico&quot;,1999,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,  4105,  3880 ],[ &quot;Scallops, sea&quot;,1999,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 23038,1.2529e+05 ],[ &quot;Shrimp&quot;,1999,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.0417e+05,5.605e+05 ],[ &quot;Squid, Atlantic&quot;,1999,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 58310, 36218 ],[ &quot;Squid, Pacific&quot;,1999,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.9989e+05, 34954 ],[ &quot;Anchovies&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 25324,  1129 ],[ &quot;Bluefish&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8072,  2796 ],[ &quot;Butterfish&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4677,  1922 ],[ &quot;Cod, Atlantic&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 25060, 26384 ],[ &quot;Cod, Pacific&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.3050e+05,1.4233e+05 ],[ &quot;Croaker&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 26991, 10249 ],[ &quot;Flounders&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.1272e+05,1.0991e+05 ],[ &quot;Haddock&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8823, 11575 ],[ &quot;Halibut&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 75190,1.4383e+05 ],[ &quot;Herring, sea; Atlantic &quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.6027e+05,  9972 ],[ &quot;Herring, sea; Pacific&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 74835, 12043 ],[ &quot;Jack mackerel&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  2902,   247 ],[ &quot;Mackerel, Chub&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 47065,  2826 ],[ &quot;Menhaden&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.7605e+06,1.124e+05 ],[ &quot;Mullet&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 20554, 13652 ],[ &quot;Ocean perch, Atlantic&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   702,   375 ],[ &quot;Ocean perch, Pacific&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 39521,  2597 ],[ &quot;Pollock, Atlantic&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8913,  7028 ],[ &quot;Pollock, Alaska&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.6068e+06,1.6052e+05 ],[ &quot;Rockfish&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 50044, 23385 ],[ &quot;Sablefish&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 49680,1.0116e+05 ],[ &quot;Salmon&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,6.2864e+05,2.7021e+05 ],[ &quot;Scup or porgy&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3018,  3670 ],[ &quot;Sea trout, gray&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5375,  3589 ],[ &quot;Shark, Dogfish&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 23680,  4853 ],[ &quot;Snapper, red&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5084, 12003 ],[ &quot;Swordfish&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 17805, 37981 ],[ &quot;Tuna&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 50779, 95176 ],[ &quot;Whiting (Atlantic, silver)&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 26855, 11370 ],[ &quot;Whiting (Pacific, hake)&quot;,2000,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.5272e+05, 18809 ],[ &quot;Clams&quot;,2000,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.1848e+05,1.5397e+05 ],[ &quot;Crabs&quot;,2000,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,2.9901e+05,4.0501e+05 ],[ &quot;Lobsters: American&quot;,2000,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 83180,3.013e+05 ],[ &quot;Oysters&quot;,2000,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 41146, 90667 ],[ &quot;Scallops, Calico&quot;,2000,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,null ],[ &quot;Scallops, sea&quot;,2000,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 32747,1.6461e+05 ],[ &quot;Shrimp&quot;,2000,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.3249e+05,6.9045e+05 ],[ &quot;Squid, Atlantic&quot;,2000,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 57520, 27956 ],[ &quot;Squid, Pacific&quot;,2000,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,2.5951e+05, 27077 ],[ &quot;Anchovies&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 42460,  1422 ],[ &quot;Bluefish&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8804,  3088 ],[ &quot;Butterfish&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10939,  3582 ],[ &quot;Cod, Atlantic&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 33211, 32086 ],[ &quot;Cod, Pacific&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.7171e+05,1.1807e+05 ],[ &quot;Croaker&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 29000,  8315 ],[ &quot;Flounders&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.5236e+05,1.0524e+05 ],[ &quot;Haddock&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 12845, 14513 ],[ &quot;Halibut&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 77978,1.1517e+05 ],[ &quot;Herring, sea; Atlantic &quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.0919e+05, 12717 ],[ &quot;Herring, sea; Pacific&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 91297, 13213 ],[ &quot;Jack mackerel&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8464,   614 ],[ &quot;Mackerel, Chub&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 15981,  1172 ],[ &quot;Menhaden&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.7414e+06,1.0269e+05 ],[ &quot;Mullet&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 18535, 11332 ],[ &quot;Ocean perch, Atlantic&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   794,   358 ],[ &quot;Ocean perch, Pacific&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 38997,  1692 ],[ &quot;Pollock, Atlantic&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9058,  6200 ],[ &quot;Pollock, Alaska&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.1794e+06,2.3072e+05 ],[ &quot;Rockfish&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 43909, 21158 ],[ &quot;Sablefish&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 44037, 80361 ],[ &quot;Salmon&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,7.2283e+05,2.0893e+05 ],[ &quot;Scup or porgy&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4538,  3857 ],[ &quot;Sea trout, gray&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5010,  3150 ],[ &quot;Shark, Dogfish&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7703,  1778 ],[ &quot;Snapper, red&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5048, 11902 ],[ &quot;Swordfish&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9409, 19831 ],[ &quot;Tuna&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 51854, 93497 ],[ &quot;Whiting (Atlantic, silver)&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 28479, 13232 ],[ &quot;Whiting (Pacific, hake)&quot;,2001,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.793e+05, 16147 ],[ &quot;Clams&quot;,2001,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.2276e+05,1.6199e+05 ],[ &quot;Crabs&quot;,2001,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,2.7225e+05,3.8167e+05 ],[ &quot;Lobsters: American&quot;,2001,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 73637,2.5433e+05 ],[ &quot;Oysters&quot;,2001,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 32673, 80946 ],[ &quot;Scallops, Calico&quot;,2001,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,null ],[ &quot;Scallops, sea&quot;,2001,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 46958,1.7535e+05 ],[ &quot;Shrimp&quot;,2001,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.2448e+05,5.6855e+05 ],[ &quot;Squid, Atlantic&quot;,2001,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 40167, 22621 ],[ &quot;Squid, Pacific&quot;,2001,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.9153e+05, 17834 ],[ &quot;Anchovies&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10762,   623 ],[ &quot;Bluefish&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6973,  2394 ],[ &quot;Butterfish&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  3363,  1431 ],[ &quot;Cod, Atlantic&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 29841, 30715 ],[ &quot;Cod, Pacific&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.1283e+05, 96206 ],[ &quot;Croaker&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 26146,  8029 ],[ &quot;Flounders&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.727e+05,1.0237e+05 ],[ &quot;Haddock&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16652, 19080 ],[ &quot;Halibut&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 82044,1.356e+05 ],[ &quot;Herring, sea; Atlantic &quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.3587e+05,  9106 ],[ &quot;Herring, sea; Pacific&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 78408, 11534 ],[ &quot;Jack mackerel&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  2262,   207 ],[ &quot;Mackerel, Chub&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7706,   496 ],[ &quot;Menhaden&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.7506e+06,1.051e+05 ],[ &quot;Mullet&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 15609,  9971 ],[ &quot;Ocean perch, Atlantic&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   811,   487 ],[ &quot;Ocean perch, Pacific&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 45390,  4613 ],[ &quot;Pollock, Atlantic&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7894,  6200 ],[ &quot;Pollock, Alaska&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.3411e+06,2.037e+05 ],[ &quot;Rockfish&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 36039, 17811 ],[ &quot;Sablefish&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 40908, 78281 ],[ &quot;Salmon&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.6718e+05,1.5501e+05 ],[ &quot;Scup or porgy&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7749,  5263 ],[ &quot;Sea trout, gray&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4765,  3064 ],[ &quot;Shark, Dogfish&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8513,  1913 ],[ &quot;Snapper, red&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4522, 10196 ],[ &quot;Swordfish&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8642, 17106 ],[ &quot;Tuna&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 49358, 84116 ],[ &quot;Whiting (Atlantic, silver)&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 17622,  7454 ],[ &quot;Whiting (Pacific, hake)&quot;,2002,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.8571e+05, 13584 ],[ &quot;Clams&quot;,2002,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.3008e+05,1.6722e+05 ],[ &quot;Crabs&quot;,2002,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.076e+05,3.977e+05 ],[ &quot;Lobsters: American&quot;,2002,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 82252,2.9333e+05 ],[ &quot;Oysters&quot;,2002,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 34397, 89071 ],[ &quot;Scallops, Calico&quot;,2002,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,null ],[ &quot;Scallops, sea&quot;,2002,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 53056,2.0371e+05 ],[ &quot;Shrimp&quot;,2002,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.1673e+05,4.6088e+05 ],[ &quot;Squid, Atlantic&quot;,2002,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 44856, 25284 ],[ &quot;Squid, Pacific&quot;,2002,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.6068e+05, 18262 ],[ &quot;Anchovies&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4253,   342 ],[ &quot;Bluefish&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7509,  2477 ],[ &quot;Butterfish&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  2840,  1097 ],[ &quot;Cod, Atlantic&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 23628, 27559 ],[ &quot;Cod, Pacific&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.6754e+05,1.5962e+05 ],[ &quot;Croaker&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 28777,  9218 ],[ &quot;Flounders&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.646e+05, 94454 ],[ &quot;Haddock&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 14960, 16962 ],[ &quot;Halibut&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 79515,1.7219e+05 ],[ &quot;Herring, sea; Atlantic &quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.1252e+05, 15554 ],[ &quot;Herring, sea; Pacific&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 74332, 10456 ],[ &quot;Jack mackerel&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   510,    73 ],[ &quot;Mackerel, Chub&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9658,   676 ],[ &quot;Menhaden&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.5993e+06, 96080 ],[ &quot;Mullet&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16054, 12496 ],[ &quot;Ocean perch, Atlantic&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   801,   412 ],[ &quot;Ocean perch, Pacific&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 47249,  1528 ],[ &quot;Pollock, Atlantic&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10569,  5399 ],[ &quot;Pollock, Alaska&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.3618e+06,2.0318e+05 ],[ &quot;Rockfish&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 35544, 15724 ],[ &quot;Sablefish&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 47901,1.0019e+05 ],[ &quot;Salmon&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,6.7412e+05,2.0089e+05 ],[ &quot;Scup or porgy&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10408,  6409 ],[ &quot;Sea trout, gray&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  2001,  1494 ],[ &quot;Shark, Dogfish&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5529,  1173 ],[ &quot;Snapper, red&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  2834,  6838 ],[ &quot;Swordfish&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9356, 18059 ],[ &quot;Tuna&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 61886, 86882 ],[ &quot;Whiting (Atlantic, silver)&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 19066,  9330 ],[ &quot;Whiting (Pacific, hake)&quot;,2003,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.0936e+05, 17153 ],[ &quot;Clams&quot;,2003,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.2781e+05,1.6249e+05 ],[ &quot;Crabs&quot;,2003,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.3207e+05,4.8084e+05 ],[ &quot;Lobsters: American&quot;,2003,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 73657,2.9215e+05 ],[ &quot;Oysters&quot;,2003,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 37103,1.036e+05 ],[ &quot;Scallops, Calico&quot;,2003,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,null ],[ &quot;Scallops, sea&quot;,2003,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 56023,2.2917e+05 ],[ &quot;Shrimp&quot;,2003,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.1527e+05,4.2070e+05 ],[ &quot;Squid, Atlantic&quot;,2003,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 40732, 24251 ],[ &quot;Squid, Pacific&quot;,2003,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.0071e+05, 25433 ],[ &quot;Anchovies&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 15474,   819 ],[ &quot;Bluefish&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8202,  2303 ],[ &quot;Butterfish&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  2447,  1071 ],[ &quot;Cod, Atlantic&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16069, 21691 ],[ &quot;Cod, Pacific&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.9065e+05,1.4898e+05 ],[ &quot;Croaker&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 25650,  8709 ],[ &quot;Flounders&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.5978e+05,1.2396e+05 ],[ &quot;Haddock&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 18171, 18529 ],[ &quot;Halibut&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 80056,1.7640e+05 ],[ &quot;Herring, sea; Atlantic &quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.8928e+05, 15084 ],[ &quot;Herring, sea; Pacific&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 75330, 15246 ],[ &quot;Jack mackerel&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  2672,   275 ],[ &quot;Mackerel, Chub&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  8125,   573 ],[ &quot;Menhaden&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.4976e+06, 72447 ],[ &quot;Mullet&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16445, 10371 ],[ &quot;Ocean perch, Atlantic&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   877,   458 ],[ &quot;Ocean perch, Pacific&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 45421,  4886 ],[ &quot;Pollock, Atlantic&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 11177,  5610 ],[ &quot;Pollock, Alaska&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.3534e+06,2.7163e+05 ],[ &quot;Rockfish&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 31081, 13358 ],[ &quot;Sablefish&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 52862,1.3547e+05 ],[ &quot;Salmon&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,7.3873e+05,3.0264e+05 ],[ &quot;Scup or porgy&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  9717,  6456 ],[ &quot;Sea trout, gray&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  1579,  1275 ],[ &quot;Shark, Dogfish&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  5179,  1412 ],[ &quot;Snapper, red&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4847, 12161 ],[ &quot;Swordfish&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6389, 14639 ],[ &quot;Tuna&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 56541, 91138 ],[ &quot;Whiting (Atlantic, silver)&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 18965,  9918 ],[ &quot;Whiting (Pacific, hake)&quot;,2004,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.7453e+05, 21823 ],[ &quot;Clams&quot;,2004,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.1941e+05,1.6641e+05 ],[ &quot;Crabs&quot;,2004,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.1564e+05,4.4982e+05 ],[ &quot;Lobsters: American&quot;,2004,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 88386,3.6601e+05 ],[ &quot;Oysters&quot;,2004,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 38654,1.1212e+05 ],[ &quot;Scallops, Calico&quot;,2004,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,null ],[ &quot;Scallops, sea&quot;,2004,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 64580,3.2138e+05 ],[ &quot;Shrimp&quot;,2004,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,3.093e+05,4.2762e+05 ],[ &quot;Squid, Atlantic&quot;,2004,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 90185, 42614 ],[ &quot;Squid, Pacific&quot;,2004,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 89580, 19831 ],[ &quot;Anchovies&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 25021,  1122 ],[ &quot;Bluefish&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7184,  2491 ],[ &quot;Butterfish&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  1039,   825 ],[ &quot;Cod, Atlantic&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 13910, 20816 ],[ &quot;Cod, Pacific&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.4875e+05,1.5074e+05 ],[ &quot;Croaker&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 24210,  9055 ],[ &quot;Flounders&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,4.1941e+05,1.351e+05 ],[ &quot;Haddock&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16627, 19023 ],[ &quot;Halibut&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 76955,1.7716e+05 ],[ &quot;Herring, sea; Atlantic &quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,2.1556e+05, 20467 ],[ &quot;Herring, sea; Pacific&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 87295, 13801 ],[ &quot;Jack mackerel&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,   656,    76 ],[ &quot;Mackerel, Chub&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  7852,   576 ],[ &quot;Menhaden&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,1.2437e+06, 62455 ],[ &quot;Mullet&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10697,  7318 ],[ &quot;Ocean perch, Atlantic&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  1243,   715 ],[ &quot;Ocean perch, Pacific&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 42935,  5755 ],[ &quot;Pollock, Atlantic&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 14350,  7878 ],[ &quot;Pollock, Alaska&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,3.4105e+06,3.0693e+05 ],[ &quot;Rockfish&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 30008, 12220 ],[ &quot;Sablefish&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 51083,1.3623e+05 ],[ &quot;Salmon&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,8.9944e+05,3.3067e+05 ],[ &quot;Scup or porgy&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 10071,  7735 ],[ &quot;Sea trout, gray&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  1294,  1062 ],[ &quot;Shark, Dogfish&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4993,  1244 ],[ &quot;Snapper, red&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  4188, 11579 ],[ &quot;Swordfish&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,  6980, 17189 ],[ &quot;Tuna&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 44394, 85707 ],[ &quot;Whiting (Atlantic, silver)&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;, 16561,  8284 ],[ &quot;Whiting (Pacific, hake)&quot;,2005,&quot;fish&quot;,&quot;quantity_1000lbs&quot;,5.6693e+05, 29047 ],[ &quot;Clams&quot;,2005,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.0562e+05,1.7354e+05 ],[ &quot;Crabs&quot;,2005,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,2.9775e+05,4.1304e+05 ],[ &quot;Lobsters: American&quot;,2005,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 87550,4.1419e+05 ],[ &quot;Oysters&quot;,2005,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 33957,1.1061e+05 ],[ &quot;Scallops, Calico&quot;,2005,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,null,null ],[ &quot;Scallops, sea&quot;,2005,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 56704,4.3352e+05 ],[ &quot;Shrimp&quot;,2005,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,2.6112e+05,4.0651e+05 ],[ &quot;Squid, Atlantic&quot;,2005,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;, 63422, 37392 ],[ &quot;Squid, Pacific&quot;,2005,&quot;shellfish&quot;,&quot;quantity_1000lbs&quot;,1.2571e+05, 31670 ] ];data.addColumn(&#39;string&#39;,&#39;species&#39;);data.addColumn(&#39;number&#39;,&#39;year&#39;);data.addColumn(&#39;string&#39;,&#39;type&#39;);data.addColumn(&#39;string&#39;,&#39;var&#39;);data.addColumn(&#39;number&#39;,&#39;quantity_1000lbs&#39;);data.addColumn(&#39;number&#39;,&#39;value_1000dollars&#39;);data.addRows(datajson);var chart = new google.visualization.MotionChart(   document.getElementById(&#39;MotionChart_2011-01-17-08-09-24&#39;));var options ={};options[&quot;width&quot;] =    600;options[&quot;height&quot;] =    500;chart.draw(data,options);}&lt;/script&gt;&lt;br /&gt;&amp;lt;div id=&quot;MotionChart_2011-01-17-08-09-24&quot; style=&quot;height: 500px; width: 600px;&quot;&amp;gt;&amp;lt;/div&amp;gt;Data: fishdata, Chart ID: MotionChart_2011-01-17-08-09-24&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;R version 2.12.1 (2010-12-16),&lt;br /&gt;&lt;a href=&quot;http://code.google.com/apis/visualization/terms.html&quot;&gt;&lt;br /&gt;Google Terms of Use&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;div style=&quot;overflow: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;fishdatagg2 &amp;lt;- ddply&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fish2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;.&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;species&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/stats/var&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;var&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;summarise&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt; = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;value&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; se = &lt;a href=&quot;http://inside-r.org/r-doc/stats/sd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;sd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;value&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;/sqrt&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;value&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;fishdatagg2 &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/subset&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;subset&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fishdatagg2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;fishdatagg2$var %in% &lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“quantity_1000lbs”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“value_1000dollars”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;limit3 &amp;lt;- aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ymax = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt; + se&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ymin = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt; - se&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;bysppfgrid &amp;lt;- &lt;a href=&quot;http://www.blogger.com/packages/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fishdatagg2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x=&lt;a href=&quot;http://inside-r.org/r-doc/stats/reorder&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;reorder&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;species&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/rank&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rank&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y=&lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;colour=species&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_errorbar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;limit3&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + facet_grid&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;. ~ &lt;a href=&quot;http://inside-r.org/r-doc/stats/var&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;var&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; scales=&lt;span style=&quot;color: blue;&quot;&gt;“free”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + opts&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;legend.position=&lt;span style=&quot;color: blue;&quot;&gt;“none”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + coord_flip&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + scale_y_continuous&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trans=&lt;span style=&quot;color: blue;&quot;&gt;“log”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“bysppfgrid.jpeg”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;http://2.bp.blogspot.com/_fANWq796z-w/TTRvw6n41xI/AAAAAAAAEYk/aaoDVQ_C8kk/s1600/bysppfgrid.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;640&quot; src=&quot;http://2.bp.blogspot.com/_fANWq796z-w/TTRvw6n41xI/AAAAAAAAEYk/aaoDVQ_C8kk/s640/bysppfgrid.jpeg&quot; width=&quot;500&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>R and Google Visualization API: Wikispeedia</title>
   <link href="http://recology.info//2011/01/r-and-google-visualization-api-wikispeedia/"/>
   <updated>2011-01-17T17:48:00-08:00</updated>
   <id>http://recology.info//2011/01/r-and-google-visualization-api-wikispeedia</id>
   <content type="html">&lt;p&gt;Wikispeedia is a website trying to gather all speed limit signs on Earth.  I recently created a Google Visualization for some of their data, specifically on speed limit signs that change speed throughout the day.  Check it out &lt;a href=&quot;http://groups.google.com/group/wikispeedia/browse_thread/thread/c9c712125a597b16&quot;&gt;here&lt;/a&gt;.  Here is how to see and comment on what they are doing: &lt;a href=&quot;http://www.wikispeedia.org/&quot;&gt;website&lt;/a&gt;, and &lt;a href=&quot;http://groups.google.com/group/wikispeedia?lnk=&quot;&gt;Google groups&lt;/a&gt;.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Bipartite networks and R</title>
   <link href="http://recology.info//2011/01/bipartite-networks-and-r/"/>
   <updated>2011-01-14T07:05:00-08:00</updated>
   <id>http://recology.info//2011/01/bipartite-networks-and-r</id>
   <content type="html">&lt;p&gt;Earlier, I posted about &lt;a href=&quot;http://r-ecology.blogspot.com/2011/01/ecological-networks-from-abundance.html&quot;&gt;generating networks from abundance distributions that you specify&lt;/a&gt;. If this post was interesting, check out Jeff Kilpatrick’s website, where he provides code he produced in R and Octave to compare real bipartite networks to ones generated based on ecological variables measured in the field (in our case it was abundance, body size, and nectar production). We used that code for a paper we published]&lt;a href=&quot;http://www.springerlink.com/content/1055615l6m74mp30/&quot;&gt;paper&lt;/a&gt;. Code was modified from code produced by &lt;a href=&quot;http://www.cricyt.edu.ar/interactio/dvazquez/html/index_e.html&quot;&gt;Diego P. Vazquez&lt;/a&gt;.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Just for fun: Recovery.gov data snooping</title>
   <link href="http://recology.info//2011/01/just-for-fun-recoverygov-data-snooping/"/>
   <updated>2011-01-11T08:52:00-08:00</updated>
   <id>http://recology.info//2011/01/just-for-fun-recoverygov-data-snooping</id>
   <content type="html">&lt;script async=&quot;true&quot; src=&quot;http://pixel.propublica.org/pixel.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;
&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&amp;lt;/div&amp;gt;&lt;a href=&quot;http://projects.propublica.org/docdollars/&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; src=&quot;http://4.bp.blogspot.com/_fANWq796z-w/TS_ACipsARI/AAAAAAAAEYA/s0V0Qr5GY0g/s1600/data-by-propublica.jpg&quot; style=&quot;cursor: move;&quot; /&gt;&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&amp;gt;Okay, so this isn’t ecology related at all, but I like exploring data sets. So here goes…&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&amp;gt;Propublica has some awesome data sets available at their website: http://www.propublica.org/tools/&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&amp;gt;I played around with their data set on Recovery.gov (see hyperlink below in code). Here’s some figures:&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&amp;gt;Mean award amount, ranked by mean amount, and also categorized by number of grants received (“nfund”) by state (by size and color of point).  Yes, there are 56 “states”, which includes things like Northern Marian Islands (MP). Notice that California got the largest number of awards, but the mean award size was relatively small. &amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TSuMsqigYNI/AAAAAAAAEXo/XIv_2rHJ_J8/s1600/awardbystate.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;640&quot; src=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TSuMsqigYNI/AAAAAAAAEXo/XIv_2rHJ_J8/s640/awardbystate.jpeg&quot; width=&quot;572&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&amp;gt;Here is a figure by government organization that awarded each award, by mean award size (y-axis), number of awards (x-axis), and number of jobs created (numjobs=text size). Notice that the FCC (Federal Communications Commission) created nearly the most jobs despite not giving very large awards (although they did give a lot of awards). &amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;http://3.bp.blogspot.com/_fANWq796z-w/TSyI0xFggbI/AAAAAAAAEX0/36J9f_n89tY/s1600/awardbyagency.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;640&quot; src=&quot;http://3.bp.blogspot.com/_fANWq796z-w/TSyI0xFggbI/AAAAAAAAEX0/36J9f_n89tY/s640/awardbyagency.jpeg&quot; width=&quot;609&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&amp;gt;Here is a figure of mean awards by state on a map of the US:&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;http://4.bp.blogspot.com/_fANWq796z-w/TSuf8AnHDHI/AAAAAAAAEXs/pGxY_7ej7e8/s1600/bystatemapmeans.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;537&quot; src=&quot;http://4.bp.blogspot.com/_fANWq796z-w/TSuf8AnHDHI/AAAAAAAAEXs/pGxY_7ej7e8/s640/bystatemapmeans.jpeg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&amp;gt;And by number of awards by state:&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;http://3.bp.blogspot.com/_fANWq796z-w/TSuf9SKo2KI/AAAAAAAAEXw/QxDiC-DbvFc/s1600/bystatemapnumber.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;537&quot; src=&quot;http://3.bp.blogspot.com/_fANWq796z-w/TSuf9SKo2KI/AAAAAAAAEXw/QxDiC-DbvFc/s640/bystatemapnumber.jpeg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Here is the code:&lt;br /&gt;&lt;br /&gt;&amp;lt;div style=&quot;overflow: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;################################################################################&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#################### Propublica Recovery.gov data           ####################&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;################################################################################&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/install.packages&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;install.packages&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“ggplot2”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“maps”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“stringr”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://www.blogger.com/packages/ggplot2&quot;&gt;ggplot2&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://www.blogger.com/packages/maps&quot;&gt;maps&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://www.blogger.com/packages/stringr&quot;&gt;stringr&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/setwd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;setwd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“/Mac/R_stuff/Blog_etc”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Set working directory&lt;/span&gt;&lt;br /&gt;theme_set&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;theme_bw&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Read propublica data from file (download from here: http://propublica.s3.amazonaws.com/assets/recoverygov/propublica-recoverygov-primary-2.xls&lt;/span&gt;&lt;br /&gt;propubdat &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/utils/read.csv&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;read.csv&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“propublica-recoverygov-primary-2.csv”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/str&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;str&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;propubdat&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Summarize data&lt;/span&gt;&lt;br /&gt;fundbystate &amp;lt;- ddply&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;propubdat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;.&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;prime_state&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;summarise&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; meanfund = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;award_amount&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; sefund = &lt;a href=&quot;http://inside-r.org/r-doc/stats/sd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;sd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;award_amount&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;/sqrt&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;award_amount&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; nfund = &lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;award_amount&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; numjobs = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;number_of_jobs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;fundbyagency &amp;lt;- ddply&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;propubdat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;.&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;funding_agency_name&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;summarise&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; meanfund = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;award_amount&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; sefund = &lt;a href=&quot;http://inside-r.org/r-doc/stats/sd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;sd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;award_amount&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;/sqrt&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;award_amount&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; nfund = &lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;award_amount&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; numjobs = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;number_of_jobs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt; &lt;br /&gt;fun1 &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/function&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;a&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;{&lt;/span&gt;str_c&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/paste&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;paste&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/stats/na.omit&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;na.omit&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;str_extract&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/unlist&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;unlist&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;str_split&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/unlist&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;unlist&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/as.character&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;as.character&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;a&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;” ”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;“[A-Z]{1}”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/nlme/collapse&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;collapse&lt;/span&gt;&lt;/a&gt;=&lt;span style=&quot;color: blue;&quot;&gt;””&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;}&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Fxn to make funding agency name abbreviations within ddply below&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;fundbyagency2 &amp;lt;- ddply&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fundbyagency&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;.&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;funding_agency_name&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/transform&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;transform&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# add to table funding agency name abbreviations&lt;/span&gt;&lt;br /&gt; agency_abbrev = fun1&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;funding_agency_name&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Plot data, means and se’s by state&lt;/span&gt;&lt;br /&gt;limits &amp;lt;- aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ymax = meanfund + sefund&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ymin = meanfund - sefund&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;dodge &amp;lt;- position_dodge&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.6&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;awardbystate &amp;lt;- &lt;a href=&quot;http://www.blogger.com/packages/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fundbystate&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x=&lt;a href=&quot;http://inside-r.org/r-doc/stats/reorder&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;reorder&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;prime_state&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;meanfund&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y=meanfund&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;colour=nfund&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;size=nfund&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + coord_flip&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;  + geom_errorbar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;limits&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + opts&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;panel.grid.major = theme_blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;panel.grid.minor=theme_blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;legend.position=&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.7&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + labs&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x=&lt;span style=&quot;color: blue;&quot;&gt;“State”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y=&lt;span style=&quot;color: blue;&quot;&gt;“Mean grant amount awarded +/- 1 s.e.”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“awardbystate.jpeg”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Plot data, means and se’s by funding agency&lt;/span&gt;&lt;br /&gt;limits2 &amp;lt;- aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ymax = meanfund + sefund&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ymin = meanfund - sefund&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;dodge &amp;lt;- position_dodge&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.6&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;awardbyagency &amp;lt;- &lt;a href=&quot;http://www.blogger.com/packages/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fundbyagency2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;y=&lt;a href=&quot;http://inside-r.org/r-doc/base/log&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;log&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;meanfund&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;x=&lt;a href=&quot;http://inside-r.org/r-doc/base/log&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;log&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;nfund&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;label=agency_abbrev&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_text&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;size=numjobs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“awardbyagency.jpeg”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# On US map&lt;/span&gt;&lt;br /&gt;fundbystate2 &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/utils/read.csv&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;read.csv&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“fundbystate.csv”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;states &amp;lt;- map_data&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“state”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# get state geographic data from the maps package&lt;/span&gt;&lt;br /&gt;recovmap &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/merge&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;merge&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;states&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;fundbystate2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/by&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;by&lt;/span&gt;&lt;/a&gt;=&lt;span style=&quot;color: blue;&quot;&gt;“region”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# merage datasets&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;qplot&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;long&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;lat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt;=recovmap&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;group=group&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;fill=meanfund&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;geom=&lt;span style=&quot;color: blue;&quot;&gt;“polygon”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“bystatemapmeans.jpeg”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;qplot&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;long&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;lat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt;=recovmap&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;group=group&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;fill=nfund&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;geom=&lt;span style=&quot;color: blue;&quot;&gt;“polygon”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“bystatemapnumber.jpeg”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;br /&gt;&amp;lt;/div&amp;gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;And the text file fundbystate2 &lt;a href=&quot;http://web.me.com/scott_c1/Scott_Chamberlain/Other_files/fundbystate.csv&quot;&gt;here&lt;/a&gt;. I had the make this file separately so I could get in the spelled out state names as they were not provided in the propublica dataset.&lt;br /&gt;&lt;br /&gt;Source and disclaimer:&lt;br /&gt;Data provided by &lt;a href=&quot;http://www.propublica.org/&quot;&gt;Propublica&lt;/a&gt;. Data may contain errors and/or omissions.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>R and Google Visualization API</title>
   <link href="http://recology.info//2011/01/r-and-google-visualization-api/"/>
   <updated>2011-01-08T17:33:00-08:00</updated>
   <id>http://recology.info//2011/01/r-and-google-visualization-api</id>
   <content type="html">&lt;p&gt;R interfaces with the powerful Google Visualization API with the package googleVis (see &lt;a href=&quot;http://code.google.com/p/google-motion-charts-with-r/&quot;&gt;here&lt;/a&gt;). It’s relatively easy to convert your graphics in R to interactive graphics to post on a web browser. And the graphics are quite nice, as seen below in a simple graph of some of my data collected from this summer on seed predation to &lt;i&gt;Helianthus annuus&lt;/i&gt; seeds in Texas:&lt;br /&gt;&lt;br /&gt;&lt;script src=&quot;http://www.google.com/jsapi&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;&lt;br /&gt;&lt;script type=&quot;text/javascript&quot;&gt;google.load(&quot;visualization&quot;, &quot;1&quot;, { packages:[&quot;motionchart&quot;] });google.setOnLoadCallback(drawChart);function drawChart() {var data = new google.visualization.DataTable();var datajson = [ [ &quot;Site 1&quot;,new Date(2008,0,8),&quot;beall&quot;,&quot;far&quot;,2.7558, 119.7 ],[ &quot;Site 1&quot;,new Date(2009,0,8),&quot;beall&quot;,&quot;near&quot;,0.53571,128.83 ],[ &quot;Site 1&quot;,new Date(2010,0,8),&quot;mine field&quot;,&quot;near&quot;,0.36207,103.23 ],[ &quot;Site 2&quot;,new Date(2008,0,8),&quot;beall&quot;,&quot;near&quot;,0.051212,82.188 ],[ &quot;Site 2&quot;,new Date(2009,0,8),&quot;mine field&quot;,&quot;far&quot;,     0,45.664 ],[ &quot;Site 2&quot;,new Date(2010,0,8),&quot;mine field&quot;,&quot;near&quot;,     0,50.319 ],[ &quot;Site 3&quot;,new Date(2007,0,8),&quot;beall&quot;,&quot;far&quot;,0.30909,94.639 ],[ &quot;Site 3&quot;,new Date(2008,0,8),&quot;beall&quot;,&quot;near&quot;,0.02439,137.54 ],[ &quot;Site 3&quot;,new Date(2009,0,8),&quot;mine field&quot;,&quot;far&quot;,0.85294,97.058 ],[ &quot;Site 3&quot;,new Date(2010,0,8),&quot;mine field&quot;,&quot;near&quot;,0.050633,127.31 ],[ &quot;Site 4&quot;,new Date(2007,0,8),&quot;beall&quot;,&quot;far&quot;,0.34539,109.48 ],[ &quot;Site 4&quot;,new Date(2008,0,8),&quot;beall&quot;,&quot;near&quot;,0.27667,127.04 ],[ &quot;Site 4&quot;,new Date(2009,0,8),&quot;mine field&quot;,&quot;far&quot;,0.69652,138.99 ],[ &quot;Site 4&quot;,new Date(2010,0,8),&quot;mine field&quot;,&quot;near&quot;,0.16392,153.22 ],[ &quot;Site 5&quot;,new Date(2007,0,8),&quot;mine field&quot;,&quot;far&quot;,0.060811,124.68 ],[ &quot;Site 5&quot;,new Date(2008,0,8),&quot;mine field&quot;,&quot;near&quot;,0.12821, 103.6 ] ];data.addColumn(&#39;string&#39;,&#39;site2&#39;);data.addColumn(&#39;date&#39;,&#39;years&#39;);data.addColumn(&#39;string&#39;,&#39;seed_source&#39;);data.addColumn(&#39;string&#39;,&#39;near_far&#39;);data.addColumn(&#39;number&#39;,&#39;meanholes&#39;);data.addColumn(&#39;number&#39;,&#39;meanseeds&#39;);data.addRows(datajson);var chart = new google.visualization.MotionChart(   document.getElementById(&#39;MotionChart_2011-01-08-19-31-57&#39;));var options ={};options[&quot;width&quot;] =    600;options[&quot;height&quot;] =    500;chart.draw(data,options);}&lt;/script&gt;&lt;br /&gt;&amp;lt;div id=&quot;MotionChart_2011-01-08-19-31-57&quot; style=&quot;height: 500px; width: 600px;&quot;&amp;gt;&amp;lt;/div&amp;gt;Data: data2, Chart ID: MotionChart_2011-01-08-19-31-57&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;R version 2.12.1 (2010-12-16),&lt;br /&gt;&lt;a href=&quot;http://code.google.com/apis/visualization/terms.html&quot;&gt;&lt;br /&gt;Google Terms of Use&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;%@include file=”../src/simpleFooter.rsp”%&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Ecological networks from abundance distributions</title>
   <link href="http://recology.info//2011/01/ecological-networks-from-abundance/"/>
   <updated>2011-01-06T06:58:00-08:00</updated>
   <id>http://recology.info//2011/01/ecological-networks-from-abundance</id>
   <content type="html">&lt;p&gt;Another grad student and I tried recently to make a contribution to our understanding of the relationship between ecological network structure (e.g., nestedness) and community structure (e.g., evenness)…&lt;/p&gt;

&lt;p&gt;…Alas, I had no luck making new insights. However, I am providing the code used for this failed attempt in hopes that someone may find it useful. This is very basic code. It was roughly based off of the paper by Bluthgen et al. 2008 Ecology (&lt;a href=&quot;http://www.esajournals.org/doi/abs/10.1890/07-2121.1?journalCode=ecol&quot;&gt;here&lt;/a&gt;). In my code the number of interactions is set to 600, and there are 30 plant species, and 10 animal species. This assumes they share the same abundance distributions and sigma values.&lt;/p&gt;

&lt;p&gt;UPDATE: I changed the below code a bit to just output the metrics links per species, interaction evenness and H2.&lt;/p&gt;

&lt;p&gt;UPDATE on 27-Aug-12: Now using a github gist, which should actually work:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/3493789.js?file=matricesfromabddist.r&quot;&gt;&lt;/script&gt;

</content>
 </entry>
 
 <entry>
   <title>R-bloggers</title>
   <link href="http://recology.info//2011/01/r-bloggers/"/>
   <updated>2011-01-05T06:11:00-08:00</updated>
   <id>http://recology.info//2011/01/r-bloggers</id>
   <content type="html">&lt;p&gt;Just a quick FYI note in case you haven’t seen this site.&lt;/p&gt;

&lt;p&gt;R-bloggers is an awesome site, bringing together more than 140 blogs (including mine) about R in a single location. See Tal Galili’s motivation for creating the site, and his notes on the site &lt;a href=&quot;http://www.r-bloggers.com/r-bloggers-in-2010-top-14-r-posts-site-statistics-and-invitation-for-sponsors/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>New approach to analysis of phylogenetic community structure</title>
   <link href="http://recology.info//2011/01/new-approach-to-analysis-of-phylogenetic-community-structure/"/>
   <updated>2011-01-05T05:54:00-08:00</updated>
   <id>http://recology.info//2011/01/new-approach-to-analysis-of-phylogenetic-community-structure</id>
   <content type="html">&lt;p&gt;Anthony Ives, of University of Wisconsin-Madison, and Matthew Helmus of the Xishuangbanna Tropical Botanical Garden, present a new statistical method for analyzing phylogenetic community structure in an early view paper in Ecological Monographs. See the abstract &lt;a href=&quot;http://www.esajournals.org/doi/abs/10.1890/10-1264.1&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Up to now, most phylogenetic community structure papers have calculated metrics and used randomization tests to determine if observed metrics are different from random. The approach of Ives and Helmus fits models to observed data, instead of calculating single metrics.&lt;/p&gt;

&lt;p&gt;Furthermore, their approach gets around the limitation in studies of phylogenetic community structure of conducting many separate statistical tests, thereby inflating your chances of finding a significant effect purely by chance.&lt;/p&gt;

&lt;p&gt;Their approach uses generalized linear mixed models (GLMMs). They provide Matlab code for running these models, but R code will be available in the Picante package in the future.&lt;/p&gt;

</content>
 </entry>
 
 <entry>
   <title>Ngram ecological terms</title>
   <link href="http://recology.info//2010/12/ngram-ecological-terms/"/>
   <updated>2010-12-29T18:43:00-08:00</updated>
   <id>http://recology.info//2010/12/ngram-ecological-terms</id>
   <content type="html">&lt;p&gt;The recent availability of google ngram data is a great source of data on language use. Here are some terms from ecology from 1890 to 2000 (from here: http://ngrams.googlelabs.com/). Note that the word “ecology” doesn’t appear at all until about 1890.&lt;/p&gt;

&lt;p&gt;Notice the close alignment of “ecology” and “ecosystem”, while “predation” and “facilitation” put in somewhat equal showings. “Parasitism” is almost constant through time, while “mutualism” falls way below predation and facilitation and parasitism.  &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;float: left; margin-right: 1em; text-align: left;&quot;&amp;gt;&amp;lt;tbody&amp;gt;&amp;lt;tr&amp;gt;&amp;lt;td style=&quot;text-align: center;&quot;&amp;gt;&lt;a href=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TRv09kGgUxI/AAAAAAAAEXA/BXoTvjPhq3Y/s1600/chart.png&quot; style=&quot;clear: left; margin-bottom: 1em; margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;145&quot; src=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TRv09kGgUxI/AAAAAAAAEXA/BXoTvjPhq3Y/s400/chart.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;tr&amp;gt;&amp;lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&amp;gt;Google Ngram plot of six ecological terms + environmentalism for giggles&lt;br /&gt;&amp;lt;/td&amp;gt;&amp;lt;/tr&amp;gt;&amp;lt;/tbody&amp;gt;&amp;lt;/table&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Phylogenetic meta-analysis in R using Phylometa</title>
   <link href="http://recology.info//2010/12/phylogenetic-meta-analysis-in-r-using-phylometa/"/>
   <updated>2010-12-28T05:15:00-08:00</updated>
   <id>http://recology.info//2010/12/phylogenetic-meta-analysis-in-r-using-phylometa</id>
   <content type="html">&lt;p&gt;Here is some code to run Phylometa from R. Phylometa is a program that conducts phylogenetic meta-analyses. The great advantage of the approach below is that you can easily run Phylometa from R, and manipulate the output from Phylometa in R. &lt;br /&gt;&lt;br /&gt;Phylometa was created by Marc Lajeunesse at University of South Florida, and is described in his 2009 AmNat &lt;a href=&quot;http://lajeunesse.myweb.usf.edu/publications.html&quot;&gt;paper&lt;/a&gt;. Phylometa can be downloaded free &lt;a href=&quot;http://lajeunesse.myweb.usf.edu/publications.html&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Save phylometa_fxn.R (get &lt;a href=&quot;https://gist.github.com/939970&quot;&gt;here&lt;/a&gt;) to your working directory.  Then use the  block of code below to call the functions within phylometa_fxn.R.&lt;/p&gt;

&lt;p&gt;The program Phylometa needs to be in the working directory you are calling from.&lt;br /&gt;&lt;br /&gt;Let me know what doesn’t work, and what improvements can be made; I’m sure there are many! &lt;br /&gt;&lt;br /&gt;—This code below is also available &lt;a href=&quot;https://gist.github.com/939971&quot;&gt;here&lt;/a&gt; on Github.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&amp;lt;div style=&quot;overflow: auto;&quot;&amp;gt;&amp;lt;div class=&quot;geshifilter&quot;&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;########Directions&lt;/span&gt; &amp;lt;/pre&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Place phylometa software to your working directory&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Put your phylogeny, in format required by phylometa, in your working directory&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Put your meta-analysis dataset, in format required by phylometa, in your working directory&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Set working directory&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Use below functions&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Beware: only use a moderator variable with up to 6 groups &lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;########Install packages&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/install.packages&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;install.packages&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“plyr”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“ggplot2”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://www.blogger.com/packages/plyr&quot;&gt;plyr&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://www.blogger.com/packages/ggplot2&quot;&gt;ggplot2&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;########Set the working directory [NOTE:CHANGE TO YOUR WORKING DIRECTORY]&lt;/span&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/setwd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;setwd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“/Users/Scott/Documents/phylometa”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Call and run functions (used below) in the working directory [NOTE:CHANGE TO YOUR WORKING DIRECTORY]&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/source&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;source&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;”&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;/Users/Scott/Documents/phylometa&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &amp;lt;/pre&amp;gt;&amp;lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&amp;gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;###########################Functions to to a phylogenetic meta-analysis&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Define number of groups in moderator variable&lt;/span&gt;&lt;br /&gt;groups &amp;lt;- &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;####Run phylometa. Change file names as needed&lt;/span&gt;&lt;br /&gt;phylometa.run &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/system&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/paste&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;paste&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;‘“phyloMeta_v1-2_beta.exe” phylogeny.txt metadata_2g.txt’&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;intern=T&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;####Process phylometa output &lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#E.g.&lt;/span&gt;&lt;br /&gt;myoutput &amp;lt;- phylometa.process&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;phylometa.run&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;groups&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;####Get output from phylometa.run&lt;/span&gt;&lt;br /&gt;phylometa.output&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;myoutput&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Prints all five tables&lt;/span&gt;&lt;br /&gt;phylometa.output.table&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;myoutput&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Prints the table you specify, from 1 to 5, in this example, table 2 is output&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;###################################################&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#########Plot effect sizes. These are various ways to look at the data. Go through them to see what they do. Output pdf’s are in your working directory&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Make table for plotting&lt;/span&gt;&lt;br /&gt;analysis &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“fixed”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;groups+&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“random”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;groups+&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;trad_effsizes &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/data.frame&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;analysis&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;phylometa.output.table&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;myoutput&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Tradiational effect size table&lt;/span&gt;&lt;br /&gt;phylog_effsizes &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/data.frame&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;analysis&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;phylometa.output.table&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;myoutput&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Phylogenetic effect size table&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#The arrange method&lt;/span&gt;&lt;br /&gt;limits &amp;lt;- aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ymax = effsize + &lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;CI_high-effsize&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ymin = effsize - &lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;effsize-CI_low&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;dodge &amp;lt;- position_dodge&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;plot01 &amp;lt;- &lt;a href=&quot;http://www.blogger.com/packages/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trad_effsizes&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;y=effsize&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;x=analysis&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;colour=Group&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;size=&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + theme_bw&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + opts&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;panel.grid.major = theme_blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;panel.grid.minor=theme_blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/title&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;title&lt;/span&gt;&lt;/a&gt;=&lt;span style=&quot;color: blue;&quot;&gt;“Traditional meta-analysis”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + labs&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x=&lt;span style=&quot;color: blue;&quot;&gt;“Group”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y=&lt;span style=&quot;color: blue;&quot;&gt;“Effect size”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_errorbar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;limits&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_hline&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;yintercept=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;linetype=&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;plot02 &amp;lt;- &lt;a href=&quot;http://www.blogger.com/packages/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;phylog_effsizes&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;y=effsize&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;x=analysis&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;colour=Group&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;size=&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + theme_bw&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + opts&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;panel.grid.major = theme_blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;panel.grid.minor=theme_blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/title&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;title&lt;/span&gt;&lt;/a&gt;=&lt;span style=&quot;color: blue;&quot;&gt;“Phylogenetic meta-analysis”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + labs&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x=&lt;span style=&quot;color: blue;&quot;&gt;“Group”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y=&lt;span style=&quot;color: blue;&quot;&gt;“Effect size”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_errorbar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;limits&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_hline&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;yintercept=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;linetype=&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/grDevices/pdf&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;pdf&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“plots_effsizes_arrange.pdf”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;width = &lt;span style=&quot;color: #cc66cc;&quot;&gt;8&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; height = &lt;span style=&quot;color: #cc66cc;&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;arrange&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;plot01&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;plot02&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/ncol&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;ncol&lt;/span&gt;&lt;/a&gt;=&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/grDevices/dev.off&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;dev.off&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#used in the two plotting methods below&lt;/span&gt;&lt;br /&gt;bothanalyses&amp;lt;-&lt;a href=&quot;http://inside-r.org/r-doc/base/data.frame&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;tradphy=&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“Traditional”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;groups&lt;em&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;+&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“Phylogenetic”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;groups&lt;/em&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;+&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;fixrand=&lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;analysis&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;rbind.fill&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;phylometa.output.table&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;myoutput&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;phylometa.output.table&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;myoutput&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Table of both trad and phylo&lt;/span&gt;&lt;br /&gt;limits2 &amp;lt;- aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ymax = effsize + &lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;CI_high-effsize&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ymin = effsize - &lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;effsize-CI_low&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;dodge &amp;lt;- position_dodge&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#The grid/wrap method, version 1&lt;/span&gt;&lt;br /&gt;plot03 &amp;lt;- &lt;a href=&quot;http://www.blogger.com/packages/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;bothanalyses&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;y=effsize&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;x=tradphy&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;colour=Group&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;size=&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + theme_bw&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + opts&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;panel.grid.major = theme_blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;panel.grid.minor=theme_blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + labs&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x=&lt;span style=&quot;color: blue;&quot;&gt;“Group”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y=&lt;span style=&quot;color: blue;&quot;&gt;“Effect size”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_errorbar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;limits2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_hline&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;yintercept=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;linetype=&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + facet_grid&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;.~fixrand&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/grDevices/pdf&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;pdf&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“plots_effsizes_wrap1.pdf”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;plot03&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/grDevices/dev.off&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;dev.off&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt; &lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#The grid/wrap method, version 2 (excuse the sloppy x-axis labels)&lt;/span&gt;&lt;br /&gt;plot04 &amp;lt;- &lt;a href=&quot;http://www.blogger.com/packages/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;bothanalyses&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;y=effsize&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;x=Group&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;colour=tradphy&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;size=&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + theme_bw&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + opts&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;panel.grid.major = theme_blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;panel.grid.minor=theme_blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + labs&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x=&lt;span style=&quot;color: blue;&quot;&gt;“Group”&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y=&lt;span style=&quot;color: blue;&quot;&gt;“Effect size”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_errorbar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;limits2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom_hline&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;yintercept=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;linetype=&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + facet_grid&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;.~fixrand&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/grDevices/pdf&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;pdf&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;“plots_effsizes_wrap2.pdf”&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;plot04&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/grDevices/dev.off&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;dev.off&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&amp;lt;/pre&amp;gt;&amp;lt;/div&amp;gt;&amp;lt;/div&amp;gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Below is an example output figure from the code. This example is from an analysis using 5 groups (i.e., 5 levels in the explanatory variable). &lt;br /&gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&lt;a href=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TRjJtgRlZOI/AAAAAAAAEW4/203ZMnCQUjM/s1600/Untitled.001.001.jpg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; src=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TRjJtgRlZOI/AAAAAAAAEW4/203ZMnCQUjM/s1600/Untitled.001.001.jpg&quot; /&gt;&lt;/a&gt;&amp;lt;/div&amp;gt;&amp;lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&amp;gt;&amp;lt;/div&amp;gt;&lt;br /&gt;&lt;br /&gt;&lt;span id=&quot;goog_1471819853&quot;&gt;&lt;/span&gt;&lt;span id=&quot;goog_1471819854&quot;&gt;&lt;/span&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>A new blog about using R for ecology and evolution</title>
   <link href="http://recology.info//2010/12/a-new-blog-about-using-r-for-ecology-and-evolution/"/>
   <updated>2010-12-27T09:42:00-08:00</updated>
   <id>http://recology.info//2010/12/a-new-blog-about-using-r-for-ecology-and-evolution</id>
   <content type="html">&lt;p&gt;I am starting this blog not because I am a seasoned code writer, but because I am learning how to use R specifically for ecology and evolution, and figured many others might have the same questions I have. If I find cool solutions I will post them here for all to view, criticize, improve, etc.&lt;/p&gt;
</content>
 </entry>
 

</feed>
