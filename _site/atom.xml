<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

 <title>Recology</title>
 <link href="http://recology.info//atom.xml" rel="self"/>
 <link href="http://recology.info//"/>
 <updated>2015-01-29T10:53:45-08:00</updated>
 <id>http://recology.info/</id>
 <author>
   <name>Scott Chamberlain</name>
   <email>myrmecocystus@gmail.com</email>
 </author>

 
 <entry>
   <title>elastic - Elasticsearch from R</title>
   <link href="http://recology.info//2015/01/elasticsearch/"/>
   <updated>2015-01-29T00:00:00-08:00</updated>
   <id>http://recology.info//2015/01/elasticsearch</id>
   <content type="html">&lt;p&gt;We&amp;#39;ve (ropensci) been working on an R client for interacting with &lt;a href=&quot;http://www.elasticsearch.org/&quot;&gt;Elasticsearch&lt;/a&gt; for a while now, first commit was November 2013.&lt;/p&gt;

&lt;p&gt;Elasticsearch is a document database built on the JVM. &lt;code&gt;elastic&lt;/code&gt; interacts with the Elasticsearch HTTP API, and includes functions for setting connection details to Elasticsearch instances, loading bulk data, searching for documents with both HTTP query variables and JSON based body requests. In addition, &lt;code&gt;elastic&lt;/code&gt; provides functions for interacting with APIs for indices, documents, nodes, clusters, an interface to the cat API, and more.&lt;/p&gt;

&lt;p&gt;Here&amp;#39;s a few examples of what you can do.&lt;/p&gt;

&lt;p&gt;Note: &lt;code&gt;elastic&lt;/code&gt; was just pushed to CRAN. It just got accepted, so binaries may not be available, try again soon, or install from Github, or install from source from CRAN like &lt;code&gt;install.packages(&amp;quot;http://cran.r-project.org/src/contrib/elastic_0.3.0.tar.gz&amp;quot;, repos=NULL, type=&amp;quot;source&amp;quot;)&lt;/code&gt;.&lt;/p&gt;

&lt;h2&gt;Installation&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;elastic&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or install development version:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;devtools&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
devtools&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci/elastic&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The load package&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;elastic&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Install Elasticsearch&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.elasticsearch.org/guide/en/elasticsearch/reference/current/_installation.html&quot;&gt;Elasticsearch installation help&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Unix (linux/osx)&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Replace &lt;code&gt;1.4.1&lt;/code&gt; with the version you are working with.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Download zip or tar file from Elasticsearch &lt;a href=&quot;http://www.elasticsearch.org/overview/elkdownloads/&quot;&gt;see here for download&lt;/a&gt;, e.g., &lt;code&gt;curl -L -O https://download.elasticsearch.org/elasticsearch/elasticsearch/elasticsearch-1.4.1.tar.gz&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Uncompress it: &lt;code&gt;tar -xvf elasticsearch-1.4.1.tar.gz&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Move it: &lt;code&gt;sudo mv /path/to/elasticsearch-1.4.1 /usr/local&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Navigate to /usr/local: &lt;code&gt;cd /usr/local&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Add shortcut: &lt;code&gt;sudo ln -s elasticsearch-1.4.1 elasticsearch&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;On OSX, you can install via Homebrew: &lt;code&gt;brew install elasticsearch&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Windows&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Windows users can follow the above, but unzip the zip file instead of uncompressing the tar file.&lt;/p&gt;

&lt;h2&gt;Start Elasticsearch&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Navigate to elasticsearch: &lt;code&gt;cd /usr/local/elasticsearch&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Start elasticsearch: &lt;code&gt;bin/elasticsearch&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;I create a little bash shortcut called &lt;code&gt;es&lt;/code&gt; that does both of the above commands in one step (&lt;code&gt;cd /usr/local/elasticsearch &amp;amp;&amp;amp; bin/elasticsearch&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Note:&lt;/strong&gt; Windows users should run the &lt;code&gt;elasticsearch.bat&lt;/code&gt; file&lt;/p&gt;

&lt;h2&gt;Initialize connection&lt;/h2&gt;

&lt;p&gt;The function &lt;code&gt;connect()&lt;/code&gt; is used before doing anything else to set the connection details to your remote or local elasticsearch store. The details created by &lt;code&gt;connect()&lt;/code&gt; are written to your options for the current session, and are used by &lt;code&gt;elastic&lt;/code&gt; functions.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;connect&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;On package load, your base url and port are set to &lt;code&gt;http://127.0.0.1&lt;/code&gt; and &lt;code&gt;9200&lt;/code&gt;, respectively. You can of course override these settings per session or for all sessions.&lt;/p&gt;

&lt;h2&gt;Get data&lt;/h2&gt;

&lt;p&gt;Elasticsearch has a bulk load API to load data in fast. The format is pretty weird though. It&amp;#39;s sort of JSON, but would pass no JSON linter. I include a few data sets in &lt;code&gt;elastic&lt;/code&gt; so it&amp;#39;s easy to get up and running, and so when you run examples in this package they&amp;#39;ll actually run the same way (hopefully).&lt;/p&gt;

&lt;h3&gt;Shakespeare data&lt;/h3&gt;

&lt;p&gt;Elasticsearch provides some data on Shakespeare plays. I&amp;#39;ve provided a subset of this data in this package. Get the path for the file specific to your machine:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;shakespeare &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;system.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;examples&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;shakespeare_data.json&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; package &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;elastic&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then load the data into Elasticsearch:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;docs_bulk&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;shakespeare&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Public Library of Science (PLOS) data&lt;/h3&gt;

&lt;p&gt;A dataset inluded in the &lt;code&gt;elastic&lt;/code&gt; package is metadata for PLOS scholarly articles.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;plosdat &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;system.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;examples&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;plos_data.json&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; package &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;elastic&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
docs_bulk&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plosdat&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Global Biodiversity Information Facility (GBIF) data&lt;/h3&gt;

&lt;p&gt;A dataset inluded in the &lt;code&gt;elastic&lt;/code&gt; package is data for GBIF species occurrence records. Get the file path, then load:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gbifdat &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;system.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;examples&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;gbif_data.json&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; package &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;elastic&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
docs_bulk&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gbifdat&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;GBIF geo data with a coordinates element to allow &lt;code&gt;geo_shape&lt;/code&gt; queries&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gbifgeo &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;system.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;examples&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;gbif_geo.json&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; package &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;elastic&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
docs_bulk&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gbifgeo&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;The Search function&lt;/h2&gt;

&lt;p&gt;The main interface to searching documents in your Elasticsearch store is the function &lt;code&gt;Search()&lt;/code&gt;. I nearly always develop R software using all lowercase, but R has a function called &lt;code&gt;search()&lt;/code&gt;, and I wanted to avoid collision with that function.&lt;/p&gt;

&lt;p&gt;&lt;code&gt;Search()&lt;/code&gt; is an interface to both the HTTP search API (in which queries are passed in the URI of the request, meaning queries have to be relatively simple), as well as the POST API, or the Query DSL, in which queries are passed in the body of the request (so can be much more complex).&lt;/p&gt;

&lt;p&gt;There are a huge amount of ways you can search Elasticsearch documents - this tutorial covers some of them, and highlights the ways in which you interact with the R outputs.&lt;/p&gt;

&lt;h3&gt;Search an index&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; Search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;shakespeare&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
out&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;total
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 5000&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;out&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_index`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;shakespeare&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_type`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;line&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_id`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;4&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_version`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_score`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$line_id&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 5&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$play_name&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Henry IV&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$speech_number&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$line_number&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;1.1.2&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$speaker&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;KING HENRY IV&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$text_entry&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Find we a time for frighted peace to pant,&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Search an index by type&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;Search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;shakespeare&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; type&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;act&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_index`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;shakespeare&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_type`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;act&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_id`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;2227&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_version`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_score`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$line_id&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 2228&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$play_name&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Henry IV&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$speech_number&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 81&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$line_number&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$speaker&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;FALSTAFF&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$text_entry&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;ACT IV&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Return certain fields&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;Search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;shakespeare&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; fields&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;play_name&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;speaker&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_index`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;shakespeare&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_type`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;line&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_id`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;4&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_version`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_score`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $fields&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $fields$speaker&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $fields$speaker[[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;KING HENRY IV&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $fields$play_name&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $fields$play_name[[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Henry IV&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Sorting&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;Search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;shakespeare&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; type&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;act&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; sort&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;text_entry&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]$`_index`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;shakespeare&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]$`_type`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;act&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]$`_id`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;2227&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]$`_version`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]$`_score`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; NULL&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]$`_source`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]$`_source`$line_id&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 2228&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]$`_source`$play_name&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Henry IV&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]$`_source`$speech_number&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 81&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]$`_source`$line_number&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]$`_source`$speaker&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;FALSTAFF&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]$`_source`$text_entry&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;ACT IV&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]$sort&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]$sort[[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;act&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]$`_index`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;shakespeare&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]$`_type`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;act&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]$`_id`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;2633&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]$`_version`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]$`_score`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; NULL&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]$`_source`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]$`_source`$line_id&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 2634&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]$`_source`$play_name&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Henry IV&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]$`_source`$speech_number&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 9&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]$`_source`$line_number&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]$`_source`$speaker&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;ARCHBISHOP OF YORK&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]$`_source`$text_entry&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;ACT V&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]$sort&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]$sort[[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;act&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Paging&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;Search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;shakespeare&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; from&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; fields&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;text_entry&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $total&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 5000&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $max_score&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $hits&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $hits[[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $hits[[1]]$`_index`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;shakespeare&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $hits[[1]]$`_type`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;line&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $hits[[1]]$`_id`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;9&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $hits[[1]]$`_version`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $hits[[1]]$`_score`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $hits[[1]]$fields&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $hits[[1]]$fields$text_entry&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $hits[[1]]$fields$text_entry[[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Nor more shall trenching war channel her fields,&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Queries&lt;/h3&gt;

&lt;p&gt;Using the &lt;code&gt;q&lt;/code&gt; parameter you can pass in a query, which gets passed in the URI of the query. This type of query is less powerful than the below query passed in the body of the request, using the &lt;code&gt;body&lt;/code&gt; parameter.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;Search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;shakespeare&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; type&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;act&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; q&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;speaker:KING HENRY IV&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;total
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 9&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Query DSL searches - queries sent in the body of the request&lt;/h3&gt;

&lt;p&gt;Pass in as an R list&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;aggs &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;aggs &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;stats &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;terms &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;field &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;text_entry&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
Search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;shakespeare&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; body&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;aggs&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_index`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;shakespeare&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_type`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;line&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_id`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;4&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_version`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_score`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$line_id&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 5&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$play_name&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Henry IV&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$speech_number&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$line_number&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;1.1.2&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$speaker&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;KING HENRY IV&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$text_entry&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Find we a time for frighted peace to pant,&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or pass in as json query with newlines, easy to read&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;aggs &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;{&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    &amp;quot;aggs&amp;quot;: {&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;        &amp;quot;stats&amp;quot; : {&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;            &amp;quot;terms&amp;quot; : {&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;                &amp;quot;field&amp;quot; : &amp;quot;text_entry&amp;quot;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;            }&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;        }&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;    }&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;}&amp;#39;&lt;/span&gt;
Search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;shakespeare&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; body&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;aggs&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_index`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;shakespeare&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_type`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;line&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_id`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;4&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_version`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_score`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$line_id&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 5&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$play_name&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Henry IV&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$speech_number&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$line_number&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;1.1.2&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$speaker&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;KING HENRY IV&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$text_entry&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Find we a time for frighted peace to pant,&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or pass in collapsed json string&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;aggs &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;{&amp;quot;aggs&amp;quot;:{&amp;quot;stats&amp;quot;:{&amp;quot;terms&amp;quot;:{&amp;quot;field&amp;quot;:&amp;quot;text_entry&amp;quot;}}}}&amp;#39;&lt;/span&gt;
Search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;shakespeare&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; body&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;aggs&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_index`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;shakespeare&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_type`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;line&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_id`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;4&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_version`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_score`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$line_id&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 5&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$play_name&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Henry IV&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$speech_number&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$line_number&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;1.1.2&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$speaker&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;KING HENRY IV&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$text_entry&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Find we a time for frighted peace to pant,&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Fuzzy query&lt;/h3&gt;

&lt;p&gt;Fuzzy query on numerics&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;fuzzy &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;query &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;fuzzy &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;speech_number &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
Search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;shakespeare&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; body&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;fuzzy&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;total
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 523&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;fuzzy &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;query &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;fuzzy &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;speech_number &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;value &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; fuzziness &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
Search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;shakespeare&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; body&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;fuzzy&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;total
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1499&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Range query&lt;/h3&gt;

&lt;p&gt;With numeric&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;body &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;query&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;range&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;decimalLongitude&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gte&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; lte&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
Search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;gbif&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; body&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;total
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 24&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;body &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;query&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;range&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;decimalLongitude&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gte&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2.9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; lte&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
Search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;gbif&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; body&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;total
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 166&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;With dates&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;body &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;query&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;range&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;eventDate&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gte&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;2012-01-01&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; lte&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;now&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
Search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;gbif&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; body&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;total
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 899&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;body &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;query&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;range&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;eventDate&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gte&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;2014-01-01&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; lte&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;now&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
Search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;gbif&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; body&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;total
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 685&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Highlighting&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;body &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;{&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt; &amp;quot;query&amp;quot;: {&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;   &amp;quot;query_string&amp;quot;: {&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;     &amp;quot;query&amp;quot; : &amp;quot;cell&amp;quot;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;   }&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt; },&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt; &amp;quot;highlight&amp;quot;: {&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;   &amp;quot;fields&amp;quot;: {&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;     &amp;quot;title&amp;quot;: {&amp;quot;number_of_fragments&amp;quot;: 2}&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;   }&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt; }&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;}&amp;#39;&lt;/span&gt;
out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; Search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;plos&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;article&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; body&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;body&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Error in search_POST(&amp;quot;_search&amp;quot;, index, type, args = ec(list(df = df, analyzer = analyzer, : IndexMissingException[[plos] missing]&lt;/span&gt;
out&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;total
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 5000&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; x&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;highlight&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;title&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]])[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; NULL&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; NULL&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[3]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; NULL&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Scrolling search - instead of paging&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;Search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;shakespeare&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; q&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;a*&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;total
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 2747&lt;/span&gt;
res &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; Search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;index &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;shakespeare&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; q&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;a*&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; scroll&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;1m&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
res &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; Search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;index &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;shakespeare&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; q&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;a*&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; scroll&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;1m&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; search_type &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;scan&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;scroll&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;scroll_id &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; res&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`_scroll_id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 50&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;res &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; Search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;index &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;shakespeare&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; q&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;a*&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; scroll&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;5m&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; search_type &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;scan&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
hits &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
&lt;span class=&quot;kr&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;hits &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
  res &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; scroll&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;scroll_id &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; res&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`_scroll_id`&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  hits &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;hits &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; res&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 2747&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Woohoo! Collected all 2747 documents in very little time.&lt;/p&gt;

&lt;h2&gt;The cat API&lt;/h2&gt;

&lt;p&gt;List cat methods&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;cat_&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; =^.^=&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; /_cat/allocation&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; /_cat/shards&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; /_cat/shards/{index}&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; /_cat/master&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; /_cat/nodes&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; /_cat/indices&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; /_cat/indices/{index}&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; /_cat/segments&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; /_cat/segments/{index}&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; /_cat/count&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; /_cat/count/{index}&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; /_cat/recovery&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; /_cat/recovery/{index}&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; /_cat/health&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; /_cat/pending_tasks&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; /_cat/aliases&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; /_cat/aliases/{alias}&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; /_cat/thread_pool&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; /_cat/plugins&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; /_cat/fielddata&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; /_cat/fielddata/{fields}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Get aliases&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;cat_aliases&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Get indices&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;cat_indices&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; yellow open gbifgeo      5 1  600 0 861.9kb 861.9kb &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; yellow open geoshape     5 1  222 0  42.9kb  42.9kb &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; yellow open _river       1 1    2 1    12kb    12kb &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; yellow open test1        5 1    0 0    575b    575b &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; yellow open gbif         5 1  899 0     1mb     1mb &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; yellow open geopt        5 1    0 0    575b    575b &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; yellow open gbifgeopoint 5 1  600 0 871.6kb 871.6kb &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; yellow open twitter      5 1    0 0    575b    575b &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; yellow open shakespeare  5 1 5000 0     1mb     1mb&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Get nodes&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;cat_nodes&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Scotts-MBP-1 192.168.1.104 7 68 2.75 d * Uatu&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Work with indices&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; index_get&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;shakespeare&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;shakespeare&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;mappings&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;line&amp;quot;  &amp;quot;act&amp;quot;   &amp;quot;scene&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Check for index existence&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;index_exists&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;shakespeare&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] TRUE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Delete an index&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;index_delete&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;plos&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Error in index_delete(index = &amp;quot;plos&amp;quot;): client error: (404) Not Found&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Create an index&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;index_create&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;twitter&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Error in index_create(index = &amp;quot;twitter&amp;quot;): client error: (400) Bad Request&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Work with documents&lt;/h2&gt;

&lt;p&gt;Get a document&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;docs_get&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;shakespeare&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; type&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;line&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; id&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_index`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;shakespeare&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_type`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;line&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_id`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;10&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_version`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $found&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$line_id&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 11&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$play_name&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Henry IV&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$speech_number&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$line_number&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;1.1.8&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$speaker&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;KING HENRY IV&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_source`$text_entry&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Nor bruise her flowerets with the armed hoofs&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Get certain fields&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;docs_get&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;shakespeare&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; type&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;line&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; id&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; fields&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;play_name&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;speaker&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_index`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;shakespeare&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_type`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;line&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_id`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;10&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`_version`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $found&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $fields&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $fields$play_name&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $fields$play_name[[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Henry IV&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $fields$speaker&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $fields$speaker[[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;KING HENRY IV&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Test for existence of the document&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;docs_get&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;plos&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; type&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;article&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; id&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; exists&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] FALSE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;docs_get&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;index&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;plos&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; type&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;article&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; id&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;123456&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; exists&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] FALSE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Thats it&lt;/h2&gt;

&lt;p&gt;Let us know if you have any feedback!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>binomen - taxonomic classes and parsing</title>
   <link href="http://recology.info//2015/01/binomen/"/>
   <updated>2015-01-19T00:00:00-08:00</updated>
   <id>http://recology.info//2015/01/binomen</id>
   <content type="html">&lt;p&gt;I maintain, along with other &lt;a href=&quot;https://github.com/ropensci/taxize/graphs/contributors&quot;&gt;awesome people&lt;/a&gt;, the &lt;a href=&quot;https://github.com/ropensci/taxize&quot;&gt;taxize&lt;/a&gt; R package - a taxonomic toolbelt for R, for interacting with taxonomic data sources on the web. &lt;/p&gt;

&lt;p&gt;Taxonomy data is not standardized, but there are a lot of common elements, and there is a finite list of taxonomic ranks, and finite number of major taxonomic data sets. Thus, I&amp;#39;ve been interested in attempting to define a pseudo standard for expressing taxonomic data in R. The conversation &lt;a href=&quot;https://github.com/ropensci/taxize/issues/261&quot;&gt;started a while back&lt;/a&gt; in a GitHub issue, and hasn&amp;#39;t moved very far. &lt;/p&gt;

&lt;p&gt;I decided to start playing with this more, which is easier to do in a separate pacakge. Thus: &lt;code&gt;binomen&lt;/code&gt;. It&amp;#39;s an attempt to define a set of taxonomic classes/objects in R, along with a suite of functions to help construct and parse these objects.&lt;/p&gt;

&lt;p&gt;Would love any/all feedback. &lt;/p&gt;

&lt;p&gt;Here&amp;#39;s some examples:&lt;/p&gt;

&lt;h2&gt;Install&lt;/h2&gt;

&lt;p&gt;Install &lt;code&gt;binomen&lt;/code&gt; &lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;devtools&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
devtools&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci/binomen&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;binomen&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Make a taxon&lt;/h2&gt;

&lt;p&gt;Make a taxon object&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;obj &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; make_taxon&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;genus&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Poa&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; epithet&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;annua&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; authority&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;L.&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                   family&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Poaceae&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; clazz&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Poales&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
                   kingdom&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Plantae&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; variety&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;annua&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;taxon&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   binomial: Poa annua&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   classification: &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     kingdom: Plantae&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     clazz: Poales&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     family: Poaceae&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     genus: Poa&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     species: Poa annua&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     variety: annua&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Index to various parts of the object&lt;/p&gt;

&lt;p&gt;The binomial&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;obj&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;binomial
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;binomial&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   genus: Poa&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   epithet: annua&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   canonical: Poa annua&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   species: Poa annua L.&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   authority: L.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The authority&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;obj&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;binomial&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;authority
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;L.&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The classification&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;obj&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;classification
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;classification&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     kingdom: Plantae&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     clazz: Poales&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     family: Poaceae&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     genus: Poa&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     species: Poa annua&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     variety: annua&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The family&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;obj&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;classification&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;family
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;taxonref&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   rank: family&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   name: Poaceae&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   id: none&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   uri: none&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Subset taxon objects&lt;/h2&gt;

&lt;p&gt;Get a single rank&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;obj &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; select&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;family&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;taxonref&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   rank: family&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   name: Poaceae&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   id: none&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   uri: none&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Get a range of ranks&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;obj &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;range&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;kingdom&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; family&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $kingdom&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;taxonref&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   rank: kingdom&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   name: Plantae&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   id: none&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   uri: none&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $clazz&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;taxonref&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   rank: clazz&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   name: Poales&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   id: none&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   uri: none&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $family&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;taxonref&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   rank: family&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   name: Poaceae&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   id: none&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   uri: none&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Extract classification as a &lt;code&gt;data.frame&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gethier&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;obj&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;      rank      name&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 kingdom   Plantae&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2   clazz    Poales&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3  family   Poaceae&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4   genus       Poa&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 5 species Poa annua&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 6 variety     annua&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Taxonomic data.frame&amp;#39;s&lt;/h2&gt;

&lt;p&gt;Make one&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  order&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Asterales&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Asterales&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Fagales&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Poales&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Poales&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Poales&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  family&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Asteraceae&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Asteraceae&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Fagaceae&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Poaceae&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Poaceae&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Poaceae&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  genus&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Helianthus&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Helianthus&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Quercus&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Poa&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Festuca&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Holodiscus&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
  stringsAsFactors &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df2 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; taxon_df&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;       order     family      genus&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 Asterales Asteraceae Helianthus&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 Asterales Asteraceae Helianthus&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3   Fagales   Fagaceae    Quercus&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4    Poales    Poaceae        Poa&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 5    Poales    Poaceae    Festuca&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 6    Poales    Poaceae Holodiscus&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Parse - get rank order matching &lt;em&gt;Fagales&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;df2 &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; select&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;order&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; Fagales&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     order   family   genus&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3 Fagales Fagaceae Quercus&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;get rank family matching &lt;em&gt;Asteraceae&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;df2 &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; select&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;family&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; Asteraceae&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;       order     family      genus&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 Asterales Asteraceae Helianthus&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 Asterales Asteraceae Helianthus&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;get rank genus matching &lt;em&gt;Poa&lt;/em&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;df2 &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; select&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;genus&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; Poa&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;    order  family genus&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4 Poales Poaceae   Poa&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>discgolf - Dicourse from R</title>
   <link href="http://recology.info//2015/01/discourse-in-r/"/>
   <updated>2015-01-15T00:00:00-08:00</updated>
   <id>http://recology.info//2015/01/discourse-in-r</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.discourse.org/&quot;&gt;Discourse&lt;/a&gt; is a great discussion forum application. It&amp;#39;s another thing from &lt;a href=&quot;https://en.wikipedia.org/wiki/Jeff_Atwood&quot;&gt;Jeff Atwood&lt;/a&gt;, the co-founder of &lt;a href=&quot;http://stackoverflow.com/&quot;&gt;Stackoverflow/Stackexchange&lt;/a&gt;. The installation is epecially easy with their dockerized installation setup on DigitalOcean ([instructions here][https://www.digitalocean.com/community/tutorials/how-to-install-discourse-on-ubuntu-14-04]). &lt;/p&gt;

&lt;p&gt;In &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt;, we&amp;#39;ve been using a Google Groups mailing list, which is sufficient I guess, but doesn&amp;#39;t support Markdown, and we all know &lt;a href=&quot;http://www.slate.com/articles/technology/technology/2013/03/google_reader_why_did_everyone_s_favorite_rss_program_die_what_free_web.html&quot;&gt;Google can kill products any day&lt;/a&gt;, so it makes sense to use something with which we have more control. We&amp;#39;ve set up our own Discourse installation to have rOpenSci discussions - find it at &lt;a href=&quot;https://meta.discourse.org/&quot;&gt;discuss.ropensci.org&lt;/a&gt;. Check it out if you want to discuss anything rOpenSci related, or general open science, open source software, etc. You can login with email, Mozilla Persona, Twitter, or GitHub. &lt;/p&gt;

&lt;p&gt;Discourse does have a RESTful API, which I found through the &lt;a href=&quot;https://github.com/discourse/discourse_api/&quot;&gt;Ruby gem&lt;/a&gt;. Why not interact with the API via R?&lt;/p&gt;

&lt;h2&gt;Install&lt;/h2&gt;

&lt;p&gt;Install &lt;code&gt;discgolf&lt;/code&gt; &lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;devtools&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
devtools&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;sckott/discgolf&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;discgolf&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Authentication&lt;/h2&gt;

&lt;p&gt;The Discourse API is based on using a specific installation of Discourse (as far as I know), which requires your username and an API key for that installation. Get those (I found mine in the admin panel), and you can pass them in to each function call, or set as option variables in &lt;code&gt;.Rprofile&lt;/code&gt; (use &lt;code&gt;discourse_api_key&lt;/code&gt; and &lt;code&gt;discourse_username&lt;/code&gt;) or environment variables in &lt;code&gt;.Renviron&lt;/code&gt; (use &lt;code&gt;DISCOURSE_API_KEY&lt;/code&gt; and &lt;code&gt;DISCOURSE_USERNAME&lt;/code&gt;).&lt;/p&gt;

&lt;h2&gt;Examples&lt;/h2&gt;

&lt;p&gt;Get the latest topics (abbreviated content for blog post brevity)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;latest_topics&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;#&amp;gt;    id                             title                       fancy_title
#&amp;gt; 1   8       Welcome to rOpenSci Discuss       Welcome to rOpenSci Discuss
#&amp;gt; 2  92    Feedback on geojsonio package?    Feedback on geojsonio package?
#&amp;gt; 3 102                Astronomy research                Astronomy research
#&amp;gt; 4  99           Rgbif argument question           Rgbif argument question
#&amp;gt; 5  93 Feedback on rnoaa ghcnd functions Feedback on rnoaa ghcnd functions
#&amp;gt;                                slug
#&amp;gt; 1       welcome-to-ropensci-discuss
#&amp;gt; 2     feedback-on-geojsonio-package
#&amp;gt; 3                astronomy-research
#&amp;gt; 4           rgbif-argument-question
#&amp;gt; 5 feedback-on-rnoaa-ghcnd-functions
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Get new topics&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;new_topics&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $topic_list&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $topic_list$can_create_topic&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $topic_list$draft&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; NULL&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $topic_list$draft_key&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;new_topic&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $topic_list$draft_sequence&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 15&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $topic_list$per_page&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 30&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $topic_list$topics&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; list()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Get topics by a specific user&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;topics_by&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;cboettig&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $users&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   id username uploaded_avatar_id&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1  3 cboettig                  4&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2  1   sckott                  2&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3 35 noamross                 57&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4  2  karthik                  3&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                            avatar_template&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1  /user_avatar/discuss.ropensci.org/cboettig/{size}/4.png&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2    /user_avatar/discuss.ropensci.org/sckott/{size}/2.png&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3 /user_avatar/discuss.ropensci.org/noamross/{size}/57.png&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4   /user_avatar/discuss.ropensci.org/karthik/{size}/3.png&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $topic_list&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $topic_list$can_create_topic&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $topic_list$draft&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; NULL&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $topic_list$draft_key&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;new_topic&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $topic_list$draft_sequence&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 15&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $topic_list$per_page&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 30&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $topic_list$topics&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   id                                      title&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 15 Using Discourse for blog comments as well?&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 16                            Reply by email?&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                  fancy_title&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 Using Discourse for blog comments as well?&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2                            Reply by email?&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                        slug posts_count reply_count&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 using-discourse-for-blog-comments-as-well           8           4&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2                            reply-by-email           6           2&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   highest_post_number image_url               created_at&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1                   8        NA 2014-12-15T19:33:11.879Z&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2                   6        NA 2014-12-15T20:10:36.414Z&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;             last_posted_at bumped                bumped_at unseen&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 2015-01-02T19:47:42.403Z   TRUE 2015-01-02T19:47:42.403Z  FALSE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 2014-12-17T00:18:31.427Z   TRUE 2014-12-17T00:18:31.427Z  FALSE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   last_read_post_number unread new_posts pinned unpinned visible closed&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1                     8      0         0  FALSE       NA    TRUE  FALSE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2                     6      0         0  FALSE       NA    TRUE  FALSE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   archived notification_level bookmarked liked views like_count&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1    FALSE                  2       TRUE FALSE    71          0&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2    FALSE                  3       TRUE FALSE    54          0&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   has_summary archetype last_poster_username category_id pinned_globally&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1       FALSE   regular             cboettig           3           FALSE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2       FALSE   regular               sckott           1           FALSE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   bookmarked_post_numbers&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1                       1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2                       1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                                                                                                   posters&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 latest, NA, NA, NA, Original Poster, Most Recent Poster, Frequent Poster, Frequent Poster, Frequent Poster, 3, 1, 35, 2&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2                                                                   NA, latest, Original Poster, Most Recent Poster, 3, 1&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Get a single topic by id number&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;topic&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;#&amp;gt;   id              name username
#&amp;gt; 1 11            system   system
#&amp;gt; 2 14 Scott Chamberlain   sckott
#&amp;gt; 3 51 Scott Chamberlain   sckott
#&amp;gt;                                         avatar_template uploaded_avatar_id
#&amp;gt; 1 /user_avatar/discuss.ropensci.org/system/{size}/1.png                  1
#&amp;gt; 2 /user_avatar/discuss.ropensci.org/sckott/{size}/2.png                  2
#&amp;gt; 3 /user_avatar/discuss.ropensci.org/sckott/{size}/2.png                  2
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Create topic&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;text &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;print(&amp;quot;hello world&amp;quot;)&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;#&amp;gt; [1] &amp;quot;hello world&amp;quot;&lt;/span&gt;

&lt;span class=&quot;s&quot;&gt;head(mtcars)&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;#&amp;gt;                    mpg cyl disp  hp drat    wt  qsec vs am gear carb&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;#&amp;gt; Mazda RX4         21.0   6  160 110 3.90 2.620 16.46  0  1    4    4&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;#&amp;gt; Mazda RX4 Wag     21.0   6  160 110 3.90 2.875 17.02  0  1    4    4&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;#&amp;gt; Datsun 710        22.8   4  108  93 3.85 2.320 18.61  1  1    4    1&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;#&amp;gt; Hornet 4 Drive    21.4   6  258 110 3.08 3.215 19.44  1  0    3    1&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;#&amp;gt; Hornet Sportabout 18.7   8  360 175 3.15 3.440 17.02  0  0    3    2&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;#&amp;gt; Valiant           18.1   6  225 105 2.76 3.460 20.22  1  0    3    1&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;&amp;#39;&lt;/span&gt;

create_topic&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;title&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;testing from discgolf - 2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; text&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;text&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Wrapup&lt;/h2&gt;

&lt;p&gt;There are more functions I didn&amp;#39;t highlight, and there are many methods that haven&amp;#39;t been implemented yet... in good time it will be done. &lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>R I/O for geojson and topojson</title>
   <link href="http://recology.info//2015/01/geojson-topojson-io/"/>
   <updated>2015-01-06T00:00:00-08:00</updated>
   <id>http://recology.info//2015/01/geojson-topojson-io</id>
   <content type="html">&lt;p&gt;At rOpenSci we&amp;#39;ve been working on an R package (&lt;code&gt;geojsonio&lt;/code&gt;) to make converting R data in various formats to &lt;a href=&quot;http://geojson.org/geojson-spec.html&quot;&gt;geoJSON&lt;/a&gt; and &lt;a href=&quot;https://github.com/topojson/topojson-specification/blob/master/README.md&quot;&gt;topoJSON&lt;/a&gt;, and vice versa. We hope to do this one job very well, and handle all reasonable use cases.&lt;/p&gt;

&lt;p&gt;Functions in this package are organized first around what you&amp;#39;re working with or want to get, &lt;code&gt;geojson&lt;/code&gt; or &lt;code&gt;topojson&lt;/code&gt;, then convert to or read from various formats:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;geojson_list()&lt;/code&gt;/&lt;code&gt;topojson_list()&lt;/code&gt; - convert to geojson/topojson as R list format&lt;/li&gt;
&lt;li&gt;&lt;code&gt;geojson_json()&lt;/code&gt;/&lt;code&gt;topojson_json()&lt;/code&gt; - convert to geojson/topojson as json&lt;/li&gt;
&lt;li&gt;&lt;code&gt;geojson_read()&lt;/code&gt;&lt;code&gt;topojson_read()&lt;/code&gt; - read a geojson/topojson file from file path or URL&lt;/li&gt;
&lt;li&gt;&lt;code&gt;geojson_write()&lt;/code&gt;/&lt;code&gt;topojson_write()&lt;/code&gt; - write a geojson/topojson file locally&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Each of the above functions have methods for various objects/classes, including &lt;code&gt;numeric&lt;/code&gt;, &lt;code&gt;data.frame&lt;/code&gt;, &lt;code&gt;list&lt;/code&gt;, &lt;code&gt;SpatialPolygons&lt;/code&gt;, &lt;code&gt;SpatialPolygonsDataFrame&lt;/code&gt;, &lt;code&gt;SpatialLines&lt;/code&gt;, &lt;code&gt;SpatialLinesDataFrame&lt;/code&gt;, &lt;code&gt;SpatialPoints&lt;/code&gt;, &lt;code&gt;SpatialPointsDataFrame&lt;/code&gt;.&lt;/p&gt;

&lt;h2&gt;Install&lt;/h2&gt;

&lt;p&gt;Install rgdal - in case you can&amp;#39;t get it installed from binary , here&amp;#39;s what works on a Mac.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;http://cran.r-project.org/src/contrib/rgdal_0.9-1.tar.gz&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; repos &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; type&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;source&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; configure.args &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;--with-gdal-config=/Library/Frameworks/GDAL.framework/Versions/1.10/unix/bin/gdal-config --with-proj-include=/Library/Frameworks/PROJ.framework/unix/include --with-proj-lib=/Library/Frameworks/PROJ.framework/unix/lib&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Install &lt;code&gt;geojsonio&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;devtools&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
devtools&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci/geojsonio&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;geojsonio&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;GeoJSON&lt;/h2&gt;

&lt;h3&gt;Convert various formats to geojson&lt;/h3&gt;

&lt;p&gt;From a &lt;code&gt;numeric&lt;/code&gt; vector of length 2, as json or list&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;geojson_json&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;32.45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-99.74&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; {&amp;quot;type&amp;quot;:&amp;quot;Point&amp;quot;,&amp;quot;geometry&amp;quot;:{&amp;quot;type&amp;quot;:&amp;quot;Point&amp;quot;,&amp;quot;coordinates&amp;quot;:[32.45,-99.74]},&amp;quot;properties&amp;quot;:{}}&lt;/span&gt;
geojson_list&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;32.45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-99.74&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $type&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Point&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $geometry&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $geometry$type&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Point&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $geometry$coordinates&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1]  32.45 -99.74&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $properties&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; NULL&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; attr(,&amp;quot;class&amp;quot;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;geo_list&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; attr(,&amp;quot;from&amp;quot;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;numeric&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;From a &lt;code&gt;data.frame&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;maps&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
data&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;us.cities&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
geojson_json&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;us.cities&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,],&lt;/span&gt; lat&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;lat&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; lon&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;long&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; {&amp;quot;type&amp;quot;:&amp;quot;FeatureCollection&amp;quot;,&amp;quot;features&amp;quot;:[{&amp;quot;type&amp;quot;:&amp;quot;Feature&amp;quot;,&amp;quot;geometry&amp;quot;:{&amp;quot;type&amp;quot;:&amp;quot;Point&amp;quot;,&amp;quot;coordinates&amp;quot;:[-99.74,32.45]},&amp;quot;properties&amp;quot;:{&amp;quot;name&amp;quot;:&amp;quot;Abilene TX&amp;quot;,&amp;quot;country.etc&amp;quot;:&amp;quot;TX&amp;quot;,&amp;quot;pop&amp;quot;:&amp;quot;113888&amp;quot;,&amp;quot;capital&amp;quot;:&amp;quot;0&amp;quot;}},{&amp;quot;type&amp;quot;:&amp;quot;Feature&amp;quot;,&amp;quot;geometry&amp;quot;:{&amp;quot;type&amp;quot;:&amp;quot;Point&amp;quot;,&amp;quot;coordinates&amp;quot;:[-81.52,41.08]},&amp;quot;properties&amp;quot;:{&amp;quot;name&amp;quot;:&amp;quot;Akron OH&amp;quot;,&amp;quot;country.etc&amp;quot;:&amp;quot;OH&amp;quot;,&amp;quot;pop&amp;quot;:&amp;quot;206634&amp;quot;,&amp;quot;capital&amp;quot;:&amp;quot;0&amp;quot;}}]}&lt;/span&gt;
geojson_list&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;us.cities&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,],&lt;/span&gt; lat&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;lat&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; lon&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;long&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $type&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;FeatureCollection&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $features&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $features[[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $features[[1]]$type&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Feature&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $features[[1]]$geometry&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $features[[1]]$geometry$type&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Point&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $features[[1]]$geometry$coordinates&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] -99.74  32.45&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $features[[1]]$properties&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $features[[1]]$properties$name&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Abilene TX&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $features[[1]]$properties$country.etc&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;TX&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $features[[1]]$properties$pop&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;113888&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $features[[1]]$properties$capital&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;0&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $features[[2]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $features[[2]]$type&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Feature&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $features[[2]]$geometry&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $features[[2]]$geometry$type&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Point&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $features[[2]]$geometry$coordinates&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] -81.52  41.08&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $features[[2]]$properties&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $features[[2]]$properties$name&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Akron OH&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $features[[2]]$properties$country.etc&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;OH&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $features[[2]]$properties$pop&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;206634&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $features[[2]]$properties$capital&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;0&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; attr(,&amp;quot;class&amp;quot;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;geo_list&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; attr(,&amp;quot;from&amp;quot;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;data.frame&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;From &lt;code&gt;SpatialPolygons&lt;/code&gt; class&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;sp&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
poly1 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; Polygons&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;Polygon&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;cbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-90&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-85&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
                                     &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;1&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
poly2 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; Polygons&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;Polygon&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;cbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-90&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-75&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-90&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
                                     &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;40&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
sp_poly &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; SpatialPolygons&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;poly1&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; poly2&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;to json&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;geojson_json&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;sp_poly&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; {&amp;quot;type&amp;quot;:&amp;quot;Polygon&amp;quot;,&amp;quot;bbox&amp;quot;:[-100,-75,30,50],&amp;quot;coordinates&amp;quot;:[[[-100,40],[-90,50],[-85,45],[-100,40]],[[-90,30],[-80,40],[-75,35],[-90,30]]],&amp;quot;properties&amp;quot;:{}}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;to list&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;geojson_list&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;sp_poly&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;coordinates&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]][[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] -100&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]][[2]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 40&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]][[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] -90&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]][[2]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 50&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[3]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[3]][[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] -85&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[3]][[2]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 45&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[4]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[4]][[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] -100&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[4]][[2]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 40&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Write geojson&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;maps&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
data&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;us.cities&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
geojson_write&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;us.cities&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,],&lt;/span&gt; lat&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;lat&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; lon&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;long&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;geojson&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Path:       myfile.geojson&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   From class: data.frame&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Read geojson&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;file &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;system.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;examples&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;california.geojson&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; package &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;geojsonio&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; geojson_read&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; OGR data source with driver: GeoJSON &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Source: &amp;quot;/Users/sacmac/Library/R/3.1/library/geojsonio/examples/california.geojson&amp;quot;, layer: &amp;quot;OGRGeoJSON&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; with 1 features and 11 fields&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Feature type: wkbMultiPolygon with 2 dimensions&lt;/span&gt;
plot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;/public/img/2015-01-06-geojson-topojson-io/unnamed-chunk-11-1.png&quot; alt=&quot;plot of chunk unnamed-chunk-11&quot;&gt; &lt;/p&gt;

&lt;h2&gt;TopoJSON&lt;/h2&gt;

&lt;h3&gt;Convert to TopoJSON with Node topojson client&lt;/h3&gt;

&lt;p&gt;For topojson you will need Mike Bostock&amp;#39;s command line client. Install it by doing&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;sudo npm install -g topojson
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Download a zipped shape fileset, &lt;a href=&quot;http://esp.cr.usgs.gov/data/little/querwisl.zip&quot;&gt;this one&lt;/a&gt; for distribution of &lt;em&gt;Quercus wislizeni&lt;/em&gt;. Unzip the zip file to a folder. Then do (changing the path to your path)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;topojson_write&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;shppath&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;~/Downloads/querwisl&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; path &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;~/Downloads&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; projection&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;albers&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; projargs&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rotate&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;[60, -35, 0]&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; OGR data source with driver: ESRI Shapefile &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Source: &amp;quot;/Users/sacmac/Downloads/querwisl&amp;quot;, layer: &amp;quot;querwisl&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; with 35 features and 5 fields&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Feature type: wkbPolygon with 2 dimensions&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Which prints progress on the conversion of the shape file. And prints the topojson CLI call, including the location of the output file, here &lt;code&gt;/Users/sacmac/querwisl.json&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;OGR data &lt;span class=&quot;kn&quot;&gt;source&lt;/span&gt; with driver&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; ESRI Shapefile
Source&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;/Users/sacmac/Downloads/querwisl&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; layer&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;querwisl&amp;quot;&lt;/span&gt;
with &lt;span class=&quot;m&quot;&gt;35&lt;/span&gt; features and &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt; fields
Feature type&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; wkbPolygon with &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt; dimensions
topojson &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;o &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;Users&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;sacmac&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;querwisl.json &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;q &lt;span class=&quot;m&quot;&gt;1e4&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;s &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;shapefile&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;encoding utf8 &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt;projection &lt;span class=&quot;s&quot;&gt;&amp;#39;d3.geo.albers().rotate([60, -35, 0])&amp;#39;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;--&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;var&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;folders&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;gs&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;khph0xs0436gmd2gdnwsg080000gn&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;//&lt;/span&gt;Rtmp49APW7&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;querwisl.shp

bounds&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-403.2554825867553&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;401.27189387582916&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-295.798050380061&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;585.4214768677039&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;cartesian&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
pre&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;quantization&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.010746817902459677&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.018416799979185387&lt;/span&gt;
topology&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;35&lt;/span&gt; arcs&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2492&lt;/span&gt; points
prune&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; retained &lt;span class=&quot;m&quot;&gt;35&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;/&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;35&lt;/span&gt; arcs &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;%&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can then use this topojson file wherever. We&amp;#39;ll add a function soon to automagically throw this file up as a Github gist to get an interactive map.&lt;/p&gt;

&lt;h3&gt;Read topojson&lt;/h3&gt;

&lt;p&gt;TopoJSON&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;url &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;https://raw.githubusercontent.com/shawnbot/d3-cartogram/master/data/us-states.topojson&amp;quot;&lt;/span&gt;
out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; topojson_read&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; OGR data source with driver: GeoJSON &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Source: &amp;quot;https://raw.githubusercontent.com/shawnbot/d3-cartogram/master/data/us-states.topojson&amp;quot;, layer: &amp;quot;states&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; with 51 features and 2 fields&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Feature type: wkbPolygon with 2 dimensions&lt;/span&gt;
plot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;/public/img/2015-01-06-geojson-topojson-io/unnamed-chunk-14-1.png&quot; alt=&quot;plot of chunk unnamed-chunk-14&quot;&gt; &lt;/p&gt;

&lt;h2&gt;Use case: Play with US states&lt;/h2&gt;

&lt;p&gt;Using data from &lt;a href=&quot;https://github.com/glynnbird/usstatesgeojson&quot;&gt;https://github.com/glynnbird/usstatesgeojson&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Get some geojson&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;httr&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
res &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; GET&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;https://api.github.com/repos/glynnbird/usstatesgeojson/contents&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
st_names &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;Filter&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;grepl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;\\.geojson&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;content&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;[[&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
base &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;https://raw.githubusercontent.com/glynnbird/usstatesgeojson/master/&amp;#39;&lt;/span&gt;
st_files &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;paste0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; st_names&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Make a faceted plot&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;ggplot2&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;plyr&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
st_use &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; st_files&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
geo &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;st_use&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; geojson_read&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; verbose &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ldply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;setNames&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;geo&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; fortify&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;gsub&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;\\.geojson&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; st_names&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])))&lt;/span&gt;
ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;long&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; lat&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; group &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; group&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  geom_polygon&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  facet_wrap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;.i&lt;/span&gt;d&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; scales &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;free&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;/public/img/2015-01-06-geojson-topojson-io/unnamed-chunk-16-1.png&quot; alt=&quot;plot of chunk unnamed-chunk-16&quot;&gt; &lt;/p&gt;

&lt;h2&gt;Maps&lt;/h2&gt;

&lt;p&gt;We&amp;#39;re also working on &lt;code&gt;map_gist()&lt;/code&gt; - to push up a geojson or topojson file as a GitHub gist (renders as an interactive map). It still needs some work...&lt;/p&gt;

&lt;h2&gt;Validate geojson&lt;/h2&gt;

&lt;p&gt;&lt;a href=&quot;http://geojsonlint.com/&quot;&gt;geojsonlint.com&lt;/a&gt; has a nice web interface you can use to make sure you&amp;#39;re geoJSON is in the right format. In addition, it provides a RESTful endpoint at &lt;code&gt;geojsonlint.com/validate&lt;/code&gt; to validate geoJSON. 
This was just added today in this package, and can be used from many data types. &lt;/p&gt;

&lt;p&gt;Good geoJSON&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;validate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;{&amp;quot;type&amp;quot;: &amp;quot;Point&amp;quot;, &amp;quot;coordinates&amp;quot;: [-100, 80]}&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $status&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;ok&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Bad geoJSON&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;validate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;{&amp;quot;type&amp;quot;: &amp;quot;Rhombus&amp;quot;, &amp;quot;coordinates&amp;quot;: [[1, 2], [3, 4], [5, 6]]}&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $message&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;\&amp;quot;Rhombus\&amp;quot; is not a valid GeoJSON type.&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $status&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;error&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A file&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;file &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;system.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;examples&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;zillow_or.geojson&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; package &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;togeojson&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
validate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; as.location&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $status&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;ok&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;A URL&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;url &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;https://raw.githubusercontent.com/glynnbird/usstatesgeojson/master/california.geojson&amp;quot;&lt;/span&gt;
validate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;as.location&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $status&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;ok&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;From the output of &lt;code&gt;geojson_list()&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;maps&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
data&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;us.cities&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
x &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; geojson_list&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;us.cities&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,],&lt;/span&gt; lat&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;lat&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; lon&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;long&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
validate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $status&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;ok&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;From SpatialPoints class&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;sp&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
a &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
b &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
x &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; SpatialPoints&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;cbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;b&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
validate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $status&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;ok&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>gistr - R client for GitHub gists</title>
   <link href="http://recology.info//2015/01/gistr-github-gists/"/>
   <updated>2015-01-05T00:00:00-08:00</updated>
   <id>http://recology.info//2015/01/gistr-github-gists</id>
   <content type="html">&lt;p&gt;GitHub has this site &lt;a href=&quot;https://gist.github.com/&quot;&gt;https://gist.github.com/&lt;/a&gt; in which we can share code, text, images, maps, plots, etc super easily, without having to open up a repo, etc. GitHub gists are a great way to throw up an example use case to show someone, or show code that&amp;#39;s throwing errors to a support person, etc. In addition, there&amp;#39;s API access, which means we can interact with Gists not just from their web interface, but from the command line, or any programming language. There are clients for &lt;a href=&quot;https://github.com/mbostock/gistup&quot;&gt;Node.js&lt;/a&gt;, &lt;a href=&quot;https://rubygems.org/gems/gist&quot;&gt;Ruby&lt;/a&gt;, &lt;a href=&quot;https://pypi.python.org/pypi/gists/0.4.6&quot;&gt;Python&lt;/a&gt;, and on and on. But AFAIK there wasn&amp;#39;t one for R. Along with &lt;a href=&quot;https://github.com/ramnathv&quot;&gt;Ramnath&lt;/a&gt; and others, we&amp;#39;ve been working on an R client for gists. &lt;code&gt;v0.1&lt;/code&gt; is &lt;a href=&quot;http://cran.r-project.org/web/packages/gistr/index.html&quot;&gt;now on CRAN&lt;/a&gt;. Below is an overview. &lt;/p&gt;

&lt;p&gt;One useful thing about this package in terms of other R packages is that you can now depend on &lt;code&gt;gistr&lt;/code&gt; to easily share results as Gists. For example, you can share maps as gists (via geojson, rendered as interactive map), or code, or plots, etc. That is, you don&amp;#39;t have to re-write an interface to Github Gists yourself. We plan on using &lt;code&gt;gistr&lt;/code&gt; in a few rOpenSci packages. &lt;/p&gt;

&lt;h2&gt;Installation&lt;/h2&gt;

&lt;h2&gt;Installation&lt;/h2&gt;

&lt;p&gt;Install from CRAN&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;gistr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or the development version from GitHub&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;devtools&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
devtools&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci/gistr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;gistr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Authentication&lt;/h2&gt;

&lt;p&gt;There are two ways to authorise &lt;code&gt;gistr&lt;/code&gt; to work with your GitHub account:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Generate a personal access token (PAT) at &lt;a href=&quot;https://help.github.com/articles/creating-an-access-token-for-command-line-use&quot;&gt;https://help.github.com/articles/creating-an-access-token-for-command-line-use&lt;/a&gt; and record it in the &lt;code&gt;GITHUB_PAT&lt;/code&gt; envar.&lt;/li&gt;
&lt;li&gt;Interactively login into your GitHub account and authorise with OAuth.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Using the PAT is recommended.&lt;/p&gt;

&lt;p&gt;Using the &lt;code&gt;gist_auth()&lt;/code&gt; function you can authenticate seperately first, or if you&amp;#39;re not authenticated, this function will run internally with each functionn call. If you have a PAT, that will be used, if not, OAuth will be used.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gist_auth&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Workflow&lt;/h2&gt;

&lt;p&gt;In &lt;code&gt;gistr&lt;/code&gt; you can use pipes to pass outputs from one function to another. If you have used &lt;code&gt;dplyr&lt;/code&gt; with pipes you can see the difference, and perhaps the utility, of this workflow over the traditional workflow in R. You can use a non-piping or a piping workflow with &lt;code&gt;gistr&lt;/code&gt;. Examples below use a mix of both workflows. Here is an example of a piping wofklow (with some explanation):&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gists&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;what &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;minepublic&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# List my public gists, and index 1st&lt;/span&gt;
  add_files&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;~/alm_othersources.md&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Add new file to that gist&lt;/span&gt;
  update&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# update sends a PATCH command to Gists API to add file to your gist&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And a non-piping workflow that does the same exact thing:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;g &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; gists&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;what &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;minepublic&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
g &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; add_files&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;~/alm_othersources.md&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
update&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or you could string them all together in one line (but it&amp;#39;s rather difficult to follow what&amp;#39;s going on because you have to read from the inside out)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;update&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;add_files&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gists&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;what &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;minepublic&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]],&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;~/alm_othersources.md&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Rate limit information&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;rate_limit&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Rate limit: 5000&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Remaining:  4948&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Resets in:  46 minutes&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;List gists&lt;/h2&gt;

&lt;p&gt;Limiting to a few results here to keep it brief&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gists&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;per_page &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;575fd0342ae15f89645f&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   URL: https://gist.github.com/575fd0342ae15f89645f&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Description: Script to disable the mouse acceleration on Ubuntu (and probably also other distributions). Read the &amp;#39;usage&amp;#39; section.&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Public: TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Created/Edited: 2015-01-04T17:41:49Z / 2015-01-04T17:41:50Z&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Files: disable-mouse-accel.sh&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;1ebff1af906f214f98cd&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   URL: https://gist.github.com/1ebff1af906f214f98cd&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Description: Ladda&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Public: TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Created/Edited: 2015-01-04T17:41:45Z / 2015-01-04T17:41:45Z&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Files: Ladda.markdown, index.html, script.js, style.css&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Since a certain date/time&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gists&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;since&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;2014-05-26T00:00:00Z&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; per_page &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;575fd0342ae15f89645f&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   URL: https://gist.github.com/575fd0342ae15f89645f&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Description: Script to disable the mouse acceleration on Ubuntu (and probably also other distributions). Read the &amp;#39;usage&amp;#39; section.&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Public: TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Created/Edited: 2015-01-04T17:41:49Z / 2015-01-04T17:41:50Z&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Files: disable-mouse-accel.sh&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;1ebff1af906f214f98cd&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   URL: https://gist.github.com/1ebff1af906f214f98cd&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Description: Ladda&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Public: TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Created/Edited: 2015-01-04T17:41:45Z / 2015-01-04T17:41:45Z&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Files: Ladda.markdown, index.html, script.js, style.css&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Request different types of gists, one of public, minepublic, mineall, or starred.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gists&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;minepublic&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; per_page &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;588921d4111e00551bcf&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   URL: https://gist.github.com/588921d4111e00551bcf&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Description: &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Public: TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Created/Edited: 2015-01-04T17:33:47Z / 2015-01-04T17:33:56Z&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Files: code.R&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;54c0195ee8753c7aaf9f&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   URL: https://gist.github.com/54c0195ee8753c7aaf9f&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Description: a new cool gist&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Public: TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Created/Edited: 2015-01-04T17:33:47Z / 2015-01-04T17:33:47Z&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Files: stuff.md&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;List a single gist&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;id &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;f1403260eb92f5dfa7e1&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;f1403260eb92f5dfa7e1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   URL: https://gist.github.com/f1403260eb92f5dfa7e1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Description: Querying bitly from R &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Public: TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Created/Edited: 2014-10-15T20:40:12Z / 2014-10-15T21:54:29Z&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Files: bitly_r.md&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Create gist&lt;/h2&gt;

&lt;p&gt;You can pass in files&lt;/p&gt;

&lt;p&gt;First, get a file to work with&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;stuffpath &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;system.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;examples&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;stuff.md&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; package &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;gistr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gist_create&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;files&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;stuffpath&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; description&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;a new cool gist&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gist_create&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;files&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;stuffpath&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; description&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;a new cool gist&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; browse &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;aa391404638f2f368b99&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   URL: https://gist.github.com/aa391404638f2f368b99&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Description: a new cool gist&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Public: TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Created/Edited: 2015-01-04T17:42:37Z / 2015-01-04T17:42:37Z&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Files: stuff.md&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or, wrap &lt;code&gt;gist_create()&lt;/code&gt; around some code in your R session/IDE, like so, with just the function name, and a &lt;code&gt;{&amp;#39;&lt;/code&gt; at the start and a &lt;code&gt;}&amp;#39;&lt;/code&gt; at the end.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gist_create&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;code&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;x &amp;lt;- letters&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;numbers &amp;lt;- runif(8)&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;numbers&lt;/span&gt;

&lt;span class=&quot;s&quot;&gt;[1] 0.3229318 0.5933054 0.7778408 0.3898947 0.1309717 0.7501378 0.3206379 0.3379005&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; browse&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;85158117880f197df422&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   URL: https://gist.github.com/85158117880f197df422&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Description: &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Public: TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Created/Edited: 2015-01-04T17:42:37Z / 2015-01-04T17:42:37Z&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Files: code.R&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can also knit an input file before posting as a gist:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;file &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;system.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;examples&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;stuff.Rmd&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; package &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;gistr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
gist_create&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; description&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;a new cool gist&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; knit&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;4162b9c53479fbc298db&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   URL: https://gist.github.com/4162b9c53479fbc298db&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Description: a new cool gist&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Public: TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Created/Edited: 2014-10-27T16:07:31Z / 2014-10-27T16:07:31Z&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Files: stuff.md&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or code blocks before (note that code blocks without knitr block demarcations will result in unexecuted code):&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gist_create&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;code&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;x &amp;lt;- letters&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;(numbers &amp;lt;- runif(8))&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; knit&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;ec45c396dee4aa492139&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   URL: https://gist.github.com/ec45c396dee4aa492139&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Description:&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Public: TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Created/Edited: 2014-10-27T16:09:09Z / 2014-10-27T16:09:09Z&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Files: file81720d1ceff.md&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;knit code from file path, code block, or gist file&lt;/h2&gt;

&lt;p&gt;knit a local file&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;file &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;system.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;examples&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;stuff.Rmd&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; package &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;gistr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
run&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; knitopts &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;quiet&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; gist_create&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;browse &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;d5d86e11964c36cb4f1e&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   URL: https://gist.github.com/d5d86e11964c36cb4f1e&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Description: &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Public: TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Created/Edited: 2015-01-04T17:42:38Z / 2015-01-04T17:42:38Z&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Files: stuff.md&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;knit a code block (&lt;code&gt;knitr&lt;/code&gt; code block notation missing, do add that in) (result not shown)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;run&lt;span class=&quot;p&quot;&gt;({&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;x &amp;lt;- letters&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;(numbers &amp;lt;- runif(8))&lt;/span&gt;
&lt;span class=&quot;s&quot;&gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; gist_create
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;knit a file from a gist, has to get file first (result not shown)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gists&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;minepublic&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; run&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; update&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;List commits on a gist&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gists&lt;span class=&quot;p&quot;&gt;()[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; commits&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;commit&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Version: faa7a40f4b55aa7914be7685c75d5c80731971bb&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   User: sckott&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Commited: 2015-01-04T17:42:37Z&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Commits [total, additions, deletions]: [5,5,0]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Star a gist&lt;/h2&gt;

&lt;p&gt;Star&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;7ddb9810fc99c84c65ec&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; star&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;7ddb9810fc99c84c65ec&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   URL: https://gist.github.com/7ddb9810fc99c84c65ec&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Description: &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Public: TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Created/Edited: 2014-06-27T17:50:37Z / 2014-06-27T17:50:37Z&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Files: code.R, manifest.yml, rrt_manifest.yml&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Unstar&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;7ddb9810fc99c84c65ec&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; unstar&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;7ddb9810fc99c84c65ec&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   URL: https://gist.github.com/7ddb9810fc99c84c65ec&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Description: &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Public: TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Created/Edited: 2014-06-27T17:50:37Z / 2014-06-27T17:50:37Z&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Files: code.R, manifest.yml, rrt_manifest.yml&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Update a gist&lt;/h2&gt;

&lt;p&gt;Add files&lt;/p&gt;

&lt;p&gt;First, path to file&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;file &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;system.file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;examples&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;alm_othersources.md&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; package &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;gistr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gists&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;what &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;minepublic&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  add_files&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  update&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;85158117880f197df422&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   URL: https://gist.github.com/85158117880f197df422&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Description: &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Public: TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Created/Edited: 2015-01-04T17:42:37Z / 2015-01-04T17:42:42Z&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Files: alm_othersources.md, code.R&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Delete files&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gists&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;what &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;minepublic&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  delete_files&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  update&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;85158117880f197df422&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   URL: https://gist.github.com/85158117880f197df422&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Description: &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Public: TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Created/Edited: 2015-01-04T17:42:37Z / 2015-01-04T17:42:42Z&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Files: code.R&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Open a gist in your default browser&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gists&lt;span class=&quot;p&quot;&gt;()[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; browse&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Opens the gist in your default browser&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2&gt;Get embed script&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gists&lt;span class=&quot;p&quot;&gt;()[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; embed&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;&amp;lt;script src=\&amp;quot;https://gist.github.com/sckott/85158117880f197df422.js\&amp;quot;&amp;gt;&amp;lt;/script&amp;gt;&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;List forks&lt;/h3&gt;

&lt;p&gt;Returns a list of &lt;code&gt;gist&lt;/code&gt; objects, just like &lt;code&gt;gists()&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;id&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;1642874&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; forks&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;per_page&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;1642989&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   URL: https://gist.github.com/1642989&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Description: Spline Transition&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Public: TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Created/Edited: 2012-01-19T21:45:20Z / 2014-12-10T03:25:19Z&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Files: &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;1643051&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   URL: https://gist.github.com/1643051&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Description: Line Transition (Broken)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Public: TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Created/Edited: 2012-01-19T21:51:30Z / 2014-04-09T03:11:36Z&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Files:&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Fork a gist&lt;/h2&gt;

&lt;p&gt;Returns a &lt;code&gt;gist&lt;/code&gt; object&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;g &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; gists&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;forked &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; g&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;sample&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;seq_along&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; fork&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;62b05dd4ebc2d29add15&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   URL: https://gist.github.com/62b05dd4ebc2d29add15&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Description: Solution to level 1 in Untrusted: http://alex.nisnevich.com/untrusted/&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Public: TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Created/Edited: 2015-01-04T17:42:43Z / 2015-01-04T17:42:43Z&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Files: untrusted-lvl1-solution.js&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Example use case&lt;/h2&gt;

&lt;p&gt;&lt;em&gt;Working with the Mapzen Pelias geocoding API&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;The API is described at &lt;a href=&quot;https://github.com/pelias/pelias&quot;&gt;https://github.com/pelias/pelias&lt;/a&gt;, and is still in alpha they say. The steps: get data, make a gist. The data is returned from Mapzen as geojson, so all we have to do is literally push it up to GitHub gists and we&amp;#39;re done b/c GitHub renders the map.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;httr&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
base &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;http://pelias.mapzen.com/search&amp;quot;&lt;/span&gt;
res &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; GET&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; query &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;input &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;coffee shop&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; lat &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;45.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; lon &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-122.6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
json &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; content&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; as &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;text&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
gist_create&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;code &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; json&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; filename &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;pelias_test.geojson&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;gist&amp;gt;017214637bcfeb198070&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   URL: https://gist.github.com/017214637bcfeb198070&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Description:&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Public: TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Created/Edited: 2014-10-28T14:42:36Z / 2014-10-28T14:42:36Z&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Files: pelias_test.geojson&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And here&amp;#39;s that gist: &lt;a href=&quot;https://gist.github.com/sckott/017214637bcfeb198070&quot;&gt;https://gist.github.com/sckott/017214637bcfeb198070&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2015-01-05-gistr-github-gists/gistr_ss.png&quot; alt=&quot;image&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>pytaxize - low level ITIS functions</title>
   <link href="http://recology.info//2014/12/pytaxize-itis/"/>
   <updated>2014-12-26T00:00:00-08:00</updated>
   <id>http://recology.info//2014/12/pytaxize-itis</id>
   <content type="html">&lt;p&gt;I&amp;#39;ve been working on a Python port of the R package &lt;code&gt;taxize&lt;/code&gt; that I maintain. It&amp;#39;s still early days with this Python library, I&amp;#39;d love to know what people think. For example, I&amp;#39;m giving back Pandas DataFrame&amp;#39;s from most functions. Does this make sense?&lt;/p&gt;

&lt;h2&gt;Installation&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;sudo pip install git+git://github.com/sckott/pytaxize.git#egg=pytaxize
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or &lt;code&gt;git clone&lt;/code&gt; the repo down, and &lt;code&gt;python setup.py build &amp;amp;&amp;amp; python setup.py install&lt;/code&gt;&lt;/p&gt;

&lt;h2&gt;Load library&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pytaxize&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;ITIS ping&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;pytaxize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;itis_ping&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;This is the ITIS Web Service, providing access to the data behind www.itis.gov. The database contains 665,266 scientific names (501,207 of them valid/accepted) and 122,735 common names.&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Get hierarchy down from tsn&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;pytaxize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gethierarchydownfromtsn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tsn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;161030&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;      &lt;span class=&quot;n&quot;&gt;tsn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rankName&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;taxonName&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;parentName&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;parentTsn&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;161048&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Class&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Sarcopterygii&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;Osteichthyes&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;161030&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;161061&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Class&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;Actinopterygii&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;Osteichthyes&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;161030&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Get hierarchy up from tsn&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;pytaxize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gethierarchyupfromtsn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;tsn&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;37906&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;               &lt;span class=&quot;n&quot;&gt;author&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;parentName&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;parentTsn&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rankName&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;taxonName&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;tsn&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;Gaertn&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;ex&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;Schreb&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;Asteraceae&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;35420&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Genus&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Liatris&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;37906&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Get rank names&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;pytaxize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getranknames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;    &lt;span class=&quot;n&quot;&gt;kingdomname&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;rankid&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;rankname&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Kingdom&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Subkingdom&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;Phylum&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Subphylum&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Superclass&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;60&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;Class&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;70&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Subclass&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Infraclass&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;90&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Superorder&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;9&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;Order&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;110&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Suborder&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;11&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;120&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Infraorder&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;12&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;130&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Superfamily&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;13&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;140&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;Family&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;14&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;150&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Subfamily&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;15&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;160&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;Tribe&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;16&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;170&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Subtribe&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;17&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;180&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;Genus&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;18&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;190&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Subgenus&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;19&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;220&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Species&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Bacteria&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;230&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Subspecies&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;21&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Protozoa&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Kingdom&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;22&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Protozoa&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Subkingdom&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;23&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Protozoa&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;25&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;Infrakingdom&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;24&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Protozoa&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;Phylum&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;25&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Protozoa&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Subphylum&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;26&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Protozoa&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;45&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Infraphylum&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;27&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Protozoa&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;47&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Parvphylum&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;28&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Protozoa&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Superclass&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;29&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Protozoa&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;60&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;Class&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;..&lt;/span&gt;          &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;    &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;           &lt;span class=&quot;o&quot;&gt;...&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;150&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Chromista&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;190&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Subgenus&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;151&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Chromista&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Section&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;152&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Chromista&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;210&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Subsection&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;153&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Chromista&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;220&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Species&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;154&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Chromista&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;230&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Subspecies&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;155&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Chromista&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;240&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Variety&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;156&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Chromista&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;250&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Subvariety&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;157&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Chromista&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;260&lt;/span&gt;          &lt;span class=&quot;n&quot;&gt;Form&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;158&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Chromista&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;270&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Subform&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;159&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;10&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Kingdom&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;160&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;20&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Subkingdom&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;161&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;30&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;Phylum&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;162&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;40&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Subphylum&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;163&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;50&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Superclass&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;164&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;60&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;Class&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;165&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;70&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Subclass&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;166&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;80&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Infraclass&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;167&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;     &lt;span class=&quot;mi&quot;&gt;90&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Superorder&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;168&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;100&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;Order&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;169&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;110&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Suborder&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;170&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;120&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Infraorder&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;171&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;130&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Superfamily&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;172&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;140&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;Family&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;173&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;150&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Subfamily&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;174&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;160&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;Tribe&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;175&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;170&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Subtribe&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;176&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;180&lt;/span&gt;         &lt;span class=&quot;n&quot;&gt;Genus&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;177&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;190&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Subgenus&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;178&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;220&lt;/span&gt;       &lt;span class=&quot;n&quot;&gt;Species&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;179&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;Archaea&lt;/span&gt;    &lt;span class=&quot;mi&quot;&gt;230&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Subspecies&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Search by scientific name&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;pytaxize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;searchbyscientificname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;x&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Tardigrada&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;           &lt;span class=&quot;n&quot;&gt;combinedname&lt;/span&gt;     &lt;span class=&quot;n&quot;&gt;tsn&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;    &lt;span class=&quot;n&quot;&gt;Rotaria&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tardigrada&lt;/span&gt;   &lt;span class=&quot;mi&quot;&gt;58274&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;n&quot;&gt;Notommata&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tardigrada&lt;/span&gt;   &lt;span class=&quot;mi&quot;&gt;58898&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;2&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Pilargis&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tardigrada&lt;/span&gt;   &lt;span class=&quot;mi&quot;&gt;65562&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;3&lt;/span&gt;            &lt;span class=&quot;n&quot;&gt;Tardigrada&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;155166&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;4&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Heterotardigrada&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;155167&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;5&lt;/span&gt;      &lt;span class=&quot;n&quot;&gt;Arthrotardigrada&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;155168&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;6&lt;/span&gt;        &lt;span class=&quot;n&quot;&gt;Mesotardigrada&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;155358&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;7&lt;/span&gt;          &lt;span class=&quot;n&quot;&gt;Eutardigrada&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;155362&lt;/span&gt;
&lt;span class=&quot;mi&quot;&gt;8&lt;/span&gt;   &lt;span class=&quot;n&quot;&gt;Scytodes&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;tardigrada&lt;/span&gt;  &lt;span class=&quot;mi&quot;&gt;866744&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Get accepted names from tsn&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;n&quot;&gt;pytaxize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;getacceptednamesfromtsn&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;208527&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If accepted, returns the same id&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;208527&amp;#39;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;More&lt;/h2&gt;

&lt;p&gt;For the other functions see https://github.com/sckott/pytaxize/blob/master/pytaxize/itis.py&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Museum metadata - the Asian Art Museum of San Francisco</title>
   <link href="http://recology.info//2014/12/museum-aamsf/"/>
   <updated>2014-12-10T00:00:00-08:00</updated>
   <id>http://recology.info//2014/12/museum-aamsf</id>
   <content type="html">&lt;p&gt;I was in San Francisco last week for an altmetrics conference at PLOS. While there, I visited the &lt;a href=&quot;http://www.asianart.org/&quot;&gt;Asian Art Museum&lt;/a&gt;, just the &lt;a href=&quot;http://www.asianart.org/exhibitions_index/roads-of-arabia&quot;&gt;Roads of Arabia exhibition&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;It was a great exhibit. While I was looking at the pieces, I read many labels, and thought, &amp;quot;hey, what if someone wants this metadata&amp;quot;? &lt;/p&gt;

&lt;p&gt;Since we have an R package in development for scraping museum metadata (called &lt;a href=&quot;https://github.com/ropensci/musemeta&quot;&gt;musemeta&lt;/a&gt;), I just started some scraping code for this museum. Unfortunately, I don&amp;#39;t think the pieces from the Roads of Arabia exhibit are on their site, so no metadata to get. But they do have their main collection searchable online at &lt;a href=&quot;http://www.asianart.org/collections/collection&quot;&gt;http://www.asianart.org/collections/collection&lt;/a&gt;. Examples follow. &lt;/p&gt;

&lt;h2&gt;Installation&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;devtools&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
devtools&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci/musemeta&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;musemeta&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Get metadata for a single object&lt;/h2&gt;

&lt;p&gt;You have to get the ID for the piece from their website, e.g., &lt;code&gt;11462&lt;/code&gt; from the url &lt;code&gt;http://searchcollection.asianart.org/view/objects/asitem/nid/11462&lt;/code&gt;. Once you have an ID you can pass it in ot the &lt;code&gt;aam()&lt;/code&gt; function.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; aam&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;11462&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;AAM metadata&amp;gt; Molded plaque (tsha tsha)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Object id: 1992.96&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Object name: Votive plaque&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Date: approx. 1992&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Artist: &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Medium: Plaster mixed with resin and pigment&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Credit line: Gift of Robert Tevis&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   On display?: no&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Collection: Decorative Arts&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Department: Himalayan Art&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Dimensions: &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Label: Molded plaques (tsha tshas) are small sacred images, flat or&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;           three-dimensional, shaped out of clay in metal molds. The&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;           images are usually unbaked, and sometimes seeds, paper, or&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;           human ashes were mixed with the clay. Making tsha tshas is&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;           a meritorious act, and monasteries give them away to&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;           pilgrims. Some Tibetans carry tsha tshas inside the amulet&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;           boxes they wear or stuff them into larger images as part of&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;           the consecration of those images. In Bhutan tsha tshas are&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;           found in mani walls (a wall of stones carved with prayers)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;           or piled up in caves.The practice of making such plaques&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;           began in India, and from there it spread to other countries&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;           in Asia with the introduction of Buddhism. Authentic tsha&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;           tshas are cast from clay. Modern examples , such as those&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;           made for the tourist trade in Tibet, are made of plaster&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;           and cast from ancient (1100-1200) molds and hand colored to&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;           give them the appearance of age.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;The output is printed for clarity, but you can dig into each element, like &lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;out&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;label
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Molded plaques (tsha tshas) are small sacred images, flat or three-dimensional, shaped out of clay in metal molds. The images are usually unbaked, and sometimes seeds, paper, or human ashes were mixed with the clay. Making tsha tshas is a meritorious act, and monasteries give them away to pilgrims. Some Tibetans carry tsha tshas inside the amulet boxes they wear or stuff them into larger images as part of the consecration of those images. In Bhutan tsha tshas are found in mani walls (a wall of stones carved with prayers) or piled up in caves.The practice of making such plaques began in India, and from there it spread to other countries in Asia with the introduction of Buddhism. Authentic tsha tshas are cast from clay. Modern examples , such as those made for the tourist trade in Tibet, are made of plaster and cast from ancient (1100-1200) molds and hand colored to give them the appearance of age.&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Get metadata for many objects&lt;/h2&gt;

&lt;p&gt;The &lt;code&gt;aam()&lt;/code&gt; function is not vectorized, but you can easily get data for many IDs via &lt;code&gt;lapply&lt;/code&gt; type functions, etc. &lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;17150&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;17140&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;17144&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; aam&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;AAM metadata&amp;gt; Boys sumo wrestling&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Object id: 2005.100.35&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Object name: Woodblock print&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Date: approx. 1769&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Artist: Suzuki HarunobuJapanese, 1724 - 1770&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Medium: Ink and colors on paper&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Credit line: Gift of the Grabhorn Ukiyo-e Collection&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   On display?: no&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Collection: Prints And Drawings&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Department: Japanese Art&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Dimensions: H. 12 5/8 in x W. 5 3/4 in, H. 32.1 cm x W. 14.6 cm&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Label: 40 é木Ø春t信M 相&amp;#39;撲oVびÑSuzuki Harunobu, 1725?1770Boys sumo wrestling ( Sumō&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;           ?)c. 1769Woodblock print ( nishiki-e) Hosoban&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;AAM metadata&amp;gt; Autumn Moon of Matsukaze&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Object id: 2005.100.25&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Object name: Woodblock print&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Date: 1768-1769&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Artist: Suzuki HarunobuJapanese, 1724 - 1770&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Medium: Ink and colors on paper&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Credit line: Gift of the Grabhorn Ukiyo-e Collection&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   On display?: no&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Collection: Prints And Drawings&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Department: Japanese Art&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Dimensions: H. 12 1/2 in x W. 5 3/4 in, H. 31.7 cm x W. 14.6 cm&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Label: 30 é木Ø春t信M 『w流¬æ八&amp;quot;ª景i』x 「u松¼のÌ秋H月」vSuzuki Harunobu, 1725?1770&amp;quot;Autumn Moon of&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;           Matsukaze&amp;quot; (Matsukaze no shū ?)From Fashionable Eight Views&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;           of Noh Chants (Fū ?ū ?17681769Woodblock print&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;           (nishiki-e)Hosoban&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[3]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;AAM metadata&amp;gt; Hunting for fireflies&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Object id: 2005.100.29&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Object name: Woodblock print&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Date: 1767-1768&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Artist: Suzuki HarunobuJapanese, 1724 - 1770&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Medium: Ink and colors on paper&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Credit line: Gift of the Grabhorn Ukiyo-e Collection&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   On display?: no&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Collection: Prints And Drawings&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Department: Japanese Art&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Dimensions: H. 10 1/2 in x W. 8 in, H. 26.7 cm x W. 20.3 cm&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Label: 34 é木Ø春t信M u狩ëりèSuzuki Harunobu, 1725?1770Hunting for&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;           fireflies17671768Woodblock print ( nishiki-e) Chū ?&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;No search, boo&lt;/h2&gt;

&lt;p&gt;Note that there is no search functionality yet for this source. Maybe someone can add that via pull requests :)&lt;/p&gt;

&lt;h2&gt;Like the others&lt;/h2&gt;

&lt;p&gt;The others sources in &lt;code&gt;musemeta&lt;/code&gt; mostly work the same way as the above.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>icanhaz altmetrics</title>
   <link href="http://recology.info//2014/12/icanhaz-altmetrics/"/>
   <updated>2014-12-08T11:45:29-08:00</updated>
   <id>http://recology.info//2014/12/icanhaz-altmetrics</id>
   <content type="html">&lt;p&gt;The Lagotto application is a Rails app that collects and serves up via RESTful API article level metrics data for research objects. So far, this application has only been applied to scholarly articles, but will &lt;a href=&quot;http://articlemetrics.github.io/MDC/&quot;&gt;see action on datasets soon&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://blog.martinfenner.org/&quot;&gt;Martin Fenner&lt;/a&gt; has lead the development of Lagotto. He recently set up &lt;a href=&quot;http://discuss.lagotto.io/&quot;&gt;a discussion site&lt;/a&gt; if you want to chat about it.&lt;/p&gt;

&lt;p&gt;The application has a &lt;a href=&quot;http://alm.plos.org/&quot;&gt;nice GUI interface&lt;/a&gt;, and a quite nice &lt;a href=&quot;http://alm.plos.org/docs/api&quot;&gt;RESTful API&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;Lagotto is open source! Because of this, and the quality of the software, other publishers have started using it to gather and deliver publicly article level metrics data, including:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://lagotto.svr.elifesciences.org/&quot;&gt;eLife&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://pkp-alm.lib.sfu.ca/&quot;&gt;Public Knowledge Project (PKP)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://metricus.copernicus.org/&quot;&gt;Copernicus&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://det.labs.crossref.org/&quot;&gt;Crossref&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://alm.pensoft.net:81/&quot;&gt;Pensoft&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The PLOS instance at &lt;a href=&quot;http://alm.plos.org/&quot;&gt;http://alm.plos.org/&lt;/a&gt; is always the most up to date with the Lagotto software, but &lt;a href=&quot;http://det.labs.crossref.org/&quot;&gt;Crossref&lt;/a&gt; has the largest number of articles. &lt;/p&gt;

&lt;p&gt;I&amp;#39;ve been working on three clients for the Lagotto REST API, including for a while now on &lt;code&gt;R&lt;/code&gt;, recently on &lt;code&gt;Python&lt;/code&gt;, and just last week on &lt;code&gt;Ruby&lt;/code&gt;. &lt;/p&gt;

&lt;p&gt;Please do try the clients, report bugs, request features - you know the open source drill...&lt;/p&gt;

&lt;p&gt;I&amp;#39;d say the R client is the most mature, while Python is less so, end the Ruby gem the least mature. &lt;/p&gt;

&lt;h2&gt;Installation&lt;/h2&gt;

&lt;p&gt;R&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;devtools&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
devtools&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci/alm&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Python&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;git clone https&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;github.com&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;cameronneylon&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;pyalm.git
cd pyalm
git checkout scott
python setup.py install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ruby&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gem install httparty json rake
git clone https&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;github.com&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;sckott&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;alm.git
cd alm
make &lt;span class=&quot;c1&quot;&gt;# which runs build and install tasks&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you don&amp;#39;t have &lt;code&gt;make&lt;/code&gt;, then just run &lt;code&gt;gem build alm.gemspec&lt;/code&gt; and     &lt;code&gt;gem install alm-0.1.0.gem&lt;/code&gt; seperately.&lt;/p&gt;

&lt;h2&gt;Example&lt;/h2&gt;

&lt;p&gt;In this example, we&amp;#39;ll get altmetrics data for two DOIs: &lt;a href=&quot;http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029797&quot;&gt;10.1371/journal.pone.0029797&lt;/a&gt;, and &lt;a href=&quot;http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029798&quot;&gt;10.1371/journal.pone.0029798&lt;/a&gt; (click on links to go to paper).&lt;/p&gt;

&lt;h3&gt;R&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;alm&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
ids &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;10.1371/journal.pone.0029797&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;10.1371/journal.pone.0029798&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
alm_ids&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ids&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; info&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;summary&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $meta&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   total total_pages page error&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1     2           1    1    NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $data&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $data$`10.1371/journal.pone.0029798`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $data$`10.1371/journal.pone.0029798`$info&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                            doi&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 10.1371/journal.pone.0029798&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                                                                     title&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 Mitochondrial Electron Transport Is the Cellular Target of the Oncology Drug Elesclomol&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                                                canonical_url&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029798&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;       pmid   pmcid                        mendeley_uuid&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 22253786 3256171 b08cc99e-b526-3f0c-adaa-d5ee6d0d978a&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;            update_date     issued&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 2014-12-09T02:52:47Z 2012-01-11&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $data$`10.1371/journal.pone.0029798`$signposts&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                            doi viewed saved discussed cited&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 10.1371/journal.pone.0029798   4346    14         2    26&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $data$`10.1371/journal.pone.0029797`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $data$`10.1371/journal.pone.0029797`$info&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                            doi&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 10.1371/journal.pone.0029797&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                                                             title&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 Ecological Guild Evolution and the Discovery of the World&amp;#39;s Smallest Vertebrate&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                                                canonical_url&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029797&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;       pmid   pmcid                        mendeley_uuid&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 22253785 3256195 897fbbd6-5a23-3552-8077-97251b82c1e1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;            update_date     issued&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 2014-12-09T02:52:46Z 2012-01-11&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $data$`10.1371/journal.pone.0029797`$signposts&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                            doi viewed saved discussed cited&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 10.1371/journal.pone.0029797  34282    81       244     8&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Python&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;import pyalm
ids &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;10.1371/journal.pone.0029797&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;10.1371/journal.pone.0029798&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
pyalm.get_alm&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ids&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; info&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;summary&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;#&amp;gt; {&amp;#39;articles&amp;#39;: [&amp;lt;ArticleALM Mitochondrial Electron Transport Is the Cellular Target of the Oncology Drug Elesclomol,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; DOI 10.1371/journal.pone.0029798&amp;gt;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   &amp;lt;ArticleALM Ecological Guild Evolution and the Discovery of the World&amp;#39;s Smallest Vertebrate,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;         DOI 10.1371/journal.pone.0029797&amp;gt;],&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  &amp;#39;meta&amp;#39;: {u&amp;#39;error&amp;#39;: None, u&amp;#39;page&amp;#39;: 1, u&amp;#39;total&amp;#39;: 2, u&amp;#39;total_pages&amp;#39;: 1}}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Ruby&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;alm&amp;#39;&lt;/span&gt;
Alm.alm&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ids&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;10.1371/journal.pone.0029797&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;10.1371/journal.pone.0029798&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; key&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; ENV&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;PLOS_API_KEY&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;#&amp;gt; =&amp;gt; {&amp;quot;total&amp;quot;=&amp;gt;2,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  &amp;quot;total_pages&amp;quot;=&amp;gt;1,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  &amp;quot;page&amp;quot;=&amp;gt;1,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  &amp;quot;error&amp;quot;=&amp;gt;nil,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  &amp;quot;data&amp;quot;=&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   [{&amp;quot;doi&amp;quot;=&amp;gt;&amp;quot;10.1371/journal.pone.0029798&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;title&amp;quot;=&amp;gt;&amp;quot;Mitochondrial Electron Transport Is the Cellular Target of the Oncology Drug Elesclomol&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;issued&amp;quot;=&amp;gt;{&amp;quot;date-parts&amp;quot;=&amp;gt;[[2012, 1, 11]]},&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;canonical_url&amp;quot;=&amp;gt;&amp;quot;http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029798&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;pmid&amp;quot;=&amp;gt;&amp;quot;22253786&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;pmcid&amp;quot;=&amp;gt;&amp;quot;3256171&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;mendeley_uuid&amp;quot;=&amp;gt;&amp;quot;b08cc99e-b526-3f0c-adaa-d5ee6d0d978a&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;viewed&amp;quot;=&amp;gt;4346,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;saved&amp;quot;=&amp;gt;14,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;discussed&amp;quot;=&amp;gt;2,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;cited&amp;quot;=&amp;gt;26,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;update_date&amp;quot;=&amp;gt;&amp;quot;2014-12-09T02:52:47Z&amp;quot;},&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;    {&amp;quot;doi&amp;quot;=&amp;gt;&amp;quot;10.1371/journal.pone.0029797&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;title&amp;quot;=&amp;gt;&amp;quot;Ecological Guild Evolution and the Discovery of the World&amp;#39;s Smallest Vertebrate&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;issued&amp;quot;=&amp;gt;{&amp;quot;date-parts&amp;quot;=&amp;gt;[[2012, 1, 11]]},&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;canonical_url&amp;quot;=&amp;gt;&amp;quot;http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029797&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;pmid&amp;quot;=&amp;gt;&amp;quot;22253785&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;pmcid&amp;quot;=&amp;gt;&amp;quot;3256195&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;mendeley_uuid&amp;quot;=&amp;gt;&amp;quot;897fbbd6-5a23-3552-8077-97251b82c1e1&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;viewed&amp;quot;=&amp;gt;34282,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;saved&amp;quot;=&amp;gt;81,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;discussed&amp;quot;=&amp;gt;244,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;cited&amp;quot;=&amp;gt;8,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;update_date&amp;quot;=&amp;gt;&amp;quot;2014-12-09T02:52:46Z&amp;quot;}]}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Dealing with multi handle errors</title>
   <link href="http://recology.info//2014/12/multi-handle/"/>
   <updated>2014-12-08T00:00:00-08:00</updated>
   <id>http://recology.info//2014/12/multi-handle</id>
   <content type="html">&lt;p&gt;At rOpenSci we occasssionally hear from our users that they run into an error like:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;Error &lt;span class=&quot;kr&quot;&gt;in&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;type&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; msg&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; asError &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; 
  easy handled already used &lt;span class=&quot;kr&quot;&gt;in&lt;/span&gt; multi handle
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This error occurs in the &lt;code&gt;httr&lt;/code&gt; package that we use to do http requests to sources of data on the web. It happens when e.g., you make a lot of requests to a resource, then it gets interrupted somehow - then you make another call, and you get the error above. Let&amp;#39;s try it with the an version of &lt;code&gt;httr&lt;/code&gt; (&lt;code&gt;v0.5&lt;/code&gt;): &lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;httr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# run, then esc to cause multi handle error&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; GET&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;http://google.com/&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# then retry single call, which trows multi handle error&lt;/span&gt;
GET&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;http://google.com/&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Error in function (type, msg, asError = TRUE)  : &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   easy handled already used in multi handle&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;There are any number of reasons why your session may get interrupted, including an internet outage, the web service you are requesesting data from times out, etc.  There hasn&amp;#39;t been a straight-forward way to handle this, until recently. &lt;/p&gt;

&lt;p&gt;In &lt;code&gt;httr&lt;/code&gt; version &lt;code&gt;0.6&lt;/code&gt;, there are two new functions &lt;code&gt;handle_find()&lt;/code&gt; and &lt;code&gt;handle_reset()&lt;/code&gt; to help deal with this error.&lt;/p&gt;

&lt;p&gt;First, install newest httr from Github&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;devtools&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
devtools&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;hadley/httr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;httr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Make a bunch of requests to google, interrupting part way through&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; HEAD&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;http://google.com/&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then retry single call, which trows multi handle error&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;HEAD&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;http://google.com/&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Error in function (type, msg, asError = TRUE)  : &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   easy handled already used in multi handle&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Find handle&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;handle_find&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;http://google.com/&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Host: http://google.com/ &amp;lt;0x10f3d1600&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Reset handle&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;handle_reset&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;http://google.com/&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Try call again, this time it should work&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;HEAD&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;http://google.com/&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Response [http://www.google.com/]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Date: 2014-12-08 13:37&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Status: 200&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Content-Type: text/html; charset=ISO-8859-1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;EMPTY BODY&amp;gt;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Usage in ropensci packages&lt;/h2&gt;

&lt;p&gt;We have more work to do yet to integrate this into our packages. It&amp;#39;s great you can reset a handle as above, but to reset the handle you need to search for the URL used in the request, which our users would have to dig into the code for the function they are using. That is easy-ish to do, but perhaps not everyone knows they can get to the code easily.  So, we may try seting a parameter in functions that would let reset the handle to clear this error. &lt;/p&gt;

&lt;h2&gt;Note&lt;/h2&gt;

&lt;p&gt;Note that Hadley is planning on eliminating &lt;code&gt;RCurl&lt;/code&gt; dependency (https://github.com/hadley/httr/issues/172), so there may be a different solution in the future. &lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Altmetrics from anywhere</title>
   <link href="http://recology.info//2014/12/altmetrics-anywhere/"/>
   <updated>2014-12-08T00:00:00-08:00</updated>
   <id>http://recology.info//2014/12/altmetrics-anywhere</id>
   <content type="html">&lt;p&gt;The Lagotto application is a Rails app that collects and serves up via RESTful API article level metrics data for research objects. So far, this application has only been applied to scholarly articles, but will &lt;a href=&quot;http://articlemetrics.github.io/MDC/&quot;&gt;see action on datasets soon&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://blog.martinfenner.org/&quot;&gt;Martin Fenner&lt;/a&gt; has lead the development of Lagotto. He recently set up &lt;a href=&quot;http://discuss.lagotto.io/&quot;&gt;a discussion site&lt;/a&gt; if you want to chat about it.&lt;/p&gt;

&lt;p&gt;The application has a &lt;a href=&quot;http://alm.plos.org/&quot;&gt;nice GUI interface&lt;/a&gt;, and a quite nice &lt;a href=&quot;http://alm.plos.org/docs/api&quot;&gt;RESTful API&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;Lagotto is open source! Because of this, and the quality of the software, other publishers have started using it to gather and deliver publicly article level metrics data, including:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://lagotto.svr.elifesciences.org/&quot;&gt;eLife&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://pkp-alm.lib.sfu.ca/&quot;&gt;Public Knowledge Project (PKP)&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://metricus.copernicus.org/&quot;&gt;Copernicus&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://det.labs.crossref.org/&quot;&gt;Crossref&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://alm.pensoft.net:81/&quot;&gt;Pensoft&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;The PLOS instance at &lt;a href=&quot;http://alm.plos.org/&quot;&gt;http://alm.plos.org/&lt;/a&gt; is always the most up to date with the Lagotto software, but &lt;a href=&quot;http://det.labs.crossref.org/&quot;&gt;Crossref&lt;/a&gt; has the largest number of articles. &lt;/p&gt;

&lt;p&gt;I&amp;#39;ve been working on three clients for the Lagotto REST API, including for a while now on &lt;code&gt;R&lt;/code&gt;, recently on &lt;code&gt;Python&lt;/code&gt;, and just last week on &lt;code&gt;Ruby&lt;/code&gt;. &lt;/p&gt;

&lt;p&gt;Please do try the clients, report bugs, request features - you know the open source drill...&lt;/p&gt;

&lt;p&gt;I&amp;#39;d say the R client is the most mature, while Python is less so, end the Ruby gem the least mature. &lt;/p&gt;

&lt;h2&gt;Installation&lt;/h2&gt;

&lt;p&gt;R&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;devtools&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
devtools&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci/alm&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Python&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;git clone https&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;github.com&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;cameronneylon&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;pyalm.git
cd pyalm
git checkout scott
python setup.py install
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Ruby&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gem install httparty json rake
git clone https&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;github.com&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;sckott&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;alm.git
cd alm
make &lt;span class=&quot;c1&quot;&gt;# which runs build and install tasks&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;If you don&amp;#39;t have &lt;code&gt;make&lt;/code&gt;, then just run &lt;code&gt;gem build alm.gemspec&lt;/code&gt; and     &lt;code&gt;gem install alm-0.1.0.gem&lt;/code&gt; seperately.&lt;/p&gt;

&lt;h2&gt;Example&lt;/h2&gt;

&lt;p&gt;In this example, we&amp;#39;ll get altmetrics data for two DOIs: &lt;a href=&quot;http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029797&quot;&gt;10.1371/journal.pone.0029797&lt;/a&gt;, and &lt;a href=&quot;http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029798&quot;&gt;10.1371/journal.pone.0029798&lt;/a&gt; (click on links to go to paper).&lt;/p&gt;

&lt;h3&gt;R&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;alm&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
ids &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;10.1371/journal.pone.0029797&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;10.1371/journal.pone.0029798&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
alm_ids&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ids&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; info&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;summary&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $meta&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   total total_pages page error&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1     2           1    1    NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $data&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $data$`10.1371/journal.pone.0029798`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $data$`10.1371/journal.pone.0029798`$info&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                            doi&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 10.1371/journal.pone.0029798&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                                                                     title&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 Mitochondrial Electron Transport Is the Cellular Target of the Oncology Drug Elesclomol&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                                                canonical_url&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029798&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;       pmid   pmcid                        mendeley_uuid&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 22253786 3256171 b08cc99e-b526-3f0c-adaa-d5ee6d0d978a&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;            update_date     issued&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 2014-12-09T02:52:47Z 2012-01-11&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $data$`10.1371/journal.pone.0029798`$signposts&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                            doi viewed saved discussed cited&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 10.1371/journal.pone.0029798   4346    14         2    26&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $data$`10.1371/journal.pone.0029797`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $data$`10.1371/journal.pone.0029797`$info&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                            doi&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 10.1371/journal.pone.0029797&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                                                             title&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 Ecological Guild Evolution and the Discovery of the World&amp;#39;s Smallest Vertebrate&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                                                canonical_url&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029797&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;       pmid   pmcid                        mendeley_uuid&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 22253785 3256195 897fbbd6-5a23-3552-8077-97251b82c1e1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;            update_date     issued&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 2014-12-09T02:52:46Z 2012-01-11&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $data$`10.1371/journal.pone.0029797`$signposts&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                            doi viewed saved discussed cited&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 10.1371/journal.pone.0029797  34282    81       244     8&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Python&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;import pyalm
ids &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;10.1371/journal.pone.0029797&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;10.1371/journal.pone.0029798&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
pyalm.get_alm&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ids&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; info&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;summary&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;#&amp;gt; {&amp;#39;articles&amp;#39;: [&amp;lt;ArticleALM Mitochondrial Electron Transport Is the Cellular Target of the Oncology Drug Elesclomol,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; DOI 10.1371/journal.pone.0029798&amp;gt;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   &amp;lt;ArticleALM Ecological Guild Evolution and the Discovery of the World&amp;#39;s Smallest Vertebrate,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;         DOI 10.1371/journal.pone.0029797&amp;gt;],&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  &amp;#39;meta&amp;#39;: {u&amp;#39;error&amp;#39;: None, u&amp;#39;page&amp;#39;: 1, u&amp;#39;total&amp;#39;: 2, u&amp;#39;total_pages&amp;#39;: 1}}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Ruby&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;alm&amp;#39;&lt;/span&gt;
Alm.alm&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ids&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;10.1371/journal.pone.0029797&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;10.1371/journal.pone.0029798&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; key&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; ENV&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;PLOS_API_KEY&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;#&amp;gt; =&amp;gt; {&amp;quot;total&amp;quot;=&amp;gt;2,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  &amp;quot;total_pages&amp;quot;=&amp;gt;1,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  &amp;quot;page&amp;quot;=&amp;gt;1,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  &amp;quot;error&amp;quot;=&amp;gt;nil,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  &amp;quot;data&amp;quot;=&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   [{&amp;quot;doi&amp;quot;=&amp;gt;&amp;quot;10.1371/journal.pone.0029798&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;title&amp;quot;=&amp;gt;&amp;quot;Mitochondrial Electron Transport Is the Cellular Target of the Oncology Drug Elesclomol&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;issued&amp;quot;=&amp;gt;{&amp;quot;date-parts&amp;quot;=&amp;gt;[[2012, 1, 11]]},&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;canonical_url&amp;quot;=&amp;gt;&amp;quot;http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029798&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;pmid&amp;quot;=&amp;gt;&amp;quot;22253786&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;pmcid&amp;quot;=&amp;gt;&amp;quot;3256171&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;mendeley_uuid&amp;quot;=&amp;gt;&amp;quot;b08cc99e-b526-3f0c-adaa-d5ee6d0d978a&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;viewed&amp;quot;=&amp;gt;4346,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;saved&amp;quot;=&amp;gt;14,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;discussed&amp;quot;=&amp;gt;2,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;cited&amp;quot;=&amp;gt;26,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;update_date&amp;quot;=&amp;gt;&amp;quot;2014-12-09T02:52:47Z&amp;quot;},&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;    {&amp;quot;doi&amp;quot;=&amp;gt;&amp;quot;10.1371/journal.pone.0029797&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;title&amp;quot;=&amp;gt;&amp;quot;Ecological Guild Evolution and the Discovery of the World&amp;#39;s Smallest Vertebrate&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;issued&amp;quot;=&amp;gt;{&amp;quot;date-parts&amp;quot;=&amp;gt;[[2012, 1, 11]]},&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;canonical_url&amp;quot;=&amp;gt;&amp;quot;http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0029797&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;pmid&amp;quot;=&amp;gt;&amp;quot;22253785&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;pmcid&amp;quot;=&amp;gt;&amp;quot;3256195&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;mendeley_uuid&amp;quot;=&amp;gt;&amp;quot;897fbbd6-5a23-3552-8077-97251b82c1e1&amp;quot;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;viewed&amp;quot;=&amp;gt;34282,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;saved&amp;quot;=&amp;gt;81,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;discussed&amp;quot;=&amp;gt;244,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;cited&amp;quot;=&amp;gt;8,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     &amp;quot;update_date&amp;quot;=&amp;gt;&amp;quot;2014-12-09T02:52:46Z&amp;quot;}]}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Publications by author country</title>
   <link href="http://recology.info//2014/12/rplos-pubs-country/"/>
   <updated>2014-12-03T00:00:00-08:00</updated>
   <id>http://recology.info//2014/12/rplos-pubs-country</id>
   <content type="html">&lt;p&gt;I just missed another chat on the rOpenSci website:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;I want to know the number of publications by people from a certain country, but I dont know how to achieve this...&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Fun! Let&amp;#39;s do that. It&amp;#39;s a bit complicated because there is no field like geography of the authors. But there are affiliation fields, from which we can collect data we need.&lt;/p&gt;

&lt;h2&gt;Installation&lt;/h2&gt;

&lt;p&gt;You&amp;#39;ll need the GitHub version for the coutry names data, or just use the CRAN version, and get country names elsewhere. &lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;devtools&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
devtools&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci/rplos&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;rplos&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Get the data&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;articles &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; searchplos&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;q&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;*:*&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; limit &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    fl&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;id&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;author_affiliate&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
    fq&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;article_type:&amp;quot;Research Article&amp;quot;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;doc_type:full&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Search for country names in affilitation field&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;countries &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;articles&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;data&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;author_affiliate&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
  out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;isocodes&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;name&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;z&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;grepl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;z&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
  isocodes&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;name&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; character(0)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Jersey&amp;quot;        &amp;quot;United States&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[3]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;China&amp;quot;   &amp;quot;Germany&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[4]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; character(0)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[5]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Argentina&amp;quot;      &amp;quot;United Kingdom&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can combine this data with the previously collected data:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Helper function&lt;/span&gt;
splitem &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
  &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;paste0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; collapse &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;, &amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; x
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

articles&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;data&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;countries &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;countries&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; splitem&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;articles&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;data&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                             id&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 10.1371/journal.pone.0095870&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 10.1371/journal.pone.0110535&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3 10.1371/journal.pone.0110991&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4 10.1371/journal.pone.0111234&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 5 10.1371/journal.pone.0111388&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                author_affiliate&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 Institute of Epidemiology and Preventive Medicine, College of Public Health, National Taiwan University, Taipei, Taiwan; Department of Clinical Laboratory Sciences and Medical Biotechnology, College of Medicine, National Taiwan University, Taipei, Taiwan; Department of Gastroenterology, Ren-Ai Branch, Taipei City Hospital, Taipei, Taiwan; Division of Gastroenterology, Department of Internal Medicine, National Taiwan University Hospital and National Taiwan University College of Medicine, Taipei, Taiwan; Liver Research Unit, Chang Gung Memorial Hospital, Chang Gung University College of Medicine, Taipei, Taiwan; Division of Gastroenterology, Department of Medicine, Taipei Veterans General Hospital, Taipei, Taiwan; Cheng Hsin General Hospital, Taipei, Taiwan&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2    Durham Nephrology Associates, Durham, North Carolina, United States of America; Scientific Activities Department, The National Kidney Foundation, Inc., New York, New York, United States of America; Covance Inc., Princeton, New Jersey, United States of America; Departments of Medicine and Population Health Sciences, University of Wisconsin School of Medicine and Public Health, Madison, Wisconsin, United States of America; Department of Family Medicine, University at Buffalo, Buffalo, New York, United States of America; Baylor Health Care System, Baylor Heart and Vascular Institute, Dallas, Texas, United States of America; Department of Medicine, Division of Nephrology, Icahn School of Medicine at Mount Sinai, New York, New York, United States of America&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3                                                                                                                                                                                                                                                                                                                                                                                                                                  State Key Laboratory of Electronic Thin Films and Integrated Devices, School of Microelectronics and Solid-State electronics, University of Electronic Science and Technology of China, Sichuan, China; Electrical and Computer Engineering, Kaiserslautern University of Technology, Kaiserslautern German Gottlieb-Daimler-Strabe, Kaiserslautern, Germany&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         SB RAS Institute of Chemical Biology and Fundamental Medicine, Novosibirsk, Russia; Pacific Institute of Bioorganic Chemistry, Far East Division, Russian Academy of Sciences, Vladivostok, Russia; Novosibirsk State University, Novosibirsk, Russia&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 5                                                                                                                                                                                                                                                                                                                                                                                   CONICET, Consejo Nacional de Investigaciones Científicas y Técnicas, Ciudad Autónoma de Buenos Aires, Buenos Aires, Argentina; INGEO, Instituto de Geología, Facultad de Ciencias Exactas, Físicas y Naturales, Universidad Nacional de San Juan, San Juan, San Juan, Argentina; School of Geography, Earth and Environmental Sciences, University of Birmingham, Birmingham, West Midlands, United Kingdom&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                   countries&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1                      &amp;lt;NA&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2     Jersey, United States&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3            China, Germany&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4                      &amp;lt;NA&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 5 Argentina, United Kingdom&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Bigger data set&lt;/h2&gt;

&lt;p&gt;Okay, cool, lets do it on a bigger data set, and this time, we&amp;#39;ll get another variable &lt;code&gt;counter_total_all&lt;/code&gt;, which is the combination of page views/pdf downloads for each article. This will allow us to ask &lt;em&gt;Is number of countries included in the authors related to page views?&lt;/em&gt;. I have no idea if this question makes sense, but nonetheless, it is a question :)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;articles &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; searchplos&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;q&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;*:*&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; limit &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    fl&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;id&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;counter_total_all&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;author_affiliate&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
    fq&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;article_type:&amp;quot;Research Article&amp;quot;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;doc_type:full&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Get countries&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;countries &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;articles&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;data&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;author_affiliate&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
  out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;isocodes&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;name&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;z&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;grepl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;z&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
  isocodes&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;name&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; articles&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;data
df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;countries &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;countries&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; splitem&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let&amp;#39;s remove those rows with 0 countries, since the authors must be from somewhere, so the country name matching must have errored. &lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;n_countries &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;countries&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; df&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;n_countries &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Plot data&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;ggplot2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;n_countries&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;counter_total_all&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  geom_point&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  labs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;total page views&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
  theme_grey&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;figure/unnamed-chunk-10-1.png&quot; alt=&quot;plot of chunk unnamed-chunk-10&quot;&gt; &lt;/p&gt;

&lt;p&gt;Conclusion: meh, maybe, maybe not&lt;/p&gt;

&lt;h2&gt;Into rplos&lt;/h2&gt;

&lt;p&gt;We&amp;#39;ll probably add a function like this into &lt;code&gt;rplos&lt;/code&gt;, as a convenient way to handle this use case.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>http codes</title>
   <link href="http://recology.info//2014/12/http-codes/"/>
   <updated>2014-12-02T08:01:50-08:00</updated>
   <id>http://recology.info//2014/12/http-codes</id>
   <content type="html">&lt;p&gt;Recently noticed a little Python library called &lt;a href=&quot;https://github.com/rspivak/httpcode&quot;&gt;httpcode&lt;/a&gt; that does a simple thing: gives information on http codes in the CLI. I thought this could maybe potentially be useful for R. So I made an R version. &lt;/p&gt;

&lt;h2&gt;Installation&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;devtools&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;sckott/httpcode&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;httpcode&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Search by http code&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;http_code&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 100&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Continue&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Request received, please continue&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;http_code&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;400&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 400&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Bad Request&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Bad request syntax or unsupported method&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;http_code&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;503&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 503&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Service Unavailable&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: The server cannot process the request due to a high load&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;http_code&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;999&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Error: No description found for code: 999&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Fuzzy code search&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;http_code&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;1xx&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 100&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Continue&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Request received, please continue&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 101&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Switching Protocols&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Switching to new protocol; obey Upgrade header&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[3]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 102&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Processing&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: WebDAV; RFC 2518&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;http_code&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;3xx&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 300&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Multiple Choices&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Object has several resources -- see URI list&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 301&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Moved Permanently&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Object moved permanently -- see URI list&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[3]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 302&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Found&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Object moved temporarily -- see URI list&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[4]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 303&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: See Other&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Object moved -- see Method and URL list&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[5]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 304&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Not Modified&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Document has not changed since given time&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[6]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 305&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Use Proxy&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: You must use proxy specified in Location to access this resource.&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[7]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 306&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Switch Proxy&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Subsequent requests should use the specified proxy&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[8]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 307&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Temporary Redirect&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Object moved temporarily -- see URI list&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[9]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 308&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Permanent Redirect&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Object moved permanently&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;http_code&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;30[12]&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 301&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Moved Permanently&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Object moved permanently -- see URI list&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 302&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Found&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Object moved temporarily -- see URI list&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;http_code&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;30[34]&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 303&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: See Other&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Object moved -- see Method and URL list&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 304&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Not Modified&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Document has not changed since given time&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Search by text message&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;http_search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;request&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 100&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Continue&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Request received, please continue&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 200&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: OK&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Request fulfilled, document follows&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[3]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 202&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Accepted&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Request accepted, processing continues off-line&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[4]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 203&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Non-Authoritative Information&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Request fulfilled from cache&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[5]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 204&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: No Content&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Request fulfilled, nothing follows&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[6]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 306&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Switch Proxy&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Subsequent requests should use the specified proxy&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[7]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 400&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Bad Request&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Bad request syntax or unsupported method&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[8]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 403&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Forbidden&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Request forbidden -- authorization will not help&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[9]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 408&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Request Timeout&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Request timed out; try again later.&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[10]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 409&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Conflict&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Request conflict.&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[11]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 413&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Request Entity Too Large&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Entity is too large.&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[12]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 414&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Request-URI Too Long&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: URI is too long.&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[13]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 416&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Requested Range Not Satisfiable&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Cannot satisfy request range.&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[14]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 503&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Service Unavailable&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: The server cannot process the request due to a high load&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[15]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 505&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: HTTP Version Not Supported&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Cannot fulfill request.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;http_search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;forbidden&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 403&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Forbidden&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Request forbidden -- authorization will not help&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;http_search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;too&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 413&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Request Entity Too Large&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: Entity is too large.&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[2]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &amp;lt;Status code: 414&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Message: Request-URI Too Long&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   Explanation: URI is too long.&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;http_search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;birds&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Error: No status code found for search: : birds&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>taxize workflows</title>
   <link href="http://recology.info//2014/12/taxize-workflows/"/>
   <updated>2014-12-02T00:00:00-08:00</updated>
   <id>http://recology.info//2014/12/taxize-workflows</id>
   <content type="html">&lt;p&gt;A missed chat on the rOpenSci website the other day asked:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Hi there, i am trying to use the taxize package and have a .csv file of species names to run through taxize updating them. What would be the code i would need to run to achieve this?&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;One way to answer this is to talk about the basic approach to importing data, doing stuff to the data, then recombining data. There are many ways to do this, but I&amp;#39;ll go over a few of them.&lt;/p&gt;

&lt;h2&gt;Install taxize&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;taxize&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;downloader&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;taxize&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Import data&lt;/h2&gt;

&lt;p&gt;We&amp;#39;ll use Winston Chang&amp;#39;s new &lt;code&gt;downloader&lt;/code&gt; package to avoid problems with &lt;code&gt;https&lt;/code&gt;, and get a dataset from our ropensci datasets repo &lt;a href=&quot;https://github.com/ropensci/datasets&quot;&gt;https://github.com/ropensci/datasets&lt;/a&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;downloader&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;download&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;https://raw.githubusercontent.com/ropensci/datasets/master/planttraits/morphological.csv&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;morphological.csv&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
dat &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; read.csv&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;morphological.csv&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; stringsAsFactors &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                  species log_SLA leaf_water_content log_wood_density&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1         Abies concolor    3.46               0.51            -0.52&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2          Abies grandis    3.58               0.49            -0.51&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3        Abies magnifica    3.87               0.62            -0.53&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4      Acacia farnesiana      NA                 NA               NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 5           Acer glabrum    5.07               0.69            -0.54&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 6 Adenostoma fasciculata    3.56               0.46            -0.31&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   log_ht log_N&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1   7.72  0.02&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2   7.51 -0.31&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3   7.58 -0.14&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4   5.70    NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 5   3.25  1.02&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 6   5.33  0.29&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;After importing data, there are a variety of approaches you could take:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Vector: Take species names as vector from your &lt;code&gt;data.frame&lt;/code&gt;, cleaning them, then re-attching to the &lt;code&gt;data.frame&lt;/code&gt; later, or&lt;/li&gt;
&lt;li&gt;In-Place: Use for loops or &lt;code&gt;lapply&lt;/code&gt; family functions to iterate over each name while simultaneously re-inserting into the &lt;code&gt;data.frame&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;h2&gt;1. Vector&lt;/h2&gt;

&lt;p&gt;Make a vector of names&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;splist &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; dat&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;species
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then proceed to do name cleaning, e.g, we can use the &lt;code&gt;tnrs&lt;/code&gt; function to see if any names are potentially not spelled correctly. &lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;tnrs_out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; tnrs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;splist&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;source&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;iPlant_TNRS&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;tnrs_out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;              submittedname             acceptedname    sourceid score&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1     Ceanothus prostratus     Ceanothus prostratus iPlant_TNRS     1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2          Abies magnifica          Abies magnifica iPlant_TNRS     1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3 Arctostaphylos canescens Arctostaphylos canescens iPlant_TNRS     1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4         Berberis nervosa         Berberis nervosa iPlant_TNRS     1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 5        Arbutus menziesii        Arbutus menziesii iPlant_TNRS     1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 6     Calocedrus decurrens     Calocedrus decurrens iPlant_TNRS     1&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                matchedname      authority&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1     Ceanothus prostratus         Benth.&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2          Abies magnifica  A. Murray bis&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3 Arctostaphylos canescens         Eastw.&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4         Berberis nervosa          Pursh&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 5        Arbutus menziesii          Pursh&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 6     Calocedrus decurrens (Torr.) Florin&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                     uri&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 http://www.tropicos.org/Name/27500276&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 http://www.tropicos.org/Name/24900142&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3 http://www.tropicos.org/Name/12302547&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4  http://www.tropicos.org/Name/3500175&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 5 http://www.tropicos.org/Name/12302436&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 6  http://www.tropicos.org/Name/9400069&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Those with score of less than 1 may have misspellings&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;tnrs_out&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; tnrs_out&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;score &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                 submittedname              acceptedname    sourceid score&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 23     Adenostoma fasciculata   Adenostoma fasciculatum iPlant_TNRS  0.97&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 24 Arctostaphylos glandulosus Arctostaphylos glandulosa iPlant_TNRS  0.97&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 36        Chamaebatia foliosa     Chamaebatia foliolosa iPlant_TNRS  0.95&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 38     Juniperus californicus     Juniperus californica iPlant_TNRS  0.97&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 77         Prunus illicifolia         Prunus ilicifolia iPlant_TNRS  0.99&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 78         Prunus subcordatus         Prunus subcordata iPlant_TNRS  0.97&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                  matchedname                         authority&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 23   Adenostoma fasciculatum                      Hook. &amp;amp; Arn.&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 24 Arctostaphylos glandulosa                            Eastw.&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 36     Chamaebatia foliolosa                            Benth.&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 38     Juniperus californica                          Carrière&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 77         Prunus ilicifolia (Nutt. ex Hook. &amp;amp; Arn.) D. Dietr.&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 78         Prunus subcordata                            Benth.&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                      uri&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 23 http://www.tropicos.org/Name/27801458&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 24 http://www.tropicos.org/Name/12300542&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 36 http://www.tropicos.org/Name/27801486&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 38  http://www.tropicos.org/Name/9400374&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 77 http://www.tropicos.org/Name/27801102&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 78 http://www.tropicos.org/Name/27801124&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;So let&amp;#39;s take the &lt;code&gt;acceptedname&lt;/code&gt; column as a the new names and assign to a new vector&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;cleaned_names &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; tnrs_out&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;acceptedname
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then join names back, replacing them, or adding as a new column&lt;/p&gt;

&lt;p&gt;Replace&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;dat&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;species &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; cleaned_names
&lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                    species log_SLA leaf_water_content log_wood_density&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1     Ceanothus prostratus    3.46               0.51            -0.52&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2          Abies magnifica    3.58               0.49            -0.51&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3 Arctostaphylos canescens    3.87               0.62            -0.53&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4         Berberis nervosa      NA                 NA               NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 5        Arbutus menziesii    5.07               0.69            -0.54&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 6     Calocedrus decurrens    3.56               0.46            -0.31&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   log_ht log_N&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1   7.72  0.02&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2   7.51 -0.31&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3   7.58 -0.14&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4   5.70    NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 5   3.25  1.02&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 6   5.33  0.29&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;New column&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;dat&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;species_cleaned &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; cleaned_names
&lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                    species log_SLA leaf_water_content log_wood_density&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1     Ceanothus prostratus    3.46               0.51            -0.52&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2          Abies magnifica    3.58               0.49            -0.51&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3 Arctostaphylos canescens    3.87               0.62            -0.53&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4         Berberis nervosa      NA                 NA               NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 5        Arbutus menziesii    5.07               0.69            -0.54&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 6     Calocedrus decurrens    3.56               0.46            -0.31&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   log_ht log_N          species_cleaned&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1   7.72  0.02     Ceanothus prostratus&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2   7.51 -0.31          Abies magnifica&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3   7.58 -0.14 Arctostaphylos canescens&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4   5.70    NA         Berberis nervosa&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 5   3.25  1.02        Arbutus menziesii&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 6   5.33  0.29     Calocedrus decurrens&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;2. In-place&lt;/h2&gt;

&lt;p&gt;You can use functions from the &lt;code&gt;dplyr&lt;/code&gt; package to &lt;code&gt;split-apply-combine&lt;/code&gt;, where &lt;code&gt;split&lt;/code&gt; is split apart your vector for each taxon, &lt;code&gt;apply&lt;/code&gt; to apply a function or functions to do name cleaning, then &lt;code&gt;combine&lt;/code&gt; to put them back together. &lt;/p&gt;

&lt;p&gt;Here, we&amp;#39;ll attach taxonomic ids from the Catalogue of Life to each species (each row) (with just a subset of the data to save time):&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;dplyr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
tbl_df&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  rowwise&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  mutate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;colid &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; get_colid&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;species&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  select&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;species&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; colid&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Source: local data frame [5 x 2]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Groups: &amp;lt;by row&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                    species    colid&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1     Ceanothus prostratus 19544732&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2          Abies magnifica 18158318&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3 Arctostaphylos canescens 19358934&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4         Berberis nervosa 19374077&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 5        Arbutus menziesii 19358819&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let&amp;#39;s do something a bit more complicated. Get common names for each taxon in a new column, if more than 1, concatenate into a single character string for easy inclusion in a &lt;code&gt;data.frame&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;sci2comm_concat &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
  temp &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sci2comm&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; db &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;eol&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;temp&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;paste0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;temp&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]],&lt;/span&gt; collapse &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;, &amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

dat_new &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; tbl_df&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  rowwise&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  mutate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;comm &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; sci2comm_concat&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;species&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;To see the new column, do &lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;dat_new &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; select&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;comm&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Source: local data frame [5 x 1]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Groups: &amp;lt;by row&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                                                          comm&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1                      Mahala-mat Ceanothus, prostrate ceanothus, squawcarpet&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 Prächtige Tanne, Goldtanne (Gold-Tanne), Kalifornische Rot-Tanne, Pracht-Ta&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3                          hoary manzanita, hoary manzanita, Sonoma manzanita&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4 Longleaf Oregon-grape, Cascade barberry, Dull Oregon grape, Oregon grape-ho&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 5                   pacific madrone, Madrona, madrone, Kalifornianmansikkapuu&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>1000 commits to taxize</title>
   <link href="http://recology.info//2014/11/taxize-1000/"/>
   <updated>2014-11-28T00:00:00-08:00</updated>
   <id>http://recology.info//2014/11/taxize-1000</id>
   <content type="html">&lt;p&gt;Just today we&amp;#39;ve hit 1000 commits on &lt;code&gt;taxize&lt;/code&gt;!  &lt;code&gt;taxize&lt;/code&gt; is an R client to search across lots of taxonomic databases on the web. In honor of the 1000 commit milestone, here&amp;#39;s some stats on the project.&lt;/p&gt;

&lt;p&gt;Before that, lots of people have contributed to &lt;code&gt;taxize&lt;/code&gt;, it&amp;#39;s a big group effort:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/EDiLD&quot;&gt;Eduard Szöcs&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/zachary-foster&quot;&gt;Zachary Foster&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig&quot;&gt;Carl Boettiger&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/karthik&quot;&gt;Karthik Ram&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/jarioksa&quot;&gt;Jari Oksanen&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/fmichonneau&quot;&gt;Francis Michonneau&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/Ironholds&quot;&gt;Oliver Keyes&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/dlebauer&quot;&gt;David LeBauer&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/benmarwick&quot;&gt;Ben Marwick&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/anirvan&quot;&gt;Anirvan Chatterjee&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;In addition, we&amp;#39;ve had lots of feedback from users, including feature requests and bug reports, making &lt;code&gt;taxize&lt;/code&gt; a lot better.&lt;/p&gt;

&lt;h2&gt;Setup&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;devtools&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;httr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;ggplot2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;stringr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;plyr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;dplyr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Define functions&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;github_auth &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;appname &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;getOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;gh_appname&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; key &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;getOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;gh_id&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
                        secret &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;getOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;gh_secret&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;is.null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;getOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;gh_token&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    myapp &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; oauth_app&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;appname&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; key&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; secret&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    token &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; oauth2.0_token&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;oauth_endpoints&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;github&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; myapp&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;kp&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gh_token &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; token&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    token &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;getOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;gh_token&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kr&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;token&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

make_url &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; z&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kp&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;https://api.github.com/repos/%s/%s/%s&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; z&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

process_result &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  stop_for_status&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;x&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;headers&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`content-type`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;application/json; charset=utf-8&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;kp&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;content type mismatch&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  tmp &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; content&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; as &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;text&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  jsonlite&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;fromJSON&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;tmp&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; flatten &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

gh_commits &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;repo&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; owner &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  token &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; github_auth&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
  outout &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; iter &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; nexturl &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;dontstop&amp;quot;&lt;/span&gt;
  &lt;span class=&quot;kr&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;nexturl &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;stop&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
    iter &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; iter &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
    req &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;grepl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;https:/&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; nexturl&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; GET&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;nexturl&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; config &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;token &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; token&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; GET&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;make_url&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;owner&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; repo&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;commits&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; query &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;per_page&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; config &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;token &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; token&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    outout&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;iter&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; process_result&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    link &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; req&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;headers&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;link
    nexturl &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;is.null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;link&lt;span class=&quot;p&quot;&gt;)){&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;stop&amp;quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;grepl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;next&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; link&lt;span class=&quot;p&quot;&gt;)){&lt;/span&gt;
        stringr&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;str_extract&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;link&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;https://[0-9A-Za-z/?=\\._&amp;amp;]+&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&amp;quot;stop&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  outout &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; outout&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;outout&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;identical&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()))]&lt;/span&gt;
  dplyr&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;rbind_all&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;outout&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

gh_issues &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;repo&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; owner &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  token &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; github_auth&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
  outout &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;();&lt;/span&gt; iter &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;;&lt;/span&gt; nexturl &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;dontstop&amp;quot;&lt;/span&gt;
  &lt;span class=&quot;kr&quot;&gt;while&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;nexturl &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;stop&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;){&lt;/span&gt;
    iter &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; iter &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;
    req &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;grepl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;https:/&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; nexturl&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; GET&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;nexturl&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; query&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;state&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;all&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; config &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;token &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; token&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; GET&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;make_url&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;owner&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; repo&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;issues&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; query &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;per_page&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; state&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;all&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; config &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;token &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; token&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    outout&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;iter&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; process_result&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    link &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; req&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;headers&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;link
    nexturl &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;is.null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;link&lt;span class=&quot;p&quot;&gt;)){&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;stop&amp;quot;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
      &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;grepl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;next&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; link&lt;span class=&quot;p&quot;&gt;)){&lt;/span&gt;
        stringr&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;str_extract&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;link&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;https://[0-9A-Za-z/?=\\._&amp;amp;]+&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;s&quot;&gt;&amp;quot;stop&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  outout &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; outout&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;outout&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;identical&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()))]&lt;/span&gt;
  dplyr&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;rbind_all&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;outout&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

gh_commit &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;sha&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; repo&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; owner &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  token &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; github_auth&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
  req &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; GET&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;paste0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;make_url&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;owner&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; repo&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;commits&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; sha&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
             config &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;token &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; token&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
  process_result&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

gh_verb &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;owner &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; repo&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; verb&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; args&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  token &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; github_auth&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
  req &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; GET&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;make_url&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;owner&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; repo&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; verb&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; query&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;args&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; config &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;token &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; token&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
  process_result&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Commits&lt;/h2&gt;

&lt;p&gt;List of commits&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; gh_commits&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;taxize&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Get changes for each commit&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;changes &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;vapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;sha&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; gh_commit&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; repo&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;taxize&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;stats&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;total&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;numeric&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
changesdf &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;  &lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;changes&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;unname&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;changes&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; sha&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;changes&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Combine&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; inner_join&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; changesdf&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Total changes through time (additions + deletions)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;ct &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.POSIXct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; format&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;%Y-%m-%dT%H:%M:%SZ&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; tz&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;UTC&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
out &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  mutate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;commit.committer.date &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; ct&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;commit.committer.date&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;commit.committer.date&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;changes&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    geom_area&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;fill&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;#87D2A0&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    theme_grey&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;/public/img/2014-11-28-taxize-1000/unnamed-chunk-7-1.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

&lt;p&gt;By Authors&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;out &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  group_by&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;author.login&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  summarise&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;n &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; n&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;author.login&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; n&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    geom_bar&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;stat &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;identity&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; fill&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;#87D2A0&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    coord_flip&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    theme_grey&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;/public/img/2014-11-28-taxize-1000/unnamed-chunk-8-1.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

&lt;h2&gt;Issues&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; gh_issues&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;taxize&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Number of issues&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;NROW&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 382&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Number of open issues&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;out &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  filter&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;state &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;open&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;kp&quot;&gt;NROW&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 35&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Number of pull requests&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;out &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  filter&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;is.na&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;pull_request.url&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  &lt;span class=&quot;kp&quot;&gt;NROW&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 119&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Forks, number of&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;NROW&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gh_verb&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;repo &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;taxize&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; verb&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;forks&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 16&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Stars, number of&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;NROW&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gh_verb&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;repo &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;taxize&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; verb&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;stargazers&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; args&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;per_page&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 44&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Watchers, number of&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;NROW&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gh_verb&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;repo &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;taxize&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; verb&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;subscribers&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; args&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;per_page&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 12&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>Intro to alpha ckanr - R client for CKAN RESTful API</title>
   <link href="http://recology.info//2014/11/ckanr-intro/"/>
   <updated>2014-11-26T03:42:36-08:00</updated>
   <id>http://recology.info//2014/11/ckanr-intro</id>
   <content type="html">&lt;p&gt;Recently I had need to create a client for scraping museum metadata to help out some folks that use that kind of data. It&amp;#39;s called &lt;a href=&quot;https://github.com/ropensci/musemeta&quot;&gt;musemeta&lt;/a&gt;. One of the data sources in that package uses the open source &lt;em&gt;data portal software&lt;/em&gt; &lt;a href=&quot;http://ckan.org/&quot;&gt;CKAN&lt;/a&gt;, and so we can interact with &lt;a href=&quot;http://docs.ckan.org/en/latest/api/index.html&quot;&gt;the CKAN API&lt;/a&gt; to get data. Since many groups can use CKAN API/etc infrastucture because it&amp;#39;s open source, I thought why not have a general purpose R client for this, since &lt;a href=&quot;https://github.com/ckan/ckan/wiki/CKAN-API-Clients&quot;&gt;there are other clients&lt;/a&gt; for Python, PHP, Ruby, etc. &lt;/p&gt;

&lt;p&gt;Here&amp;#39;s a bit of an intro:&lt;/p&gt;

&lt;h2&gt;Setup&lt;/h2&gt;

&lt;p&gt;Get/load packages&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;devtools&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
devtools&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci/ckanr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;ckanr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;blockquote&gt;
&lt;p&gt;Note: the default URL is for http://data.techno-science.ca/. You can change that in the &lt;code&gt;url&lt;/code&gt; parameter&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2&gt;Some package details&lt;/h2&gt;

&lt;p&gt;All API alls are &lt;code&gt;POST&lt;/code&gt; requests, and handled through a helper function called &lt;code&gt;ckan_POST()&lt;/code&gt;. See &lt;code&gt;ckanr:::ckan_POST&lt;/code&gt; to see the function.&lt;/p&gt;

&lt;p&gt;There are some common parameters across most functions that are worth describing a bit:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;offset&lt;/code&gt; (numeric) Where to start getting items from (optional, default: 0)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;limit&lt;/code&gt; (numeric) The maximum number of items to return (optional, default: 31)&lt;/li&gt;
&lt;li&gt;&lt;code&gt;url&lt;/code&gt; Base url to use. Default: &lt;a href=&quot;http://data.techno-science.ca&quot;&gt;http://data.techno-science.ca&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;as&lt;/code&gt; (character) One of &lt;code&gt;list&lt;/code&gt; (default), &lt;code&gt;table&lt;/code&gt;, or &lt;code&gt;json&lt;/code&gt;. Parsing with table option uses &lt;code&gt;jsonlite::fromJSON(..., simplifyDataFrame = TRUE)&lt;/code&gt;, which attempts to parse data to &lt;code&gt;data.frame&lt;/code&gt;&amp;#39;s when possible, so the result can vary.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;...&lt;/code&gt; Curl args passed on to &lt;code&gt;httr::POST&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;Changes&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;changes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;limit &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; as &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;table&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                user_id                  timestamp&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 b50449ea-1dcc-4d52-b620-fc95bf56034b 2014-11-06T18:58:08.001743&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 b50449ea-1dcc-4d52-b620-fc95bf56034b 2014-11-06T18:55:55.059527&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                              object_id&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 cc6a523c-cecf-4a95-836b-295a11ce2bce&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 cc6a523c-cecf-4a95-836b-295a11ce2bce&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                            revision_id data.package.maintainer&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 5d11079e-fc05-4121-9fd5-fe086f5e5f33                        &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 4a591538-0584-487b-8ed1-3260d1d09d77                        &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   data.package.name data.package.metadata_modified data.package.author&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1              test     2014-11-06T18:55:54.772675                    &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2              test     2014-11-06T18:55:54.772675                    &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   data.package.url data.package.notes               data.package.owner_org&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1                                     fafa260d-e2bf-46cd-9c35-34c1dfa46c57&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2                                     fafa260d-e2bf-46cd-9c35-34c1dfa46c57&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   data.package.private data.package.maintainer_email&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1                FALSE                              &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2                FALSE                              &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   data.package.author_email data.package.state data.package.version&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1                                      deleted                     &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2                                       active                     &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;           data.package.creator_user_id&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 b50449ea-1dcc-4d52-b620-fc95bf56034b&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 b50449ea-1dcc-4d52-b620-fc95bf56034b&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                        data.package.id data.package.title&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 cc6a523c-cecf-4a95-836b-295a11ce2bce               test&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 cc6a523c-cecf-4a95-836b-295a11ce2bce               test&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;               data.package.revision_id data.package.type&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 5d11079e-fc05-4121-9fd5-fe086f5e5f33           dataset&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 4a591538-0584-487b-8ed1-3260d1d09d77           dataset&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   data.package.license_id                                   id&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1            notspecified 59c308c8-68b2-4b92-bc57-129378d31882&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2            notspecified a8577e2c-f742-49c2-bef3-ca3299e58704&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;     activity_type&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 deleted package&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 changed package&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;List datasets&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;datasets&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;as &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;table&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  [1] &amp;quot;artifact-data-agriculture&amp;quot;                                  &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  [2] &amp;quot;artifact-data-aviation&amp;quot;                                     &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  [3] &amp;quot;artifact-data-bookbinding&amp;quot;                                  &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  [4] &amp;quot;artifact-data-chemistry&amp;quot;                                    &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  [5] &amp;quot;artifact-data-communications&amp;quot;                               &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  [6] &amp;quot;artifact-data-computing-technology&amp;quot;                         &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  [7] &amp;quot;artifact-data-domestic-technology&amp;quot;                          &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  [8] &amp;quot;artifact-data-energy-electric&amp;quot;                              &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  [9] &amp;quot;artifact-data-exploration-and-survey&amp;quot;                       &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [10] &amp;quot;artifact-data-fisheries&amp;quot;                                    &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [11] &amp;quot;artifact-data-forestry&amp;quot;                                     &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [12] &amp;quot;artifact-data-horology&amp;quot;                                     &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [13] &amp;quot;artifact-data-industrial-technology&amp;quot;                        &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [14] &amp;quot;artifact-data-lighting-technology&amp;quot;                          &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [15] &amp;quot;artifact-data-location-canada-agriculture-and-food-museum&amp;quot;  &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [16] &amp;quot;artifact-data-location-canada-aviation-and-space-museum&amp;quot;    &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [17] &amp;quot;artifact-data-location-canada-science-and-technology-museum&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [18] &amp;quot;artifact-data-marine-transportation&amp;quot;                        &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [19] &amp;quot;artifact-data-mathematics&amp;quot;                                  &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [20] &amp;quot;artifact-data-medical-technology&amp;quot;                           &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [21] &amp;quot;artifact-data-meteorology&amp;quot;                                  &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [22] &amp;quot;artifact-data-metrology&amp;quot;                                    &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [23] &amp;quot;artifact-data-mining-and-metallurgy&amp;quot;                        &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [24] &amp;quot;artifact-data-motorized-ground-transportation&amp;quot;              &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [25] &amp;quot;artifact-data-non-motorized-ground-transportation&amp;quot;          &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [26] &amp;quot;artifact-data-on-loan&amp;quot;                                      &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [27] &amp;quot;artifact-data-photography&amp;quot;                                  &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [28] &amp;quot;artifact-data-physics&amp;quot;                                      &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [29] &amp;quot;artifact-data-printing&amp;quot;                                     &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [30] &amp;quot;artifact-data-railway-transportation&amp;quot;                       &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [31] &amp;quot;artifact-dataset-fire-fighting&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;List tags&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;tag_list&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;aviation&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; as&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;table&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   vocabulary_id                     display_name&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1            NA                         Aviation&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2            NA Canada Aviation and Space Museum&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                     id                             name&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 cc1db2db-b08b-4888-897f-a17eade2461b                         Aviation&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 8d05a650-bc7b-4b89-bcc8-c10177e60119 Canada Aviation and Space Museum&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Show tags&lt;/h2&gt;

&lt;p&gt;Subset for readme brevity&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;tag_show&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Aviation&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;packages&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]][&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;  
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $owner_org&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;fafa260d-e2bf-46cd-9c35-34c1dfa46c57&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $maintainer&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $relationships_as_object&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; list()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;List groups&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;group_list&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;as&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;table&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                         display_name description&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1                     Communications            &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 Domestic and Industrial Technology            &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3                         Everything            &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4                           Location            &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 5                          Resources            &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 6         Scientific Instrumentation            &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 7                     Transportation            &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                title&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1                     Communications&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 Domestic and Industrial Technology&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3                         Everything&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4                           Location&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 5                          Resources&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 6         Scientific Instrumentation&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 7                     Transportation&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                                                   image_display_url&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1       http://data.techno-science.ca/uploads/group/20141024-162305.6896412comm.jpg&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2    http://data.techno-science.ca/uploads/group/20141024-162324.3636615domtech.jpg&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3 http://data.techno-science.ca/uploads/group/20141024-162448.0656596everything.jpg&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4   http://data.techno-science.ca/uploads/group/20141024-162528.8786547location.jpg&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 5     http://data.techno-science.ca/uploads/group/20141024-162608.3732604resour.jpg&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 6    http://data.techno-science.ca/uploads/group/20141024-162549.1925831sciinst.jpg&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 7  http://data.techno-science.ca/uploads/group/20141024-162624.1872823transport.jpg&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   approval_status is_organization  state&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1        approved           FALSE active&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2        approved           FALSE active&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3        approved           FALSE active&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4        approved           FALSE active&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 5        approved           FALSE active&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 6        approved           FALSE active&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 7        approved           FALSE active&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                               image_url&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1       20141024-162305.6896412comm.jpg&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2    20141024-162324.3636615domtech.jpg&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3 20141024-162448.0656596everything.jpg&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4   20141024-162528.8786547location.jpg&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 5     20141024-162608.3732604resour.jpg&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 6    20141024-162549.1925831sciinst.jpg&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 7  20141024-162624.1872823transport.jpg&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                            revision_id packages  type&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 cc302424-2e68-4fcc-9a3a-6de60748c2e4        5 group&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 b7d95b87-5999-45f9-8775-c64094842551        2 group&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3 c2f0c59a-a543-4d67-a61f-4f387068ba53        1 group&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4 6816d571-d2bd-4131-b99d-80e7e6797492        4 group&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 5 e37ee30d-577b-4349-8f0e-eaa4543497e8        6 group&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 6 74eba42e-08b3-4400-b40f-3d6159ae6e9d       10 group&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 7 a6cc4aab-eae9-42ba-9ab4-cbf45d5c6a0e        7 group&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                     id                               name&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 5268ce18-e3b8-4802-b29e-30740b46e52d                     communications&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 5a9a8095-9e0c-485e-84f6-77f577607991 domestic-and-industrial-technology&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3 d7dd233e-a1cc-43da-8152-f7ed15d26756                         everything&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4 770fc9c0-d4f3-48b0-a4ee-e00c6882df1d                           location&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 5 f6c205de-cc95-4308-ac9f-5a63f1a5c7ee                          resources&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 6 b98ff457-2031-48b6-b681-9adb3afc501b         scientific-instrumentation&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 7 a73bf7be-310d-472e-83e1-43a3d87602ba                     transportation&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Show groups&lt;/h2&gt;

&lt;p&gt;Subset for readme brevity&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;group_show&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;communications&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; as&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;table&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;users
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   openid about capacity     name                    created&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1     NA  &amp;lt;NA&amp;gt;    admin     marc 2014-10-24T14:44:29.885262&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2     NA          admin sepandar 2014-10-23T19:40:42.056418&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                         email_hash sysadmin&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 a32002c960476614370a16e9fb81f436    FALSE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 10b930a228afd1da2647d62e70b71bf8     TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   activity_streams_email_notifications  state number_of_edits&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1                                FALSE active             376&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2                                FALSE active              44&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   number_administered_packages display_name fullname&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1                           39         marc     &amp;lt;NA&amp;gt;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2                            1     sepandar         &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                     id&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 27778230-2e90-4818-9f00-bbf778c8fa09&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 b50449ea-1dcc-4d52-b620-fc95bf56034b&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Show a package&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;package_show&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;34d60b13-1fd5-430e-b0ec-c8bc7f4841cf&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; as&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;table&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;resources
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                      resource_group_id cache_last_updated&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 ea8533d9-cdc6-4e0e-97b9-894e06d50b92                 NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 ea8533d9-cdc6-4e0e-97b9-894e06d50b92                 NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3 ea8533d9-cdc6-4e0e-97b9-894e06d50b92                 NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4 ea8533d9-cdc6-4e0e-97b9-894e06d50b92                 NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;           revision_timestamp webstore_last_updated&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 2014-10-28T18:13:22.213530                    NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 2014-11-04T02:59:50.567068                    NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3 2014-11-05T21:23:58.533397                    NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4 2014-11-05T21:25:16.848423                    NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                     id size  state hash&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 be2b0af8-24a8-4a55-8b30-89f5459b713a   NA active     &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 7d65910e-4bdc-4f06-a213-e24e36762767   NA active     &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3 97622ad7-1507-4f6a-8acb-14e826447389   NA active     &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4 7a72498a-c49c-4e84-8b10-58991de10df6   NA active     &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                    description format&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1                                  XML Dataset    XML&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 Data dictionary for CSTMC artifact datasets.    XLS&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3       Tips for using the artifacts datasets.   .php&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4       Tips for using the artifacts datasets.   .php&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   tracking_summary.total tracking_summary.recent mimetype_inner url_type&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1                      0                       0             NA       NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2                      0                       0             NA       NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3                      0                       0             NA       NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4                      0                       0             NA       NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   mimetype cache_url                               name&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1       NA        NA Artifact Data - Vacuum Tubes (XML)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2       NA        NA                    Data Dictionary&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3       NA        NA                     Tips (English)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4       NA        NA                      Tips (French)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                      created&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 2014-10-28T18:13:22.240393&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 2014-11-04T02:59:50.643658&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3 2014-11-04T18:14:23.952937&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4 2014-11-05T21:25:16.887796&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                                                                                                                                    url&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1                         http://source.techno-science.ca/datasets-donn%C3%A9es/artifacts-artefacts/groups-groupes/vacuum-tubes-tubes-electronique.xml&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 http://source.techno-science.ca/datasets-donn%C3%A9es/artifacts-artefacts/cstmc-artifact-data-dictionary-dictionnaire-de-donnees-artefacts-smstc.xls&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3                                                                          http://techno-science.ca/en/open-data/tips-using-artifact-open-data-set.php&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4                                                                 http://techno-science.ca/fr/donnees-ouvertes/conseils-donnees-ouvertes-artefacts.php&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   webstore_url last_modified position                          revision_id&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1           NA            NA        0 9a27d884-f181-4842-ab47-cda35a8bf99a&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2           NA            NA        1 5d27b3e6-7870-4c12-a122-9e9f5adee4a0&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3           NA            NA        2 40993f16-402b-439c-9288-2f2b177e4b8f&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4           NA            NA        3 57f1488e-a140-4eb6-9329-fc13202a73af&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   resource_type&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1            NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2            NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 3            NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 4            NA&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Search for packages&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; package_search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;q &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;*:*&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; rows &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; as&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;table&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;results
out&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%in%&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;resources&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                      license_title maintainer relationships_as_object&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 Open Government Licence - Canada                               NULL&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 Open Government Licence - Canada                               NULL&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   private maintainer_email         revision_timestamp&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1   FALSE                  2014-11-05T23:17:46.220002&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2   FALSE                  2014-11-05T23:17:04.923594&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                     id           metadata_created&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 35d5484d-38ce-495e-8722-7857c4fd17bf 2014-10-28T20:13:11.572558&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 da65507d-b018-4d3b-bde3-5419cf29d144 2014-10-28T14:59:21.386177&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;            metadata_modified author author_email  state version&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 2014-11-05T23:17:46.220657                     active        &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 2014-11-05T23:17:04.924229                     active        &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                        creator_user_id    type num_resources&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 27778230-2e90-4818-9f00-bbf778c8fa09 dataset             4&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 27778230-2e90-4818-9f00-bbf778c8fa09 dataset             4&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                                                                                                       tags&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1                         NA, Location, Location, 2014-10-28T20:13:11.572558, active, da88c5a2-3766-41ea-a75b-9c87047cc528&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 NA, Computing Technology, Computing Technology, 2014-10-28T14:59:21.386177, active, 5371dc28-9ce8-4f21-9afb-1f155f132bfe&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   tracking_summary.total tracking_summary.recent&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1                     35                      10&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2                     24                       8&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                                                                                                                                                                                       groups&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1                                                      Location, , http://data.techno-science.ca/uploads/group/20141024-162528.8786547location.jpg, Location, 770fc9c0-d4f3-48b0-a4ee-e00c6882df1d, location&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 Scientific Instrumentation, , http://data.techno-science.ca/uploads/group/20141024-162549.1925831sciinst.jpg, Scientific Instrumentation, b98ff457-2031-48b6-b681-9adb3afc501b, scientific-instrumentation&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   license_id relationships_as_subject num_tags organization.description&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 ca-ogl-lgo                     NULL        1                         &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 ca-ogl-lgo                     NULL        1                         &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;         organization.created organization.title organization.name&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 2014-10-24T14:49:36.878579              CSTMC             cstmc&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 2014-10-24T14:49:36.878579              CSTMC             cstmc&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   organization.revision_timestamp organization.is_organization&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1      2014-10-24T14:49:36.813670                         TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2      2014-10-24T14:49:36.813670                         TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   organization.state organization.image_url&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1             active                       &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2             active                       &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;               organization.revision_id organization.type&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 7a325a56-46f1-419c-b7b2-ec7501edb35a      organization&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 7a325a56-46f1-419c-b7b2-ec7501edb35a      organization&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                        organization.id organization.approval_status&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 fafa260d-e2bf-46cd-9c35-34c1dfa46c57                     approved&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 fafa260d-e2bf-46cd-9c35-34c1dfa46c57                     approved&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                                          name isopen url&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 artifact-data-location-canada-science-and-technology-museum  FALSE    &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2                          artifact-data-computing-technology  FALSE    &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                                                                                                                                                        notes&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 This dataset includes artifacts in the collection of the Canada Science and Technology Museums Corporation that are currently in the Canada Science and Technology Museum.&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2                                This dataset includes artifacts in the collection of the Canada Science and Technology Museums Corporation related to computing technology.&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                              owner_org extras&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 fafa260d-e2bf-46cd-9c35-34c1dfa46c57   NULL&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 fafa260d-e2bf-46cd-9c35-34c1dfa46c57   NULL&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                            license_url&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 http://data.gc.ca/eng/open-government-licence-canada&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 http://data.gc.ca/eng/open-government-licence-canada&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                                             title&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 Artifact Data - Location - Canada Science and Technology Museum&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2                            Artifact Data - Computing Technology&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                            revision_id&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 694a977a-c238-47a4-8671-caddca4edfca&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 858cb240-76a0-406a-800c-e4ae6cc56ab9&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Search for resources&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;resource_search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;q &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;name:data&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; limit &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; as&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;table&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $count&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 71&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $results&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                      resource_group_id cache_last_updated&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 01a82e52-01bf-4a9c-9b45-c4f9b92529fa                 NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 01a82e52-01bf-4a9c-9b45-c4f9b92529fa                 NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   webstore_last_updated                                   id size  state&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1                    NA e179e910-27fb-44f4-a627-99822af49ffa   NA active&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2                    NA ba84e8b7-b388-4d2a-873a-7b107eb7f135   NA active&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   last_modified hash                                  description format&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1            NA                                       XML Dataset    XML&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2            NA      Data dictionary for CSTMC artifact datasets.    XLS&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   mimetype_inner url_type mimetype cache_url&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1             NA       NA       NA        NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2             NA       NA       NA        NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                           name                    created&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 Artifact Data - Exploration and Survey (XML) 2014-10-28T15:50:35.374303&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2                              Data Dictionary 2014-11-03T18:01:02.094210&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                                                                                                                                    url&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1              http://source.techno-science.ca/datasets-donn%C3%A9es/artifacts-artefacts/groups-groupes/exploration-and-survey-exploration-et-leve.xml&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 http://source.techno-science.ca/datasets-donn%C3%A9es/artifacts-artefacts/cstmc-artifact-data-dictionary-dictionnaire-de-donnees-artefacts-smstc.xls&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   webstore_url position                          revision_id resource_type&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1           NA        0 a22e6741-3e89-4db0-a802-ba594b1c1fad            NA&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2           NA        1 da1f8585-521d-47ef-8ead-7832474a3421            NA&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Future work&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;There&amp;#39;s already &lt;a href=&quot;https://github.com/ropensci/ckanr/issues/4&quot;&gt;an issue&lt;/a&gt; to add support for &lt;a href=&quot;http://docs.ckan.org/en/latest/maintaining/datastore.html&quot;&gt;DataStore&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;This client needs to be tested against many other CKAN API instances to make sure it&amp;#39;s robust&lt;/li&gt;
&lt;li&gt;Add a test suite&lt;/li&gt;
&lt;li&gt;Use cases: would be nice to include in the package documentation use cases&lt;/li&gt;
&lt;li&gt;Other things? Get in touch on twitter &lt;code&gt;@recology_&lt;/code&gt; or below&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Fun with the GitHub API</title>
   <link href="http://recology.info//2014/11/github-fun/"/>
   <updated>2014-11-26T00:00:00-08:00</updated>
   <id>http://recology.info//2014/11/github-fun</id>
   <content type="html">&lt;p&gt;Recently I&amp;#39;ve had fun playing with the GitHub API, and here are some notes to self about this fun having.&lt;/p&gt;

&lt;h2&gt;Setup&lt;/h2&gt;

&lt;p&gt;Get/load packages&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;devtools&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;jsonlite&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;httr&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;yaml&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;devtools&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;httr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;yaml&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Define a vector of package names&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;pkgs &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;alm&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;bmc&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;bold&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;clifro&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ecoengine&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;&amp;quot;elastic&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;fulltext&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;geonames&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;gistr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;&amp;quot;RNeXML&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;rnoaa&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;rnpn&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;traits&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;rplos&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;rsnps&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;&amp;quot;rWBclimate&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;solr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;spocc&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;taxize&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;togeojson&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;treeBASE&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
pkgs &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;pkgs&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Define functions&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;github_auth &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;appname &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;getOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;gh_appname&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; key &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;getOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;gh_id&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
                        secret &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;getOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;gh_secret&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;is.null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;getOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;gh_token&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    myapp &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; oauth_app&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;appname&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; key&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; secret&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    token &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; oauth2.0_token&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;oauth_endpoints&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;github&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; myapp&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;kp&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gh_token &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; token&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    token &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;getOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;gh_token&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;kr&quot;&gt;return&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;token&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

make_url &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; z&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kp&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;https://api.github.com/repos/%s/%s/%s&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; z&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

process_result &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  stop_for_status&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;x&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;headers&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`content-type`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;application/json; charset=utf-8&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;kp&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;content type mismatch&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  tmp &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; content&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; as &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;text&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  jsonlite&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;fromJSON&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;tmp&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; flatten &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

parse_file &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  tmp &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;gsub&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;\n\\s+&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
              &lt;span class=&quot;kp&quot;&gt;paste&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;vapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;strsplit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;\n&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]],&lt;/span&gt; RCurl&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;base64Decode&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                           &lt;span class=&quot;kt&quot;&gt;character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; USE.NAMES &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; collapse &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot; &amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
  lines &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;readLines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;textConnection&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;tmp&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
  &lt;span class=&quot;kp&quot;&gt;vapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;lines&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;gsub&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; pattern &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;\\s&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; replacement &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
         USE.NAMES &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

request &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;owner &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; repo&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; file&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;DESCRIPTION&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  req &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; GET&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;make_url&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;owner&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; repo&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;paste0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;contents/&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt; 
             config &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;token &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; github_auth&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
  &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;status_code &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;NA&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    cts &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; process_result&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;content
    parse_file&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;cts&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

has_term &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;what&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;any&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;grepl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;what&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; request&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
has_file &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;what&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;all&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;is.na&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;request&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;file &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; what&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Do stuff&lt;/h2&gt;

&lt;p&gt;Does a package depend on a particular package? e.g., look for &lt;code&gt;httr&lt;/code&gt; in the &lt;code&gt;DESCRIPTION&lt;/code&gt; file (which is the default file name in &lt;code&gt;request()&lt;/code&gt; above)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;has_term&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;httr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; repo&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;taxize&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] TRUE&lt;/span&gt;
has_term&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;maptools&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; repo&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;taxize&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] FALSE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Do a series of R packages have a file for how to contribute &lt;code&gt;CONTRIBUTING.md&lt;/code&gt;?&lt;/p&gt;

&lt;p&gt;Yes&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;has_file&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;CONTRIBUTING.md&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; repo&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;taxize&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] TRUE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Many packages&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;vapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;pkgs&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; has_file&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;CONTRIBUTING.md&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; repo&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;logical&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;        alm        bmc       bold     clifro  ecoengine    elastic &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;      FALSE      FALSE      FALSE      FALSE      FALSE      FALSE &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;   fulltext   geonames      gistr     RNeXML      rnoaa       rnpn &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;       TRUE      FALSE      FALSE       TRUE       TRUE      FALSE &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;      rplos      rsnps rWBclimate       solr      spocc     taxize &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;      FALSE      FALSE      FALSE      FALSE       TRUE       TRUE &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  togeojson     traits   treeBASE &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;      FALSE      FALSE      FALSE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Check rate limit&lt;/h2&gt;

&lt;p&gt;Define function&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;rate_limit &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  token &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; github_auth&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
  req &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; GET&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;https://api.github.com/rate_limit&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; config &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;token &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; token&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;...&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
  process_result&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;req&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Check it&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;rate_limit&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $resources&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $resources$core&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $resources$core$limit&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 5000&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $resources$core$remaining&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 4925&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $resources$core$reset&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1417031016&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $resources$search&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $resources$search$limit&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 30&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $resources$search$remaining&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 30&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $resources$search$reset&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1417028069&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rate&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rate$limit&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 5000&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rate$remaining&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 4925&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rate$reset&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 1417031016&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Convert time to reset to human readable form&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;as.POSIXct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rate_limit&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;rate&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;reset&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; origin&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;1970-01-01&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;2014-11-26 11:43:36 PST&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;</content>
 </entry>
 
 <entry>
   <title>sofa - reboot</title>
   <link href="http://recology.info//2014/11/sofa/"/>
   <updated>2014-11-18T00:00:00-08:00</updated>
   <id>http://recology.info//2014/11/sofa</id>
   <content type="html">&lt;p&gt;I&amp;#39;ve reworked &lt;code&gt;sofa&lt;/code&gt; recently after someone reported a bug in the package. Since the last post on this package on 2013-06-21, there&amp;#39;s a bunch of changes:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Removed the &lt;code&gt;sofa_&lt;/code&gt; prefix from all functions as it wasn&amp;#39;t really necessary. &lt;/li&gt;
&lt;li&gt;Replaced &lt;code&gt;rjson&lt;/code&gt;/&lt;code&gt;RJSONIO&lt;/code&gt; with &lt;code&gt;jsonlite&lt;/code&gt; for JSON I/O.&lt;/li&gt;
&lt;li&gt;New functions:

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;revisions()&lt;/code&gt; - to get the revision numbers for a document.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;uuids()&lt;/code&gt; - get any number of UUIDs - e.g., if you want to set document IDs with UUIDs&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Most functions that deal with documents are prefixed with &lt;code&gt;doc_&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Functions that deal with databases are prefixed with &lt;code&gt;db_&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Simplified all code, reducing duplication&lt;/li&gt;
&lt;li&gt;All functions take &lt;code&gt;cushion&lt;/code&gt; as the first parameter, for consistency sake.&lt;/li&gt;
&lt;li&gt;Changed &lt;code&gt;cushion()&lt;/code&gt; function so that you can only register one cushion with each function call, 
and the function takes parameters for each element now, &lt;code&gt;name&lt;/code&gt; (name of the cushion, whatever you want), &lt;code&gt;user&lt;/code&gt; (user name, if applicable), &lt;code&gt;pwd&lt;/code&gt; (password, if applicable), &lt;code&gt;type&lt;/code&gt; (one of localhost, cloudant, or iriscouch), and &lt;code&gt;port&lt;/code&gt; (if applicable).&lt;/li&gt;
&lt;li&gt;Changed package license from &lt;code&gt;CC0&lt;/code&gt; to &lt;code&gt;MIT&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;There&amp;#39;s still more to do, but I&amp;#39;m pretty happy with the recent changes, and I hope at least some find the package useful. Also, would love people to try it out as all bugs are shallow and all that...&lt;/p&gt;

&lt;p&gt;The following are a few examples of package use.&lt;/p&gt;

&lt;h2&gt;Install CouchDB&lt;/h2&gt;

&lt;p&gt;Instructions &lt;a href=&quot;http://wiki.apache.org/couchdb/Installation&quot;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;h2&gt;Start CouchDB&lt;/h2&gt;

&lt;p&gt;In your terminal &lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-sh&quot; data-lang=&quot;sh&quot;&gt;couchdb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can interact with your CouchDB databases as well in your browser. Navigate to &lt;a href=&quot;http://localhost:5984/_utils&quot;&gt;http://localhost:5984/_utils&lt;/a&gt;&lt;/p&gt;

&lt;h2&gt;Install sofa&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;devtools&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
devtools&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;sckott/sofa&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;sofa&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Authenticate - Cushions&lt;/h2&gt;

&lt;p&gt;As an example, here&amp;#39;s how I set up details for connecting to my Cloudant couch:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;cushion&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;cloudant&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; user &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;&amp;lt;user name&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; pwd &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;&amp;lt;password&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; type &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;cloudant&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;By default there is a built-in &lt;code&gt;cushion&lt;/code&gt; for localhost so you don&amp;#39;t have to do that, unless you want to change those details, e.g., the port number. Right now cushions aren&amp;#39;t preserved across R sessions, but working on that.&lt;/p&gt;

&lt;p&gt;For example, I&amp;#39;ll lay down a cushion for Cloudant, then I can call &lt;code&gt;cushions()&lt;/code&gt; to see my cushions:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;cushion&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;cloudant&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; user &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;&amp;lt;user name&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; pwd &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;&amp;lt;pwd&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; type &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;cloudant&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
cushions&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;By default, if you don&amp;#39;t provide a cushion name, you are using localhost.&lt;/p&gt;

&lt;h2&gt;Ping the server&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;ping&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $couchdb&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Welcome&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $uuid&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;2c10f0c6d9bd17205b692ae93cd4cf1d&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $version&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;1.6.0&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $vendor&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $vendor$version&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;1.6.0-1&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $vendor$name&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Homebrew&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Nice, it&amp;#39;s working.&lt;/p&gt;

&lt;h2&gt;Create a new database, and list available databases&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;db_create&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dbname&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;sofadb&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $ok&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] TRUE&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;see if its there now&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;db_list&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  [1] &amp;quot;_replicator&amp;quot; &amp;quot;_users&amp;quot;      &amp;quot;alm_couchdb&amp;quot; &amp;quot;cachecall&amp;quot;   &amp;quot;hello_earth&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  [6] &amp;quot;leothelion&amp;quot;  &amp;quot;mran&amp;quot;        &amp;quot;mydb&amp;quot;        &amp;quot;newdbs&amp;quot;      &amp;quot;sofadb&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Create documents&lt;/h2&gt;

&lt;p&gt;Create a document WITH a name (uses PUT)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;doc1 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;{&amp;quot;name&amp;quot;:&amp;quot;sofa&amp;quot;,&amp;quot;beer&amp;quot;:&amp;quot;IPA&amp;quot;}&amp;#39;&lt;/span&gt;
doc_create&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dbname&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;sofadb&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; doc&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;doc1&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; docid&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;a_beer&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $ok&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $id&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;a_beer&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rev&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;1-a48c98c945bcc05d482bc6f938c89882&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Create a document WITHOUT a name (uses POST)&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;doc2 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;{&amp;quot;name&amp;quot;:&amp;quot;sofa&amp;quot;,&amp;quot;icecream&amp;quot;:&amp;quot;rocky road&amp;quot;}&amp;#39;&lt;/span&gt;
doc_create&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dbname&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;sofadb&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; doc&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;doc2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $ok&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $id&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;c5c5c332c25cf62cc584647a81006f6d&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rev&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;1-fd0da7fcb8d3afbfc5757d065c92362c&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;List documents&lt;/h2&gt;

&lt;p&gt;List them&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;alldocs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dbname&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;sofadb&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                 id                              key&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1                           a_beer                           a_beer&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 c5c5c332c25cf62cc584647a81006f6d c5c5c332c25cf62cc584647a81006f6d&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;                                  rev&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 1 1-a48c98c945bcc05d482bc6f938c89882&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; 2 1-fd0da7fcb8d3afbfc5757d065c92362c&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Optionally include the documents, returned as a list by default as it would be hard to parse an endless number of document formats. &lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;alldocs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dbname&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;sofadb&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; include_docs &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $total_rows&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 2&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $offset&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 0&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rows&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rows[[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rows[[1]]$id&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;a_beer&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rows[[1]]$key&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;a_beer&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rows[[1]]$value&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rows[[1]]$value$rev&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;1-a48c98c945bcc05d482bc6f938c89882&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rows[[1]]$doc&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rows[[1]]$doc$`_id`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;a_beer&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rows[[1]]$doc$`_rev`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;1-a48c98c945bcc05d482bc6f938c89882&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rows[[1]]$doc$name&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;sofa&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rows[[1]]$doc$beer&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;IPA&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rows[[2]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rows[[2]]$id&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;c5c5c332c25cf62cc584647a81006f6d&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rows[[2]]$key&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;c5c5c332c25cf62cc584647a81006f6d&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rows[[2]]$value&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rows[[2]]$value$rev&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;1-fd0da7fcb8d3afbfc5757d065c92362c&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rows[[2]]$doc&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rows[[2]]$doc$`_id`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;c5c5c332c25cf62cc584647a81006f6d&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rows[[2]]$doc$`_rev`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;1-fd0da7fcb8d3afbfc5757d065c92362c&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rows[[2]]$doc$name&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;sofa&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rows[[2]]$doc$icecream&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;rocky road&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Update a document&lt;/h2&gt;

&lt;p&gt;Change &lt;em&gt;IPA&lt;/em&gt; (india pale ale) to &lt;em&gt;IPL&lt;/em&gt; (india pale lager). We need to get revisions first as we need to include revision number when we update a document.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;revs &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; revisions&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dbname &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;sofadb&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; docid &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;a_beer&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;1-a48c98c945bcc05d482bc6f938c89882&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;newdoc &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;{&amp;quot;name&amp;quot;:&amp;quot;sofa&amp;quot;,&amp;quot;beer&amp;quot;:&amp;quot;IPL&amp;quot;}&amp;#39;&lt;/span&gt;
doc_update&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dbname &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;sofadb&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; doc &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; newdoc&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; docid &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;a_beer&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; rev &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; revs&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $ok&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] TRUE&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $id&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;a_beer&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $rev&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;2-f2390eb18b8f9a870c915c6712a7f65e&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Should be two revisions now&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;revisions&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dbname &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;sofadb&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; docid &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;a_beer&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;2-f2390eb18b8f9a870c915c6712a7f65e&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [2] &amp;quot;1-a48c98c945bcc05d482bc6f938c89882&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Get headers for a document&lt;/h2&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;doc_head&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dbname &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;sofadb&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; docid &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;a_beer&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]$status&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] 200&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]$version&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;HTTP/1.1&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [[1]]$headers&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $server&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;CouchDB/1.6.0 (Erlang OTP/17)&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $etag&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;\&amp;quot;2-f2390eb18b8f9a870c915c6712a7f65e\&amp;quot;&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $date&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;Tue, 18 Nov 2014 21:19:16 GMT&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`content-type`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;application/json&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`content-length`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;88&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; $`cache-control`&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;must-revalidate&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; attr(,&amp;quot;class&amp;quot;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;insensitive&amp;quot; &amp;quot;list&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;JSON vs. list&lt;/h2&gt;

&lt;p&gt;Across all/most functions you can request json or list as output with the &lt;code&gt;as&lt;/code&gt; parameter. &lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;db_list&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;as &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;list&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  [1] &amp;quot;_replicator&amp;quot; &amp;quot;_users&amp;quot;      &amp;quot;alm_couchdb&amp;quot; &amp;quot;cachecall&amp;quot;   &amp;quot;hello_earth&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  [6] &amp;quot;leothelion&amp;quot;  &amp;quot;mran&amp;quot;        &amp;quot;mydb&amp;quot;        &amp;quot;newdbs&amp;quot;      &amp;quot;sofadb&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;db_list&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;as &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;json&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; [1] &amp;quot;[\&amp;quot;_replicator\&amp;quot;,\&amp;quot;_users\&amp;quot;,\&amp;quot;alm_couchdb\&amp;quot;,\&amp;quot;cachecall\&amp;quot;,\&amp;quot;hello_earth\&amp;quot;,\&amp;quot;leothelion\&amp;quot;,\&amp;quot;mran\&amp;quot;,\&amp;quot;mydb\&amp;quot;,\&amp;quot;newdbs\&amp;quot;,\&amp;quot;sofadb\&amp;quot;]\n&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Curl options&lt;/h2&gt;

&lt;p&gt;Across all functions you can pass in curl options. We&amp;#39;re using &lt;code&gt;httr&lt;/code&gt; internally, so you can use &lt;code&gt;httr&lt;/code&gt; helper functions to make some curl options easier. Examples:&lt;/p&gt;

&lt;p&gt;Verbose output&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;httr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
db_list&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;config&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;verbose&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  [1] &amp;quot;_replicator&amp;quot; &amp;quot;_users&amp;quot;      &amp;quot;alm_couchdb&amp;quot; &amp;quot;cachecall&amp;quot;   &amp;quot;hello_earth&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  [6] &amp;quot;leothelion&amp;quot;  &amp;quot;mran&amp;quot;        &amp;quot;mydb&amp;quot;        &amp;quot;newdbs&amp;quot;      &amp;quot;sofadb&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Progress&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;db_list&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;config&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;progress&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;                                                                       
  &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;                                                                 &lt;span class=&quot;o&quot;&gt;|&lt;/span&gt;   &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;%&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;  |                                                                       &lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;  |=================================================================| 100%&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  [1] &amp;quot;_replicator&amp;quot; &amp;quot;_users&amp;quot;      &amp;quot;alm_couchdb&amp;quot; &amp;quot;cachecall&amp;quot;   &amp;quot;hello_earth&amp;quot;&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;  [6] &amp;quot;leothelion&amp;quot;  &amp;quot;mran&amp;quot;        &amp;quot;mydb&amp;quot;        &amp;quot;newdbs&amp;quot;      &amp;quot;sofadb&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Set a timeout&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;db_list&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;config&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;timeout&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;seconds &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.001&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt; Error in function (type, msg, asError = TRUE)  : &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;#&amp;gt;    Operation timed out after 3 milliseconds with 0 out of -1 bytes received&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h2&gt;Full text search&lt;/h2&gt;

&lt;p&gt;I&amp;#39;m working on an R client for Elaticsearch called &lt;code&gt;elastic&lt;/code&gt; - find it at &lt;a href=&quot;https://github.com/ropensci/elastic&quot;&gt;https://github.com/ropensci/elastic&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Thinking about where to include functions to allow &lt;code&gt;elastic&lt;/code&gt; and &lt;code&gt;sofa&lt;/code&gt; to work together...if you have any thoughts hit up the issues. I&amp;#39;ll probably include helper functions for CouchDB search in the &lt;code&gt;elastic&lt;/code&gt; package, interfacing with the &lt;a href=&quot;https://github.com/elasticsearch/elasticsearch-river-couchdb&quot;&gt;CouchDB plugin for Elasticsearch&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Conditionality meta-analysis data</title>
   <link href="http://recology.info//2014/10/conditionality-meta-analysis/"/>
   <updated>2014-10-06T00:00:00-07:00</updated>
   <id>http://recology.info//2014/10/conditionality-meta-analysis</id>
   <content type="html">&lt;h2&gt;The paper&lt;/h2&gt;

&lt;p&gt;One paper from my graduate work asked most generally ~ &amp;quot;How much does the variation in magnitudes and signs of species interaction outcomes vary?&amp;quot;. More specifically, we wanted to know if variation differed among species interaction classes (mutualism, competition, predation), and among various &amp;quot;gradients&amp;quot; (space, time, etc.). To answer this question, we used a meta-analysis approach (rather than e.g., a field experiment). We &lt;a href=&quot;http://scottchamberlain.info/publications/&quot;&gt;published the paper&lt;/a&gt; recently.&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;p.s. I really really wish we would have put it in an open access journal...&lt;/p&gt;
&lt;/blockquote&gt;

&lt;h2&gt;The data&lt;/h2&gt;

&lt;p&gt;Anyway, I&amp;#39;m here to talk about the &lt;strong&gt;data&lt;/strong&gt;. We didn&amp;#39;t get the data up with the paper, but it is &lt;a href=&quot;http://figshare.com/articles/Conditionality_data/1097657&quot;&gt;up on Figshare&lt;/a&gt; now. The files there are the following:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;coniditionality.R&lt;/code&gt; - script used to process the data from &lt;code&gt;variables_prelim.csv&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;variables_prelim.csv&lt;/code&gt; - description of variables in the preliminary data set, matches &lt;code&gt;conditionality_data_prelim.csv&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;variables_used.csv&lt;/code&gt; - description of variables in the used data set, matches &lt;code&gt;conditionality_data_used.csv&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;conditionality_data_prelim.csv&lt;/code&gt; - preliminary data, the raw data&lt;/li&gt;
&lt;li&gt;&lt;code&gt;conditionality_data_used.csv&lt;/code&gt; - the data used for our paper&lt;/li&gt;
&lt;li&gt;&lt;code&gt;README.md&lt;/code&gt; - the readme&lt;/li&gt;
&lt;li&gt;&lt;code&gt;paper_selection.csv&lt;/code&gt; - the list of papers we went through, with remarks about paper selection&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Please do play with the data, publish some papers, etc, etc. It took 6 of us about 4 years to collect this data; we skimmed through ~11,000 papers on the first pass (aka. skimming through abstracts in Google Scholar and Web of Science), then decided on nearly 500 papers to get data from, and narrowed down to 247 papers for the publication mentioned above. Now, there was no funding for this, so it was sort of done in between other projects, but still, it was simply &lt;strong&gt;A LOT&lt;/strong&gt; of tables to digitize, and graphs to extract data points from. &lt;strong&gt;Anyway&lt;/strong&gt;, hopefully you will find this data useful :p&lt;/p&gt;

&lt;h2&gt;EML&lt;/h2&gt;

&lt;p&gt;I think this dataset would be a great introduction to the potential power of EML (&lt;a href=&quot;https://knb.ecoinformatics.org/#external//emlparser/docs/index.html&quot;&gt;Ecological Metadata Langauge&lt;/a&gt;). At &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt;, one of our team &lt;a href=&quot;http://www.carlboettiger.info/&quot;&gt;Carl Boettiger&lt;/a&gt;, along with Claas-Thido Pfaff, Duncan Temple Lang, Karthik Ram, and Matt Jones, have created an R client for EML, to parse EML files and to create and publish them.&lt;/p&gt;

&lt;h2&gt;What is EML?/Why EML?&lt;/h2&gt;

&lt;p&gt;A demonstration is in order...&lt;/p&gt;

&lt;h2&gt;Example using EML with this dataset&lt;/h2&gt;

&lt;h3&gt;Install EML&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;devtools&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;RHTMLForms&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; repos &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;http://www.omegahat.org/R/&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; type&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;source&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci/EML&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; build&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; dependencies&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;DEPENDS&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;IMPORTS&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Load &lt;code&gt;EML&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;EML&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Prepare metadata&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# dataset&lt;/span&gt;
prelim_dat &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; read.csv&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;conditionality_data_prelim.csv&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# variable descriptions for each column&lt;/span&gt;
prelim_vars &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; read.csv&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;variables_prelim.csv&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; stringsAsFactors &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Get column definitions in a vector&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;col_defs &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; prelim_vars&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;description
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Create unit definitions for each column&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;unit_defs &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;unit &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;number&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    bounds &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;Inf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;unit &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;number&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    bounds &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;Inf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;
  &lt;span class=&quot;s&quot;&gt;&amp;quot;independent replicates&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;unit &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;number&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
    bounds &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;Inf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt;

  &lt;span class=&quot;kc&quot;&gt;...&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;CUTOFF&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Write an EML file&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;eml_write&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;prelim_dat&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
          unit.defs &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; unit_defs&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
          col.defs &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; col_defs&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
          creator &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Scott Chamberlain&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
          contact &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;myrmecocystus@gmail.com&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
          file &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;conditionality_data_prelim_eml.xml&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## [1] &amp;quot;conditionality_data_prelim_eml.xml&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Validate the EML file&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;eml_validate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;conditionality_data_prelim_eml.xml&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## EML specific tests XML specific tests 
##               TRUE               TRUE
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Read data and metadata&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gg &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; eml_read&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;conditionality_data_prelim_eml.xml&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
eml_get&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gg&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;contact&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## [1] &amp;quot;myrmecocystus@gmail.com&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;eml_get&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gg&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;citation_info&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## Chamberlain S (2014-10-06). _metadata_.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;dat &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; eml_get&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gg&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;data.frame&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##   order i indrep avg author_last  finit_1 finit_2 finit_abv co_author
## 1     1 1      a   1      Devall margaret       s        ms     Thein
## 2     2 1      a   2      Devall margaret       s        ms     Thein
## 3     3 1      a   3      Devall margaret       s        ms     Thein
## 4     4 1      a   4      Devall margaret       s        ms     Thein
## 5     5 1      a   5      Devall margaret       s        ms     Thein
## 6     6 1      a   6      Devall margaret       s        ms     Thein
##   sinit_1
## 1 leonard
## 2 leonard
## 3 leonard
## 4 leonard
## 5 leonard
## 6 leonard
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Publish&lt;/h3&gt;

&lt;p&gt;We can also use the &lt;code&gt;EML&lt;/code&gt; package to publish the data, here to &lt;a href=&quot;http://figshare.com&quot;&gt;Figshare&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;First, install &lt;code&gt;rfigshare&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;rfigshare&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;rfigshare&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then publish using &lt;code&gt;eml_publish()&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;figid &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; eml_publish&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
            file &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;conditionality_data_prelim_eml.xml&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            description &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;EML file for Chamberlain, S.A., J.A. Rudgers, and J.L. Bronstein. 2014. How context-dependent are species interactions. Ecology Letters&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            categories &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Ecology&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            tags &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;EML&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            destination &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;figshare&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            visibility &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;public&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
            title &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;condionality data, EML&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
fs_make_public&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;figid&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;/public/img/2014-10-06-conditionality-meta-analysis/figshare_conditional.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>rsunlight - R client for Sunlight Labs APIs</title>
   <link href="http://recology.info//2014/08/rsunlight/"/>
   <updated>2014-08-11T00:00:00-07:00</updated>
   <id>http://recology.info//2014/08/rsunlight</id>
   <content type="html">&lt;p&gt;My &lt;a href=&quot;http://recology.info/2014/05/rsunlight/&quot;&gt;last blog post on this package&lt;/a&gt; was so long ago the package wrapped both New York Times APIs and Sunlight Labs APIs and the package was called &lt;code&gt;govdat&lt;/code&gt;. I split that package up into &lt;code&gt;rsunlight&lt;/code&gt; for Sunlight Labs APIs and &lt;code&gt;rtimes&lt;/code&gt; for some New York Times APIs. &lt;code&gt;rtimes&lt;/code&gt; is &lt;a href=&quot;https://github.com/ropengov/rtimes&quot;&gt;in development at Github&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;We&amp;#39;ve updated the package to include four sets of functions, one set for each of four Sunlight Labs APIs (with a separate prefix for each API):&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Congress API (&lt;code&gt;cg_&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Open States API (&lt;code&gt;os_&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Capitol Words API (&lt;code&gt;cw_&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;Influence Explorer API (&lt;code&gt;ie_&lt;/code&gt;)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Then there are many methods for each API.&lt;/p&gt;

&lt;h2&gt;rsunlight intro&lt;/h2&gt;

&lt;h3&gt;Installation&lt;/h3&gt;

&lt;p&gt;First, installation&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;devtools&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;ropengov/rsunlight&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Load the library&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;rsunlight&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Congress API&lt;/h3&gt;

&lt;p&gt;Search for Fed level bills that include the term &lt;em&gt;health care&lt;/em&gt; in them.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;res &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; cg_bills&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;query&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;health care&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;results&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##          nicknames congress last_version_on sponsor_id
## 1        obamacare      111      2010-08-25    S000749
## 2 obamacare, ppaca      111      2010-08-25    R000053
## 3             NULL      113      2013-10-09    K000220
## 4             NULL      111      2009-01-06    I000056
## 5             NULL      112      2011-01-05    I000056
## 6             NULL      111      2009-05-05    D000197
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Search for bills that have the two terms &lt;em&gt;transparency&lt;/em&gt; and &lt;em&gt;accountability&lt;/em&gt; within 5 words of each other in the bill.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;res &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; cg_bills&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;query&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;transparency accountability&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;results&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##   congress last_version_on sponsor_id
## 1      111      2009-01-15    R000435
## 2      113      2013-07-17    R000595
## 3      112      2011-12-08    R000435
## 4      113      2013-09-19    R000435
## 5      112      2011-11-10    R000595
## 6      113      2013-07-23    C000560
##                                       urls.govtrack
## 1   http://www.govtrack.us/congress/bills/111/hr557
## 2  https://www.govtrack.us/congress/bills/113/s1313
## 3  http://www.govtrack.us/congress/bills/112/hr2829
## 4 https://www.govtrack.us/congress/bills/113/hr3155
## 5   http://www.govtrack.us/congress/bills/112/s1848
## 6  https://www.govtrack.us/congress/bills/113/s1347
##                                 urls.opencongress
## 1  http://www.opencongress.org/bill/111-h557/show
## 2      http://www.opencongress.org/bill/s1313-113
## 3 http://www.opencongress.org/bill/112-h2829/show
## 4     http://www.opencongress.org/bill/hr3155-113
## 5 http://www.opencongress.org/bill/112-s1848/show
## 6      http://www.opencongress.org/bill/s1347-113
##                                          urls.congress
## 1   http://beta.congress.gov/bill/111th/house-bill/557
## 2 http://beta.congress.gov/bill/113th/senate-bill/1313
## 3  http://beta.congress.gov/bill/112th/house-bill/2829
## 4  http://beta.congress.gov/bill/113th/house-bill/3155
## 5 http://beta.congress.gov/bill/112th/senate-bill/1848
## 6 http://beta.congress.gov/bill/113th/senate-bill/1347
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Open States API&lt;/h3&gt;

&lt;p&gt;Search State Bills, in this case search for the term &lt;em&gt;agriculture&lt;/em&gt; in Texas.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;res &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; os_billsearch&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;terms &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;agriculture&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; state &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;tx&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##                                                                                                                                                 title
## 1 Relating to authorizing the issuance of revenue bonds to fund capital projects at public institutions of higher education; making an appropriation.
## 2                          Relating to authorizing the issuance of revenue bonds to fund capital projects at public institutions of higher education.
## 3                          Relating to authorizing the issuance of revenue bonds to fund capital projects at public institutions of higher education.
## 4                          Relating to authorizing the issuance of revenue bonds to fund capital projects at public institutions of higher education.
## 5 Relating to authorizing the issuance of revenue bonds to fund capital projects at public institutions of higher education; making an appropriation.
## 6                                Relating to access to certain facilities by search and rescue dogs and their handlers; providing a criminal penalty.
##            created_at          updated_at          id chamber state
## 1 2013-08-01 03:33:40 2013-08-07 03:10:10 TXB00034894   upper    tx
## 2 2013-08-01 03:33:38 2013-08-02 03:20:14 TXB00034893   upper    tx
## 3 2013-07-21 03:03:53 2013-07-28 03:28:30 TXB00034814   upper    tx
## 4 2013-07-03 02:44:03 2013-07-14 03:00:31 TXB00034514   upper    tx
## 5 2013-06-16 03:48:13 2013-06-23 04:02:49 TXB00033988   upper    tx
## 6 2013-03-03 04:47:26 2013-07-01 21:25:36 TXB00027556   upper    tx
##   session type
## 1     833 bill
## 2     833 bill
## 3     832 bill
## 4     832 bill
## 5     831 bill
## 6      83 bill
##                                                                             subjects
## 1                                   Commerce, Education, Budget, Spending, and Taxes
## 2                                   Commerce, Education, Budget, Spending, and Taxes
## 3                                   Commerce, Education, Budget, Spending, and Taxes
## 4                                   Commerce, Education, Budget, Spending, and Taxes
## 5                                   Commerce, Education, Budget, Spending, and Taxes
## 6 Commerce, Business and Consumers, Animal Rights and Wildlife Issues, Health, Crime
##   bill_id
## 1    SB 3
## 2   SB 10
## 3   SB 40
## 4    SB 6
## 5   SB 44
## 6 SB 1010
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Search for legislators in California (&lt;em&gt;ca&lt;/em&gt;) and in the democratic party&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;res &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; os_legislatorsearch&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;state &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;ca&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; party &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;democratic&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; fields &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;full_name&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;+capitol_office.phone&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##            phone        id       full_name
## 1 (916) 319-2014 CAL000058   Nancy Skinner
## 2 (916) 319-2015 CAL000059   Joan Buchanan
## 3 (916) 319-2022 CAL000084       Paul Fong
## 4 (916) 319-2046 CAL000089      John Pérez
## 5 (916) 319-2080 CAL000098 V. Manuel Pérez
## 6 (916) 319-2001 CAL000101  Wesley Chesbro
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Now you can call each representative, yay!&lt;/p&gt;

&lt;h3&gt;Capitol Words API&lt;/h3&gt;

&lt;p&gt;Search for phrase &lt;em&gt;climate change&lt;/em&gt; used by politicians between September 5th and 16th, 2011:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;cw_text&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;phrase&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;climate change&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; start_date&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;2011-09-05&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; end_date&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;2011-09-16&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; party&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;D&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[,&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;speaker_last&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;origin_url&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##   speaker_last
## 1      Tsongas
## 2       Inslee
## 3        Costa
## 4        Boxer
## 5       Durbin
## 6        Boxer
##                                                                                   origin_url
## 1 http://origin.www.gpo.gov/fdsys/pkg/CREC-2011-09-14/html/CREC-2011-09-14-pt1-PgH6149-5.htm
## 2   http://origin.www.gpo.gov/fdsys/pkg/CREC-2011-09-15/html/CREC-2011-09-15-pt1-PgH6186.htm
## 3 http://origin.www.gpo.gov/fdsys/pkg/CREC-2011-09-13/html/CREC-2011-09-13-pt1-PgE1609-2.htm
## 4   http://origin.www.gpo.gov/fdsys/pkg/CREC-2011-09-15/html/CREC-2011-09-15-pt1-PgS5650.htm
## 5   http://origin.www.gpo.gov/fdsys/pkg/CREC-2011-09-13/html/CREC-2011-09-13-pt1-PgS5510.htm
## 6 http://origin.www.gpo.gov/fdsys/pkg/CREC-2011-09-13/html/CREC-2011-09-13-pt1-PgS5513-2.htm
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Plot mentions of the term &lt;em&gt;climate change&lt;/em&gt; over time for Democrats vs. Republicans&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;ggplot2&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
dat_d &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; cw_timeseries&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;phrase&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;climate change&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; party&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;D&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
dat_d&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;party &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;D&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;nrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat_d&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
dat_r &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; cw_timeseries&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;phrase&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;climate change&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; party&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;R&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
dat_r&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;party &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;R&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;nrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat_r&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
dat_both &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;rbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat_d&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; dat_r&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat_both&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;day&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; count&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; colour&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;party&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
   geom_line&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
   theme_grey&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
   scale_colour_manual&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;values&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;blue&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;/public/img/2014-08-11-rsunlight/unnamed-chunk-9.png&quot; alt=&quot;plot of chunk unnamed-chunk-9&quot;&gt;&lt;/p&gt;

&lt;h3&gt;Influence Explorer API&lt;/h3&gt;

&lt;p&gt;Search for contributions of equal to or more than &lt;code&gt;$20,000,000&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;ie_contr&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;amount&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;&amp;gt;|20000000&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[,&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;amount&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;recipient_name&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;contributor_name&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##         amount
## 1  25177212.00
## 2  20000000.00
## 3  20000000.00
## 4  20000000.00
## 5  20000000.00
## 6  20000000.00
## 7  50000000.00
## 8  34000000.00
## 9  28000000.00
## 10 20000000.00
##                                                   recipient_name
## 1                                       Republican National Cmte
## 2  CALIFORNIANS TO CLOSE THE OUT-OF-STATE CORPORATE TAX LOOPHOLE
## 3                                                   WHITMAN, MEG
## 4                                                   WHITMAN, MEG
## 5                                                   WHITMAN, MEG
## 6                                                   WHITMAN, MEG
## 7                                         GOLISANO, B THOMAS (G)
## 8                                         GOLISANO, B THOMAS (G)
## 9                                         GOLISANO, B THOMAS (G)
## 10                                        GOLISANO, B THOMAS (G)
##           contributor_name
## 1           Romney Victory
## 2         STEYER, THOMAS F
## 3  WHITMAN, MARGARET (MEG)
## 4  WHITMAN, MARGARET (MEG)
## 5  WHITMAN, MARGARET (MEG)
## 6  WHITMAN, MARGARET (MEG)
## 7       GOLISANO, B THOMAS
## 8       GOLISANO, B THOMAS
## 9       GOLISANO, B THOMAS
## 10      GOLISANO, B THOMAS
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Top industries, by contributions given. &lt;em&gt;UNKOWN&lt;/em&gt; is a very influential industry. Of course &lt;em&gt;law firms&lt;/em&gt; are high up there, as well as &lt;em&gt;real estate&lt;/em&gt;. I&amp;#39;m sure &lt;em&gt;oil and gas&lt;/em&gt; is embarrased that they&amp;#39;re contributing less than &lt;em&gt;pulic sector unions&lt;/em&gt;.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;res &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ie_industries&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;method&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;top_ind&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; limit&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##       count        amount                               id
## 1  14919818 3825359507.21 cdb3f500a3f74179bb4a5eb8b2932fa6
## 2   3600761 2787678962.95 f50cf984a2e3477c8167d32e2b14e052
## 3    329906 1717649914.58 9cac88377c3b400e89c2d6762e3f28f6
## 4   1386613 1707457092.04 7500030dffe24844aa467a75f7aedfd1
## 5    774496 1563637586.57 0af3f418f426497e8bbf916bfc074ebc
## 6    546367 1389220855.35 52e5d4c6c0fa47c3bdb199a28f96d434
## 7   2134350 1384221307.53 a05a0d06f6814b31bece35a81fcb40c7
## 8   1003850  986588892.83 8ada0fc2d6994f2ab06c7e025dff2284
## 9    567082  775241387.17 52766c4910a846f2813a1dda212b7027
## 10   151006  706747646.35 13718be68388456d9b6e8db753f06e72
##    should_show_entity                    name
## 1                TRUE                 UNKNOWN
## 2                TRUE       LAWYERS/LAW FIRMS
## 3                TRUE  CANDIDATE SELF-FINANCE
## 4                TRUE             REAL ESTATE
## 5                TRUE SECURITIES &amp;amp; INVESTMENT
## 6                TRUE    PUBLIC SECTOR UNIONS
## 7                TRUE    HEALTH PROFESSIONALS
## 8                TRUE               INSURANCE
## 9                TRUE               OIL &amp;amp; GAS
## 10               TRUE        CASINOS/GAMBLING
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;res&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;amount &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;amount&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;reorder&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; amount&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; amount&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  geom_bar&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;stat &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;identity&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  coord_flip&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  scale_y_continuous&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;labels&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;dollar&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
  theme_grey&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;/public/img/2014-08-11-rsunlight/unnamed-chunk-11.png&quot; alt=&quot;plot of chunk unnamed-chunk-11&quot;&gt;&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;Feedback&lt;/h2&gt;

&lt;p&gt;Please do use &lt;code&gt;rsunlight&lt;/code&gt;, and let us know what you want fixed, new features, etc.&lt;/p&gt;

&lt;h2&gt;Still to come:&lt;/h2&gt;

&lt;ul&gt;
&lt;li&gt;Functions to visualize data from each API. You can do this yourself, but a few functions will be created to help those that are new to R.&lt;/li&gt;
&lt;li&gt;Vectorize functions so that you can give many inputs to a function instead of a single input.&lt;/li&gt;
&lt;li&gt;test suite: embarrasingly, there is no test suite yet, boo me.&lt;/li&gt;
&lt;li&gt;I plan to push &lt;code&gt;rsunlight&lt;/code&gt; to CRAN soon as &lt;code&gt;v0.3&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>analogsea - v0.1 notes</title>
   <link href="http://recology.info//2014/06/analogsea-v01/"/>
   <updated>2014-06-18T00:00:00-07:00</updated>
   <id>http://recology.info//2014/06/analogsea-v01</id>
   <content type="html">&lt;p&gt;My &lt;a href=&quot;http://recology.info/2014/05/analogsea/&quot;&gt;last blog &lt;/a&gt; post introduced the R package I&amp;#39;m working on &lt;code&gt;analogsea&lt;/code&gt;, an R client for the Digital Ocean API.&lt;/p&gt;

&lt;p&gt;Things have changed a bit, including fillig out more functions for all API endpoints, and incorparting feedback from Hadley and Karthik. The package is as &lt;code&gt;v0.1&lt;/code&gt; now, so I thought I&amp;#39;d say a few things about how it works.&lt;/p&gt;

&lt;p&gt;Note that Digital Ocean&amp;#39;s v2 API is in beta stage now, so the current version of &lt;code&gt;analogsea&lt;/code&gt; at &lt;code&gt;v0.1&lt;/code&gt; works with their v1 API. The &lt;a href=&quot;https://github.com/sckott/analogsea/tree/v2&quot;&gt;v2 branch of analogsea&lt;/a&gt; is being developed for their v2 API.&lt;/p&gt;

&lt;p&gt;If you sign up for an account with Digital Ocean use this referral link: &lt;a href=&quot;https://www.digitalocean.com/?refcode=0740f5169634&quot;&gt;https://www.digitalocean.com/?refcode=0740f5169634&lt;/a&gt; so I can earn some credits. thx :)&lt;/p&gt;

&lt;p&gt;First, installation&lt;/p&gt;

&lt;p&gt;Note: I did try to submit to CRAN, but Ripley complained about the package name so I&amp;#39;d rather not waste my time esp since people using this likely will already know about &lt;code&gt;install_github()&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;devtools&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;sckott/analogsea&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Load the library&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;analogsea&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## Loading required package: magrittr
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Authenticate has changed a bit. Whereas auth details were stored as environment variables before, I&amp;#39;m just using R&amp;#39;s options. &lt;code&gt;do_auth()&lt;/code&gt; will ask for your Digital Ocean details. You can enter them each R session, or store them in your &lt;code&gt;.Rprofile&lt;/code&gt; file. After successful authentication, each function simply looks for your auth details with &lt;code&gt;getOption()&lt;/code&gt;.  You don&amp;#39;t have to use this function first, though if you don&amp;#39;t your first call to another function will ask for auth details.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;do_auth&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;code&gt;sizes&lt;/code&gt;, &lt;code&gt;images&lt;/code&gt;, and &lt;code&gt;keys&lt;/code&gt; functions have changed a bit, by default outputting a &lt;code&gt;data.frame&lt;/code&gt; now.&lt;/p&gt;

&lt;p&gt;List available regions&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;regions&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##   id            name slug
## 1  3 San Francisco 1 sfo1
## 2  4      New York 2 nyc2
## 3  5     Amsterdam 2 ams2
## 4  6     Singapore 1 sgp1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;List available sizes&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;sizes&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##   id  name  slug memory cpu disk cost_per_hour cost_per_month
## 1 66 512MB 512mb    512   1   20       0.00744            5.0
## 2 63   1GB   1gb   1024   1   30       0.01488           10.0
## 3 62   2GB   2gb   2048   2   40       0.02976           20.0
## 4 64   4GB   4gb   4096   2   60       0.05952           40.0
## 5 65   8GB   8gb   8192   4   80       0.11905           80.0
## 6 61  16GB  16gb  16384   8  160       0.23810          160.0
## 7 60  32GB  32gb  32768  12  320       0.47619          320.0
## 8 70  48GB  48gb  49152  16  480       0.71429          480.0
## 9 69  64GB  64gb  65536  20  640       0.95238          640.0
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;List available images&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;images&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##        id                  name             slug distribution public sfo1
## 1 3209452 rstudioserverssh_snap             &amp;lt;NA&amp;gt;       Ubuntu  FALSE    1
## 2    1601        CentOS 5.8 x64   centos-5-8-x64       CentOS   TRUE    1
## 3    1602        CentOS 5.8 x32   centos-5-8-x32       CentOS   TRUE    1
## 4   12573        Debian 6.0 x64   debian-6-0-x64       Debian   TRUE    1
## 5   12575        Debian 6.0 x32   debian-6-0-x32       Debian   TRUE    1
## 6   14097      Ubuntu 10.04 x64 ubuntu-10-04-x64       Ubuntu   TRUE    1
##   nyc1 ams1 nyc2 ams2 sgp1
## 1   NA   NA   NA   NA   NA
## 2    1    1    1    1    1
## 3    1    1    1    1    1
## 4    1    1    1    1    1
## 5    1    1    1    1    1
## 6    1    1    1    1    1
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;List ssh keys&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;keys&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## $ssh_keys
## $ssh_keys[[1]]
## $ssh_keys[[1]]$id
## [1] 89103
##
## $ssh_keys[[1]]$name
## [1] &amp;quot;Scott Chamberlain&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;One change that&amp;#39;s of interest is that most of the various &lt;code&gt;droplets_*()&lt;/code&gt; functions take in the outputs of other &lt;code&gt;droplets_*()&lt;/code&gt; functions. This means that we can pipe outputs of one &lt;code&gt;droplets_*()&lt;/code&gt; function to another, including non-&lt;code&gt;droplet_*&lt;/code&gt; functions (see examples).&lt;/p&gt;

&lt;p&gt;Let&amp;#39;s create a droplet:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;res &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; droplets_new&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;foo&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; size_slug &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;512mb&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; image_slug &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;ubuntu-14-04-x64&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; region_slug &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;sfo1&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; ssh_key_ids &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;89103&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;droplet
&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;droplet&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;id
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1880805&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;droplet&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;name
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;foo&amp;quot;&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;droplet&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;image_id
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3240036&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;droplet&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;size_id
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;66&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;droplet&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;event_id
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;26711810&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;List my droplets&lt;/p&gt;

&lt;p&gt;This function used to be &lt;code&gt;do_droplets_get()&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;droplets&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## $droplet_ids
## [1] 1880805
##
## $droplets
## $droplets[[1]]
## $droplets[[1]]$id
## [1] 1880805
##
## $droplets[[1]]$name
## [1] &amp;quot;foo&amp;quot;
##
## $droplets[[1]]$image_id
## [1] 3240036
##
## $droplets[[1]]$size_id
## [1] 66
##
## $droplets[[1]]$region_id
## [1] 3
##
## $droplets[[1]]$backups_active
## [1] FALSE
##
## $droplets[[1]]$ip_address
## [1] &amp;quot;162.243.152.56&amp;quot;
##
## $droplets[[1]]$private_ip_address
## NULL
##
## $droplets[[1]]$locked
## [1] FALSE
##
## $droplets[[1]]$status
## [1] &amp;quot;active&amp;quot;
##
## $droplets[[1]]$created_at
## [1] &amp;quot;2014-06-18T14:15:35Z&amp;quot;
##
##
##
## $event_id
## NULL
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;As mentioned above we can now pipe output of &lt;code&gt;droplet*()&lt;/code&gt; functions to other &lt;code&gt;droplet*()&lt;/code&gt; functions.&lt;/p&gt;

&lt;p&gt;Here, pipe output of lising droplets &lt;code&gt;droplets()&lt;/code&gt; to the &lt;code&gt;events()&lt;/code&gt; function&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;droplets&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; events&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## Error: No event id found
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;In this case there were no event ids to get event data on.&lt;/p&gt;

&lt;p&gt;Here, we&amp;#39;ll get details for the droplet we just created, then pipe that to &lt;code&gt;droplets_power_off()&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;droplets&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1880805&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt; droplets_power_off
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## $droplet_ids
## [1] 1880805
##
## $droplets
## $droplets$droplet_ids
## [1] 1880805
##
## $droplets$droplets
## $droplets$droplets$id
## [1] 1880805
##
## $droplets$droplets$name
## [1] &amp;quot;foo&amp;quot;
##
## $droplets$droplets$image_id
## [1] 3240036
##
## $droplets$droplets$size_id
## [1] 66
##
## $droplets$droplets$region_id
## [1] 3
##
## $droplets$droplets$backups_active
## [1] FALSE
##
## $droplets$droplets$ip_address
## [1] &amp;quot;162.243.152.56&amp;quot;
##
## $droplets$droplets$private_ip_address
## NULL
##
## $droplets$droplets$locked
## [1] FALSE
##
## $droplets$droplets$status
## [1] &amp;quot;active&amp;quot;
##
## $droplets$droplets$created_at
## [1] &amp;quot;2014-06-18T14:15:35Z&amp;quot;
##
## $droplets$droplets$backups
## list()
##
## $droplets$droplets$snapshots
## list()
##
##
## $droplets$event_id
## NULL
##
##
## $event_id
## [1] 26714109
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then pipe it again to &lt;code&gt;droplets_power_on()&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;droplets&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1880805&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  droplets_power_on
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## $droplet_ids
## [1] 1880805
##
## $droplets
## $droplets$droplet_ids
## [1] 1880805
##
## $droplets$droplets
## $droplets$droplets$id
## [1] 1880805
##
## $droplets$droplets$name
## [1] &amp;quot;foo&amp;quot;
##
## $droplets$droplets$image_id
## [1] 3240036
##
## $droplets$droplets$size_id
## [1] 66
##
## $droplets$droplets$region_id
## [1] 3
##
## $droplets$droplets$backups_active
## [1] FALSE
##
## $droplets$droplets$ip_address
## [1] &amp;quot;162.243.152.56&amp;quot;
##
## $droplets$droplets$private_ip_address
## NULL
##
## $droplets$droplets$locked
## [1] FALSE
##
## $droplets$droplets$status
## [1] &amp;quot;off&amp;quot;
##
## $droplets$droplets$created_at
## [1] &amp;quot;2014-06-18T14:15:35Z&amp;quot;
##
## $droplets$droplets$backups
## list()
##
## $droplets$droplets$snapshots
## list()
##
##
## $droplets$event_id
## NULL
##
##
## $event_id
## [1] 26714152
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;Sys.sleep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
droplets&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1880805&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;droplets&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;status
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## [1] &amp;quot;off&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Why not use more pipes?&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;droplets&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1880805&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  droplets_power_off &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  droplets_power_on &lt;span class=&quot;o&quot;&gt;%&amp;gt;%&lt;/span&gt;
  events
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;hr&gt;

&lt;p&gt;Last time I talked about installing R, RStudio, etc. on a droplet. I&amp;#39;m still working out bugs in that stuff, but do test out so it can get better faster. See &lt;code&gt;do_install()&lt;/code&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>analogsea - an R client for the Digital Ocean API</title>
   <link href="http://recology.info//2014/05/analogsea/"/>
   <updated>2014-05-28T00:00:00-07:00</updated>
   <id>http://recology.info//2014/05/analogsea</id>
   <content type="html">&lt;p&gt;I think this package name is my best yet. Maybe it doesn&amp;#39;t make sense though? At least it did at the time...&lt;/p&gt;

&lt;p&gt;Anyway, the main motivation for this package was to be able to automate spinning up Linux boxes to do cloud R/RStudio work. Of course if you are a command line native this is all easy for you, but if you are afraid of the command line and/or just don&amp;#39;t want to deal with it, this tool will hopefully help. &lt;/p&gt;

&lt;p&gt;Most of the functions in this package wrap the Digital Ocean API. So you can do things like create a new &lt;em&gt;droplet&lt;/em&gt;, get information on your droplets, &lt;em&gt;destroy&lt;/em&gt; droplets, get information on available images, make snapshots, etc. Basically everything you can do from their website you can do here. Note that all functions are prefixed with &lt;code&gt;do_&lt;/code&gt; (for Digital Ocean). &lt;/p&gt;

&lt;p&gt;The droplet creation part is what we can leverage to spin up a cloud machine to then install R on, and optionally RStudio server, and even RStudio Shiny server. This allows you to stay within R entirely, not having to go to &lt;code&gt;ssh&lt;/code&gt; into the Linux machine itself or go to the Digital Ocean website (after initial setup of course). &lt;/p&gt;

&lt;p&gt;If you try this, I recommend using this on R on the command line as you can more easily kill the R session if something goes wrong, and quickly open a new tab/window to &lt;code&gt;ssh&lt;/code&gt; into the Linux machine if you want.&lt;/p&gt;

&lt;p&gt;First, installation&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;devtools&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;sckott/analogsea&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Load the library&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;analogsea&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Firt, authenticate. This will ask for your Digital Ocean details. You can enter them each R session, or store them in your &lt;code&gt;.Renviron&lt;/code&gt; file. After successful authentication, each function simply looks for your auth details with &lt;code&gt;Sys.getenv()&lt;/code&gt;.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;do_auth&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;List available regions&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;do_regions&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;regions&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;[[&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## [1] &amp;quot;San Francisco 1&amp;quot; &amp;quot;New York 2&amp;quot;      &amp;quot;Amsterdam 2&amp;quot;     &amp;quot;Singapore 1&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;List available images&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;do_images&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;images&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;[[&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##  [1] &amp;quot;rstudioserverssh_snap&amp;quot;                          
##  [2] &amp;quot;CentOS 5.8 x64&amp;quot;                                 
##  [3] &amp;quot;CentOS 5.8 x32&amp;quot;                                 
##  [4] &amp;quot;Debian 6.0 x64&amp;quot;                                 
##  [5] &amp;quot;Debian 6.0 x32&amp;quot;                                 
##  [6] &amp;quot;Ubuntu 10.04 x64&amp;quot;                               
##  [7] &amp;quot;Ubuntu 10.04 x32&amp;quot;                               
##  [8] &amp;quot;Arch Linux 2013.05 x64&amp;quot;                         
##  [9] &amp;quot;Arch Linux 2013.05 x32&amp;quot;                         
## [10] &amp;quot;CentOS 6.4 x32&amp;quot;                                 
## [11] &amp;quot;CentOS 6.4 x64&amp;quot;                                 
## [12] &amp;quot;Ubuntu 12.04.4 x32&amp;quot;                             
## [13] &amp;quot;Ubuntu 12.04.4 x64&amp;quot;                             
## [14] &amp;quot;Ubuntu 13.10 x32&amp;quot;                               
## [15] &amp;quot;Ubuntu 13.10 x64&amp;quot;                               
## [16] &amp;quot;Fedora 19 x32&amp;quot;                                  
## [17] &amp;quot;Fedora 19 x64&amp;quot;                                  
## [18] &amp;quot;MEAN on Ubuntu 12.04.4&amp;quot;                         
## [19] &amp;quot;Ghost 0.4.2 on Ubuntu 12.04&amp;quot;                    
## [20] &amp;quot;Wordpress on Ubuntu 13.10&amp;quot;                      
## [21] &amp;quot;Ruby on Rails on Ubuntu 12.10 (Nginx + Unicorn)&amp;quot;
## [22] &amp;quot;Redmine on Ubuntu 12.04&amp;quot;                        
## [23] &amp;quot;Ubuntu 14.04 x32&amp;quot;                               
## [24] &amp;quot;Ubuntu 14.04 x64&amp;quot;                               
## [25] &amp;quot;Fedora 20 x32&amp;quot;                                  
## [26] &amp;quot;Fedora 20 x64&amp;quot;                                  
## [27] &amp;quot;Dokku v0.2.3 on Ubuntu 14.04&amp;quot;                   
## [28] &amp;quot;Debian 7.0 x64&amp;quot;                                 
## [29] &amp;quot;Debian 7.0 x32&amp;quot;                                 
## [30] &amp;quot;CentOS 6.5 x64&amp;quot;                                 
## [31] &amp;quot;CentOS 6.5 x32&amp;quot;                                 
## [32] &amp;quot;Docker 0.11.1 on Ubuntu 13.10 x64&amp;quot;              
## [33] &amp;quot;Django on Ubuntu 14.04&amp;quot;                         
## [34] &amp;quot;LAMP on Ubuntu 14.04&amp;quot;                           
## [35] &amp;quot;node-v0.10.28 on Ubuntu 14.04&amp;quot;                  
## [36] &amp;quot;GitLab 6.9.0 CE&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;List available sizes&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;do.call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;rbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; do_sizes&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;sizes&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##       id name    slug    memory cpu disk cost_per_hour cost_per_month
##  [1,] 66 &amp;quot;512MB&amp;quot; &amp;quot;512mb&amp;quot; 512    1   20   0.00744       &amp;quot;5.0&amp;quot;         
##  [2,] 63 &amp;quot;1GB&amp;quot;   &amp;quot;1gb&amp;quot;   1024   1   30   0.01488       &amp;quot;10.0&amp;quot;        
##  [3,] 62 &amp;quot;2GB&amp;quot;   &amp;quot;2gb&amp;quot;   2048   2   40   0.02976       &amp;quot;20.0&amp;quot;        
##  [4,] 64 &amp;quot;4GB&amp;quot;   &amp;quot;4gb&amp;quot;   4096   2   60   0.05952       &amp;quot;40.0&amp;quot;        
##  [5,] 65 &amp;quot;8GB&amp;quot;   &amp;quot;8gb&amp;quot;   8192   4   80   0.1191        &amp;quot;80.0&amp;quot;        
##  [6,] 61 &amp;quot;16GB&amp;quot;  &amp;quot;16gb&amp;quot;  16384  8   160  0.2381        &amp;quot;160.0&amp;quot;       
##  [7,] 60 &amp;quot;32GB&amp;quot;  &amp;quot;32gb&amp;quot;  32768  12  320  0.4762        &amp;quot;320.0&amp;quot;       
##  [8,] 70 &amp;quot;48GB&amp;quot;  &amp;quot;48gb&amp;quot;  49152  16  480  0.7143        &amp;quot;480.0&amp;quot;       
##  [9,] 69 &amp;quot;64GB&amp;quot;  &amp;quot;64gb&amp;quot;  65536  20  640  0.9524        &amp;quot;640.0&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let&amp;#39;s create a droplet:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;res &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; do_droplets_new&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;foo&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; size_slug &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;512mb&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; image_slug &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;ubuntu-14-04-x64&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; region_slug &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;sfo1&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; ssh_key_ids &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;89103&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;status
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;OK&amp;quot;&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;droplet
&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;droplet&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;id
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1733336&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;droplet&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;name
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;foo&amp;quot;&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;droplet&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;image_id
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3240036&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;droplet&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;size_id
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;66&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;droplet&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;event_id
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;25278892&lt;/span&gt;


&lt;span class=&quot;kp&quot;&gt;attr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;class&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;dodroplet&amp;quot;&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;List my droplets&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;do_droplets_get&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## $status
## [1] &amp;quot;OK&amp;quot;
## 
## $droplets
## $droplets[[1]]
## $droplets[[1]]$id
## [1] 1733336
## 
## $droplets[[1]]$name
## [1] &amp;quot;foo&amp;quot;
## 
## $droplets[[1]]$image_id
## [1] 3240036
## 
## $droplets[[1]]$size_id
## [1] 66
## 
## $droplets[[1]]$region_id
## [1] 3
## 
## $droplets[[1]]$backups_active
## [1] FALSE
## 
## $droplets[[1]]$ip_address
## [1] &amp;quot;107.170.211.252&amp;quot;
## 
## $droplets[[1]]$private_ip_address
## NULL
## 
## $droplets[[1]]$locked
## [1] FALSE
## 
## $droplets[[1]]$status
## [1] &amp;quot;active&amp;quot;
## 
## $droplets[[1]]$created_at
## [1] &amp;quot;2014-05-28T05:59:22Z&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Cool, we have a new Linux box with 512 mb RAM, running Ubuntu 14.04 in the SF region. Notice that I&amp;#39;m using my SSH key here. If you don&amp;#39;t use your SSH key, Digital Ocean will email you a password, which you then use. We just have to wait a bit (sometimes 20 seconds, sometimes a few minutes) for it to spin up.&lt;/p&gt;

&lt;p&gt;Now we can install stuff. Here, I&amp;#39;ll install R, and RStudio Server. This step prints out the progress as you would see if you did &lt;code&gt;ssh&lt;/code&gt; into the box itself outside of R. The RStudio Server instance will pop up in your default browser when this operation is done. &lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;do_install&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;droplet&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;id&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; what&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;rstudio&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; usr&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;hey&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; pwd&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;there&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;/public/img/2014-05-28-analogsea/rstudioinstance.png&quot; width=&quot;100%&quot;&gt;&lt;/p&gt;

&lt;p&gt;You can install some things like the &lt;code&gt;libcurl&lt;/code&gt; and &lt;code&gt;libxml&lt;/code&gt; libraries too with the &lt;code&gt;deps&lt;/code&gt; parameter.&lt;/p&gt;

&lt;p&gt;When you&amp;#39;re done, you can destroy your droplet from R too&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;do_droplets_destroy&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;res&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;droplet&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;id&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## $status
## [1] &amp;quot;OK&amp;quot;
## 
## $event_id
## [1] 25279124
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Let me know if you have any thoughts :)&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Logistic plot reboot</title>
   <link href="http://recology.info//2014/05/logplotreboot/"/>
   <updated>2014-05-22T00:00:00-07:00</updated>
   <id>http://recology.info//2014/05/logplotreboot</id>
   <content type="html">&lt;p&gt;Someone asked about plotting something like this today&lt;/p&gt;

&lt;p&gt;I &lt;a href=&quot;http://recology.info/2012/01/logistic-regression-barplot-fig/&quot;&gt;wrote a few functions previously&lt;/a&gt; to do something like this. However, since then &lt;code&gt;ggplot2&lt;/code&gt; has changed, and one of the functions no longer works.&lt;/p&gt;

&lt;p&gt;Hence, I fixed &lt;code&gt;opts()&lt;/code&gt; to &lt;code&gt;theme()&lt;/code&gt;, &lt;code&gt;theme_blank()&lt;/code&gt; to &lt;code&gt;element_blank()&lt;/code&gt;, and &lt;code&gt;panel.background = element_blank()&lt;/code&gt; to &lt;code&gt;plot.background = element_blank()&lt;/code&gt; to get the histograms to show up with the line plot and not cover it.&lt;/p&gt;

&lt;p&gt;The new functions:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;loghistplot  &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kp&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;x&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;y&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# rename columns&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;# get min and max axis values&lt;/span&gt;
  min_x &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  max_x &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  min_y &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;y&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  max_y &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;y&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;# get bin numbers&lt;/span&gt;
  bin_no &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;hist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; plot &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;counts&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;# create plots&lt;/span&gt;
  a &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; y&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    theme_bw&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    geom_smooth&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;method &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;glm&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; family &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;binomial&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; se &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                colour&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;black&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; alpha &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    scale_x_continuous&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;limits&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;min_x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;max_x&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    theme&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;panel.grid.major &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
          panel.grid.minor&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
          panel.background &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
          plot.background &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    labs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Probability\n&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;\nYour X Variable&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  theme_loghist &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;
    theme&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;panel.grid.major &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
          panel.grid.minor&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
          axis.text.y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
          axis.text.x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
          axis.ticks &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
          panel.border &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
          panel.background &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
          plot.background &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
  &lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  b &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt;
  ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;data&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;y &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;y&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; x&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    theme_bw&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    geom_histogram&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;fill &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;grey&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    scale_y_continuous&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;limits&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;bin_no&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    scale_x_continuous&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;limits&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;min_x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;max_x&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    theme_loghist &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    labs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;\n&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;\n&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;data&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;y &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;y&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; x&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    theme_bw&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    geom_histogram&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;fill &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;grey&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    scale_y_continuous&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;trans&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;reverse&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; limits&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;bin_no&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    scale_x_continuous&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;limits&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;min_x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;max_x&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    theme_loghist &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    labs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;\n&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;\n&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  grid.newpage&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
  pushViewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;viewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;layout &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; grid.layout&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;

  vpa_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; viewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  vpb_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; viewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  vpc_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; viewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;kp&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;b&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vp &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vpb_&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;kp&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vp &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vpc_&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  &lt;span class=&quot;kp&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vp &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vpa_&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;logpointplot  &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;kp&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;x&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;y&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# rename columns&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;# get min and max axis values&lt;/span&gt;
  min_x &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  max_x &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  min_y &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;y&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
  max_y &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;y&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;c1&quot;&gt;# create plots&lt;/span&gt;
  ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; y&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    theme_bw&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    geom_point&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; alpha &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; position &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; position_jitter&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;w&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; h&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.02&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    geom_smooth&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;method &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;glm&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; family &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;binomial&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; se &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
                colour&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;black&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; alpha &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    scale_x_continuous&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;limits&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;min_x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;max_x&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    theme&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;panel.grid.major &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
          panel.grid.minor&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
          panel.background &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    labs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Probability\n&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;\nYour X Variable&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Install &lt;code&gt;ggplot2&lt;/code&gt; and &lt;code&gt;gridExtra&lt;/code&gt; if you don&amp;#39;t have them:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;ggplot2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;gridExtra&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; repos &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;http://cran.rstudio.com&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And their use:&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Logistic histogram plots&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;loghistplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;mtcars&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;mpg&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;vs&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;/public/img/2014-05-22-logplotreboot/unnamed-chunk-5.png&quot; alt=&quot;plot of chunk unnamed-chunk-5&quot;&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;loghistplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;movies&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;rating&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Action&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;/public/img/2014-05-22-logplotreboot/unnamed-chunk-6.png&quot; alt=&quot;plot of chunk unnamed-chunk-6&quot;&gt;&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Logistic point plots&lt;/strong&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;loghistplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;mtcars&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;mpg&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;vs&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;/public/img/2014-05-22-logplotreboot/unnamed-chunk-7.png&quot; alt=&quot;plot of chunk unnamed-chunk-7&quot;&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;loghistplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;movies&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;rating&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Action&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;img src=&quot;/public/img/2014-05-22-logplotreboot/unnamed-chunk-8.png&quot; alt=&quot;plot of chunk unnamed-chunk-8&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>cowsay - ascii messages and warnings for R</title>
   <link href="http://recology.info//2014/02/cowsay/"/>
   <updated>2014-02-20T00:00:00-08:00</updated>
   <id>http://recology.info//2014/02/cowsay</id>
   <content type="html">&lt;h2&gt;The history&lt;/h2&gt;

&lt;p&gt;Cowsay is a terminal program that generates ascii pictures of a cow saying what you tell the cow to say in a bubble. See the Wikipedia page for more information: &lt;a href=&quot;http://en.wikipedia.org/wiki/Cowsay&quot;&gt;http://en.wikipedia.org/wiki/Cowsay&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;Install cowsay to use in your terminal (on OSX):&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;brew update
brew install cowsay
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Type &lt;code&gt;cowsay hello world!&lt;/code&gt;, and you get:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt; ______________
&amp;lt; hello world! &amp;gt;
 --------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Optionally, you can install &lt;a href=&quot;http://en.wikipedia.org/wiki/Fortune_(Unix)&quot;&gt;fortune&lt;/a&gt; to get pseudorandom messages from a database of quotations. On OSX do &lt;code&gt;brew install fortune&lt;/code&gt;, then you can pipe a fortune quote to &lt;code&gt;cowsay&lt;/code&gt;:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;fortune | cowsay
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And get something like:&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt; ______________________________________
/ &amp;quot;To take a significant step forward, \
| you must make a series of finite     |
| improvements.&amp;quot; -- Donald J. Atwood,  |
\ General Motors                       /
 --------------------------------------
        \   ^__^
         \  (oo)\_______
            (__)\       )\/\
                ||----w |
                ||     ||
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;You can also get different animals. Try &lt;code&gt;cowsay -f tux &amp;lt;yourmessage&amp;gt;&lt;/code&gt;&lt;/p&gt;

&lt;h2&gt;Cowsay in R&lt;/h2&gt;

&lt;p&gt;Why cowsay for R?  Why not. You never know what you will learn in fun side projects. Basically, this cowsay R package we are making prints messages that you pass to the function &lt;code&gt;say&lt;/code&gt;.  There are three arguments to the &lt;code&gt;say&lt;/code&gt; function:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;strong&gt;what&lt;/strong&gt;: What do you want to say?  You can pass it a custom message, anything you want, like &lt;em&gt;what&amp;#39;s up&lt;/em&gt;, or &lt;em&gt;howdy!&lt;/em&gt;. You can also get R&amp;#39;s version of fortunes, quotes about R. Just pass the exact term &lt;em&gt;forture&lt;/em&gt;. If you want a fact about cats from the &lt;a href=&quot;http://catfacts-api.appspot.com/&quot;&gt;Cat Facts API&lt;/a&gt;, pass in &lt;em&gt;catfact&lt;/em&gt;. Last, you can get the current time by passing &lt;em&gt;time&lt;/em&gt; to this parameter.&lt;/li&gt;
&lt;li&gt;&lt;strong&gt;by&lt;/strong&gt;: Type of animal, one of cow, chicken, poop, cat, ant, pumpkin, ghost, spider, rabbit, pig, snowman, or frog. If you want more animals, send a pull request, or ask and at some point it will be added. &lt;/li&gt;
&lt;li&gt;&lt;strong&gt;type&lt;/strong&gt;: One of message (default), warning, or string (returns string). You could use string to pass into other functions, etc., instead of printing a warning or message.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;There are three other contributors so far (a big thanks to them):&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Tyler Rinker&lt;/li&gt;
&lt;li&gt;Thomas Leeper&lt;/li&gt;
&lt;li&gt;Noam Ross&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;Installation&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;devtools&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;cowsay&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;sckott&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;cowsay&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;p.s. or &lt;code&gt;install_github(&amp;quot;sckott/cowsay&amp;quot;)&lt;/code&gt; if you have a newer version of devtools&lt;/p&gt;

&lt;h3&gt;Get time&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;say&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;time&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt; ----- 
 2014-02-20 14:15:35 
 ------ 
    \   ^__^ 
     \  (oo)\ ________ 
        (__)\         )\ /\ 
             ||------w|
             ||      ||
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;say&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;time&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;chicken&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt; ----- 
 2014-02-20 14:15:35 
 ------ 
    \   
     \  
         _
       _/ }
      `&amp;gt;&amp;#39; \
      `|   \
       |   /&amp;#39;-.     .-.
        \&amp;#39;     &amp;#39;;`--&amp;#39; .&amp;#39;
         \&amp;#39;.    `&amp;#39;-./
          &amp;#39;.`-..-;`
            `;-..&amp;#39;
            _| _|
            /` /`
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Vary type of output, default calls message&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;say&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;hello world&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt; ----- 
 hello world 
 ------ 
    \   ^__^ 
     \  (oo)\ ________ 
        (__)\         )\ /\ 
             ||------w|
             ||      ||
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;say&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;hello world&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; type &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;warning&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Warning: 
 ----- 
 hello world 
 ------ 
    \   ^__^ 
     \  (oo)\ ________ 
        (__)\         )\ /\ 
             ||------w|
             ||      ||
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;say&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;hello world&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; type &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;string&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &amp;quot;\n ----- \n hello world \n ------ \n    \\   ^__^ \n     \\  (oo)\\ ________ \n        (__)\\         )\\ /\\ \n             ||------w|\n             ||      ||&amp;quot;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Catfacts!!!!&lt;/h3&gt;

&lt;p&gt;From the &lt;a href=&quot;http://catfacts-api.appspot.com/&quot;&gt;catfacts API&lt;/a&gt;, we can get random cat facts. If you put in &lt;em&gt;catfact&lt;/em&gt; you by default get a cat saying it. &lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;say&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;catfact&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;cat&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt; ----- 
 Neutering a cat extends its life span by two or three years. 
 ------ 
    \   
     \  
               \`*-.
                 )  _`-.                 
                .  : `. .                
                : _   &amp;#39;                 
                ; *` _.   `*-._          
                `-.-&amp;#39;          `-.       
                  ;       `       `.     
                  :.       .       \
                  .\  .   :   .-&amp;#39;   .   
                  &amp;#39;  `+.;  ;  &amp;#39;      :   
                  :  &amp;#39;  |    ;       ;-. 
                  ; &amp;#39;   : :`-:     _.`* ;
               .*&amp;#39; /  .*&amp;#39; ; .*`- +&amp;#39;  `*&amp;#39; 
               `*-*   `*-*  `*-*&amp;#39;        
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;R fortunes&lt;/h3&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;say&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;fortune&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt; ----- 
 If I were to be treated by a cure created by stepwise regression, I would prefer voodoo.
 Dieter Menne
 in a thread about regressions with many variables
 R-help
 October 2009 
 ------ 
    \   ^__^ 
     \  (oo)\ ________ 
        (__)\         )\ /\ 
             ||------w|
             ||      ||
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;say&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;fortune&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;pig&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt; ----- 
 Cross posting is sociopathic.
 Roger Koenker
 NA
 R-help
 November 2008 
 ------ 
    \   
     \  
       _//| .-~~~-.
     _/oo  }       }-@
    (&amp;#39;&amp;#39;)_  }       |
     `--&amp;#39;| { }--{  }
          //_/  /_/
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Incorporate into a function&lt;/h3&gt;

&lt;p&gt;Define a function&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;foo &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
        say&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;woops, x should be 5 or greater&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Call the function, with an error on purpose&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;foo&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt; ----- 
 woops, x should be 5 or greater 
 ------ 
    \   ^__^ 
     \  (oo)\ ________ 
        (__)\         )\ /\ 
             ||------w|
             ||      ||
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Or capture a warning or message and pass to the &lt;code&gt;say&lt;/code&gt; function&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;foo2 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    err &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;tryCatch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;o&quot;&gt;^&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; error &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;e&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; e&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    say&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;err&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;message&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;frog&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then call the function &lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;foo2&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;hello&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt; ----- 
 non-numeric argument to binary operator 
 ------ 
    \   
     \  
        (.)_(.)
     _ (   _   ) _
    / \/`-----&amp;#39;\/ \
  __\ ( (     ) ) /__
  )   /\ \._./ /\   (
   )_/ /|\   /|\ \_(
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Awesome. Much better to have an error message from a frog than just the harsh console alone :)&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>cites - citation stuff from the command line</title>
   <link href="http://recology.info//2014/01/cites/"/>
   <updated>2014-01-18T00:00:00-08:00</updated>
   <id>http://recology.info//2014/01/cites</id>
   <content type="html">&lt;p&gt;I&amp;#39;ve been learning Ruby, and decided to scratch an itch: getting citations for papers to put in a bibtex file or my Zotero library. This usually requires two parts: 1) searching for an article with keywords, and then 2) getting the citation once the paper is found.  Since I am lazy, I would prefer to do this from the command line instead of opening up a browser.  Thus =&amp;gt; &lt;code&gt;cites&lt;/code&gt;. (Note, I&amp;#39;m sure someone has created something better - the point is I&amp;#39;m learnin&amp;#39; me some Ruby)
&lt;br&gt;&lt;br&gt;
&lt;strong&gt;cites does two things:&lt;/strong&gt; &lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Search for a paper. Uses the &lt;a href=&quot;http://search.crossref.org/help/api&quot;&gt;CrossRef Metadata Search API&lt;/a&gt;, which allows POST requests of free form text. &lt;/li&gt;
&lt;li&gt;Get a citation from a DOI. Uses CrossRef &lt;a href=&quot;http://labs.crossref.org/citation-formatting-service/&quot;&gt;citation formatting service&lt;/a&gt; to search for citation information.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Each of the two above tasks are functions that you can use within Ruby, and are available from the command line/terminal so that you don&amp;#39;t have to spin up Ruby. During a typical writing workflow (in which you are using bibtex formatted references) one can want a citation for their paper, and instead of opening up a browser and using Google Scholar or Web of Science, etc., you can quickly search in your terminal by doing e.g., &lt;code&gt;thor cite:search &amp;#39;keywords that will help find the paper, including author, year, etc.&amp;#39;&lt;/code&gt;. Which if matches will give you a DOI. Then you can do &lt;code&gt;thor cite:getcite DOI/string | pbcopy&lt;/code&gt; and you get the bibtex reference in your clipboard. Then just paste into your bibtex file or references manager. See more examples below.
&lt;br&gt;&lt;br&gt;
First, we need to install dependencies&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;gem install httparty bibtex-ruby launchy
sudo gem install thor
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Then clone the repo down. The &lt;code&gt;Makefile&lt;/code&gt; in the repo builds the gem, and installs the Thor module so you have access to it from anywhere. If you don&amp;#39;t want the Thor commands, just do &lt;code&gt;make install&lt;/code&gt; and just the gem will be installed.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;git clone git@github.com:sckott/cites.git
cd cites
make
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;

&lt;h3&gt;From the command line: Thor&lt;/h3&gt;

&lt;p&gt;I decided to use &lt;a href=&quot;http://whatisthor.com/&quot;&gt;Thor&lt;/a&gt; to make functions within &lt;code&gt;cites&lt;/code&gt; available on the cli. Thor is cool. For example, you can list the commands available like&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;thor list
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;cite
-----
thor cite:getcite        # Get a citation from a DOI
thor cite:launch paper   # Open a paper from a given DOI in your default browser
thor cite:search STRING  # Get a DOI from a search string
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Get help for a particular method&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;thor help cite:getcite
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Usage:
  thor cite:getcite

Options:
  [--format=FORMAT]
                     # Default: text
  [--style=STYLE]
                     # Default: apa
  [--locale=LOCALE]
                     # Default: en-US

Get a citation from a DOI
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;This is what&amp;#39;s associated with &lt;code&gt;cites&lt;/code&gt; from the cli using Thor.&lt;/p&gt;

&lt;p&gt;Other commands are available, just type &lt;code&gt;thor&lt;/code&gt; on the cli, and press enter. 
&lt;br&gt;&lt;br&gt;&lt;/p&gt;

&lt;h3&gt;Search for a paper&lt;/h3&gt;

&lt;p&gt;From the CLI&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;thor cite:search &amp;#39;Piwowar sharing data increases citation PLOS&amp;#39;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;{&amp;quot;match&amp;quot;=&amp;gt;true, &amp;quot;doi&amp;quot;=&amp;gt;&amp;quot;10.1371/journal.pone.0000308&amp;quot;, &amp;quot;text&amp;quot;=&amp;gt;&amp;quot;Piwowar sharing data increases citation PLOS&amp;quot;}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And you can do many searches, separated with commas, like&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;thor cite:search &amp;#39;Piwowar sharing data increases citation PLOS,boettiger Modeling stabilizing selection&amp;#39;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Search within Ruby&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;cites&amp;#39;&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Cites&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;search&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;Piwowar sharing data increases citation PLOS&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;match&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;true&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;s2&quot;&gt;&amp;quot;doi&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;10.1371/journal.pone.0000308&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
  &lt;span class=&quot;s2&quot;&gt;&amp;quot;text&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;Piwowar sharing data increases citation PLOS&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;

&lt;h3&gt;Get a reference from a DOI&lt;/h3&gt;

&lt;p&gt;From the CLI, default output is text format, apa style, locale en-US&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;thor cite:getcite &amp;#39;10.1186/1471-2105-14-16&amp;#39;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Boyle, B., Hopkins, N., Lu, Z., Raygoza Garay, J. A., Mozzherin, D., Rees, T., Matasci, N., et al. (2013). The taxonomic name resolution service: an online tool for automated standardization of plant names. BMC Bioinformatics, 14(1), 16. Springer (Biomed Central Ltd.). doi:10.1186/1471-2105-14-16
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Because we&amp;#39;re using &lt;a href=&quot;http://whatisthor.com/&quot;&gt;thor&lt;/a&gt; you can pass in options to the call on the cli, like here choose &lt;code&gt;ris&lt;/code&gt; for the format&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;thor cite:getcite &amp;#39;10.1371/journal.pone.0000308&amp;#39; --format=ris
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;TY  - JOUR
T2  - PLoS ONE
AU  - Piwowar, Heather A.
AU  - Day, Roger S.
AU  - Fridsma, Douglas B.
SN  - 1932-6203
TI  - Sharing Detailed Research Data Is Associated with Increased Citation Rate
SP  - e308
VL  - 2
PB  - Public Library of Science
DO  - 10.1371/journal.pone.0000308
PY  - 2007
UR  - http://dx.doi.org/10.1371/journal.pone.0000308
ER  -
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;And here &lt;code&gt;bibtex&lt;/code&gt; for the format&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;thor cite:getcite &amp;#39;10.1371/journal.pone.0000308&amp;#39; --format=bibtex
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;@article{Piwowar_Day_Fridsma_2007,
  title = {Sharing Detailed Research Data Is Associated with Increased Citation Rate},
  volume = {2},
  url = {http://dx.doi.org/10.1371/journal.pone.0000308},
  doi = {10.1371/journal.pone.0000308},
  number = {3},
  journal = {PLoS ONE},
  publisher = {Public Library of Science},
  author = {Piwowar, Heather A. and Day, Roger S. and Fridsma, Douglas B.},
  editor = {Ioannidis, JohnEditor},
  year = {2007},
  month = {mar},
  pages = {e308}
}
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Two more options, &lt;code&gt;style&lt;/code&gt; and &lt;code&gt;locale&lt;/code&gt; are only available with text format, like&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;thor cite:getcite &amp;#39;10.1371/journal.pone.0000308&amp;#39; --format=text --style=mla --locale=fr-FR
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Piwowar, Heather A., Roger S. Day, et Douglas B. Fridsma. « Sharing Detailed Research Data Is Associated with Increased Citation Rate ». éd par. John Ioannidis. PLoS ONE 2.3 (2007): e308.
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Within Ruby&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;cites&amp;#39;&lt;/span&gt;
&lt;span class=&quot;no&quot;&gt;Cites&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;doi2cit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;10.1371/journal.pone.0000308&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;Piwowar, H. A., Day, R. S., &amp;amp; Fridsma, D. B. (2007). Sharing Detailed Research Data Is Associated with Increased Citation Rate. (J. Ioannidis, Ed.)PLoS ONE, 2(3), e308. Public Library of Science. doi:10.1371/journal.pone.0000308&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;

&lt;h3&gt;Open paper in browser&lt;/h3&gt;

&lt;p&gt;Uses &lt;a href=&quot;http://macrodocs.org/&quot;&gt;Macrodocs&lt;/a&gt;. The default, using Macrodocs, only works for open access (#OA) articles. You can set the option &lt;code&gt;oa&lt;/code&gt; to be false. &lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;thor cite:launch &amp;#39;10.1371/journal.pone.0000308&amp;#39;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;It&amp;#39;s super simple, it just concatenates your DOI onto &lt;code&gt;http://macrodocs.org/?doi=&lt;/code&gt; to give in this case &lt;a href=&quot;http://macrodocs.org/?doi=10.1371/journal.pone.0000308&quot;&gt;http://macrodocs.org/?doi=10.1371/journal.pone.0000308&lt;/a&gt; for what you will get from that command. &lt;/p&gt;

&lt;p&gt;When you don&amp;#39;t have an open access article, set the oa option flag to false, like &lt;code&gt;--oa=false&lt;/code&gt;&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;thor cite:launch &amp;#39;10.1111/1365-2745.12157&amp;#39; --oa=false
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;p&gt;Setting &lt;code&gt;--oa=false&lt;/code&gt; simply concatenates your doi onto &lt;code&gt;http://dx.doi.org/&lt;/code&gt;, which then attempts to resolve to likely the publishers page for the article.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>rgauges - fun with hourly web site analytics</title>
   <link href="http://recology.info//2014/01/rgauges-hourly/"/>
   <updated>2014-01-17T00:00:00-08:00</updated>
   <id>http://recology.info//2014/01/rgauges-hourly</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://get.gaug.es/&quot;&gt;Gaug.es&lt;/a&gt; is a really nice looking analytics platform as an alternative to Google Analytics. It is a paid service, but not that expensive really. &lt;/p&gt;

&lt;p&gt;We&amp;#39;ve made an R package to interact with the Gaug.es API called &lt;code&gt;rgauges&lt;/code&gt;. Find it &lt;a href=&quot;https://github.com/ropensci/rgauges&quot;&gt;on Github&lt;/a&gt; and &lt;a href=&quot;http://cran.r-project.org/web/packages/rgauges/index.html&quot;&gt;on CRAN&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Although working with the Gaug.es API is nice and easy, they don&amp;#39;t keep hourly visit stats and provide those via the API, so that you have to continually collect them yourself if you want them. That&amp;#39;s what I have done for my own website. &lt;/p&gt;

&lt;p&gt;It took a few steps to get this data:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;I wrote a little Ruby script using &lt;a href=&quot;http://rubygems.org/gems/twelve&quot;&gt;Twelve gem&lt;/a&gt; to collect data from the Gaug.es API every day at the same time, which just gets the patst 24 hours of data. This script makes a call to the Gaug.es API and sends the data to a &lt;a href=&quot;http://couchdb.apache.org/&quot;&gt;CouchDB&lt;/a&gt; database hosted on &lt;a href=&quot;https://cloudant.com/&quot;&gt;Cloudant&lt;/a&gt;. In reality, the script is is embeded in a rack app as I don&amp;#39;t think you can throw up a standalone script to Heroku. Here&amp;#39;s the script:&lt;/li&gt;
&lt;/ul&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;k&quot;&gt;class&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;MyApp&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;couchrest&amp;#39;&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;twelve&amp;#39;&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;date&amp;#39;&lt;/span&gt;
  &lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;time&amp;#39;&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nc&quot;&gt;self&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;nf&quot;&gt;getgaugesdata_scott&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;bfg&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Twelve&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;new&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;lt;gaugeskey&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;bfg&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gauges&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;&amp;lt;gaugeskey&amp;gt;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s1&quot;&gt;&amp;#39;recent_hours&amp;#39;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
    &lt;span class=&quot;n&quot;&gt;yip&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;from_url&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;http://sckott.github.io/&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;coll_date&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Date&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;today&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;coll_time&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Time&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;now&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;utc&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;localtime&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;to_s&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;recent_hours&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@db&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;CouchRest&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;database!&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;https://app16517180.heroku:&amp;lt;key&amp;gt;@app16517180.heroku.cloudant.com/gaugesdb_scott&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;vi&quot;&gt;@db&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;save_doc&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;yip&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  &lt;span class=&quot;k&quot;&gt;def&lt;/span&gt; &lt;span class=&quot;nf&quot;&gt;call&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;env&lt;/span&gt;
    &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;Content-Type&amp;quot;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;text/html&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;no output printed here&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]]&lt;/span&gt; 
  &lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;span class=&quot;k&quot;&gt;end&lt;/span&gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;ul&gt;
&lt;li&gt;&lt;p&gt;One little catch though: I run the Ruby script on Heroku, so I don&amp;#39;t have to do it locally, but Heroku free instance goes down unless it&amp;#39;s doing something. So I used a little service called &lt;a href=&quot;http://uptimerobot.com/&quot;&gt;UptimeRobot&lt;/a&gt; to ping the Heroku app every 5 minutes. UptimeRobot also is giving you uptime stats too on your app, which I don&amp;#39;t really need, but is a cool feature. &lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;And that&amp;#39;s it. Now the data is stored from each day&amp;#39;s collection of visitor stats to a free Cloudant CouchDB database. &lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;Regular Gaug.es data&lt;/h2&gt;

&lt;p&gt;First, let&amp;#39;s look at what you can do with data that Gaug.es does give to you, using the &lt;code&gt;rgauges&lt;/code&gt; R package.&lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;Install rgauges&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;devtools&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;devtools&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;rgauges&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Load rgauges and other dependency libraries&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rgauges&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Your info&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gs_me&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## $user
## $user$name
## [1] &amp;quot;Scott Chamberlain&amp;quot;
## 
## $user$email
## [1] &amp;quot;myrmecocystus@gmail.com&amp;quot;
## 
## $user$id
## [1] &amp;quot;4eddbafb613f5d5139000001&amp;quot;
## 
## $user$last_name
## [1] &amp;quot;Chamberlain&amp;quot;
## 
## $user$urls
## $user$urls$self
## [1] &amp;quot;https://secure.gaug.es/me&amp;quot;
## 
## $user$urls$clients
## [1] &amp;quot;https://secure.gaug.es/clients&amp;quot;
## 
## $user$urls$gauges
## [1] &amp;quot;https://secure.gaug.es/gauges&amp;quot;
## 
## 
## $user$first_name
## [1] &amp;quot;Scott&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;Traffic&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gs_traffic&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;id &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;4efd83a6f5a1f5158a000004&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## $metadata
## $metadata$views
## [1] 386
## 
## $metadata$urls
## $metadata$urls$older
## [1] &amp;quot;https://secure.gaug.es/gauges/4efd83a6f5a1f5158a000004/traffic?date=2013-12-01&amp;quot;
## 
## $metadata$urls$newer
## NULL
## 
## 
## $metadata$date
## [1] &amp;quot;2014-01-17&amp;quot;
## 
## $metadata$people
## [1] 208
## 
## 
## $data
##    views       date people
## 1      7 2014-01-01      5
## 2     17 2014-01-02      7
## 3     39 2014-01-03     17
## 4     15 2014-01-04      9
## 5     14 2014-01-05      7
## 6     33 2014-01-06     22
## 7     19 2014-01-07     11
## 8     15 2014-01-08     11
## 9     53 2014-01-09     24
## 10    53 2014-01-10     13
## 11    14 2014-01-11      9
## 12    11 2014-01-12     10
## 13    14 2014-01-13     14
## 14    11 2014-01-14      9
## 15    23 2014-01-15     16
## 16    16 2014-01-16     14
## 17    32 2014-01-17     25&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Screen/browser information&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gs_reso&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;id &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;4efd83a6f5a1f5158a000004&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## $browser_height
##   views title
## 1   190   600
## 2    77   768
## 3    53   900
## 4    38   480
## 5    28  1024
## 
## $browser_width
##   views title
## 1   153  1280
## 2    91  1024
## 3    58  1600
## 4    36   800
## 5    30  1440
## 6     6  2000
## 7     6   320
## 8     6   480
## 
## $screen_width
##   views title
## 1   176  1280
## 2    90  1600
## 3    55  1440
## 4    35  1024
## 5    14  2000
## 6     6   320
## 7     6   480
## 8     4   800&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Visualize traffic data&lt;/h3&gt;

&lt;p&gt;You&amp;#39;ll need to load ggplot2 &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; gs_gauge_detail&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;id &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;4efd83a6f5a1f5158a000004&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
vis_gauge&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## Using hour, time as id variables
## Using date as id variables
## Using date as id variables&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2014-01-17-rgauges-hourly/unnamed-chunk-4.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## NULL&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;hr&gt;

&lt;h2&gt;Historic hourly Gaug.es data&lt;/h2&gt;

&lt;p&gt;Now let&amp;#39;s play with the hourly data. To do that we aren&amp;#39;t going to use &lt;code&gt;rgauges&lt;/code&gt;, but rather call the Cloudant API. CouchDB provides a RESTful API out of the box, so we can do a call like &lt;code&gt;https://app16517180.heroku.cloudant.com/gaugesdb_scott/_all_docs?limit=20&lt;/code&gt; to get metadata (or other calls to get the documents themselves). (note: that url won&amp;#39;t work for you since you don&amp;#39;t have my login info) &lt;/p&gt;

&lt;h3&gt;Get some data&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;devtools&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;sckott/sofa&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# or install_github(&amp;#39;sofa&amp;#39;, &amp;#39;sckott&amp;#39;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;sofa&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
cloudant_name &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;app16517180.heroku&amp;quot;&lt;/span&gt;
cloudant_pwd &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;getOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;sofa_cloudant_heroku&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
cushion&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;sofa_cloudant &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;cloudant_name&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; cloudant_pwd&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
dat &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sofa_alldocs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;cushion &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;sofa_cloudant&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; dbname &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;gaugesdb_scott&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; include_docs &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;true&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Manipulate and visualize&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plyr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
dates &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ldply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;rows&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; x&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;doc&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;coll_date&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dates&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;V1&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## [1] &amp;quot;2013-06-26&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dates&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;V1&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## [1] &amp;quot;2014-01-16&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dates&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;V1&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## [1] 198&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;So we&amp;#39;ve got 198 days of data, first collected near end of June, and most recent yesterday. Now get actual visits data&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ldply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;rows&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    y &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;do.call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;rbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;doc&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;recent_hours&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;date &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; x&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;doc&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;coll_date&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;date &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hour &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hour&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;reshape2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
df_melt &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; melt&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; id.vars &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;date&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;hour&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df_melt&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##         date hour variable value
## 1 2013-09-18    1    views     2
## 2 2013-09-18    2    views     3
## 3 2013-09-18    3    views     2
## 4 2013-09-18    4    views     0
## 5 2013-09-18    5    views     1
## 6 2013-09-18    6    views    10&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;We need to combine the date and hour in to one date time string:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;df_melt &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df_melt&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; datetime &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.POSIXct&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;paste&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;sprintf&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;%s:00:00&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    hour&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df_melt&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##         date hour variable value            datetime
## 1 2013-09-18    1    views     2 2013-09-18 01:00:00
## 2 2013-09-18    2    views     3 2013-09-18 02:00:00
## 3 2013-09-18    3    views     2 2013-09-18 03:00:00
## 4 2013-09-18    4    views     0 2013-09-18 04:00:00
## 5 2013-09-18    5    views     1 2013-09-18 05:00:00
## 6 2013-09-18    6    views    10 2013-09-18 06:00:00&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Now plot all data&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;);&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;scales&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

gauge_theme &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(){&lt;/span&gt;
  &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;theme&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;panel.grid.major &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
             panel.grid.minor &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
             legend.position &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.85&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.85&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
             legend.key &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;()))&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;

ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df_melt&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;datetime&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; value&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; group&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;variable&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; colour&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;variable&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    theme_bw&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    geom_line&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    scale_color_brewer&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; palette&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    labs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    gauge_theme&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2014-01-17-rgauges-hourly/unnamed-chunk-8.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;p&gt;And just one day&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;oneday &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; df_melt&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df_melt&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%in%&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;2013-11-12&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;oneday&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;datetime&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; value&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; group&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;variable&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; colour&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;variable&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    theme_bw&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    geom_line&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    scale_color_brewer&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;name&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; palette&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    labs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
    gauge_theme&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2014-01-17-rgauges-hourly/unnamed-chunk-9.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Jekyll - an intro</title>
   <link href="http://recology.info//2013/11/jekyll-intro/"/>
   <updated>2013-11-20T00:00:00-08:00</updated>
   <id>http://recology.info//2013/11/jekyll-intro</id>
   <content type="html">&lt;p&gt;I started using Jekyll when I didn&amp;#39;t really know HTML, CSS, or Ruby - so I&amp;#39;ve had to learn a lot - but using Jekyll has been a great learning experience for all those languages. &lt;/p&gt;

&lt;p&gt;I&amp;#39;ve tried to boil down steps to building a Jekyll site or blog to the minimal steps:&lt;/p&gt;

&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;

&lt;h3&gt;Install Jekyll&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;Mac/Linux/Unix: 

&lt;ul&gt;
&lt;li&gt;Install dependencies: 

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.ruby-lang.org/en/downloads/&quot;&gt;Ruby&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://rubygems.org/pages/download&quot;&gt;RubyGems&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Install Jekyll using RubyGems &lt;code&gt;gem install jekyll&lt;/code&gt; (you may need to do &lt;code&gt;sudo...&lt;/code&gt;)&lt;/li&gt;
&lt;li&gt;If you&amp;#39;re having trouble installing, see the &lt;a href=&quot;http://jekyllrb.com/docs/troubleshooting/&quot;&gt;troubleshooting page&lt;/a&gt;.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;Windows: Jekyll doesn&amp;#39;t officially support installation on Windows - follow &lt;a href=&quot;http://www.madhur.co.in/blog/2011/09/01/runningjekyllwindows.html&quot;&gt;these steps&lt;/a&gt; for a Windows install. &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;

&lt;h3&gt;Make a site&lt;/h3&gt;

&lt;p&gt;The easiest way to get started is by using the command &lt;code&gt;jekyll new SITENAME&lt;/code&gt; - let&amp;#39;s replace &lt;code&gt;SITENAME&lt;/code&gt; with &lt;code&gt;foobar&lt;/code&gt; for this example.&lt;/p&gt;

&lt;p&gt;So we run &lt;code&gt;jekyll new foobar&lt;/code&gt;, which gives us:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;New jekyll site installed in /Users/scottmac2/foobar.&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Go into that directory, and run &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;foobar
jekyll serve&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Which gives you the files and directories:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt;
--&lt;span class=&quot;p&quot;&gt;|&lt;/span&gt;- _config.yml
  &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt;- _posts
  &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt;- css
  &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt;- _layouts
  &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt;- _site
  &lt;span class=&quot;p&quot;&gt;|&lt;/span&gt;- index.html&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Then point your browser to &lt;a href=&quot;http://localhost:4000/&quot;&gt;http://localhost:4000/&lt;/a&gt;. And you should see the following:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://f.cl.ly/items/2q322a2P3f2m2A3a3l0O/Screen%20Shot%202013-11-20%20at%209.54.21%20AM.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;

&lt;h3&gt;Write a new blog post&lt;/h3&gt;

&lt;p&gt;We&amp;#39;ll add a new file to the _posts folder. &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;---
layout: post
title:  My second post
date:   2013-11-20
categories: jekyll programming R
---

My second blog post!&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Paste this in to a new file in the &lt;code&gt;_posts&lt;/code&gt; folder, save as today&amp;#39;s date (2013-11-20) plus the post name, which gives us 2013-11-20-second-post.md.&lt;/p&gt;

&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;

&lt;h3&gt;Deploying&lt;/h3&gt;

&lt;p&gt;An obvious option given that Jekyll was built by Github, is to put it up on Github. Github has some instructions &lt;a href=&quot;http://jekyllrb.com/docs/github-pages/&quot;&gt;here&lt;/a&gt;. Here is my attempt at instructions: &lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;If you don&amp;#39;t have a Github account already, &lt;a href=&quot;https://help.github.com/articles/signing-up-for-a-new-github-account&quot;&gt;create one&lt;/a&gt; - it&amp;#39;s free.&lt;/li&gt;
&lt;li&gt;Set up Git. Github&amp;#39;s help for this: https://help.github.com/articles/set-up-git&lt;/li&gt;
&lt;li&gt;Creat a new repo on Github, with the same name as your repo on your machine, in this case &lt;code&gt;foobar&lt;/code&gt;. &lt;/li&gt;
&lt;li&gt;Make your new blog directory &lt;code&gt;foobar&lt;/code&gt; a git repo by doing &lt;code&gt;git init&lt;/code&gt; within the repo.&lt;/li&gt;
&lt;li&gt;Add you files to be tracked by git via &lt;code&gt;git add --all&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Commit your changes by &lt;code&gt;git commit -am &amp;#39;new blog files added&amp;#39;&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Make a &lt;code&gt;gh-pages&lt;/code&gt; branch by doing &lt;code&gt;git branch gh-pages&lt;/code&gt;.&lt;/li&gt;
&lt;li&gt;Add link for your repo on Github: &lt;code&gt;git remote add origin https://github.com/&amp;lt;yourgithubusername&amp;gt;/foobar.git&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;Push to Github using &lt;code&gt;git push -u origin master&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Github gives you one repo that you can name &lt;code&gt;&amp;lt;yourgithubusername&amp;gt;.github.io&lt;/code&gt; that will be viewable at the URL &lt;code&gt;http://&amp;lt;yourgithubusername&amp;gt;.github.io&lt;/code&gt;. You can have your blog/website on the master branch, and you don&amp;#39;t need to create a &lt;code&gt;gh-pages&lt;/code&gt; branch. But if you have your site in any other named repo, you will need the &lt;code&gt;gh-pages&lt;/code&gt; branch. If you don&amp;#39;t use a &lt;code&gt;&amp;lt;yourgithubusername&amp;gt;.github.io&lt;/code&gt; repo, your site will be viewable at &lt;code&gt;&amp;lt;yourgithubusername&amp;gt;.github.io/&amp;lt;reponame&amp;gt;&lt;/code&gt;, in this case &lt;code&gt;&amp;lt;yourgithubusername&amp;gt;.github.io/foobar&lt;/code&gt;. &lt;/p&gt;

&lt;p&gt;&lt;em&gt;Beginners take note:&lt;/em&gt; Instead of the command line, you could use a Git GUI, from Github (&lt;a href=&quot;http://mac.github.com/&quot;&gt;OSX&lt;/a&gt;, &lt;a href=&quot;http://windows.github.com/&quot;&gt;Windows&lt;/a&gt;), or others, e.g., &lt;a href=&quot;http://gitboxapp.com/&quot;&gt;GitBox&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;

&lt;h3&gt;Other info&lt;/h3&gt;

&lt;p&gt;That&amp;#39;s the basics of how to get started. Inevitably, you&amp;#39;ll run into problems with various dependencies. The &lt;a href=&quot;http://jekyllrb.com/&quot;&gt;Jekyll site&lt;/a&gt; has a lot of documntation now, so go there for help - and see a roundup of links below. &lt;/p&gt;

&lt;p&gt;For inspiration, here are many examples of sites that use Jekyll: http://jekyllrb.com/docs/sites/. If you want to build off someone else&amp;#39;s work, find one that provides their code.&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;A roundup of links for building static sites with jekyll&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://net.tutsplus.com/tutorials/other/building-static-sites-with-jekyll/&quot;&gt;http://net.tutsplus.com/tutorials/other/building-static-sites-with-jekyll/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.andrewmunsell.com/tutorials/jekyll-by-example/&quot;&gt;http://www.andrewmunsell.com/tutorials/jekyll-by-example/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://jekyllbootstrap.com/&quot;&gt;Jekyll Bootstrap&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Jekyll thoughts by &lt;a href=&quot;http://carlboettiger.info/index.html&quot;&gt;Carl Boettiger&lt;/a&gt;: &lt;a href=&quot;http://carlboettiger.info/2012/12/30/learning-jekyll.html&quot;&gt;http://carlboettiger.info/2012/12/30/learning-jekyll.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://danielmcgraw.com/2011/04/14/The-Ultimate-Guide-To-Getting-Started-With-Jekyll-Part-1/&quot;&gt;http://danielmcgraw.com/2011/04/14/The-Ultimate-Guide-To-Getting-Started-With-Jekyll-Part-1/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://mijingo.com/products/screencasts/static-websites-with-jekyll/&quot;&gt;A book on building sites with Jekyll&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://yeswejekyll.com/&quot;&gt;http://yeswejekyll.com/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://hellarobots.com/2012/01/06/blogging-with-jekyll-quickstart.html&quot;&gt;http://hellarobots.com/2012/01/06/blogging-with-jekyll-quickstart.html&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.sitepoint.com/zero-to-jekyll-in-20-minutes/&quot;&gt;http://www.sitepoint.com/zero-to-jekyll-in-20-minutes/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Code display in scholarly journals</title>
   <link href="http://recology.info//2013/10/codeinpapers/"/>
   <updated>2013-10-25T00:00:00-07:00</updated>
   <id>http://recology.info//2013/10/codeinpapers</id>
   <content type="html">&lt;p&gt;Code in journals, that is, code you would type to do some programmatic operation in say R or Python, is kind of a mess to say the least. Okay, so you can &lt;strong&gt;SEE&lt;/strong&gt; code in papers, but code is not formatted in a way that facilites reuse. If an author in a paper writes out some code for software they create, or an analysis they do in the paper, wouldn&amp;#39;t it be nice for a reader to be able to copy and paste that code directly into whatever environment that code should execute in, and actually work. Of course there is dependencies, etc. for that software to worry about, but here I am just concerned with the code formatting in articles. Code is displayed as an image in some cases (gasp!). Additionally, there&amp;#39;s this thing called the internet, and we can use color, so let&amp;#39;s highlight code already. At least in one of our recent &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt; papers in F1000 Research, &lt;a href=&quot;http://f1000research.com/articles/2-191/v1&quot;&gt;they do use syntax highlighting&lt;/a&gt; - w00t!&lt;/p&gt;

&lt;p&gt;Carl Boettiger (@cboettig) and I disccused how frustrated we are with the state of code in papers, and started a Github gist, listing publishers/journals and how they display code. It lives here: &lt;a href=&quot;https://gist.github.com/sckott/6787278&quot;&gt;https://gist.github.com/sckott/6787278&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;We have a start, but would like your help in filling this list out more. What are the code presentation practices for various publishers and journals? With a list of what currently happens, perhaps we can start to convince publishers to display code more appropriately, partly by pointing out that &amp;quot;XYZ publisher does it really well, why can&amp;#39;t you?&amp;quot;. I tried to record info in a standardized way across publishers...&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Guide to using rOpenSci packages during the US Gov't shutdown</title>
   <link href="http://recology.info//2013/10/shutdown/"/>
   <updated>2013-10-08T00:00:00-07:00</updated>
   <id>http://recology.info//2013/10/shutdown</id>
   <content type="html">&lt;p&gt;&lt;em&gt;Note: This is cross-posted from the &lt;a href=&quot;http://ropensci.org/blog&quot;&gt;rOpenSci blog&lt;/a&gt;, which will update with this post when our technical snafu is fixed.&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;With the US government shut down, many of the federal government provided data APIs are down. We write R packages to interact with many of these APIs. We have been tweeting about what APIs that are down related to R pacakges we make, but we thought we would write up a proper blog post on the issue. &lt;/p&gt;

&lt;p&gt;NCBI services are still up! NCBI is within NIH, which is within the Department of Health and Human Services. Here is the message on the NCBI page:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;The information on this web site remains accessible; but, due to the lapse in government funding, the information may not be up to date, and the agency may not be able to respond to inquiries until appropriations are enacted. For updates regarding government operating status see USA.gov.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Most USGS services are down. Some of the message on the USGS page (ITIS is under USGS, which is under the Department of the Interior):&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Due to the Federal government shutdown, usgs.gov and most associated web sites are unavailable. Only web sites necessary to protect lives and property will be maintained...&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;However, the USGS BISON service is still up for some reason - perhaps a different pot of money than other USGS projects?&lt;/p&gt;

&lt;p&gt;Some of the shutdown message from NOAA, under the Department of Commerce:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Due to the Federal government shutdown, NOAA.gov and most associated web sites are unavailable. Specific NOAA web sites necessary to protect lives and property are operational and will be maintained.&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Here&amp;#39;s a table of APIs we interact with, the related R package, and any notes:
&lt;br&gt;&lt;br&gt;
&lt;table class=&quot;table table-bordered table-striped&quot;&gt;
    &lt;thead&gt;
      &lt;tr&gt;
        &lt;th&gt;API provider&lt;/th&gt;
        &lt;th&gt;API still up?&lt;/th&gt;
        &lt;th&gt;rOpenSci R package&lt;/th&gt;
      &lt;/tr&gt;
    &lt;/thead&gt;
    &lt;tbody&gt;
      &lt;tr&gt;
        &lt;td&gt;USGS BISON (Biodiversity Information Serving our Nation) &lt;a href=&quot;http://bison.usgs.ornl.gov/services.html&quot;&gt;link&lt;/a&gt;&lt;/td&gt;
        &lt;td&gt;Yep!&lt;/td&gt;
        &lt;td&gt;&lt;a href=&quot;https://github.com/ropensci/rbison&quot;&gt;rbison&lt;/a&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;NOAA Climate data &lt;a href=&quot;http://www.ncdc.noaa.gov/cdo-web/webservices&quot;&gt;link&lt;/a&gt;&lt;/td&gt;
        &lt;td&gt;No :(&lt;/td&gt;
        &lt;td&gt;&lt;a href=&quot;https://github.com/ropensci/rnoaa&quot;&gt;rnoaa&lt;/a&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;USGS ITIS (Integrated Taxonomic Information Service) &lt;a href=&quot;http://www.itis.gov/ws_description.html&quot;&gt;link&lt;/a&gt;&lt;/td&gt;
        &lt;td&gt;No :(&lt;/td&gt;
        &lt;td&gt;&lt;a href=&quot;https://github.com/ropensci/taxize_&quot;&gt;taxize&lt;/a&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;NCBI Entrez &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/&quot;&gt;link&lt;/a&gt;&lt;/td&gt;
        &lt;td&gt;No :(&lt;/td&gt;
        &lt;td&gt;&lt;a href=&quot;https://github.com/ropensci/taxize_&quot;&gt;taxize&lt;/a&gt;,&lt;a href=&quot;https://github.com/ropensci/rentrez&quot;&gt;rentrez&lt;/a&gt;&lt;/td&gt;
      &lt;/tr&gt;
      &lt;tr&gt;
        &lt;td&gt;PubMed &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/pubmed&quot;&gt;link&lt;/a&gt;&lt;/td&gt;
        &lt;td&gt;No :(&lt;/td&gt;
        &lt;td&gt;&lt;a href=&quot;https://github.com/ropensci/rpubmed&quot;&gt;rpubmed&lt;/a&gt;&lt;/td&gt;
      &lt;/tr&gt;
    &lt;/tbody&gt;
&lt;/table&gt;&lt;/p&gt;

&lt;p&gt;&lt;br&gt;&lt;br&gt;
For those wanting to get NOAA climate data, perhaps check out the &lt;a href=&quot;http://cran.r-project.org/web/packages/RNCEP/index.html&quot;&gt;RNCEP package&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;For those using taxize, you can grab taxonomic IDs from NCBI using &lt;code&gt;get_uid()&lt;/code&gt; rather than the ITIS version &lt;code&gt;get_tsn()&lt;/code&gt;. With a UID from NCBI, you can do things like get a taxonomic classification using the function &lt;code&gt;classification()&lt;/code&gt;. There are many non-government taxonomic sources in taxize, so you should be able to find what you need without ITIS. Other functions that use ITIS, and that you should avoid until the shutdown is over, are: &lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;A long list carried over from the itis package that is now within taxize: &lt;code&gt;getacceptednamesfromtsn()&lt;/code&gt;, &lt;code&gt;getanymatchcount()&lt;/code&gt;, &lt;code&gt;getcommentdetailfromtsn()&lt;/code&gt;, &lt;code&gt;getcommonnamesfromtsn()&lt;/code&gt;, &lt;code&gt;getcoremetadatafromtsn()&lt;/code&gt;, &lt;code&gt;getcoveragefromtsn()&lt;/code&gt;, &lt;code&gt;getcredibilityratingfromtsn()&lt;/code&gt;, &lt;code&gt;getcredibilityratings()&lt;/code&gt;, &lt;code&gt;getcurrencyfromtsn()&lt;/code&gt;, &lt;code&gt;getdatedatafromtsn()&lt;/code&gt;, &lt;code&gt;getdescription()&lt;/code&gt;, &lt;code&gt;getexpertsfromtsn()&lt;/code&gt;, &lt;code&gt;getfullhierarchyfromtsn()&lt;/code&gt;, &lt;code&gt;getfullrecordfromlsid()&lt;/code&gt;, &lt;code&gt;getfullrecordfromtsn()&lt;/code&gt;, &lt;code&gt;getgeographicdivisionsfromtsn()&lt;/code&gt;, &lt;code&gt;getgeographicvalues()&lt;/code&gt;, &lt;code&gt;getglobalspeciescompletenessfromtsn()&lt;/code&gt;, &lt;code&gt;gethierarchydownfromtsn()&lt;/code&gt;, &lt;code&gt;gethierarchyupfromtsn()&lt;/code&gt;, &lt;code&gt;getitistermsfromcommonname()&lt;/code&gt;, &lt;code&gt;getitistermsfromscientificname()&lt;/code&gt;, &lt;code&gt;getjurisdictionaloriginfromtsn()&lt;/code&gt;, &lt;code&gt;getjurisdictionoriginvalues()&lt;/code&gt;, &lt;code&gt;getjurisdictionvalues()&lt;/code&gt;, &lt;code&gt;getkingdomnamefromtsn()&lt;/code&gt;, &lt;code&gt;getkingdomnames()&lt;/code&gt;, &lt;code&gt;getlastchangedate()&lt;/code&gt;, &lt;code&gt;getlsidfromtsn()&lt;/code&gt;, &lt;code&gt;getothersourcesfromtsn()&lt;/code&gt;, &lt;code&gt;getparenttsnfromtsn()&lt;/code&gt;, &lt;code&gt;getpublicationsfromtsn()&lt;/code&gt;, &lt;code&gt;getranknames()&lt;/code&gt;, &lt;code&gt;getrecordfromlsid()&lt;/code&gt;, &lt;code&gt;getreviewyearfromtsn()&lt;/code&gt;, &lt;code&gt;getscientificnamefromtsn()&lt;/code&gt;, &lt;code&gt;getsynonymnamesfromtsn()&lt;/code&gt;, &lt;code&gt;gettaxonauthorshipfromtsn()&lt;/code&gt;, &lt;code&gt;gettaxonomicranknamefromtsn()&lt;/code&gt;, &lt;code&gt;gettaxonomicusagefromtsn()&lt;/code&gt;, &lt;code&gt;gettsnbyvernacularlanguage()&lt;/code&gt;, &lt;code&gt;gettsnfromlsid()&lt;/code&gt;, &lt;code&gt;getunacceptabilityreasonfromtsn()&lt;/code&gt;, &lt;code&gt;getvernacularlanguages()&lt;/code&gt;, &lt;code&gt;searchbycommonname()&lt;/code&gt;, &lt;code&gt;searchbycommonnamebeginswith()&lt;/code&gt;, &lt;code&gt;searchbycommonnameendswith()&lt;/code&gt;, &lt;code&gt;searchbyscientificname()&lt;/code&gt;, &lt;code&gt;searchforanymatch()&lt;/code&gt;, &lt;code&gt;searchforanymatchpaged()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;itis_acceptname()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;itis_downstream()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;itis_name()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;itis_taxrank()&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;In &lt;code&gt;tax_agg()&lt;/code&gt;, only use db=&amp;quot;ncbi&amp;quot;&lt;/li&gt;
&lt;li&gt;In &lt;code&gt;tax_name()&lt;/code&gt;, only use db=&amp;quot;ncbi&amp;quot;&lt;/li&gt;
&lt;li&gt;In &lt;code&gt;tax_rank()&lt;/code&gt;, only use db=&amp;quot;ncbi&amp;quot;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Let us know if you have any questions or comments. &lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Taxonomy data from the web in three languages</title>
   <link href="http://recology.info//2013/09/taxonomy-in-three-acts/"/>
   <updated>2013-09-27T00:00:00-07:00</updated>
   <id>http://recology.info//2013/09/taxonomy-in-three-acts</id>
   <content type="html">&lt;p&gt;Eduard Szöcs and I started developing a taxonomic toolbelt for the R language a while back , which lets you interact with a multitude of taxonomic databases on the web. We have a paper in F1000Research if you want to find out more (see &lt;a href=&quot;http://f1000research.com/articles/2-191/v1&quot;&gt;here&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;I thought it would be fun to rewrite some of taxize in other languages to learn more languages. Ruby and Python made the most sense to try. I did try others (Julia, Node), but gave up on those for now. The goal here isn&amp;#39;t to port taxize to Python and Ruby right now - it&amp;#39;s for me to learn myself some coding.&lt;/p&gt;

&lt;p&gt;Anyway, here&amp;#39;s use of the same function in three languages: R, Ruby, and Python. The function searches the &lt;a href=&quot;http://gni.globalnames.org/&quot;&gt;Global Names Index&lt;/a&gt;, but is named slightly differently in R (&lt;code&gt;gni_search&lt;/code&gt;) vs. Ruby/Python (&lt;code&gt;gniSearch&lt;/code&gt;). (yes, I realize the package names aren&amp;#39;t consistent)&lt;/p&gt;

&lt;p&gt;Note that there are only a few functions available in the Ruby and Python versions:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;itisPing &lt;/li&gt;
&lt;li&gt;gnrResolve&lt;/li&gt;
&lt;li&gt;gniParse&lt;/li&gt;
&lt;li&gt;gniSearch&lt;/li&gt;
&lt;li&gt;gniDetails&lt;/li&gt;
&lt;li&gt;colChildren (Python, not Ruby)&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;And the behavior of these functions does not necessarily match that in the R version.&lt;/p&gt;

&lt;p&gt;One thing I have learned is that packaging in R is much harder than in Python or Ruby. &lt;a href=&quot;cran.r-project.org/web/packages/devtools/index.html&quot;&gt;devtools&lt;/a&gt; does make R packaging easier, but still...&lt;/p&gt;

&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;

&lt;h3&gt;R&lt;/h3&gt;

&lt;p&gt;Code &lt;a href=&quot;https://github.com/ropensci/taxize_&quot;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;taxize&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;taxize&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Then search for a taxonomic name&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; gni_search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;Helianthus annuus&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
out&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;name      id
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; Helianthus annuus &lt;span class=&quot;m&quot;&gt;3329657&lt;/span&gt;
                                                                 lsid
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; urn&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;lsid&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;globalnames.org&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;index&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;f9c244&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;a450&lt;span class=&quot;m&quot;&gt;-535&lt;/span&gt;e&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;adcd&lt;span class=&quot;m&quot;&gt;-2&lt;/span&gt;bfaf85c9b2e
                              uuid_hex resource_url
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;f9c244&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;a450&lt;span class=&quot;m&quot;&gt;-535&lt;/span&gt;e&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;adcd&lt;span class=&quot;m&quot;&gt;-2&lt;/span&gt;bfaf85c9b2e         none&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;

&lt;h3&gt;Ruby&lt;/h3&gt;

&lt;p&gt;Code &lt;a href=&quot;https://github.com/sckott/tacksize&quot;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;git clone https://github.com/sckott/tacksize.git
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;tacksize
gem build tacksize.gemspec
gem install ./tacksize-0.0.1.gem&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;In a Ruby repl, like &lt;code&gt;irb&lt;/code&gt;, search for a taxonomic name&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;nb&quot;&gt;require&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;tacksize&amp;#39;&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;no&quot;&gt;Tacksize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gniSearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;ss&quot;&gt;:search_term&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;s1&quot;&gt;&amp;#39;Helianthus annuus&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-ruby&quot; data-lang=&quot;ruby&quot;&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;uuid_hex&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;18f9c244-a450-535e-adcd-2bfaf85c9b2e&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;Helianthus annuus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;lsid&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;urn:lsid:globalnames.org:index:18f9c244-a450-535e-adcd-2bfaf85c9b2e&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;resource_uri&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;http://gni.globalnames.org/name_strings/3329657.xml&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s2&quot;&gt;&amp;quot;id&amp;quot;&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&amp;gt;&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;3329657&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;br&gt;&lt;br&gt;&lt;/p&gt;

&lt;h3&gt;Python&lt;/h3&gt;

&lt;p&gt;Code &lt;a href=&quot;https://github.com/sckott/pytaxize&quot;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;git clone https://github.com/sckott/pytaxize.git
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;pytaxize
python setup.py install&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;In a Python repl, like &lt;code&gt;ipython&lt;/code&gt;, search for a taxonomic name&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;kn&quot;&gt;import&lt;/span&gt; &lt;span class=&quot;nn&quot;&gt;pytaxize&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;n&quot;&gt;pytaxize&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;gniSearch&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;n&quot;&gt;name&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;Helianthus annuus&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;n&quot;&gt;out&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;name_strings&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;mi&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-python&quot; data-lang=&quot;python&quot;&gt;&lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;u&amp;#39;id&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mi&quot;&gt;3329657&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&amp;#39;lsid&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&amp;#39;urn:lsid:globalnames.org:index:18f9c244-a450-535e-adcd-2bfaf85c9b2e&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&amp;#39;name&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&amp;#39;Helianthus annuus&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&amp;#39;resource_uri&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&amp;#39;http://gni.globalnames.org/name_strings/3329657.xml&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;
 &lt;span class=&quot;s&quot;&gt;u&amp;#39;uuid_hex&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;u&amp;#39;18f9c244-a450-535e-adcd-2bfaf85c9b2e&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>Pollinator niche breadth and natural enemies</title>
   <link href="http://recology.info//2013/09/natenemies/"/>
   <updated>2013-09-19T00:00:00-07:00</updated>
   <id>http://recology.info//2013/09/natenemies</id>
   <content type="html">&lt;p&gt;I am on my way out of academia, so I want to share what I won&amp;#39;t ever get around to finishing. I started a paper many years ago examining the prevalence of natural enemy pressure on pollinators, and patterns of occurrence of pollinator natural enemies in relation to plant attributes. &lt;/p&gt;

&lt;p&gt;&lt;br&gt;
&lt;img src=&quot;/public/img/beeenemy.png&quot;&gt;
&lt;br&gt;&lt;/p&gt;

&lt;p&gt;Anyway, Figshare seemed like the perfect place to put this. I licensed the materials under CC0, so feel free to do whatever you want with it.  Check it out &lt;a href=&quot;http://figshare.com/articles/Pollinator_niche_breadth_and_natural_enemies/803123&quot;&gt;here&lt;/a&gt;. &lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>govdat - SunlightLabs and New York Times Congress data via R</title>
   <link href="http://recology.info//2013/08/govdat-vignette/"/>
   <updated>2013-08-28T00:00:00-07:00</updated>
   <id>http://recology.info//2013/08/govdat-vignette</id>
   <content type="html">&lt;p&gt;I started an R package a while back, and a few people have shown interest, so I thought it was time to revist the code. govdat is an interface to various APIs for government data: currently the Sunlight Labs APIs, and the New York Times congress API. Returned objects from functions are simple lists. In future versions of govdat, I may change how data is returned. The following are examples (which is also the package vignette) of using the Sunlight Labs API. I will add examples of using the New York Times Congress API once their site is up again; I&amp;#39;m doing this on 2013-08-28, just after the takedown of their site.&lt;/p&gt;

&lt;p&gt;I show just a bit of each data object returned for brevity. And yes, I realize this is not related at all to ecology. &lt;/p&gt;

&lt;p&gt;You will need an API key to use both Sunlight Labs APIs and the New York Times APIs. Get your API key at Sunlight Labs &lt;a href=&quot;http://sunlightfoundation.com/api/&quot;&gt;here&lt;/a&gt; and NYT &lt;a href=&quot;http://developer.nytimes.com/docs/congress_api&quot;&gt;here&lt;/a&gt;. You can pass in your key within each function or you can put the key in your .Rprofile file on your machine (which is read from the default R working directory) and the key will be read in automatically inside the function. I recommend the latter option. &lt;/p&gt;

&lt;p&gt;Do let me know of bugs or feature requests over at the Github issues page &lt;a href=&quot;https://github.com/sckott/govdat/issues&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;hr&gt;

&lt;h4&gt;Install govdat&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;devtools&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;devtools&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;govdat&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;sckott&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;Load govdat&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;govdat&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;Gets details (subcommittees + membership) for a committee by id.&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;key &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;getOption&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;SunlightLabsKey&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sll_cg_getcommittees&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;id &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;JSPR&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
out&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;response&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;committee&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;members&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;legislator&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$website
[1] &amp;quot;http://www.alexander.senate.gov&amp;quot;

$fax
[1] &amp;quot;202-228-3398&amp;quot;

$govtrack_id
[1] &amp;quot;300002&amp;quot;

$firstname
[1] &amp;quot;Lamar&amp;quot;

$chamber
[1] &amp;quot;senate&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;Gets a list of all committees that a member serves on, including subcommittes.&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sll_cg_getcommitteesallleg&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;bioguide_id &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;S000148&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
out&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;response&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;committees&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$committee
$committee$chamber
[1] &amp;quot;Senate&amp;quot;

$committee$id
[1] &amp;quot;SSRA&amp;quot;

$committee$name
[1] &amp;quot;Senate Committee on Rules and Administration&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;Get districts for a latitude/longitude.&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sll_cg_getdistrictlatlong&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;latitude &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;35.778788&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; longitude &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-78.787805&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
out&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;response&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;districts&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[[1]]
[[1]]$district
[[1]]$district$state
[1] &amp;quot;NC&amp;quot;

[[1]]$district$number
[1] &amp;quot;2&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;Get districts that overlap for a certain zip code.&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sll_cg_getdistrictzip&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;zip &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;27511&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
out&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;response&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;districts&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[[1]]
[[1]]$district
[[1]]$district$state
[1] &amp;quot;NC&amp;quot;

[[1]]$district$number
[1] &amp;quot;2&amp;quot;



[[2]]
[[2]]$district
[[2]]$district$state
[1] &amp;quot;NC&amp;quot;

[[2]]$district$number
[1] &amp;quot;4&amp;quot;



[[3]]
[[3]]$district
[[3]]$district$state
[1] &amp;quot;NC&amp;quot;

[[3]]$district$number
[1] &amp;quot;13&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;Search congress people and senate members.&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sll_cg_getlegislatorsearch&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Reed&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
out&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;response&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;results&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;result&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;legislator&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$website
[1] &amp;quot;http://www.reed.senate.gov&amp;quot;

$fax
[1] &amp;quot;202-224-4680&amp;quot;

$govtrack_id
[1] &amp;quot;300081&amp;quot;

$firstname
[1] &amp;quot;John&amp;quot;

$chamber
[1] &amp;quot;senate&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;Search congress people and senate members for a zip code.&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sll_cg_legislatorsallforzip&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;zip &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;77006&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plyr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
ldply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;response&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;legislators&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;legislator&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;firstname&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;lastname&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;firstname    lastname
1    Sheila Jackson Lee
2       Ted        Cruz
3      John      Cornyn
4       Ted         Poe&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;Find the popularity of a phrase over a period of time.&lt;/h4&gt;

&lt;h5&gt;Get a list of how many times the phrase &amp;quot;united states&amp;quot; appears in the Congressional Record in each month between January and June, 2010:&lt;/h5&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;sll_cw_timeseries&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;phrase &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;united states&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; start_date &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;2009-01-01&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; end_date &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;2009-04-30&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    granularity &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;month&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;4 records returned&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;count      month
1  3805 2009-01-01
2  3512 2009-02-01
3  6018 2009-03-01
4  2967 2009-04-01&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h5&gt;Plot data&lt;/h5&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
dat &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sll_cw_timeseries&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;phrase &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;climate change&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;1354 records returned&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;day&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; count&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_line&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; theme_grey&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-08-28-govdat-vignette/sll_cw_timeseries2.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;h5&gt;Plot more data&lt;/h5&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;dat_d &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sll_cw_timeseries&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;phrase &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;climate change&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; party &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;D&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;908 records returned&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;dat_d&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;party &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;D&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;nrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat_d&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
dat_r &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sll_cw_timeseries&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;phrase &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;climate change&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; party &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;R&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;623 records returned&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;dat_r&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;party &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;R&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;nrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat_r&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
dat_both &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;rbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat_d&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; dat_r&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat_both&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;day&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; count&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; colour &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; party&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_line&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; theme_grey&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    scale_colour_manual&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;values &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;blue&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-08-28-govdat-vignette/sll_cw_timeseries3.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;hr&gt;

&lt;h4&gt;Search OpenStates bills.&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sll_os_billsearch&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;terms &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;agriculture&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; state &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;tx&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; chamber &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;upper&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;[[&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;title&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;110&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[[1]]
[1] &amp;quot;Relating to the sale by the Brazos River Authority of certain property at Possum Kingdom Lake.&amp;quot;

[[2]]
[1] &amp;quot;Proposing a constitutional amendment providing immediate additional revenue for the state budget by creating the Texas Gaming Commission, and authorizing and regulating the operation of casino games and slot machines by a limited number of licensed operators and certain Indian tribes.&amp;quot;

[[3]]
[1] &amp;quot;Relating to production requirements for holders of winery permits.&amp;quot;

[[4]]
[1] &amp;quot;Relating to the use of human remains in the training of search and rescue animals.&amp;quot;

[[5]]
[1] &amp;quot;Relating to end-of-course assessment instruments administered to public high school students and other measures of secondary-level performance.&amp;quot;

[[6]]
[1] &amp;quot;Relating to public high school graduation, including curriculum and assessment requirements for graduation and funding in support of certain curriculum authorized for graduation.&amp;quot;

[[7]]
[1] &amp;quot;Relating to certain residential and other structures and mitigation of loss to those structures resulting from natural catastrophes; providing a criminal penalty.&amp;quot;

[[8]]
[1] &amp;quot;Recognizing March 28, 2013, as Texas Water Conservation Day at the State Capitol.&amp;quot;

[[9]]
[1] &amp;quot;Recognizing March 26, 2013, as Lubbock Day at the State Capitol.&amp;quot;

[[10]]
[1] &amp;quot;In memory of Steve Jones.&amp;quot;

[[11]]
[1] &amp;quot;Relating to the regulation of dangerous wild animals.&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;Search Legislators on OpenStates.&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sll_os_legislatorsearch&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;state &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;tx&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; party &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;democratic&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; active &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
out&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]][&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$last_name
[1] &amp;quot;Naishtat&amp;quot;

$updated_at
[1] &amp;quot;2013-08-29 03:03:22&amp;quot;

$nimsp_candidate_id
[1] &amp;quot;112047&amp;quot;

$full_name
[1] &amp;quot;Elliott Naishtat&amp;quot;

$`+district_address`
[1] &amp;quot; P.O. Box 2910\nAustin, TX 78768\n(512) 463-0668&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;Search for entities - that is, politicians, individuals, or organizations with the given name&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sll_ts_aggregatesearch&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Nancy Pelosi&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    x&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;is.null&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;none&amp;quot;&lt;/span&gt;
    x
&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
ldply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;name count_given firm_income count_lobbied          seat
1          Nancy Pelosi (D)           0           0             0 federal:house
2 Nancy Pelosi for Congress           7           0             0          none
  total_received state lobbying_firm count_received party total_given         type
1       14173534    CA          none          10054     D           0   politician
2              0  none          &amp;lt;NA&amp;gt;              0  none        7250 organization
                                id non_firm_spending is_superpac
1 85ab2e74589a414495d18cc7a9233981                 0        none
2 afb432ec90454c8a83a3113061e7be27                 0        &amp;lt;NA&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;Return the top contributoring organizations, ranked by total dollars given. An organization&amp;#39;s giving is broken down into money given directly (by the organization&amp;#39;s PAC) versus money given by individuals employed by or associated with the organization.&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sll_ts_aggregatetopcontribs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;id &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;85ab2e74589a414495d18cc7a9233981&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
ldply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;employee_amount total_amount total_count                                     name
1         64000.00    101300.00          79                         Akin, Gump et al
2          3500.00     90000.00          29 American Fedn of St/Cnty/Munic Employees
3                0     86600.00          48                National Assn of Realtors
4                0     85000.00          32                      United Auto Workers
5                0     82500.00          37                  National Education Assn
6                0     77000.00          19                          Teamsters Union
7                0     76000.00          36         National Assn of Letter Carriers
8                0     72500.00          18   Intl Brotherhood of Electrical Workers
9                0     72500.00          21                Sheet Metal Workers Union
10         8000.00     72000.00          31                              Wells Fargo
   direct_count employee_count                               id direct_amount
1            16             63 105dcfc8c9384875a099af230dad9917      37300.00
2            25              4 fb702029157e4c7c887172eba71c66c5      86500.00
3            48              0 bb98402bd4d3471cad392a671ecd733a      86600.00
4            32              0 4d3167b97c9f48deb433aad57bb0ee44      85000.00
5            37              0 1b8fea7e453d4e75841eac48ff9df550      82500.00
6            19              0 f89c8e3ab2b44f72971f91b764868231      77000.00
7            36              0 390767dc6b4b491ca775b1bdf8a36eea      76000.00
8            18              0 b53b4ad137d743a996f4d7467700fc88      72500.00
9            21              0 425be85642b24cc2bc3d8a0bb3c7bc92      72500.00
10           20             11 793070ae7f5e42c2a76a58663a588f3d      64000.00&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>Engaging the public on climate change through phenology data</title>
   <link href="http://recology.info//2013/08/phenology/"/>
   <updated>2013-08-18T00:00:00-07:00</updated>
   <id>http://recology.info//2013/08/phenology</id>
   <content type="html">&lt;h2&gt;ScienceOnline Climate&lt;/h2&gt;

&lt;p&gt;I recently attended ScienceOnline Climate, a conference in Washington, D.C. at AAAS offices. You may have heard of the ScienceOnline annual meeting in North Carolina - this was one of their topical meetings focused on Climate Change. Another one is coming up in October, ScienceOnline Oceans. Search Twitter for #scioClimate (or the entire list of hashtags &lt;a href=&quot;https://gist.github.com/sckott/6213308&quot;&gt;here&lt;/a&gt;) for tweets from the conference.&lt;/p&gt;

&lt;p&gt;One of the sessions I attended was focused on how to democratize climate change knowledge, moderated by a fellow from the Union of Concerned Scientists. Search Twitter for #sciodemocracy to see the conversation from that session. There was a lot of very interesting discussion.&lt;/p&gt;

&lt;h2&gt;Can we reach the public with phenology data?&lt;/h2&gt;

&lt;p&gt;During the #sciodemocracy session, I had a thought but couldn&amp;#39;t articulate it at the time. So here goes. People that are not inolved in climate change discussions may not think about climate change in the framework of changing sea level, melting ice, and altered severity of extreme events. However, many people observe birds, butterflies, and trees outside their apartment windows, cars/trains/buses, or on walks or hikes. When you live in a one place for many years changes in the timing of when birds, butterflies, and trees do certain things are easily noticed. Many of us, including myself, don&amp;#39;t necessarily record these changes, but some do! In fact, there are many web sites with databases of observations of birds, butterflies, and more that anyone, not just scientists, can submit observations to. Some examples are the &lt;a href=&quot;https://www.usanpn.org/&quot;&gt;USA National Phenology Network&lt;/a&gt; and &lt;a href=&quot;http://www.inaturalist.org/&quot;&gt;iNaturalist&lt;/a&gt;. And of course there are other databases that are focused on observations of organisms collected by scientists, like &lt;a href=&quot;http://www.gbif.org/&quot;&gt;GBIF&lt;/a&gt; and &lt;a href=&quot;http://vertnet.org/index.php&quot;&gt;VertNet&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;So what? What about it?&lt;/p&gt;

&lt;p&gt;When enough of these observations are collected on any one species in one location (e.g., let&amp;#39;s say we have 1000 observations of a species in Seattle over 20 years) we can simply ask how has the first date of record of the species in Seattle changed through time? If there is a change in timing of first appearance in the spring through the years, we can hypothesize that this may be due to climate change, and look at the data to see if there is a correlation, etc. &lt;/p&gt;

&lt;p&gt;Non-scientists along with scientists are collecting vast amounts of data on observations of species. This data can be used to make people think about climate change. That is, why don&amp;#39;t we not only facilitate the public&amp;#39;s ability to collect data, but also to analyze the data - to do their own science, ask their own questions. In this way, people can link a bird appearing for the first time in spring a bit later than the previous year, or a tree flowering a bit early, to variables associated with climate change, like temperature, precipitation, etc. &lt;/p&gt;

&lt;p&gt;Empowering the general public to do their own science may bring the vague notion of climate change into stark relief - thereby movivating some to take action with their elected representatives, or to at least get curious to find out more. &lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Working with climate data from the web in R</title>
   <link href="http://recology.info//2013/08/sciordata/"/>
   <updated>2013-08-17T00:00:00-07:00</updated>
   <id>http://recology.info//2013/08/sciordata</id>
   <content type="html">&lt;p&gt;I recently attended &lt;a href=&quot;http://scioclimate.wikispaces.com&quot;&gt;ScienceOnline Climate&lt;/a&gt;, a conference in Washington, D.C. at AAAS. You may have heard of the &lt;a href=&quot;https://twitter.com/#sciox&quot;&gt;ScienceOnline annual meeting in North Carolina&lt;/a&gt; - this was one of their topical meetings focused on Climate Change. I moderated a session on &lt;a href=&quot;http://scioclimate.wikispaces.com/3W.+Working+With+Science+Data+From+Around+The+Web&quot;&gt;working with data from the web in R&lt;/a&gt;, focusing on climate data. Search Twitter for #scioClimate for tweets from the conference, and #sciordata for tweets from the session I ran. The following is an abbreviated demo of what I did in the workshop showing some of what you can do with climate data in R using our packages.&lt;/p&gt;

&lt;p&gt;Before digging in, why would you want to get climate data programatically vs. via pushing buttons in a browser? Learning a programming language can take some time - we all already know how to use browsers. So why?!  First, getting data programatically, especially in R (or Python), allows you to then easily do other stuff, like manipulate data, visualize, and analyze data. Second, if you do your work programatically, &lt;strong&gt;you&lt;/strong&gt; and &lt;em&gt;others&lt;/em&gt; can reproduce, and extend, the work you did with little extra effort. Third, programatically getting data makes tasks that are repetitive and slow, fast and easy - you can&amp;#39;t easily automate button clicks in a browser. Fourth, you can combine code with writing to make your entire workflow reproducible, whether it&amp;#39;s notes, a blog post, or even a research article.&lt;/p&gt;

&lt;h2&gt;Interactive visualizations in R&lt;/h2&gt;

&lt;p&gt;Let&amp;#39;s start off with something shiny. The majority of time I make static visualizations, which are great for me to look at during analyses, and for publications of research findings in PDFs. However, static visualizations don&amp;#39;t take advantage of the interactive nature of the web. Ramnath Vaidyanathan has developed an R package, &lt;a href=&quot;https://github.com/ramnathv/rCharts&quot;&gt;rCharts&lt;/a&gt;, to generate dynamic Javascript visualizations directly from R that can be used interactively in a browser. Here is an example visualizing a dataset that comes with R. &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;devtools&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;rCharts&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ramnathv&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rCharts&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Load a data set&lt;/span&gt;
hair_eye_male &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;subset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;as.data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;HairEyeColor&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; Sex &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Male&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Make a javascript plot object&lt;/span&gt;
n1 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; nPlot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;Freq &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt; Hair&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; group &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Eye&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; data &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; hair_eye_male&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; type &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;multiBarChart&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Visualize&lt;/span&gt;
n1&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;show&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;cdn &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Check out the output &lt;a href=&quot;http://recology.info/vis/nvd3_eg.html&quot;&gt;here&lt;/a&gt;. If you like you can take the source code from the visualization (right click on select &lt;em&gt;View Page Source&lt;/em&gt;) and put it in your html files, and you&amp;#39;re good to go (as long as you have dependencies, etc.) - quicker than learning &lt;a href=&quot;http://d3js.org/&quot;&gt;d3&lt;/a&gt; and company from scratch, eh. This is a super simple example, but you can imagine the possibilities.  &lt;/p&gt;

&lt;h2&gt;The data itself&lt;/h2&gt;

&lt;h3&gt;First, install some packages - these are all just on Github, so you need to have devtools installed&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;devtools&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;govdat&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;sckott&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;rnoaa&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;rWBclimate&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;rnpn&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Politicians talk - Sunlight Foundation listens&lt;/h3&gt;

&lt;h4&gt;Look at mentions of the phrase &amp;quot;climate change&amp;quot; in congress, using the govdat package&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;govdat&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Get mentions of climate change from Democrats&lt;/span&gt;
dat_d &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sll_cw_timeseries&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;phrase &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;climate change&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; party &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;D&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Add a column that says this is data from deomcrats&lt;/span&gt;
dat_d&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;party &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;D&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;nrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat_d&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Get mentions of climate change from Democrats&lt;/span&gt;
dat_r &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sll_cw_timeseries&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;phrase &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;climate change&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; party &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;R&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Add a column that says this is data from republicans&lt;/span&gt;
dat_r&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;party &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;R&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;nrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat_r&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Put two tables together&lt;/span&gt;
dat_both &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;rbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat_d&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; dat_r&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Plot data&lt;/span&gt;
ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat_both&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;day&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; count&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; colour &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; party&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; theme_grey&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    geom_line&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; scale_colour_manual&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;values &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;blue&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-08-17-sciordata/govdat.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;h3&gt;NOAA climate data, using the rnoaa package&lt;/h3&gt;

&lt;h4&gt;Map sea ice for 12 years, for April only, for the North pole&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rnoaa&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;scales&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;doMC&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plyr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Get URLs for data&lt;/span&gt;
urls &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; seaiceeurls&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;mo &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Apr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; pole &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;N&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Download sea ice data&lt;/span&gt;
registerDoMC&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;cores &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; llply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;urls&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; noaa_seaice&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; storepath &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;~/seaicedata&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;.&lt;/span&gt;parallel &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Name elements of list&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;seq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1979&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1990&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Make a data.frame&lt;/span&gt;
df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ldply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Plot data&lt;/span&gt;
ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;long&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; lat&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; group &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; group&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_polygon&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;fill &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;steelblue&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    theme_ice&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; facet_wrap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.i&lt;/span&gt;d&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-08-17-sciordata/seaice2.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;h3&gt;World Bank climate data, using the rWBclimate package&lt;/h3&gt;

&lt;h4&gt;Plotting annual data for different countries&lt;/h4&gt;

&lt;p&gt;Data can be extracted from countries or basins submitted as vectors. Here we will plot the expected temperature anomaly for each 20 year period over a baseline control period of 1961-2000. These countries chosen span the north to south pole. It&amp;#39;s clear from the plot that the northern most countries (US and Canada) have the biggest anomaly, and Belize, the most equatorial country, has the smallest anomaly.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rWBclimate&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Search for data&lt;/span&gt;
country.list &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;CAN&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;USA&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;MEX&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;BLZ&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ARG&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
country.dat &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; get_model_temp&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;country.list&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;annualanom&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2010&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Subset data to one specific model&lt;/span&gt;
country.dat.bcc &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; country.dat&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;country.dat&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;gcm &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;bccr_bcm2_0&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Exclude A2 scenario&lt;/span&gt;
country.dat.bcc &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;subset&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;country.dat.bcc&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; country.dat.bcc&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;scenario &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;a2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Plot data&lt;/span&gt;
ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;country.dat.bcc&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; fromYear&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; data&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; group &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; locator&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; colour &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; locator&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    geom_point&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_path&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; ylab&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Temperature anomaly over baseline&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    theme_bw&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-08-17-sciordata/unnamed-chunk-1.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;h3&gt;Phenology data from the USA National Phenology Network, using rnpn&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rnpn&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Lookup names&lt;/span&gt;
temp &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; lookup_names&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;bird&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; type &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;common&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
comnames &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; temp&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;temp&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;species_id &lt;span class=&quot;o&quot;&gt;%in%&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;357&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;359&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1108&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;common_name&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Get some data&lt;/span&gt;
out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; getobsspbyday&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;speciesid &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;357&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;359&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1108&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; startdate &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;2010-04-01&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    enddate &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;2013-09-31&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; comnames
df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ldply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;date &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.Date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Visualize data&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; count&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_line&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; theme_grey&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; facet_grid&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.i&lt;/span&gt;d &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt; 
    &lt;span class=&quot;m&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-08-17-sciordata/rnpn.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;h3&gt;Feedback and new climate data sources&lt;/h3&gt;

&lt;p&gt;Do use the above pacakges (&lt;a href=&quot;https://github.com/sckott/govdat&quot;&gt;govdat&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rnoaa&quot;&gt;rnoaa&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rWBclimate&quot;&gt;rWBclimate&lt;/a&gt;, and &lt;a href=&quot;https://github.com/ropensci/rnpn&quot;&gt;rnpn&lt;/a&gt;) to get climate data, and get in touch with bug reports, and feature requests. &lt;/p&gt;

&lt;p&gt;Surely there are other sources of climate data out there that you want to use in R, right? Let us know what else you want to use. Better yet, if you can sling some R code, start writing your own package to interact with a source of climate data on the web - we can lend a hand. &lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>R ecology workshop</title>
   <link href="http://recology.info//2013/07/r-ecology-workshop/"/>
   <updated>2013-07-31T00:00:00-07:00</updated>
   <id>http://recology.info//2013/07/r-ecology-workshop</id>
   <content type="html">&lt;p&gt;After &lt;a href=&quot;http://sckott.github.io/2013/07/r-resources/&quot;&gt;my presentation yesterday&lt;/a&gt; to a group of grad students on R resources, I did a presentation today on intro to R data manipulation, visualizations, and analyses/visualizations of biparite networks and community level analyses (diversity, rarefaction, ordination, etc.). As I said &lt;a href=&quot;http://sckott.github.io/2013/07/r-resources/&quot;&gt;yesterday&lt;/a&gt; I&amp;#39;ve been playing with two ways to make reproducible presentations in R: &lt;a href=&quot;http://www.rstudio.com/ide/docs/presentations/overview&quot;&gt;RStudio&amp;#39;s presentations&lt;/a&gt; built in to RStudio IDE, and &lt;a href=&quot;http://slidify.org/&quot;&gt;Slidify&lt;/a&gt;. Yesterday I went with RStudio&amp;#39;s product - today I used Slidify. See the Markdown file for the presentation &lt;a href=&quot;https://github.com/sckott/posterstalks/blob/gh-pages/sfu/resources/r_resources.Rpres&quot;&gt;here&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;Check out the presentation slides &lt;a href=&quot;https://bitly.com/sfuworkshop&quot;&gt;here&lt;/a&gt;, and if you want, fork &lt;a href=&quot;http://bit.ly/1bKVX2O&quot;&gt;the code on Github&lt;/a&gt;, change it, submit changes back to me, etc. (click on the image to go to slides)&lt;/p&gt;

&lt;p&gt;How I actually ran the 2 hr workshop was to present a few slides, then live demo writing the code out with students following along, with a number of times where they do something on their own. &lt;/p&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://bitly.com/sfuworkshop&quot;&gt;&lt;img src=&quot;/public/img/pres.png&quot;&gt;&lt;/img&gt;&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>R resources</title>
   <link href="http://recology.info//2013/07/r-resources/"/>
   <updated>2013-07-30T00:00:00-07:00</updated>
   <id>http://recology.info//2013/07/r-resources</id>
   <content type="html">&lt;p&gt;I&amp;#39;m doing a presentation today to grad students on R resources. I have been writing HTML presentations recently, but some great tools are now available to convert text that is easy to read and write to presentations. &lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;RStudio has something called &lt;code&gt;R presentations&lt;/code&gt;, that is basically Markdown. This tool is built in to RStudio. See some docs &lt;a href=&quot;http://www.rstudio.com/ide/docs/presentations/overview&quot;&gt;here&lt;/a&gt;. A cool feature of RStudio&amp;#39;s presentations is that the preview of the presentation live updates on each save - nice &lt;i class=&quot;icon-thumbs-up&quot;&gt;&lt;/i&gt;&lt;/li&gt;
&lt;li&gt;Another option is the slidify package, made by &lt;a href=&quot;https://github.com/ramnathv&quot;&gt;Ramnath Vaidyanathan&lt;/a&gt;. The canonical url for slidify is &lt;a href=&quot;http://slidify.org/&quot;&gt;here&lt;/a&gt;. Slidify gives you more options and flexibity than RStudio presentations. &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;For this presentation I went with RStudio&amp;#39;s product. See the Markdown file for the presentation &lt;a href=&quot;https://github.com/sckott/posterstalks/blob/gh-pages/sfu/resources/r_resources.Rpres&quot;&gt;here&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;Check out the presentation slides here, and if you want, fork it on Github, change it, submit changes back to me, etc. (click to go to slides)&lt;/p&gt;

&lt;p&gt;&lt;br&gt;&lt;/p&gt;

&lt;!-- ![](/public/img/rstudio_pres.png) --&gt;

&lt;p&gt;&lt;a href=&quot;http://rpubs.com/recology_/rresources&quot;&gt;&lt;img src=&quot;/public/img/rstudio_pres.png&quot;&gt;&lt;/img&gt;&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Beyond academia</title>
   <link href="http://recology.info//2013/07/beyond-academia/"/>
   <updated>2013-07-25T00:00:00-07:00</updated>
   <id>http://recology.info//2013/07/beyond-academia</id>
   <content type="html">&lt;p&gt;As ecologists, we often start graduate school worshiping the ivory tower of academia with its freedom to pursue important ecological questions. However, studies have shown that most of us do not end up in academia. Greater numbers of ecology graduates are leaving the ivory tower for non-academic career paths. But for many graduates, moving from an academic environment to a non-academic job may be difficult. In graduate school we are trained to work in a particular way, often with loose deadlines and unlimited intellectual freedom (within reason of course). The culture and expectations of the non-academic world may be quite different. What are the skills that you need in a government job, or in science journalism? How do you market yourself for a non-academic position? This is a timely topic because funding to academic ecologists is being cut, leaving fewer opportunities in the academic arena. In fact, an ESA Student Section survey found that an ESA 2013 session on non-academic career paths in ecology was the topic of greatest interest.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://sandrachung.com/&quot;&gt;Sandra Chung&lt;/a&gt; and I organized an ESA lunchtime session on Tuesday the 6th with panelists from an array of non-academic careers to offer advice and share their experiences. Each panelist will speak briefly, introducing themselves and a bit about what they do. About half of the time will be reserved for an open discussion in which you all attending the session help decide what to talk about.&lt;/p&gt;

&lt;p&gt;You can find the description of the session at the ESA site &lt;a href=&quot;http://eco.confex.com/eco/2013/webprogram/Session9083.html&quot;&gt;here&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;&lt;strong&gt;The details:&lt;/strong&gt;&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;When: Tuesday, August 6, 2013: 11:30 AM-1:15 PM&lt;/li&gt;
&lt;li&gt;Where: 101B, Minneapolis Convention Center&lt;/li&gt;
&lt;li&gt;Who (the panelists): 

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.virginiagewin.com/&quot;&gt;Virginia Gewin&lt;/a&gt;: Independent science journalist (w/ work in Science/Nature/etc.)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.compassonline.org/staff/LizNeeley&quot;&gt;Liz Neeley&lt;/a&gt;: Science communication/journalism at COMPASS (a non-profit org.)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://www.lpzoo.org/conservation-science/resources/staff-bios/joseph-l-simonis-phd&quot;&gt;Joe Simonis&lt;/a&gt;: Research scientist at the Lincon Park Zoo (a non-profit org.)&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://emhart.github.io/&quot;&gt;Ted Hart&lt;/a&gt;: Soon to be statistician at NEON&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://linkd.in/15NCg3j&quot;&gt;Lael Goodman&lt;/a&gt;: Analyst w/ the Union of Concerned Scientists&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Get involved&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;As a placeholder on the web for things related to Beyond Academia, and a place to find out more about the session at ESA, we started a wiki. Check it out &lt;a href=&quot;http://beyondacademia.wikispaces.com/home&quot;&gt;here&lt;/a&gt;. Please do visit the wiki, and contribute your ideas for topics to discuss. In addition, we have a &lt;em&gt;Resources&lt;/em&gt; page on the wiki &lt;a href=&quot;http://beyondacademia.wikispaces.com/Resources&quot;&gt;here&lt;/a&gt; to collect resources related to moving beyond academia. &lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>On writing, sharing, collaborating, and hosting code for science</title>
   <link href="http://recology.info//2013/07/code/"/>
   <updated>2013-07-20T00:00:00-07:00</updated>
   <id>http://recology.info//2013/07/code</id>
   <content type="html">&lt;p&gt;I recently engaged with a number of tweeps in response to my tweet:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;Rule number 1 wrt science code: DO NOT post your code on your personal website&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;That tweet wasn&amp;#39;t super clear, and it&amp;#39;s difficult to convey my thoughts in a tweet. What I should have said was do post your code - ideally on Github/Bitbucket/etc. Here goes with a much longer version to explain what I meant. The tweet was just about where to host code, whereas the following is about more than that, but related.&lt;/p&gt;

&lt;h3&gt;Code writing during analyses, etc.&lt;/h3&gt;

&lt;p&gt;When you write code to do simulations, analyses, data manipulation, visualization - whatever it is - it helps to version your code. That is, not naming files like &lt;em&gt;myfile_v1.r&lt;/em&gt;, &lt;em&gt;myfile_v2.r&lt;/em&gt;, etc., but with versioning using version control systems (VCS) like &lt;a href=&quot;http://git-scm.com/&quot;&gt;git&lt;/a&gt;, &lt;a href=&quot;http://subversion.apache.org/&quot;&gt;svn&lt;/a&gt;, &lt;a href=&quot;http://mercurial.selenic.com/wiki/&quot;&gt;mercurial&lt;/a&gt;, etc. Although git will give you headaches during the learning process, it takes care of versioning your code for you, finding differences in different versions, helps you manage conflicts from different contributors, and allows you to restore that old code you accidentally deleted. &lt;/p&gt;

&lt;p&gt;And you don&amp;#39;t have to use git or svn on a code hosting site - you can use git or svn locally on your own machine. However, there are many benefits to putting your code up on the interwebs. &lt;/p&gt;

&lt;h3&gt;Collaborating on code&lt;/h3&gt;

&lt;p&gt;Whenever you collaborate on code writing you have the extreme joy of dealing with conflicts. Perhaps you use Dropbox for collaborating on some code writing. Crap, now there is a line of code that messes up the analysis, and you don&amp;#39;t know who put it there, and why it&amp;#39;s there. Wouldn&amp;#39;t it be nice to have a place to collect bugs in the code. &lt;/p&gt;

&lt;p&gt;All of these things become easy if you host code on a service such as Github. If you are already versioning your code with git you are in luck - all you need to do is create an account on github/bitbucket and push your code up. If not, you should definitley learn git.&lt;/p&gt;

&lt;p&gt;Hosting your code on Github (or Bitbucket, etc.) allows each collaborator to work separately on the code simultaneously, then merge their code together, while git helps you take care of merging. An awesome feature of git (and other VCS&amp;#39;s) is branching. What the heck is that? Basically, you can create a complete copy of your git project, do any changes you want, then throw it away or merge it back in to your main branch. Pretty sweet. &lt;/p&gt;

&lt;h3&gt;Sharing your code&lt;/h3&gt;

&lt;p&gt;Whether sharing your code with a collaborator, or with the world, if you put code on a website created specifically for hosting code, I would argue your life would be easier. Groups like Github and Bitbucket have solved a lot of problems around versioning code, displaying it, etc., whereas your website (whether it be Google sites, Wordpress, Tumblr, etc.) can not say the same. &lt;/p&gt;

&lt;p&gt;It is becoming clear to many that open science has many benefits. For the sake of transparency and contributing to the public science good, I would argue that sharing your code is the right thing to do, especially given that most of us are publicly funded. However, even if you don&amp;#39;t want to share your code publicly, you can get free private hosting with an &lt;a href=&quot;https://github.com/edu&quot;&gt;academic discount on Github&lt;/a&gt;, and Bitbucket gives you private hosting for free.&lt;/p&gt;

&lt;h3&gt;Contributing to the software you use&lt;/h3&gt;

&lt;p&gt;Much of the software you and I use in R, Python, etc. is likely hosted on a code hosting platform such as Github, Bitbucket, R-Forge, etc. Code gets better faster if its users report bugs and request features to the software authors. By creating an account on Github, for example, to host your own code, you can easily report bugs or request features where others are developing software you use. This is better than email as only those two people get the benefit of learning from the conversation - while engaging where the software is created, or on a related mailing list, helps everyone. &lt;/p&gt;

&lt;h3&gt;On long-term availability of code&lt;/h3&gt;

&lt;p&gt;Where is the best place to host your code in the long-term. Some may trust their own website over a company - a company can go out of business, be sold to another company and then be shut down, etc. However, code on personal websites can also be lost if a person moves institutions, etc. If you use a VCS, and host your code on Bitbucket/Github/Etc., even if they shut down, you will always have the same code that was up on their site, and you can host it on the newer awesome code hosting site. In addition, even if a company shuts down and you have to move your code, you are getting all the benefits as stated above.&lt;/p&gt;

&lt;h3&gt;Anyway...&lt;/h3&gt;

&lt;p&gt;My point is this: do post your code somewhere, even if on your own site, but I think you&amp;#39;ll find that you and others can get the most out of your code if you host it on Bitbucket, Github, etc. Do tell me if you think I&amp;#39;m wrong and why.&lt;/p&gt;

&lt;h3&gt;A few resources if you&amp;#39;re so inclined&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://hybridpedagogy.com/Journal/files/GitHub_for_Academics.html&quot;&gt;Push, Pull, Fork: GitHub for Academics&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Carl Boettiger has some interesting posts on &lt;a href=&quot;http://carlboettiger.info/2012/05/06/research-workflow.html&quot;&gt;research workflow&lt;/a&gt; and &lt;a href=&quot;http://carlboettiger.info/2012/12/06/github-issues-tracker:-the-perfect-research-todo-list&quot;&gt;github issues as a research to do list&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Do have a look at &lt;a href=&quot;http://inundata.org/&quot;&gt;Karthik Ram&amp;#39;s&lt;/a&gt; paper on how git can facilitate greater reproducibility and transparency in science &lt;a href=&quot;http://www.scfbm.org/content/8/1/7/abstract&quot;&gt;here&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Github is posting a bunch of videos on Youtube that are quite helpful for learning how to use git and Github &lt;a href=&quot;https://www.youtube.com/channel/UCP7RrmoueENv9TZts3HXXtw&quot;&gt;here&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Git GUIs make using git easier:

&lt;ul&gt;
&lt;li&gt;&lt;a href=&quot;http://www.sourcetreeapp.com/&quot;&gt;SourceTree&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://gitboxapp.com/&quot;&gt;GitBox&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;http://mac.github.com/&quot;&gt;Github&amp;#39;s git GUI&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>R to GeoJSON</title>
   <link href="http://recology.info//2013/06/geojson/"/>
   <updated>2013-06-30T00:00:00-07:00</updated>
   <id>http://recology.info//2013/06/geojson</id>
   <content type="html">&lt;p&gt;&lt;strong&gt;UPDATE&lt;/strong&gt; As you can see in Patrick&amp;#39;s comment below you can convert to GeoJSON format files with rgdal as an alternative to calling the Ogre web API described below. See &lt;a href=&quot;https://github.com/patperu/write2geojson/blob/master/write-geojson.R&quot;&gt;here&lt;/a&gt; for example code for converting to GeoJSON with rgdal.&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;GitHub recently introduced the ability to render &lt;a href=&quot;http://en.wikipedia.org/wiki/GeoJSON&quot;&gt;GeoJSON&lt;/a&gt; files on their site as maps &lt;a href=&quot;https://github.com/blog/1528-there-s-a-map-for-that&quot;&gt;here&lt;/a&gt;, and recently introduced &lt;a href=&quot;https://github.com/blog/1541-geojson-rendering-improvements&quot;&gt;here&lt;/a&gt; support for &lt;a href=&quot;https://github.com/mbostock/topojson&quot;&gt;TopoJSON&lt;/a&gt;, an extension of GeoJSON can be up to 80% smaller than GeoJSON, support for other file extensions (&lt;code&gt;.topojson&lt;/code&gt; and &lt;code&gt;.json&lt;/code&gt;), and you can embed the maps on other sites (so awesome). The underlying maps used on GitHub are &lt;a href=&quot;http://www.openstreetmap.org/&quot;&gt;Openstreet Maps&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;A recent blog post showed how to convert .shp or .kml files to GeoJSON to then upload to GitHub &lt;a href=&quot;http://ben.balter.com/2013/06/26/how-to-convert-shapefiles-to-geojson-for-use-on-github/&quot;&gt;here&lt;/a&gt;. The approach used Ruby on the command line locally to convert the geospatial files to GeoJSON. &lt;/p&gt;

&lt;p&gt;Can we do this in R? Perhaps others have already done this, but there&amp;#39;s more than one way to do anything, no? &lt;/p&gt;

&lt;p&gt;I&amp;#39;m not aware of a converter to GeoJSON within R, but there is a web service that can do this, called &lt;a href=&quot;http://ogre.adc4gis.com/&quot;&gt;Ogre&lt;/a&gt;. The service lets you &lt;code&gt;POST&lt;/code&gt; a file, which then converts to GeoJSON and gives it back to you. Ogre accepts many different file formats: BNA, CSV, DGN, DXF, zipped shapefiles, GeoConcept, GeoJSON, GeoRSS, GML, GMT, KML, MapInfo, and VRT. &lt;/p&gt;

&lt;p&gt;We can use the Ogre API to upload a local geospatial file of various formats and get the GeoJSON back, then put it up on GitHub, and they render the map for you. Sweetness. &lt;/p&gt;

&lt;p&gt;So here&amp;#39;s the protocol. &lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;1. Load httr. What is httr? For those not in the know it is a simpler wrapper around RCurl, a curl interface for R.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# install.packages(&amp;#39;httr&amp;#39;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;httr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;2. Here is a function to convert your geospatial files to GeoJSON (with roxygen docs).&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;togeojson &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; writepath &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;~&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    url &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;http://ogre.adc4gis.com/convert&amp;quot;&lt;/span&gt;
    tt &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; POST&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;url&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; body &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;upload &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; upload_file&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
    out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; content&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;tt&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; as &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;text&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    fileConn &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;writepath&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;kp&quot;&gt;writeLines&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; fileConn&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;kp&quot;&gt;close&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;fileConn&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;3. Convert a file to GeoJSON&lt;/h3&gt;

&lt;p&gt;&lt;strong&gt;KML&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;In the first line I specify the location of the file on my machine. In the second line the function &lt;code&gt;togeojson&lt;/code&gt; reads in the file, sends the file to the API endpoint &lt;em&gt;http://ogre.adc4gis.com/convert&lt;/em&gt;, collects the returned GeoJSON object, and saves the GeoJSON to a file that you specify. Here we are converting a KML file with point occurrences (data collected from &lt;a href=&quot;http://bison.usgs.ornl.gov/&quot;&gt;USGS&amp;#39;s BISON service&lt;/a&gt;). &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;file &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;~/github/sac/rgeojson/acer_spicatum.kml&amp;quot;&lt;/span&gt;
togeojson&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;~/github/sac/rgeojson/acer_spicatum.geojson&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;strong&gt;Shapefiles&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Here, we are converting a zip file containing shape files for &lt;em&gt;Pinus contorta&lt;/em&gt; (data collected from the USGS &lt;a href=&quot;http://esp.cr.usgs.gov/data/little/&quot;&gt;here&lt;/a&gt;. &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;file &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;~/github/sac/rgeojson/pinucont.zip&amp;quot;&lt;/span&gt;
togeojson&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;~/github/sac/rgeojson/pinus.geojson&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;4. Then commit and push to GitHub. And this is what they look like on GitHub&lt;/h3&gt;

&lt;p&gt;&lt;em&gt;Acer spicatum&lt;/em&gt; distribution (points)&lt;/p&gt;

&lt;!-- ![](/public/img/acer_spiacdtum_dist.png) --&gt;

&lt;script src=&quot;https://embed.github.com/view/geojson/sckott/rgeojson/output/acer_spicatum.geojson&quot;&gt;&lt;/script&gt;

&lt;p&gt;&lt;em&gt;Pinus contorta&lt;/em&gt; distribution (polygons)&lt;/p&gt;

&lt;!-- ![](/public/img/pinus_dist.png) --&gt;

&lt;script src=&quot;https://embed.github.com/view/geojson/sckott/rgeojson/output/pinus.geojson&quot;&gt;&lt;/script&gt;

&lt;hr&gt;

&lt;p&gt;If you want, you can clone a repo from my account. Then do the below. (of course, you must have git installed, and have a GitHub account...)&lt;/p&gt;

&lt;p&gt;First, fork my &lt;code&gt;rgeojson&lt;/code&gt; repo &lt;a href=&quot;https://github.com/sckott/rgeojson&quot;&gt;here&lt;/a&gt; to your GitHub account.&lt;/p&gt;

&lt;p&gt;Second, in your terminal/command line...&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;git clone https://github.com/&amp;lt;yourgithubusername&amp;gt;/rgeojson.git
&lt;span class=&quot;nb&quot;&gt;cd &lt;/span&gt;rgeojson&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Third, in R specify the location of either the KML file or the zipped shape files, then call &lt;code&gt;togeojson&lt;/code&gt; function to convert the KML file to a GeoJSON file (which should output a file &lt;em&gt;acer_spicatum.geojson&lt;/em&gt;)&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;file &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;/path/to/acer_spicatum.kml&amp;quot;&lt;/span&gt;
togeojson&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;file&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;~/path/to/write/to/acer_spicatum.geojson&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Fourth, back in the terminal...&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;git add acer_spicatum.geojson
git commit -a -m &lt;span class=&quot;s1&quot;&gt;&amp;#39;some cool commit message&amp;#39;&lt;/span&gt;
git push&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Fifth, go to your &lt;em&gt;rgeojson&lt;/em&gt; repo on GitHub and click on the &lt;em&gt;acer_spicatum.geojson&lt;/em&gt; file, and the map should render.&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;Look for this functionality to come to the &lt;a href=&quot;https://github.com/ropensci/rbison&quot;&gt;rbison&lt;/a&gt; and &lt;a href=&quot;https://github.com/ropensci/rgbif&quot;&gt;rgbif&lt;/a&gt; R packages soon. Why is that cool?  Think of the workflow: Query for species occurrence data in the BISON or GBIF databases, convert the results to a GeoJSON file, push to GitHub, and you have an awesome interactive map on the web. Not too bad eh. &lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Put some cushions on the sofa</title>
   <link href="http://recology.info//2013/06/sofa/"/>
   <updated>2013-06-21T00:00:00-07:00</updated>
   <id>http://recology.info//2013/06/sofa</id>
   <content type="html">&lt;p&gt;I posted earlier this week about sofa (&lt;a href=&quot;http://sckott.github.io/2013/06/couch/&quot;&gt;here&lt;/a&gt;), introducing a package I started recently that interacts with CouchDB from R. There&amp;#39;s been a fair amount of response at least in terms of page views, so I&amp;#39;ll take that as a sign to keep going. &lt;/p&gt;

&lt;p&gt;One thing that would be nice while you are CouchDB-ing is to interact with local &lt;em&gt;and&lt;/em&gt; remote databases. I have incorporated the ability to interact with remote CouchDB databases in many of the functions, not all though. The remote data stores supported right now are Cloudant and Iriscouch. &lt;/p&gt;

&lt;p&gt;Hadley Wickham suggested that a package called &lt;code&gt;sofa&lt;/code&gt; should have something called &lt;code&gt;cushion&lt;/code&gt;. And so it must be. It&amp;#39;s just a small function, called &lt;code&gt;cushion&lt;/code&gt;, which puts a cushion on the sofa, or in reality, sets up your authentication for remote data stores. &lt;code&gt;cushion&lt;/code&gt; just writes your username and password to your options list and then the functions look for your authentication details via &lt;code&gt;getOption&lt;/code&gt;. Of course these auth details aren&amp;#39;t stored permanently - when you restart R you have to write them again to options. You can store them permanently in your &lt;code&gt;.Rprofile&lt;/code&gt; file if you like, usally at ~/.Rprofile by putting in entry like options(cloudant.pwd = &amp;quot;mycoolpassword&amp;quot;).&lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;Load sofa&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# install.packages(&amp;#39;devtools&amp;#39;); library(devtools); install_github(&amp;#39;sofa&amp;#39;, &amp;#39;sckott&amp;#39;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;sofa&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Put a cushion on the sofa - that is, save your auth details&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;cushion&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;iriscouch_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;yourusername&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; iriscouch_pwd &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;yourpwd&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    cloudant_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;yourusername&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; cloudant_pwd &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;yourpwd&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Ping each server&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;sofa_ping&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$couchdb
[1] &amp;quot;Welcome&amp;quot;

$version
[1] &amp;quot;1.2.1&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;sofa_ping&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;iriscouch&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$couchdb
[1] &amp;quot;Welcome&amp;quot;

$uuid
[1] &amp;quot;f1cb5d2e881bcb529d2eb2d04f548683&amp;quot;

$version
[1] &amp;quot;1.3.0&amp;quot;

$vendor
$vendor$version
[1] &amp;quot;1.3.0r1&amp;quot;

$vendor$name
[1] &amp;quot;Iris Couch&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;sofa_ping&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;cloudant&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$couchdb
[1] &amp;quot;Welcome&amp;quot;

$version
[1] &amp;quot;1.0.2&amp;quot;

$cloudant_build
[1] &amp;quot;1323&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;p&gt;Now we&amp;#39;ll do similar tasks on a local and two remote databases (cloudant and iriscouch)&lt;/p&gt;

&lt;h3&gt;Create a database&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;sofa_createdb&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dbname &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;hello_world&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# local&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;ok 
TRUE&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;sofa_createdb&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dbname &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;hello_world&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;iriscouch&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# iriscouch&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;ok 
TRUE&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;sofa_createdb&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dbname &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;hello_world&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;cloudant&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# cloudant&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;ok 
TRUE&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;p&gt;Listing your databases is a simple task&lt;/p&gt;

&lt;h3&gt;List your databases&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;sofa_listdbs&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# local&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &amp;quot;_replicator&amp;quot;                &amp;quot;_users&amp;quot;                    
 [3] &amp;quot;alm_couchdb&amp;quot;                &amp;quot;alm_db&amp;quot;                    
 [5] &amp;quot;cheese&amp;quot;                     &amp;quot;dudedb&amp;quot;                    
 [7] &amp;quot;example&amp;quot;                    &amp;quot;foobar&amp;quot;                    
 [9] &amp;quot;foodb&amp;quot;                      &amp;quot;hello_world&amp;quot;               
[11] &amp;quot;helloworld&amp;quot;                 &amp;quot;rplos_db&amp;quot;                  
[13] &amp;quot;shit&amp;quot;                       &amp;quot;shitty&amp;quot;                    
[15] &amp;quot;shitty2&amp;quot;                    &amp;quot;sofadb&amp;quot;                    
[17] &amp;quot;test_suite_db&amp;quot;              &amp;quot;test_suite_db/with_slashes&amp;quot;
[19] &amp;quot;test_suite_reports&amp;quot;         &amp;quot;testr2couch&amp;quot;               
[21] &amp;quot;twitter_db&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;sofa_listdbs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;iriscouch&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# iriscouch&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &amp;quot;_replicator&amp;quot; &amp;quot;_users&amp;quot;      &amp;quot;foobar&amp;quot;      &amp;quot;hello_world&amp;quot; &amp;quot;helloworld&amp;quot; 
[6] &amp;quot;mustache&amp;quot;    &amp;quot;stuff&amp;quot;       &amp;quot;thing&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;sofa_listdbs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;cloudant&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# cloudant&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &amp;quot;dudedb&amp;quot;         &amp;quot;foobar&amp;quot;         &amp;quot;hello_world&amp;quot;    &amp;quot;helloworld&amp;quot;    
[5] &amp;quot;mustache&amp;quot;       &amp;quot;thingsandstuff&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Write a document to a database&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;doc &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;{\&amp;quot;name\&amp;quot;:\&amp;quot;dude\&amp;quot;,\&amp;quot;icecream\&amp;quot;:\&amp;quot;rocky road\&amp;quot;}&amp;quot;&lt;/span&gt;
sofa_writedoc&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dbname &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;helloworld&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; doc &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; doc&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# local&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$ok
[1] TRUE

$id
[1] &amp;quot;da2b0d1eb457dc764a6283fa59001606&amp;quot;

$rev
[1] &amp;quot;1-5406480672da172726810767e7d0ead3&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;sofa_writedoc&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;iriscouch&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; dbname &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;helloworld&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; doc &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; doc&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# iriscouch&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$ok
[1] TRUE

$id
[1] &amp;quot;0c0858b75a81c464a74119ca2400135d&amp;quot;

$rev
[1] &amp;quot;1-5406480672da172726810767e7d0ead3&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;sofa_writedoc&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;cloudant&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; dbname &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;helloworld&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; doc &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; doc&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# cloudant&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$ok
[1] TRUE

$id
[1] &amp;quot;b77808eae8ae8d79ae78a373bf5b02d1&amp;quot;

$rev
[1] &amp;quot;1-5406480672da172726810767e7d0ead3&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;p&gt;There&amp;#39;s lots more you can do of course...&lt;/p&gt;

&lt;p&gt;Thoughts? Feelings? Criticism?&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Coffeehouse - an aggregator for blog posts about data, data management, etc.</title>
   <link href="http://recology.info//2013/06/coffeehouse/"/>
   <updated>2013-06-18T00:00:00-07:00</updated>
   <id>http://recology.info//2013/06/coffeehouse</id>
   <content type="html">&lt;p&gt;Have you heard of &lt;a href=&quot;http://www.dataone.org/&quot;&gt;DataONE&lt;/a&gt;? It stands for the Data Observation Network for Earth, and I am involved in the &lt;a href=&quot;http://www.dataone.org/working_groups/community-education-and-engagement&quot;&gt;Community Education and Engagement working group&lt;/a&gt; at DataONE. We try to communicate about data, data management, and similar things to scientists and other DataONE &lt;em&gt;stakeholders&lt;/em&gt;. &lt;/p&gt;

&lt;p&gt;At our last meeting, we decided to start a blog aggregator to pull in to one place blog posts about data, data management, and related topics. Those reading this blog have likely heard of &lt;a href=&quot;http://www.r-bloggers.com/&quot;&gt;R-Bloggers&lt;/a&gt; - and there are many more aggregator blogs. We are calling this blog aggregator &lt;strong&gt;Coffeehouse&lt;/strong&gt; - as it&amp;#39;s sort of a place to gather to talk/read about ideas. Check it out &lt;a href=&quot;https://coffeehouse.dataone.org/&quot;&gt;here&lt;/a&gt;. If you blog about data management think about adding your blog to Coffeehouse - go to the &lt;a href=&quot;https://coffeehouse.dataone.org/add-your-blog/&quot;&gt;&lt;em&gt;Add your blog&lt;/em&gt;&lt;/a&gt; page to do so. A screenshot:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/coffeehouse.png&quot; alt=&quot;&quot;&gt;&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;The blogs already added to Coffeehouse:&lt;/p&gt;

&lt;p&gt;&lt;i class=&quot;icon-coffee&quot;&gt;&lt;/i&gt; &lt;a href=&quot;http://dataconservancy.org/blog/&quot; target=&quot;_blank&quot;&gt;Data Conservancy&lt;/a&gt;&lt;br&gt;
&lt;i class=&quot;icon-coffee&quot;&gt;&lt;/i&gt; &lt;a href=&quot;http://datapub.cdlib.org/&quot; target=&quot;_blank&quot;&gt;Data Pub&lt;/a&gt;&lt;br&gt;
&lt;i class=&quot;icon-coffee&quot;&gt;&lt;/i&gt; &lt;a href=&quot;http://www.datacite.org/&quot; target=&quot;_blank&quot;&gt;DataCite&lt;/a&gt;&lt;br&gt;
&lt;i class=&quot;icon-coffee&quot;&gt;&lt;/i&gt; &lt;a href=&quot;http://researchremix.wordpress.com/&quot; target=&quot;_blank&quot;&gt;Research Remix&lt;/a&gt;&lt;br&gt;
&lt;i class=&quot;icon-coffee&quot;&gt;&lt;/i&gt; &lt;a href=&quot;http://blogs.loc.gov/digitalpreservation/&quot; target=&quot;_blank&quot;&gt;The Signal: Digital Preservation&lt;/a&gt;&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;The tech/styling details:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;As is obvious we are using Wordpress.org, with the Magazine Basic theme.&lt;/li&gt;
&lt;li&gt;We don&amp;#39;t accept comments - when someone clicks on the comments button it sends them back to the original post. This is on purpose so that the authors of the post get the comments on their own site.&lt;/li&gt;
&lt;li&gt;On the top of each post there is an alert to tell you the post is syndicated, and gives a link to the original post. You can close this alert if it&amp;#39;s annoying to you.&lt;/li&gt;
&lt;li&gt;Style - we have strived to use clean and simple styling to make for a nice reading experience. A cluttered website makes reading painful. And using the &lt;a href=&quot;http://www.icontrolwp.com/our-wordpress-plugins/wordpress-twitter-bootstrap-css-plugin-home/&quot;&gt;Twitter Bootstrap WP plugin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Icons: done using the &lt;a href=&quot;https://github.com/rachelbaker/Font-Awesome-WordPress-Plugin&quot;&gt;FontAwesome Wordpress Plugin&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Aggregating posts is done using the &lt;a href=&quot;http://feedwordpress.radgeek.com/&quot;&gt;FeedWordPress plugin&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;The add your blog form: using the &lt;a href=&quot;http://wpninjas.com/ninja-forms/&quot;&gt;Nina forms plugin&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Analytics: using the &lt;a href=&quot;http://wordpress.org/plugins/gauges/&quot;&gt;Gauges WP plugin&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;That&amp;#39;s it. Let us know if you have any thoughts/comments.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Stashing and playing with raw data locally from the web</title>
   <link href="http://recology.info//2013/06/couch/"/>
   <updated>2013-06-17T00:00:00-07:00</updated>
   <id>http://recology.info//2013/06/couch</id>
   <content type="html">&lt;p&gt;It is getting easier to get data directly into R from the web. Often R packages that retrieve data from the web return useful R data structures to users like a data.frame. This is a good thing of course to make things user friendly. &lt;/p&gt;

&lt;p&gt;However, what if you want to drill down into the data that&amp;#39;s returned from a query to a database in R?  What if you want to get that nice data.frame in R, but you think you may want to look at the raw data later? The raw data from web queries are often JSON or XML data. This type of data, especially JSON, can be easily stored in schemaless so-called NoSQL databases, and queried later. &lt;/p&gt;

&lt;p&gt;A brief aside: What are JSON and XML? This is what JSON looks like (ps if you ever wonder if your JSON is correct, go &lt;a href=&quot;http://jsonlint.com/&quot;&gt;here&lt;/a&gt;):&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
  &lt;span class=&quot;s2&quot;&gt;&amp;quot;name&amp;quot;&lt;/span&gt;: &lt;span class=&quot;s2&quot;&gt;&amp;quot;joe&amp;quot;&lt;/span&gt;,
  &lt;span class=&quot;s2&quot;&gt;&amp;quot;hobby&amp;quot;&lt;/span&gt;: &lt;span class=&quot;s2&quot;&gt;&amp;quot;codemonkey&amp;quot;&lt;/span&gt;,
  &lt;span class=&quot;s2&quot;&gt;&amp;quot;lives&amp;quot;&lt;/span&gt;: &lt;span class=&quot;o&quot;&gt;[&lt;/span&gt;
      &lt;span class=&quot;o&quot;&gt;{&lt;/span&gt;
          &lt;span class=&quot;s2&quot;&gt;&amp;quot;city&amp;quot;&lt;/span&gt;: &lt;span class=&quot;s2&quot;&gt;&amp;quot;San Jose&amp;quot;&lt;/span&gt;,
          &lt;span class=&quot;s2&quot;&gt;&amp;quot;state&amp;quot;&lt;/span&gt;: &lt;span class=&quot;s2&quot;&gt;&amp;quot;CA&amp;quot;&lt;/span&gt;
      &lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;
  &lt;span class=&quot;o&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;This is what XML looks like:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&amp;lt;?xml &lt;span class=&quot;nv&quot;&gt;version&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;1.0&amp;quot;&lt;/span&gt; &lt;span class=&quot;nv&quot;&gt;encoding&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s2&quot;&gt;&amp;quot;UTF-8&amp;quot;&lt;/span&gt; ?&amp;gt;
  &amp;lt;name&amp;gt;joe&amp;lt;/name&amp;gt;
    &amp;lt;hobby&amp;gt;codemonkey&amp;lt;/hobby&amp;gt;
    &amp;lt;lives&amp;gt;
        &amp;lt;city&amp;gt;San Jose&amp;lt;/city&amp;gt;
        &amp;lt;state&amp;gt;CA&amp;lt;/state&amp;gt;
    &amp;lt;/lives&amp;gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;But don&amp;#39;t worry if it looks complicated - the project I talk about below, sofa, tries to make the interface to JSON and XML easy. Web APIs almost always return either JSON or XML, so this is the raw data.&lt;/p&gt;

&lt;p&gt;So here&amp;#39;s the use case I imagine, or workflow: &lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Query a database on the web, and choose to write the raw data to a local database.&lt;/li&gt;
&lt;li&gt;Do whatever you want with the output R object - analyze, visualize, etc.&lt;/li&gt;
&lt;li&gt;Now you want to go back and search through some of the raw data. But, that query took an hour. Since you wrote it to a local database, you can search the data. &lt;/li&gt;
&lt;li&gt;If you hadn&amp;#39;t written it locally, you would have to make a new web call. &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Note that if you are doing calls to web APIs that get small amounts of data you don&amp;#39;t need to worry too much as you can easily just do the call again. &lt;/p&gt;

&lt;p&gt;I&amp;#39;ve started an R package to interact with the NoSQL database &lt;a href=&quot;http://couchdb.apache.org/&quot;&gt;CouchDB&lt;/a&gt;. CouchDB is a schemaless database that speaks JSON, so you can store JSON and get back JSON (don&amp;#39;t worry XML, we got you covered - we can just wrap the XML in JSON before putting it in CouchDB). What&amp;#39;s especially cool is you can interact with CouchDB via &lt;a href=&quot;http://docs.couchdb.org/en/latest/api-basics.html&quot;&gt;a RESTful API&lt;/a&gt;. CouchDB doesn&amp;#39;t have full text search built in (though you can build map-reduce &lt;em&gt;Views&lt;/em&gt;, basically preset queries on the database), so I added functions (and docs to help) to interact with the &lt;a href=&quot;https://github.com/elasticsearch/elasticsearch-river-couchdb/blob/master/README.md&quot;&gt;CouchDB River plugin&lt;/a&gt; for &lt;a href=&quot;http://www.elasticsearch.org/&quot;&gt;Elasticsearch&lt;/a&gt;, which provides powerful full text search via an API interface. But nevermind the tech details - all this just means you can search on the full text of your stored data. &lt;/p&gt;

&lt;p&gt;There are plenty of databases you can interact with from R, so why CouchDB? For one, it makes a lot of sense to write to a NoSQL database since this blog post is dealing with a use case writing JSON, which isn&amp;#39;t a good fit for databases like MySQL, SQLite, PostgreSQL, etc. (&lt;a href=&quot;http://wiki.postgresql.org/wiki/What&amp;#x27;s_new_in_PostgreSQL_9.2#JSON_datatype&quot;&gt;though postgres allows you to write JSON&lt;/a&gt;). It didn&amp;#39;t have to be CouchDB, but at least to me it seems relatively easy to install, you can interact with it via an HTTP API (if you&amp;#39;re into that, which I am), and it has a nice web interface (navigate to &lt;a href=&quot;http://localhost:5984/_utils/&quot;&gt;http://localhost:5984/_utils/&lt;/a&gt; after starting &lt;code&gt;couchdb&lt;/code&gt;).&lt;/p&gt;

&lt;p&gt;Is this for the casual R user? Probably not. But, I imagine there are R users out there that want some more flexibility when it comes to interacting with web data in R. It is nice and tidy to get back an R data.frame from a web call, but having the raw data at your fingertips could be super powerful. I&amp;#39;ll describe using an R package to interact with a web database with &lt;code&gt;sofa&lt;/code&gt; baked in, and discuss a bit about the functions within &lt;code&gt;sofa&lt;/code&gt;.&lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;First start CouchDB in your terminal&lt;/h3&gt;

&lt;p&gt;You can do this from anywhere in your directory. See &lt;a href=&quot;http://couchdb.apache.org/&quot;&gt;here&lt;/a&gt; for instructions on how to install CouchDB.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;couchdb
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;h3&gt;Then start elasticsearch in your terminal&lt;/h3&gt;

&lt;p&gt;See &lt;a href=&quot;https://github.com/sckott/sofa&quot;&gt;here&lt;/a&gt; for instructions on how to install Elasticsearch and the River CouchDB plugin.&lt;/p&gt;
&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-bash&quot; data-lang=&quot;bash&quot;&gt;&lt;span class=&quot;nb&quot;&gt;cd&lt;/span&gt; /usr/local/elasticsearch
bin/elasticsearch -f
&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
&lt;hr&gt;

&lt;h3&gt;Install sofa&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Uncomment these lines if you don&amp;#39;t have these packages installed&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# install.packages(&amp;#39;devtools&amp;#39;) library(devtools) install_github(&amp;#39;sofa&amp;#39;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# &amp;#39;schamberlain&amp;#39;) install_github(&amp;#39;alm&amp;#39;, &amp;#39;ropensci&amp;#39;, ref=&amp;#39;couch&amp;#39;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;sofa&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;alm&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Simultaneously write data to CouchDB along with API calls using the alm package to get altmetrics data on PLoS papers. Ping to make sure CouchDB is on&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;sofa_ping&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;couchdb   version 
&amp;quot;Welcome&amp;quot;   &amp;quot;1.2.1&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Create a new database&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;sofa_createdb&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dbname &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;alm_db&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;ok 
TRUE&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Write couchdb database name to options&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;options&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;couch_db_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;alm_db&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;List the databases&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;sofa_listdbs&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &amp;quot;_replicator&amp;quot;                &amp;quot;_users&amp;quot;                    
 [3] &amp;quot;alm_couchdb&amp;quot;                &amp;quot;alm_db&amp;quot;                    
 [5] &amp;quot;dudedb&amp;quot;                     &amp;quot;example&amp;quot;                   
 [7] &amp;quot;poop&amp;quot;                       &amp;quot;rplos_db&amp;quot;                  
 [9] &amp;quot;shit&amp;quot;                       &amp;quot;shitty&amp;quot;                    
[11] &amp;quot;shitty2&amp;quot;                    &amp;quot;test_suite_db&amp;quot;             
[13] &amp;quot;test_suite_db/with_slashes&amp;quot; &amp;quot;test_suite_reports&amp;quot;        
[15] &amp;quot;testr2couch&amp;quot;                &amp;quot;twitter_db&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Search for altmetrics normally, w/o writing to a database&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;alm&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;doi &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1371/journal.pone.0029797&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;.id pdf html shares groups comments likes citations total
1   bloglines  NA   NA     NA     NA       NA    NA         0     0
2   citeulike  NA   NA      1     NA       NA    NA        NA     1
3    connotea  NA   NA     NA     NA       NA    NA         0     0
4    crossref  NA   NA     NA     NA       NA    NA         6     6
5      nature  NA   NA     NA     NA       NA    NA         4     4
6 postgenomic  NA   NA     NA     NA       NA    NA         0     0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Search for altmetrics normally, while writing to a database&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;alm&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;doi &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1371/journal.pone.0029797&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; write2couch &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;.id pdf html shares groups comments likes citations total
1   bloglines  NA   NA     NA     NA       NA    NA         0     0
2   citeulike  NA   NA      1     NA       NA    NA        NA     1
3    connotea  NA   NA     NA     NA       NA    NA         0     0
4    crossref  NA   NA     NA     NA       NA    NA         6     6
5      nature  NA   NA     NA     NA       NA    NA         4     4
6 postgenomic  NA   NA     NA     NA       NA    NA         0     0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Make lots of calls, and write them simultaneously&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# install_github(&amp;#39;rplos&amp;#39;, &amp;#39;ropensci&amp;#39;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rplos&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
dois &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; searchplos&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;terms &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;evolution&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; fields &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;id&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; limit &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; alm&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;doi &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dois&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]),&lt;/span&gt; write2couch &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$`01`
          .id pdf html shares groups comments likes citations total
1   bloglines  NA   NA     NA     NA       NA    NA         0     0
2   citeulike  NA   NA      0     NA       NA    NA        NA     0
3    connotea  NA   NA     NA     NA       NA    NA         0     0
4    crossref  NA   NA     NA     NA       NA    NA         0     0
5      nature  NA   NA     NA     NA       NA    NA         0     0
6 postgenomic  NA   NA     NA     NA       NA    NA         0     0

$`02`
          .id pdf html shares groups comments likes citations total
1   bloglines  NA   NA     NA     NA       NA    NA         0     0
2   citeulike  NA   NA      1     NA       NA    NA        NA     1
3    connotea  NA   NA     NA     NA       NA    NA         0     0
4    crossref  NA   NA     NA     NA       NA    NA         2     2
5      nature  NA   NA     NA     NA       NA    NA         0     0
6 postgenomic  NA   NA     NA     NA       NA    NA         0     0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Writing data to CouchDB does take a bit longer&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;alm&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;doi &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dois&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; write2couch &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;user  system elapsed 
  1.739   0.016   4.554&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;alm&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;doi &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dois&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;60&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; write2couch &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;user  system elapsed 
  3.579   0.062   6.460&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Search using elasticsearch&lt;/h3&gt;

&lt;h4&gt;tell elasticsearch to start indexing your database&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;elastic_start&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dbname &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;alm_db&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$ok
[1] TRUE&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;Search your database&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; elastic_search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dbname &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;alm_db&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; q &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;twitter&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; parse_ &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
out&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;hits&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;total&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] 679&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Using views&lt;/h3&gt;

&lt;h4&gt;Write a view - here letting key be the default of null&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;sofa_view_put&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dbname &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;alm_db&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; design_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;myview&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; value &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;doc.baseurl&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$ok
[1] TRUE

$id
[1] &amp;quot;_design/myview&amp;quot;

$rev
[1] &amp;quot;1-e7c17cff1b96e4595c3781da53e16ad8&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;Get info on your new view&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;sofa_view_get&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dbname &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;alm_db&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; design_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;myview&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$`_id`
[1] &amp;quot;_design/myview&amp;quot;

$`_rev`
[1] &amp;quot;1-e7c17cff1b96e4595c3781da53e16ad8&amp;quot;

$views
$views$foo
                                    map 
&amp;quot;function(doc){emit(null,doc.baseurl)}&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;Get data using a view&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sofa_view_search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dbname &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;alm_db&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; design_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;myview&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;rows&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# 160 results&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] 161&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;rows&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; x&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;value&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# the values, just the API call URLs&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &amp;quot;http://alm.plos.org/api/v3/articles&amp;quot;
[2] &amp;quot;http://alm.plos.org/api/v3/articles&amp;quot;
[3] &amp;quot;http://alm.plos.org/api/v3/articles&amp;quot;
[4] &amp;quot;http://alm.plos.org/api/v3/articles&amp;quot;
[5] &amp;quot;http://alm.plos.org/api/v3/articles&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;Delete the view&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;sofa_view_del&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dbname &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;alm_db&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; design_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;myview&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &amp;quot;&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h2&gt;What now?&lt;/h2&gt;

&lt;p&gt;Well, if no one uses this, then probably nothing. Though, if people think this could be useful:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;It would be cool to make easy hooks into any package making web calls to allow users to write data to CouchDB if they choose to, sort of like the example above with rplos.&lt;/li&gt;
&lt;li&gt;Perhaps automate some of the setup for CouchDB for users, making system calls so they don&amp;#39;t have to.&lt;/li&gt;
&lt;li&gt;Performance: As shown above, simultaneously writing data to CouchDB takes longer than not doing so - removing this time difference will make writing to couch more palatable.&lt;/li&gt;
&lt;/ul&gt;

&lt;h2&gt;What do you think?&lt;/h2&gt;

&lt;p&gt;What is your reaction to this post?  Do you have a need for this sort of tool?  Do you have similar use cases that could be addressed with &lt;code&gt;sofa&lt;/code&gt;?&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Fylopic, an R wrapper to Phylopic</title>
   <link href="http://recology.info//2013/06/fylopic/"/>
   <updated>2013-06-01T00:00:00-07:00</updated>
   <id>http://recology.info//2013/06/fylopic</id>
   <content type="html">&lt;h2&gt;What is PhyloPic?&lt;/h2&gt;

&lt;p&gt;PhyloPic is an awesome new service - I&amp;#39;ll let the creator, &lt;a href=&quot;http://tmkeesey.net/&quot;&gt;Mike Keesey&lt;/a&gt;, explain what it is (paraphrasing here): &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;PhyloPic stores silhouette images of organisms, and each image is associated with taxonomic names, and stores the taxonomy of all taxa, allowing searching by taxonomic names. Anyone can submit silhouettes to PhyloPic. &lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;What is a silhouette?  It&amp;#39;s like this:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://phylopic.org/assets/images/submissions/bedd622a-4de2-4067-8c70-4aa44326d229.128.png&quot; alt=&quot;A silhouette&quot;&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;by Gareth Monger&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;What makes PhyloPic not just awesome, but super awesome? All or most images are licensed under &lt;a href=&quot;http://creativecommons.org/&quot;&gt;Creative Commons licenses&lt;/a&gt;. This means you can use the silhouettes without having to ask or pay - just attribute. &lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;What is fylopic?&lt;/h2&gt;

&lt;p&gt;The idea behind Fylopic is to create modular bits and pieces (i.e., functions) to allow you to add silhouettes to not only ggplot2 plots, but base plots as well. That is, you can simply load fylopic in your R session, and add some silhouettes to your phylogeny, or your barchart, etc. - that is, &lt;code&gt;fylopic&lt;/code&gt; is meant to be a helper in your workflow to add in silhouettes to visualizations. &lt;/p&gt;

&lt;p&gt;Some people prefer base plots while others prefer ggplot2 plots (me!), so it would be nice to have both options. Phylogenies at the moment render faster in base plots. I don&amp;#39;t yet have implementations for base plots, but will come soon, or you can send a pull request to add it. &lt;/p&gt;

&lt;p&gt;One interesting use case could be to be able to get a set of silhouettes, then get a phylogeny for taxa associatd with the silhouettess using the NCBI taxonomy, but it&amp;#39;s not easily available yet (though I may be able to use &lt;a href=&quot;https://github.com/bendmorris/phylocommons&quot;&gt;Ben Morris&amp;#39; phylocommons&lt;/a&gt; soon. This isn&amp;#39;t doable yet, so in the example below the function &lt;code&gt;make_phylo&lt;/code&gt; creates a phylogeny using &lt;code&gt;ape::rcoal&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;You could also do the reverse -&amp;gt; you have a phylogeny and then you could search Phylopic for silhouettes. &lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;Info&lt;/h2&gt;

&lt;p&gt;Check out the Phylopic website &lt;a href=&quot;http://phylopic.org/&quot;&gt;here&lt;/a&gt;, and Phylopic API developer documentation &lt;a href=&quot;http://phylopic.org/api/&quot;&gt;here&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;Also check out Ben Morris&amp;#39; Python wrapper to Phylopic &lt;a href=&quot;https://github.com/bendmorris/python-phylopic&quot;&gt;here&lt;/a&gt;. &lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;What can you do with fylopic?&lt;/h2&gt;

&lt;hr&gt;

&lt;h4&gt;Install fylopic&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;devtools&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;devtools&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;fylopic&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;sckott&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;fylopic&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; quietly &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;Plot a phylogeny with silhouettes at the tips&lt;/h4&gt;

&lt;p&gt;Here, I search for names based on keyword &lt;em&gt;Homo sapiens&lt;/em&gt; - which returns many matche codes. With those results we search for any silhouettes associated with those codes. Then we download images. Finally, make a phylogeny with the silhouettes at the tips. Note that in this eample the phylogeny is just a random coalescent tree made using &lt;code&gt;ape::rcoal&lt;/code&gt; - obviously, in the real world you&amp;#39;d want to do something more useful. &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;## search on Homo sapiens&lt;/span&gt;
searchres &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; search_text&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;text &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Homo sapiens&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; options &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;names&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;### which returns UUIDs&lt;/span&gt;
searchres&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &amp;quot;74aea16b-666b-497a-b2cb-72201ad75a8e&amp;quot;
[2] &amp;quot;1ee65cf3-53db-4a52-9960-a9f7093d845d&amp;quot;
[3] &amp;quot;cc9ad8ee-3a82-4add-8d50-bc78f4ff6956&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;## search for images based on the UUIds&lt;/span&gt;
output &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; search_images&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;uuid &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; searchres&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; options &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;pngFiles&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;credit&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;canonicalName&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;### we got eight matches&lt;/span&gt;
output&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$`15444b9c-f17f-4d6e-89b5-5990096bcfb0`
$`15444b9c-f17f-4d6e-89b5-5990096bcfb0`$supertaxa
[1] &amp;quot;e547cd01-7dd1-495b-8239-52cf9971a609&amp;quot;
[2] &amp;quot;bd88f674-6976-4cb2-a46e-e6a12a8ba463&amp;quot;


$`fedf0e5f-f20a-442c-accf-eb84a3af8c6b`
$`fedf0e5f-f20a-442c-accf-eb84a3af8c6b`$supertaxa
[1] &amp;quot;e547cd01-7dd1-495b-8239-52cf9971a609&amp;quot;
[2] &amp;quot;bd88f674-6976-4cb2-a46e-e6a12a8ba463&amp;quot;


$`a88d3a4c-44d3-409e-87b6-516bd188c709`
$`a88d3a4c-44d3-409e-87b6-516bd188c709`$supertaxa
[1] &amp;quot;e547cd01-7dd1-495b-8239-52cf9971a609&amp;quot;
[2] &amp;quot;bd88f674-6976-4cb2-a46e-e6a12a8ba463&amp;quot;


$`d88164ec-3152-444b-b41c-4757a344a764`
$`d88164ec-3152-444b-b41c-4757a344a764`$supertaxa
[1] &amp;quot;9c6af553-390c-4bdd-baeb-6992cbc540b1&amp;quot;


$`da5eaeb7-1ed2-4b2e-ad4a-49993881d706`
$`da5eaeb7-1ed2-4b2e-ad4a-49993881d706`$supertaxa
[1] &amp;quot;9c6af553-390c-4bdd-baeb-6992cbc540b1&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;## download images&lt;/span&gt;
myobjs &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; get_image&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;uuids &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; output&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;128&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;## make the phylogeny&lt;/span&gt;
make_phylo&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;pngobj &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; myobjs&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-06-01-fylopic/unnamed-chunk-1.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;hr&gt;

&lt;h4&gt;Plot a silhouette behind a plot&lt;/h4&gt;

&lt;p&gt;Notice in the below example that you can use normal &lt;code&gt;ggplot2&lt;/code&gt; syntax, and simply add another layer (&lt;code&gt;add_phylopic&lt;/code&gt; from &lt;code&gt;fylopic&lt;/code&gt;) to the plot.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
img &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; get_image&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;27356f15-3cf8-47e8-ab41-71c6260b2724&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;512&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
qplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; Sepal.Length&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; Sepal.Width&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; data &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; iris&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; geom &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;point&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; add_phylopic&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;img&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-06-01-fylopic/unnamed-chunk-2.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;What&amp;#39;s next?&lt;/h2&gt;

&lt;p&gt;This is a side project, so if anyone has interest in helping please do contribute code, report bugs, request features, etc. &lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>BISON USGS species occurrence data</title>
   <link href="http://recology.info//2013/05/rbison/"/>
   <updated>2013-05-27T00:00:00-07:00</updated>
   <id>http://recology.info//2013/05/rbison</id>
   <content type="html">&lt;p&gt;The USGS recently released a way to search for and get species occurrence records for the USA. The service is called &lt;a href=&quot;http://bison.usgs.ornl.gov/&quot;&gt;BISON&lt;/a&gt; (Biodiversity Information Serving Our Nation). The service has &lt;a href=&quot;http://bison.usgs.ornl.gov/&quot;&gt;a web interface&lt;/a&gt; for human interaction in a browser, and &lt;a href=&quot;http://bison.usgs.ornl.gov/services.html&quot;&gt;two APIs&lt;/a&gt; (application programming interface) to allow machines to interact with their database. One of the APIs allows you to search and retrieve data, and the other gives back maps as either a heatmap or a species occurrence map. The latter is more appropriate for working in a browser, so I&amp;#39;ll leave that to the web app folks. &lt;/p&gt;

&lt;p&gt;The Core Science Analytics and Synthesis (CSAS) program of the US Geological Survey are responsible for BISON, and are the US node of the Global Biodiversity Information Facility (GBIF). BISON data is nested within that of GBIF, but has (or wil have?) additional data not in GBIF, as described on their &lt;em&gt;About&lt;/em&gt; page:&lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;BISON has been initiated with the 110 million records GBIF makes available from the U.S. and is integrating millions more records from other sources each year&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;Have a look at their &lt;em&gt;Data providers&lt;/em&gt; and &lt;em&gt;Statistics&lt;/em&gt; tabs on the BISON website, which list where data comes from and how many searches and downloads have been done on each data provider.&lt;/p&gt;

&lt;p&gt;We (rOpenSci) started an R package to interact with the BISON search API &amp;gt;&amp;gt; &lt;code&gt;rbison&lt;/code&gt;. You may be thinking, but if the data in BISON is also in GBIF, why both making another R package for BISON? Good question. As I just said, BISON will have some data GBIF won&amp;#39;t have. Also, the services (search API and map service) are different than those of GBIF. &lt;/p&gt;

&lt;p&gt;Check out the package on GitHub here &lt;a href=&quot;https://github.com/ropensci/rbison&quot;&gt;https://github.com/ropensci/rbison&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;Here is a quick run through of some things you can do with &lt;code&gt;rbison&lt;/code&gt;. &lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;Install ribson&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Install rbison from GitHub using devtools, uncomment to install&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# install.packages(&amp;#39;devtools&amp;#39;) library(devtools) install_github(&amp;#39;rbison&amp;#39;,&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# &amp;#39;ropensci&amp;#39;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rbison&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Search the BISON database for, of course, bison&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Do the search&lt;/span&gt;
out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; bison&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;species &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Bison bison&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; type &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;scientific_name&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; start &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; count &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Check that the returned object is the right class (&amp;#39;bison&amp;#39;)&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &amp;quot;bison&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;Get a summary of the data&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;bison_data&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;total observation fossil specimen unknown
1   761          30      4      709      18&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;Summary by counties (just the first 6 rows)&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;bison_data&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;input &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; out&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; datatype &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;counties&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;record_id total county_name      state
1     48295     7    Lipscomb      Texas
2     41025    15      Harney     Oregon
3     49017     8    Garfield       Utah
4     35031     2    McKinley New Mexico
5     56013     1     Fremont    Wyoming
6     40045     2       Ellis   Oklahoma&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;Summary of states&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;bison_data&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;input &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; out&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; datatype &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;states&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;record_id total county_fips
1    Washington     1          53
2         Texas     8          48
3    New Mexico     8          35
4          Iowa     1          19
5       Montana     9          30
6       Wyoming   155          56
7        Oregon    15          41
8      Oklahoma    14          40
9        Kansas    10          20
10      Arizona     1          04
11       Alaska    29          02
12         Utah    16          49
13     Colorado    17          08
14     Nebraska     1          31
15 South Dakota    61          46&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Map the results&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Search for Ursus americanus (american black bear)&lt;/span&gt;
out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; bison&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;species &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Ursus americanus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; type &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;scientific_name&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; start &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    count &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;200&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Sweet, got some data&lt;/span&gt;
bison_data&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;total observation fossil specimen literature unknown centroid
1  3792          59    125     3522         47      39       78&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Make some maps! Note that right now the county and state maps just plot the conterminous lower 48. The map of individual occurrences shows the lower 48 + Alaska&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# By county&lt;/span&gt;
bisonmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; tomap &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;county&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-05-25-rbison/map11.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# By state&lt;/span&gt;
bisonmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; tomap &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;state&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-05-25-rbison/map12.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Individual locations&lt;/span&gt;
bisonmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## Rendering map...plotting 199 points&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-05-25-rbison/map13.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;When plotting occurrences, you can pass additional arguments into the &lt;code&gt;bisonmap&lt;/code&gt; function.&lt;/h3&gt;

&lt;h4&gt;For example, you can jitter the points&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;bisonmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;input &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; out&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; geom &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; geom_jitter&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## Rendering map...plotting 199 points&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-05-25-rbison/map2.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;h4&gt;And you can specify by how much you want the points to jitter (here an extreme example to make it obvious)&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
bisonmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;input &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; out&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; geom &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; geom_jitter&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; jitter &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; position_jitter&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## Rendering map...plotting 199 points&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/2013-05-25-rbison/map3.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;hr&gt;

&lt;h4&gt;Let us know if you have any feature requests or find bugs at &lt;a href=&quot;https://github.com/ropensci/rbison/issues&quot;&gt;our GitHub Issues page&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Scholarly metadata in R</title>
   <link href="http://recology.info//2013/03/r-metadata/"/>
   <updated>2013-03-16T00:00:00-07:00</updated>
   <id>http://recology.info//2013/03/r-metadata</id>
   <content type="html">&lt;p&gt;Scholarly metadata - the meta-information surrounding articles - can be super useful.  Although metadata does not contain the full content of articles, it contains a lot of useful information, including title, authors, abstract, URL to the article, etc. &lt;/p&gt;

&lt;p&gt;One of the largest sources of metadata is provided via the Open Archives Initiative Protocol for Metadata Harvesting or &lt;a href=&quot;http://www.openarchives.org/OAI/openarchivesprotocol.html&quot;&gt;OAI-PMH&lt;/a&gt;. Many publishers, provide their metadata through their own endpoint, and implement the standard OAI-PMH methods: &lt;a href=&quot;http://www.openarchives.org/OAI/openarchivesprotocol.html#GetRecord&quot;&gt;GetRecord&lt;/a&gt;, &lt;a href=&quot;http://www.openarchives.org/OAI/openarchivesprotocol.html#Identify&quot;&gt;Identify&lt;/a&gt;, &lt;a href=&quot;http://www.openarchives.org/OAI/openarchivesprotocol.html#ListIdentifiers&quot;&gt;ListIdentifiers&lt;/a&gt;, &lt;a href=&quot;http://www.openarchives.org/OAI/openarchivesprotocol.html#ListMetadataFormats&quot;&gt;ListMetadataFormats&lt;/a&gt;, &lt;a href=&quot;http://www.openarchives.org/OAI/openarchivesprotocol.html#ListRecords&quot;&gt;ListRecords&lt;/a&gt;, and &lt;a href=&quot;http://www.openarchives.org/OAI/openarchivesprotocol.html#ListSets&quot;&gt;ListSets&lt;/a&gt;. Many providers use OAI-PMH, including &lt;a href=&quot;http://oai.datacite.org/&quot;&gt;DataCite&lt;/a&gt;, &lt;a href=&quot;http://wiki.datadryad.org/Data_Access#OAI-PMH&quot;&gt;Dryad&lt;/a&gt;, and &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/pmc/tools/oai/&quot;&gt;PubMed&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Some data-/article-providers provide their metadata via their own APIs. For example, Nature Publishing Group provides their own metadata API &lt;a href=&quot;http://developers.nature.com/docs&quot;&gt;here&lt;/a&gt; in non OAI-PMH format; you can get PLoS metadata through their &lt;a href=&quot;http://api.plos.org/&quot;&gt;search API&lt;/a&gt;, and the BHL (see below) provides their own custom metadata service.&lt;/p&gt;

&lt;p&gt;In addition, CrossRef provides a number of metadata search services: &lt;a href=&quot;http://search.labs.crossref.org/help/api&quot;&gt;metadata search&lt;/a&gt; and &lt;a href=&quot;http://labs.crossref.org/openurl/&quot;&gt;openurl&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;What about the other publishers? (please tell me if I&amp;#39;m wrong about these three) &lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Springer has &lt;a href=&quot;http://dev.springer.com/docs&quot;&gt;a metadata API&lt;/a&gt;, but it is terrible, soooo...&lt;/li&gt;
&lt;li&gt;Elsevier, are you kidding? Well, they do have some sort of API service, but its a pain in the ass. &lt;/li&gt;
&lt;li&gt;Wiley, no better than Elsevier.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Note that metadata can live in other places:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Another package being developed by David Springate, &lt;a href=&quot;https://github.com/ropensci/rpubmed&quot;&gt;rpubmed&lt;/a&gt; can get PubMed metadata. &lt;/li&gt;
&lt;li&gt;Our wrapper to the Mendeley API, &lt;a href=&quot;https://github.com/ropensci/rmendeley&quot;&gt;RMendeley&lt;/a&gt;, gets article metadata via Mendeley&amp;#39;s database. &lt;/li&gt;
&lt;li&gt;Our wrapper to the Biodiversity Heritage Library API &lt;a href=&quot;http://www.biodiversitylibrary.org/api2/docs/docs.html&quot;&gt;here&lt;/a&gt; gets their metadata. &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;No, you can&amp;#39;t get metadata via Google Scholar - the don&amp;#39;t allow scraping, and don&amp;#39;t have expose their data via an API.&lt;/p&gt;

&lt;p&gt;I have discussed this package &lt;a href=&quot;http://sckott.github.io/2012/09/rmetadata/&quot;&gt;in a previous blog post&lt;/a&gt;, but have since worked on the code a bit, and thought it deserved a new post. &lt;/p&gt;

&lt;p&gt;You can see a tutorial for this package &lt;a href=&quot;http://ropensci.github.com/rmetadata/&quot;&gt;here&lt;/a&gt;, and contribute to the code &lt;a href=&quot;https://github.com/ropensci/rmetadata&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;Install rmetadata&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# install_github(&amp;#39;rmetadata&amp;#39;, &amp;#39;ropensci&amp;#39;) # uncomment to install&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rmetadata&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Count OAI-PMH identifiers for a data provider.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# For DataCite.&lt;/span&gt;
count_identifiers&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;datacite&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  provider   count
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; datacite &lt;span class=&quot;m&quot;&gt;1216193&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Lookup article info via CrossRef with DOI and get a citation.&lt;/h3&gt;

&lt;h4&gt;As Bibtex&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;crossref_citation&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;10.3998/3336451.0009.101&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; style &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Bibtex&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;@&lt;/span&gt;Article&lt;span class=&quot;p&quot;&gt;{,&lt;/span&gt;
  title &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;In Google We Trust&lt;span class=&quot;o&quot;&gt;?&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  author &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;Geoffrey Bilder&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  journal &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;The Journal of Electronic Publishing&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  year &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2006&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  month &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;01&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  volume &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
  doi &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10.3998&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3336451.0009.101&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;},&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;As regular text&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;crossref_citation&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;10.3998/3336451.0009.101&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; style &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;text&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

Bilder G &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2006&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;In Google We Trust?&amp;quot;&lt;/span&gt; _The Journal of Electronic
Publishing_&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;URL&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;
http&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;dx.doi.org&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10.3998&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3336451.0009.101&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Search the CrossRef Metatdata for DOIs using free form references.&lt;/h3&gt;

&lt;h4&gt;Search with title, author, year, and journal&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;crossref_search_free&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;query &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Piwowar Sharing Detailed Research Data Is Associated with Increased Citation Rate PLOS one 2007&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

                                                                                             text
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; Piwowar Sharing Detailed Research Data Is Associated with Increased Citation Rate PLOS one &lt;span class=&quot;m&quot;&gt;2007&lt;/span&gt;
  match                   doi score
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10.1038&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;npre.2007.361 &lt;span class=&quot;m&quot;&gt;4.905&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h4&gt;Get a DOI and get the citation using \code{crossref_search}&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Get a DOI for a paper&lt;/span&gt;
doi &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; crossref_search_free&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;query &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Piwowar sharing data PLOS one&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;doi

&lt;span class=&quot;c1&quot;&gt;# Get the metadata&lt;/span&gt;
crossref_search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;doi &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; doi&lt;span class=&quot;p&quot;&gt;)[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

                           doi score normalizedScore
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10.1371&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;journal.pone.0000308 &lt;span class=&quot;m&quot;&gt;18.19&lt;/span&gt;             &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Get a random set of DOI&amp;#39;s through CrossRef.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Default search gets 20 random DOIs&lt;/span&gt;
crossref_r&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;

 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.4028/www.scientific.net/MSF.126-128.467&amp;quot;&lt;/span&gt;
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.2139/ssrn.548523&amp;quot;&lt;/span&gt;                       
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1016/S0012-821X(02)00562-9&amp;quot;&lt;/span&gt;             
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1093/rsq/13.2-3.167&amp;quot;&lt;/span&gt;                    
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.5772/55055&amp;quot;&lt;/span&gt;                             
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1515/BC.1999.050&amp;quot;&lt;/span&gt;                       
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1016/S0020-7292(98)90160-6&amp;quot;&lt;/span&gt;             
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1111/j.1439-0418.1985.tb02788.x&amp;quot;&lt;/span&gt;        
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1089/aid.2012.0115&amp;quot;&lt;/span&gt;                     
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1016/0002-9378(95)90155-8&amp;quot;&lt;/span&gt;              
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1001/jama.1949.02900490055028&amp;quot;&lt;/span&gt;          
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1051/jphyscol:1989172&amp;quot;&lt;/span&gt;                  
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1016/s0301-2115(03)00298-7&amp;quot;&lt;/span&gt;             
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1007/BF02735292&amp;quot;&lt;/span&gt;                        
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1016/0003-4916(65)90026-6&amp;quot;&lt;/span&gt;              
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.4156/jdcta.vol5.issue5.12&amp;quot;&lt;/span&gt;              
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1007/s10904-009-9316-2&amp;quot;&lt;/span&gt;                 
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1023/A:1021690001832&amp;quot;&lt;/span&gt;                   
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;19&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1007/s12262-012-0724-0&amp;quot;&lt;/span&gt;                 
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1007/bf02192860&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Specify you want journal articles only&lt;/span&gt;
crossref_r&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;type &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;journal_article&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1016/j.jacc.2011.09.055&amp;quot;&lt;/span&gt;                                 
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1002/dev.420170603&amp;quot;&lt;/span&gt;                                      
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.4315/0362-028X.JFP-10-403&amp;quot;&lt;/span&gt;                               
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1016/S0925-4927(98)00016-X&amp;quot;&lt;/span&gt;                              
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1111/j.1933-1592.2002.tb00141.x&amp;quot;&lt;/span&gt;                         
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1541/ieejfms.127.629&amp;quot;&lt;/span&gt;                                    
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.5539/enrr.v3n1p62&amp;quot;&lt;/span&gt;                                       
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1016/S0960-9776(96)90038-7&amp;quot;&lt;/span&gt;                              
 &lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1016/0925-9635(94)05240-9&amp;quot;&lt;/span&gt;                               
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1016/s0929-693x(97)86846-7&amp;quot;&lt;/span&gt;                              
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;11&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1002/(SICI)1096-9071(199601)48:1&amp;lt;53::AID-JMV9&amp;gt;3.0.CO;2-K&amp;quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1016/s0267-7261(01)00016-1&amp;quot;&lt;/span&gt;                              
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;13&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1111/j.1748-0361.2003.tb00575.x&amp;quot;&lt;/span&gt;                         
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;14&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1097/00005721-197701000-00011&amp;quot;&lt;/span&gt;                           
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1007/s00894-009-0593-z&amp;quot;&lt;/span&gt;                                  
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1071/AR9830063&amp;quot;&lt;/span&gt;                                          
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;17&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1186/gb-2009-10-4-r39&amp;quot;&lt;/span&gt;                                   
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.2165/00128415-201113540-00038&amp;quot;&lt;/span&gt;                           
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;19&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1007/BF00522986&amp;quot;&lt;/span&gt;                                         
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1080/19407963.2011.539385&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Search the CrossRef Metatdata API.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Search for two different query terms&lt;/span&gt;
crossref_search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;query &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;renear&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;palmer&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; rows &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

                            doi score normalizedScore
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;       &lt;span class=&quot;m&quot;&gt;10.1126&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;science.1157784 &lt;span class=&quot;m&quot;&gt;3.253&lt;/span&gt;             &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;  &lt;span class=&quot;m&quot;&gt;10.1002&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;meet.2009.1450460141 &lt;span class=&quot;m&quot;&gt;2.169&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;66&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10.4242&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;BalisageVol3.Renear01 &lt;span class=&quot;m&quot;&gt;2.102&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;64&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10.4242&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;BalisageVol5.Renear01 &lt;span class=&quot;m&quot;&gt;2.102&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;64&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Get results for a certain year&lt;/span&gt;
crossref_search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;query &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;renear&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;palmer&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; year &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2010&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;

                                  doi  score normalizedScore
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;            &lt;span class=&quot;m&quot;&gt;10.1002&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;meet.14504701218 &lt;span class=&quot;m&quot;&gt;1.0509&lt;/span&gt;             &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;            &lt;span class=&quot;m&quot;&gt;10.1002&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;meet.14504701240 &lt;span class=&quot;m&quot;&gt;1.0509&lt;/span&gt;             &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;           &lt;span class=&quot;m&quot;&gt;10.5270&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;OceanObs09.cwp.68 &lt;span class=&quot;m&quot;&gt;1.0442&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;99&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;               &lt;span class=&quot;m&quot;&gt;10.1353&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;mpq.2010.0003 &lt;span class=&quot;m&quot;&gt;0.6890&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;65&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;                  &lt;span class=&quot;m&quot;&gt;10.1353&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;mpq.0.0041 &lt;span class=&quot;m&quot;&gt;0.6890&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;65&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;                  &lt;span class=&quot;m&quot;&gt;10.1353&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;mpq.0.0044 &lt;span class=&quot;m&quot;&gt;0.6890&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;65&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;                  &lt;span class=&quot;m&quot;&gt;10.1353&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;mpq.0.0057 &lt;span class=&quot;m&quot;&gt;0.6890&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;65&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;                    &lt;span class=&quot;m&quot;&gt;10.1386&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;fm.1.1.2 &lt;span class=&quot;m&quot;&gt;0.6890&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;65&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;9&lt;/span&gt;                    &lt;span class=&quot;m&quot;&gt;10.1386&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;fm.1.2.2 &lt;span class=&quot;m&quot;&gt;0.6890&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;65&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;                   &lt;span class=&quot;m&quot;&gt;10.1386&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;fm.1.3.2 &lt;span class=&quot;m&quot;&gt;0.6890&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;65&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;11&lt;/span&gt;       &lt;span class=&quot;m&quot;&gt;10.1097&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;ALN.0b013e3181f09404 &lt;span class=&quot;m&quot;&gt;0.6090&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;57&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;      &lt;span class=&quot;m&quot;&gt;10.1016&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;j.urology.2010.02.033 &lt;span class=&quot;m&quot;&gt;0.6090&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;57&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;13&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;10.1353&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;ect.2010.0025 &lt;span class=&quot;m&quot;&gt;0.6090&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;57&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;14&lt;/span&gt;               &lt;span class=&quot;m&quot;&gt;10.1117&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2.4201001.04&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.6090&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;57&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;15&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10.1111&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;j.1835&lt;span class=&quot;m&quot;&gt;-9310.1977.&lt;/span&gt;tb01159.x &lt;span class=&quot;m&quot;&gt;0.6090&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;57&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;    &lt;span class=&quot;m&quot;&gt;10.4067&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;S0717&lt;span class=&quot;m&quot;&gt;-69962010000100001&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.6090&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;57&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;17&lt;/span&gt;    &lt;span class=&quot;m&quot;&gt;10.4067&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;S0717&lt;span class=&quot;m&quot;&gt;-69962010000200001&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.6090&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;57&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;           &lt;span class=&quot;m&quot;&gt;10.2105&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;AJPH.2009.191098 &lt;span class=&quot;m&quot;&gt;0.6029&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;57&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;19&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;10.1353&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;mpq.2010.0004 &lt;span class=&quot;m&quot;&gt;0.5167&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;49&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;20&lt;/span&gt;                 &lt;span class=&quot;m&quot;&gt;10.1353&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;mpq.0.0048 &lt;span class=&quot;m&quot;&gt;0.5167&lt;/span&gt;              &lt;span class=&quot;m&quot;&gt;49&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Get a short DOI from shortdoi.org.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Geta a short DOI, just the short DOI returned&lt;/span&gt;
short_doi&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;doi &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1371/journal.pone.0042793&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10/f2bfz9&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Geta a short DOI, all data returned&lt;/span&gt;
short_doi&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;doi &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1371/journal.pone.0042793&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; justshort &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;DOI
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.1371/journal.pone.0042793&amp;quot;&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;ShortDOI
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10/f2bfz9&amp;quot;&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;IsNew
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Get a record from a OAI-PMH data provider.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Single provider, one identifier&lt;/span&gt;
md_getrecord&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;pensoft&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; identifier &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.3897/zookeys.1.10&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

                                                                                                title
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; A new candidate &lt;span class=&quot;kr&quot;&gt;for&lt;/span&gt; a Gondwanaland distribution &lt;span class=&quot;kr&quot;&gt;in&lt;/span&gt; the Zodariidae &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;Araneae&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; Australutica &lt;span class=&quot;kr&quot;&gt;in&lt;/span&gt; Africa
      creator date             type
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; Jocqué&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;Rudy &lt;span class=&quot;m&quot;&gt;2008&lt;/span&gt; Research Article&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Single provider, multiple identifiers&lt;/span&gt;
md_getrecord&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;pensoft&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; identifier &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;10.3897/zookeys.1.10&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.3897/zookeys.4.57&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

                                                                                                   title
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;    A new candidate &lt;span class=&quot;kr&quot;&gt;for&lt;/span&gt; a Gondwanaland distribution &lt;span class=&quot;kr&quot;&gt;in&lt;/span&gt; the Zodariidae &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;Araneae&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; Australutica &lt;span class=&quot;kr&quot;&gt;in&lt;/span&gt; Africa
&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt; Studies of Tiger Beetles. CLXXVIII. A new Lophyra &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;Lophyra&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; from Somaliland &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;Coleoptera&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; Cicindelidae&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        creator date             type
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;   Jocqué&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;Rudy &lt;span class=&quot;m&quot;&gt;2008&lt;/span&gt; Research Article
&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt; Cassola&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;Fabio &lt;span class=&quot;m&quot;&gt;2008&lt;/span&gt; Research Article&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;List available metadata formats from various providers.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# List metadata formats for a provider&lt;/span&gt;
md_listmetadataformats&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;dryad&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

  metadataPrefix
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;         oai_dc
&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;            rdf
&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;            ore
&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;           mets
                                                       schema
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;              http&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;www.openarchives.org&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;OAI&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2.0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;oai_dc.xsd
&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;                 http&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;www.openarchives.org&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;OAI&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2.0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;rdf.xsd
&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt; http&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;tweety.lanl.gov&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;public&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;schemas&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2008-06&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;atom&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;tron.sch
&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;                  http&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;www.loc.gov&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;standards&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;mets&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;mets.xsd
                            metadataNamespace
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; http&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;www.openarchives.org&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;OAI&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2.0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;oai_dc&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;    http&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;www.openarchives.org&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;OAI&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2.0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;rdf&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;                 http&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;www.w3.org&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2005&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;Atom
&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;                    http&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;www.loc.gov&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;METS&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# List metadata formats for a specific identifier for a provider&lt;/span&gt;
md_listmetadataformats&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;pensoft&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; identifier &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.3897/zookeys.1.10&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

            identifier metadataPrefix
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10.3897&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;zookeys.1.10         oai_dc
&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10.3897&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;zookeys.1.10           mods
                                             schema
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;    http&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;www.openarchives.org&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;OAI&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2.0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;oai_dc.xsd
&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt; http&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;www.loc.gov&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;standards&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;mods&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;v3&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;mods&lt;span class=&quot;m&quot;&gt;-3-1.&lt;/span&gt;xsd
                            metadataNamespace
&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; http&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;www.openarchives.org&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;OAI&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2.0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;oai_dc&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;
&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;                  http&lt;span class=&quot;o&quot;&gt;://&lt;/span&gt;www.loc.gov&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;mods&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;v3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Some plotting - mean number of authors per paper&lt;/h3&gt;

&lt;p&gt;Okay, so this isn&amp;#39;t a super useful visualization, but you can surely think of something better. &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggthemes&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;reshape&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;


temp &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; md_listrecords&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;pensoft&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; from &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;2011-10-01&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; until &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;2012-01-01&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
temp2 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ldply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;temp&lt;span class=&quot;p&quot;&gt;)[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
auths &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;temp2&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;creator&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;strsplit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]))&lt;/span&gt;
toplot &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;authors &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; auths&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; articletype &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; temp2&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;type&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
toplot_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ddply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;toplot&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;articletype&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; summarise&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; authors &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;mean&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;authors&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
toplot_&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;articletype &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; reorder&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;toplot_&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;articletype&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; toplot_&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;authors&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;toplot_&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;articletype&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; authors&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; theme_tufte&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_bar&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;stat &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;identity&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    coord_flip&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/someplotting.png&quot; alt=&quot;center&quot;&gt;&lt;/p&gt;

&lt;hr&gt;

&lt;h4&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2013-03-16-r-metadata.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2013-03-16-r-metadata.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and &lt;a href=&quot;https://github.com/cboettig/knitcitations&quot;&gt;knitcitations&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Visualizing rOpenSci collaboration</title>
   <link href="http://recology.info//2013/03/ropensci-collaboration/"/>
   <updated>2013-03-08T00:00:00-08:00</updated>
   <id>http://recology.info//2013/03/ropensci-collaboration</id>
   <content type="html">&lt;p&gt;We (&lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt;) have been writing code for R packages for a couple years, so it is time to take a look back at the data. What data you ask? The commits data from GitHub ~ data that records who did what and when. &lt;/p&gt;

&lt;p&gt;Using the &lt;a href=&quot;http://developer.github.com/v3/repos/commits/&quot;&gt;Github commits API&lt;/a&gt; we can gather data on who commited code to a Github repository, and when they did it. Then we can visualize this hitorical record. &lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;Install some functions for interacting with the Github API via R&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;sandbox&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;ropensci&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 

&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;sandbox&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;httr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;scales&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;reshape2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;bipartite&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;doMC&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plyr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggthemes&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;picante&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# And authenticate - pops open a page in your default browser, then tells &lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# you authentication was successful&lt;/span&gt;
github_auth&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Get all repos for an organization, here ropensci of course&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;ropensci_repos &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; github_allrepos&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;userorg &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Get commits broken down in to additions and deletions, though below we just collapse them to all commits&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;registerDoMC&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;cores &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
github_commits_safe &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; plyr&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;failwith&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; github_commits&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; llply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ropensci_repos&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; github_commits_safe&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    since &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;2009-01-01T&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; limit &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;500&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;.&lt;/span&gt;parallel &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ropensci_repos
out2 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; compact&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
outdf &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ldply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Plot commits by date and repo&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;outdf_subset &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; outdf&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;outdf&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.i&lt;/span&gt;d &lt;span class=&quot;o&quot;&gt;%in%&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;citeulike&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;challenge&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;docs&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci-book&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;usecases&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;textmine&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;usgs&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ropenscitoolkit&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;neotoma&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;rEWDB&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;rgauges&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;rodash&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci.github.com&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ROAuth&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
outdf_subset&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.i&lt;/span&gt;d &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;tolower&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;outdf_subset&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.i&lt;/span&gt;d&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
outdf_subset &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ddply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;outdf_subset&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.i&lt;/span&gt;d&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; summarise&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; value &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;value&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

mindates &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; llply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;outdf_subset&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.i&lt;/span&gt;d&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;outdf_subset&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;outdf_subset&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.i&lt;/span&gt;d &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; 
    x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;date&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;mindates&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;outdf_subset&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.i&lt;/span&gt;d&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
mindates &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;do.call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; mindates&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
outdf_subset&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.i&lt;/span&gt;d &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;factor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;outdf_subset&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.i&lt;/span&gt;d&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; levels &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;mindates&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;

ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;outdf_subset&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;date&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; value&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; fill &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;.i&lt;/span&gt;d&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    geom_bar&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;stat &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;identity&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    geom_rangeframe&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;sides &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;b&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; colour &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;grey&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    theme_bw&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;9&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    scale_x_date&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;labels &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; date_format&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;%Y&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; breaks &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; date_breaks&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;year&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    scale_y_log10&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    facet_grid&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.i&lt;/span&gt;d &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    labs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
    theme&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;axis.text.y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
        axis.text.x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_text&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;colour &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;black&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
        axis.ticks.y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
        strip.text.y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_text&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;angle &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
        strip.background &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_rect&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
        panel.grid.major &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
        panel.grid.minor &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
        legend.text &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_text&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
        legend.position &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;none&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        panel.border &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/commitsbydate.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;p&gt;The plot above plots the sum of additions+deletions, and is sorted by the first commit date of reach repo, with the first being &lt;a href=&quot;https://github.com/ropensci/treeBASE&quot;&gt;treebase&lt;/a&gt;, which wraps the &lt;a href=&quot;http://treebase.org/treebase-web/urlAPI.html&quot;&gt;Treebase API&lt;/a&gt;, and the most recent being &lt;a href=&quot;https://github.com/ropensci/rWBclimate&quot;&gt;rwbclimate&lt;/a&gt;, which wraps the &lt;a href=&quot;http://data.worldbank.org/developers/climate-data-api&quot;&gt;World Blank climate data API&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;You can see that some repos have recieved commits more or less consistently over their life time, while others have seen a little development here and there. &lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;w&lt;/p&gt;

&lt;h3&gt;In addition, there are quite a few people that have committed code now to rOpenSci repos, calling for a network vizualization of course.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;outdf_network &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;droplevels&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;outdf&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;outdf&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.i&lt;/span&gt;d &lt;span class=&quot;o&quot;&gt;%in%&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;citeulike&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;challenge&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;docs&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci-book&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;usecases&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;textmine&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;usgs&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ropenscitoolkit&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;retriever&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;rodash&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci.github.com&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ROAuth&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;rgauges&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;sandbox&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;rfna&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;rmetadata&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;rhindawi&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;rpmc&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;rpensoft&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ritis&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
casted &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; dcast&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;outdf_network&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;.i&lt;/span&gt;d &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; date &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; name &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt; variable&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; fun.aggregate &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    value.var &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;value&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;casted&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;repo&amp;quot;&lt;/span&gt;
casted2 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ddply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;casted&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;repo&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; name&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; summarise&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; commits &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;additions&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
casted2 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;repo &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; casted2&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;repo&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; weight &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; casted2&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;commits&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; casted2&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;name&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
mat &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sample2matrix&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;casted2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
plotweb&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;sortweb&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;mat&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; sort.order &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;dec&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; method &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;normal&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; text.rot &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;90&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    adj.high &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-0.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; adj.low &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-0.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; y.width.low &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.05&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y.width.high &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.05&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    ybig &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.09&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; labsize &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/collabnetwork.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;p&gt;The plot above shows repos on one side and contributors on the other. Some folks (the core rOpenSci team: cboettig, karthikram, emhart, and schamberlain) have committed quite a lot to many packages. We also have amny awesome contributors to our packages (some contributors and repos have been removed for clarity). &lt;/p&gt;

&lt;p&gt;rOpenSci is truly a collaborative effort to develop tools for open science, so thanks to all our contributors - keep on forking, pull requesting, and commiting. &lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Academia reboot</title>
   <link href="http://recology.info//2013/02/academia-reboot/"/>
   <updated>2013-02-22T00:00:00-08:00</updated>
   <id>http://recology.info//2013/02/academia-reboot</id>
   <content type="html">&lt;h2&gt;Reboot&lt;/h2&gt;

&lt;p&gt;We need to reboot academia, at least for graduate training. I am speaking from the point of view of ecology/evolution (EEB). Why you ask? Because of the following line of reasoning:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;First, the most important factor for me comes down to supply and demand. We have too much supply (=graduate students) and not enough demand (=faculty positions, etc.) - see &lt;a href=&quot;http://www.phdcomics.com/comics/archive.php?comicid=911&quot;&gt;this comic at PhDComics&lt;/a&gt; for proof. This seems especially apparent when you hear from your fellow postdoc friends that there were hundreds of other people with Ph.D.&amp;#39;s applying for the same position. &lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Second, funding is getting thin. I have never received funding from a competitive grant, despite having 12 published papers to my name. Recent cuts to the NSF, NIH, and other federal agencies mean that getting a grant will be harder and harder. Furthermore, the mean age of a first time NIH grant recipient in 2008 was 51 according to a recent study in PLoS One (Matthews &lt;em&gt;et. al.&lt;/em&gt; 2011). &lt;/p&gt;&lt;/li&gt;
&lt;li&gt;&lt;p&gt;Third, we don&amp;#39;t learn the skills we really need. This is many fold. First, we don&amp;#39;t learn the appropriate mathematical and statistical techniques in undergraduate and grad school - a forthcoming paper found that in a survey of nearly 1000 ecology and evolution graduate students, most thought they were unprepared wrt to math and stats (interview with author in Soundcloud widget below). Second, we don&amp;#39;t learn enough computational skills. Digital data (not on your physical clipboard, but your digital one) is more and more important, requiring knowing how to leverage and keep track of data. Yet, we aren&amp;#39;t taught these skills, at least in my experience. The need for training in computation/coding is evident from the sold out &lt;a href=&quot;http://software-carpentry.org/&quot;&gt;Software Carpentry workshops&lt;/a&gt;. Third, reproducibility is not something we are taught. Well, we are taught to check over everything in detail (read: proof your data), but there is often no way to reproduce analyses when we use 10 different expensive software programs to do an analysis (read: MS Word, JMP, SAS, SigmaPlot, etc.). And isn&amp;#39;t reproduciblity important?&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;hr&gt;

&lt;iframe width=&quot;30%&quot; height=&quot;140&quot; scrolling=&quot;no&quot; frameborder=&quot;no&quot; src=&quot;https://w.soundcloud.com/player/?url=http%3A%2F%2Fapi.soundcloud.com%2Ftracks%2F78215101&amp;amp;color=ff6600&amp;amp;auto_play=false&amp;amp;show_artwork=false&quot;&gt;&lt;/iframe&gt;

&lt;hr&gt;

&lt;h2&gt;What do we do?&lt;/h2&gt;

&lt;p&gt;To address the supply/demand issue, I think we need fewer graduate students, period. I think this will work for a few reasons. If there are fewer graduate students, those that get in will be of higher quality because profs can be more selective, they may get payed more (hopefully) since there are few students, and they should in theory get more attention from their advisers (if they want it). In addition, there would be less competition for the very few grants out there for grad students.  This would then lead to fewer postdocs, and less competition for faculty positions. I think the supply/demand issue in EEB is particularly problematic. That is, in EEB there doesn&amp;#39;t seem to be the large quantity of private sector jobs as there is for Ph.D. graduates in engineering, physics, etc. &lt;/p&gt;

&lt;p&gt;The funding situation is beyond me, but definitely makes me want to leave academia. Crowdfunding, especially &lt;a href=&quot;http://scifundchallenge.org/&quot;&gt;#SciFund&lt;/a&gt;, is an option for scientists, but mostly only on a small financial scale. Any thoughts?&lt;/p&gt;

&lt;p&gt;The skills issue will likely be addressed in time, and vary among schools for sure. Some schools will focus on natural history, which is good (that&amp;#39;s where I did my undergrad and it was great), and some schools will incorporate more of these science 2.0 skills (advanced stats, better math training, and computer science).&lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;&lt;em&gt;Thoughts?&lt;/em&gt;&lt;/h2&gt;

&lt;hr&gt;

&lt;h4&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2013-02-22-academia-reboot.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2013-02-22-academia-reboot.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and &lt;a href=&quot;https://github.com/cboettig/knitcitations&quot;&gt;knitcitations&lt;/a&gt;.&lt;/h4&gt;

&lt;hr&gt;

&lt;h4&gt;References&lt;/h4&gt;

&lt;p&gt;&lt;p&gt;Matthews KRW, Calhoun KM, lo N, ho V and Germano G (2011).
&amp;ldquo;The Aging of Biomedical Research in The United States.&amp;rdquo;
&lt;EM&gt;Plos One&lt;/EM&gt;, &lt;B&gt;6&lt;/B&gt;.
&lt;a href=&quot;http://dx.doi.org/10.1371/journal.pone.0029738&quot;&gt;http://dx.doi.org/10.1371/journal.pone.0029738&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Getting a simple tree via NCBI</title>
   <link href="http://recology.info//2013/02/common-tree/"/>
   <updated>2013-02-14T00:00:00-08:00</updated>
   <id>http://recology.info//2013/02/common-tree</id>
   <content type="html">&lt;p&gt;I was just at the &lt;a href=&quot;http://www.evoio.org/wiki/Phylotastic&quot;&gt;Phylotastic hackathon&lt;/a&gt; in Tucson, AZ at the &lt;a href=&quot;http://www.iplantcollaborative.org/&quot;&gt;iPlant&lt;/a&gt; facilities at the UofA.&lt;/p&gt;

&lt;p&gt;A problem that needs to be solved is getting the incrasingly vast phylogenetic information to folks not comfortable building their own phylogenies. &lt;a href=&quot;http://phylodiversity.net/phylomatic/&quot;&gt;Phylomatic&lt;/a&gt; has made this super easy for people that want plant phylogenies (at least 250 or so papers have used and cited Phylomatic in their papers) - however, there are few options for those that want phylogenies for other taxonomic groups. &lt;/p&gt;

&lt;p&gt;One cool tool that was brought up was the &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/Taxonomy/CommonTree/wwwcmt.cgi&quot;&gt;Common Tree&lt;/a&gt; service provided by NCBI. &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/Taxonomy/CommonTree/cmthelp.html&quot;&gt;Here&amp;#39;s&lt;/a&gt; some help on the service. Unlike Phylomatic, Common Tree is purely based off of taxonomic relationships (A and B are both in the C family, so are sisters), not an actual phylogeny as Phylomatic is based on. &lt;/p&gt;

&lt;p&gt;But how do you use Common Tree?&lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;Get a species list&lt;/h3&gt;

&lt;p&gt;Grab the taxon list from my github account &lt;a href=&quot;https://raw.github.com/sckott/sckott.github.com/master/public/img/species.txt&quot;&gt;here&lt;/a&gt; &lt;/p&gt;

&lt;h3&gt;Go to the site&lt;/h3&gt;

&lt;p&gt;Go to the Common Tree site &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/Taxonomy/CommonTree/wwwcmt.cgi&quot;&gt;here&lt;/a&gt;&lt;/p&gt;

&lt;h3&gt;Choose file&lt;/h3&gt;

&lt;p&gt;Hit the &amp;quot;choose file&amp;quot; button, then select the &lt;code&gt;species.txt&lt;/code&gt; file you downloaded in the first step. &lt;/p&gt;

&lt;h3&gt;Add the species list to make the tree&lt;/h3&gt;

&lt;p&gt;Then hit &amp;quot;add from file&amp;quot;, and you got a &amp;quot;tree&amp;quot;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://raw.github.com/sckott/sckott.github.com/master/public/img/ncbi.png&quot; alt=&quot;image&quot;&gt;&lt;/p&gt;

&lt;h2&gt;Download&lt;/h2&gt;

&lt;p&gt;You can download the tree in a variety of formats, including a .phy file&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;https://raw.github.com/sckott/sckott.github.com/master/public/img/ncbi2.png&quot; alt=&quot;image&quot;&gt;&lt;/p&gt;

&lt;h2&gt;Plot the tree on your machine&lt;/h2&gt;

&lt;p&gt;Make a tree, in R for me&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# install.packages(&amp;#39;ape&amp;#39;) # install if you don&amp;#39;t have ape&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ape&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Read the tree in. YOu get the tree back with alot of newlines (\n) -&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# can easily take these out with a good text editor.&lt;/span&gt;
tree &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; read.tree&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;text &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;(Lampetra:4,((((((Umbra:4,((Lota:4,Microgadus:4)Gadiformes:4,((Culaea:4,Apeltes:4,Pungitius:4,Gasterosteus:4)Gasterosteidae:4,(Morone:4,(Ambloplites:4,Micropterus:4,Lepomis:4)Centrarchidae:4,(Sander:4,Perca:4)Percidae:4)Percoidei:4,Cottus:4)Percomorpha:4)Holacanthopterygii:4)Neognathi:4,(((Prosopium:4,Coregonus:4)Coregoninae:4,(Salvelinus:4,Salmo:4,Oncorhynchus:4)Salmoninae:4)Salmonidae:4,Osmerus:4)Protacanthopterygii:4)Euteleostei:4,(Alosa:4,(Ameiurus:4,(Catostomus:4,(Semotilus:4,Rhinichthys:4,Margariscus:4,Couesius:4,Pimephales:4,Luxilus:4,Notemigonus:4,Notropis:4,Carassius:4)Cyprinidae:4)Cypriniformes:4)Otophysi:4)Otocephala:4)Clupeocephala:4,Anguilla:4)Elopocephala:4,Acipenser:4)Actinopteri:4,Scyliorhinus:4)Gnathostomata:4)Vertebrata:4;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# stretch the branches so tips line up&lt;/span&gt;
tree2 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; compute.brlen&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;tree&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; method &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Grafen&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Plot the tree&lt;/span&gt;
plot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;tree2&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; no.margin &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; cex &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;w00p, there it is...&lt;/h3&gt;

&lt;p&gt;&lt;img src=&quot;https://raw.github.com/sckott/sckott.github.com/master/public/img/ncbi_tree.png&quot; alt=&quot;image4&quot;&gt;&lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;And the answer is &lt;em&gt;NO&lt;/em&gt; to the question: Is there an API for Common Tree?&lt;/h3&gt;

&lt;hr&gt;

&lt;h4&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2013-02-14-common-tree.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2013-02-14-common-tree.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>testing ifttt recipe, ignore</title>
   <link href="http://recology.info//2013/01/ifttt-test/"/>
   <updated>2013-01-26T00:00:00-08:00</updated>
   <id>http://recology.info//2013/01/ifttt-test</id>
   <content type="html">&lt;p&gt;testing ifttt recipe&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Waiting for an API request to complete</title>
   <link href="http://recology.info//2013/01/api-token/"/>
   <updated>2013-01-26T00:00:00-08:00</updated>
   <id>http://recology.info//2013/01/api-token</id>
   <content type="html">&lt;h3&gt;Dealing with API tokens in R&lt;/h3&gt;

&lt;p&gt;In &lt;a href=&quot;http://sckott.github.io/2013/01/tnrs-use-case/&quot;&gt;my previous post&lt;/a&gt; I showed an example of calling the Phylotastic taxonomic name resolution API &lt;code&gt;Taxosaurus&lt;/code&gt; &lt;a href=&quot;http://api.phylotastic.org/tnrs&quot;&gt;here&lt;/a&gt;.  When you query their API they give you a token which you use later to retrieve the result (see examples on their page above). However, you don&amp;#39;t know when the query will be done, so how do we know when to send the query to rerieve the data?&lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;As the time this takes depends on how big the query is and other things, we don&amp;#39;t know when we can get the result. I struggled with this for a bit, but then settled on using a while loop. &lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;So what does this look like?  Basically we just keep sending the request for data until we get it.&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;iter &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# make an iterator so each time we call&lt;/span&gt;
output &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# make an empty list to put data into&lt;/span&gt;
timeout &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;wait&amp;quot;&lt;/span&gt;
&lt;span class=&quot;kr&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;timeout &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;wait&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    iter &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; iter &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# increase the iterator each time&lt;/span&gt;
    temp &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; fromJSON&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;getURL&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;retrieve&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# send the request and parse the JSON&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;grepl&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;is still being processed&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; temp&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;message&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        timeout &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;wait&amp;quot;&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        output&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;iter&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; temp  &lt;span class=&quot;c1&quot;&gt;# put result from query in the list&lt;/span&gt;
        timeout &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;done&amp;quot;&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# we got the result so timeout is now done, making the while loop stop&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2013-01-26-api-token.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2013-01-26-api-token.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Resolving species names when you have a lot of them</title>
   <link href="http://recology.info//2013/01/tnrs-use-case/"/>
   <updated>2013-01-25T00:00:00-08:00</updated>
   <id>http://recology.info//2013/01/tnrs-use-case</id>
   <content type="html">&lt;h3&gt;&lt;strong&gt;taxize use case: Resolving species names when you have a lot of them&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;Species names can be a pain in the ass, especially if you are an ecologist. We ecologists aren&amp;#39;t trained in taxonomy, yet we often end up with huge species lists.  Of course we want to correct any spelling errors in the names, and get the newest names for our species, resolve any synonyms, etc. &lt;/p&gt;

&lt;p&gt;We are building tools into our R package &lt;a href=&quot;http://ropensci.github.com/taxize_/&quot;&gt;&lt;code&gt;taxize&lt;/code&gt;&lt;/a&gt;, that will let you check your species names to make sure they are correct. &lt;/p&gt;

&lt;p&gt;An important use case is when you have a lot of species. Someone wrote to us recently, saying that they had thousands of species, and they wanted to know how to check their species names efficiently in R. &lt;/p&gt;

&lt;p&gt;Below is an example of how to do this. &lt;/p&gt;

&lt;hr&gt;

&lt;h4&gt;Install taxize&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# install_github(&amp;#39;taxize_&amp;#39;, &amp;#39;ropensci&amp;#39;) # install the GitHub version, not&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# the CRAN version, uncomment if you don&amp;#39;t have it installed&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;taxize&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;Get some species, in this case all species in the Scrophulariaceae family from theplantlist.org&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;tpl_get&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dir_ &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;~/foo2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; family &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Scrophulariaceae&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## Reading and writing csv files to ~/foo2...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;dat &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; read.csv&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;~/foo2/Scrophulariaceae.csv&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;Lets grab the species and concatenate to genus_species&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;species &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ddply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Genus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Species&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)],&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;transform&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    gen_sp &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.factor&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;paste&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;Genus&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; Species&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; sep &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot; &amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;It&amp;#39;s better to do many smaller calls to a web API instead of few big ones to be nice to the database maintainers.&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;## Define function to split up your species list into useable chuncks&lt;/span&gt;
slice &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;input&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    starts &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;seq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;input&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;by&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    tt &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;starts&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; input&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;y&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;y &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;by &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))])&lt;/span&gt;
    llply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;tt&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; x&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;is.na&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
species_split &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; slice&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;species&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;Query for your large species list with pauses between calls, with 3 seconds in between calls to not hit the web service too hard. Using POST method here instead of GET - required when you have a lot of species.&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;tnrs_safe &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; failwith&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; tnrs&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# in case some calls fail, will continue&lt;/span&gt;
out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; llply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;species_split&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; tnrs_safe&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; getpost &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;POST&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; sleep &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Calling http://taxosaurus.org/retrieve/90fcd9ae425ad7c6103b06dd9fd78ae2
Calling http://taxosaurus.org/retrieve/223f73b83fcddcb8b6187966963660a8
Calling http://taxosaurus.org/retrieve/72bacdbb8938316e321d4c709c8cdd09
Calling http://taxosaurus.org/retrieve/979ce9cc4dec376710f61de162e1294e
Calling http://taxosaurus.org/retrieve/03a39a124561fec2fdfc0f483d9fb607
Calling http://taxosaurus.org/retrieve/d4bf4e5a1403f45a1be1ca3dd87785d7
Calling http://taxosaurus.org/retrieve/a9a9bdde6fda7e325d80120e27ccb480
Calling http://taxosaurus.org/retrieve/215ccdcf2b00362278bf19d1942e1395
Calling http://taxosaurus.org/retrieve/9d43c0b99b4dfb5ea1b435adab17b980
Calling http://taxosaurus.org/retrieve/42e166f8e43f1fb349e36459cd5938b3
Calling http://taxosaurus.org/retrieve/2c42e4b5227c5464f9bfeeafcdf0651d&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Looks like we got some data back for each element of our species list&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# just look at the first two&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[[1]]
                 submittedName                 acceptedName    sourceId
1        Aptosimum welwitschii                              iPlant_TNRS
2        Anticharis ebracteata        Anticharis ebracteata iPlant_TNRS
3            Aptosimum lineare            Aptosimum lineare iPlant_TNRS
4     Antherothamnus pearsonii     Antherothamnus pearsonii iPlant_TNRS
5 Barthlottia madagascariensis Barthlottia madagascariensis iPlant_TNRS
6         Agathelpis mucronata                              iPlant_TNRS
  score                  matchedName     annotations
1     1        Aptosimum welwitschii                
2     1        Anticharis ebracteata          Schinz
3     1            Aptosimum lineare Marloth &amp;amp; Engl.
4     1     Antherothamnus pearsonii        N.E. Br.
5     1 Barthlottia madagascariensis      Eb. Fisch.
6     1         Agathelpis mucronata                
                                    uri
1                                      
2 http://www.tropicos.org/Name/29202501
3 http://www.tropicos.org/Name/29202525
4 http://www.tropicos.org/Name/29202728
5 http://www.tropicos.org/Name/50089700
6                                      

[[2]]
                     submittedName           acceptedName    sourceId
1 Buddleja pichinchensis x bullata Buddleja pichinchensis iPlant_TNRS
2                 Buddleja soratae       Buddleja soratae iPlant_TNRS
3              Buddleja euryphylla    Buddleja euryphylla iPlant_TNRS
4                  Buddleja incana        Buddleja incana iPlant_TNRS
5                  Buddleja incana                 Incana        NCBI
6                    Buddleja nana Buddleja brachystachya iPlant_TNRS
  score            matchedName        annotations
1   0.9 Buddleja pichinchensis              Kunth
2   1.0       Buddleja soratae           Kraenzl.
3   1.0    Buddleja euryphylla Standl. &amp;amp; Steyerm.
4   1.0        Buddleja incana        Ruiz &amp;amp; Pav.
5   1.0        Buddleja incana               none
6   1.0          Buddleja nana              Diels
                                          uri
1       http://www.tropicos.org/Name/19000333
2       http://www.tropicos.org/Name/19001018
3       http://www.tropicos.org/Name/19000790
4       http://www.tropicos.org/Name/19000596
5 http://www.ncbi.nlm.nih.gov/taxonomy/405077
6       http://www.tropicos.org/Name/19001133&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Now we can put them back together as so into one data.frame if you like&lt;/span&gt;
outdf &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ldply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;outdf&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;submittedName                 acceptedName    sourceId
1        Aptosimum welwitschii                              iPlant_TNRS
2        Anticharis ebracteata        Anticharis ebracteata iPlant_TNRS
3            Aptosimum lineare            Aptosimum lineare iPlant_TNRS
4     Antherothamnus pearsonii     Antherothamnus pearsonii iPlant_TNRS
5 Barthlottia madagascariensis Barthlottia madagascariensis iPlant_TNRS
6         Agathelpis mucronata                              iPlant_TNRS
  score                  matchedName     annotations
1     1        Aptosimum welwitschii                
2     1        Anticharis ebracteata          Schinz
3     1            Aptosimum lineare Marloth &amp;amp; Engl.
4     1     Antherothamnus pearsonii        N.E. Br.
5     1 Barthlottia madagascariensis      Eb. Fisch.
6     1         Agathelpis mucronata                
                                    uri
1                                      
2 http://www.tropicos.org/Name/29202501
3 http://www.tropicos.org/Name/29202525
4 http://www.tropicos.org/Name/29202728
5 http://www.tropicos.org/Name/50089700
6&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Note that there are multiple names for some species because data sources have different names for the same species (resulting in more than one row in the data.frame &amp;#39;outdf&amp;#39; for a species). We are leaving this up to the user to decide which to use. For example, for the species &lt;em&gt;Buddleja montana&lt;/em&gt; there are two names for in the output&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;data &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ddply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;outdf&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;.&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;submittedName&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; summarize&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;submittedName&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
outdf&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;outdf&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;submittedName &lt;span class=&quot;o&quot;&gt;%in%&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;data&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;kc&quot;&gt;..1&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;][&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;submittedName&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]),&lt;/span&gt; 
    &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;submittedName     acceptedName    sourceId score      matchedName
123 Buddleja montana Buddleja montana iPlant_TNRS     1 Buddleja montana
124 Buddleja montana          Montana        NCBI     1 Buddleja montana
         annotations                                         uri
123 Britton ex Rusby       http://www.tropicos.org/Name/19000601
124             none http://www.ncbi.nlm.nih.gov/taxonomy/441235&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;The source iPlant matched the name, but NCBI actually gave back a genus of cricket (follow the link under the column uri for &lt;em&gt;Montana&lt;/em&gt;). If you look at the page for &lt;em&gt;Buddleja&lt;/em&gt; on NCBI &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/Taxonomy/Browser/wwwtax.cgi?id=26473&quot;&gt;here&lt;/a&gt; there is no &lt;em&gt;Buddleja montana&lt;/em&gt; at all. &lt;/p&gt;

&lt;p&gt;Another thing we could do is look at the score that is returned. Let&amp;#39;s look at those that are less than 1 (i.e., )&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;outdf&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;outdf&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;score &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;submittedName           acceptedName    sourceId
94   Buddleja pichinchensis x bullata Buddleja pichinchensis iPlant_TNRS
340                Diascia ellaphieae                        iPlant_TNRS
495              Eremophila decipiens                        iPlant_TNRS
500            Eremophila grandiflora             Eremophila iPlant_TNRS
808           Jamesbrittneia hilliard                        iPlant_TNRS
1051                 Verbascum patris              Verbascum iPlant_TNRS
1081             Verbascum barnadesii              Verbascum iPlant_TNRS
1097              Verbascum calycosum              Verbascum iPlant_TNRS
     score            matchedName annotations
94    0.90 Buddleja pichinchensis       Kunth
340   0.98      Diascia ellaphiae            
495   0.98  Eremophila decipiense            
500   0.50             Eremophila      R. Br.
808   0.50         Jamesbrittenia            
1051  0.50              Verbascum          L.
1081  0.50              Verbascum          L.
1097  0.50              Verbascum          L.
                                       uri
94   http://www.tropicos.org/Name/19000333
340                                       
495                                       
500  http://www.tropicos.org/Name/40004761
808                                       
1051 http://www.tropicos.org/Name/40023766
1081 http://www.tropicos.org/Name/40023766
1097 http://www.tropicos.org/Name/40023766&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;As we got this speies list from &lt;a href=&quot;http://www.theplantlist.org/&quot;&gt;theplantlist.org&lt;/a&gt;, there aren&amp;#39;t that many mistakes, but if it was my species list you know there would be many :)&lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;That&amp;#39;s it.  Try it out and let us know if you have any questions at &lt;a href=&quot;mailto:info@ropensci.org&quot;&gt;info@ropensci.org&lt;/a&gt;, or &lt;a href=&quot;https://github.com/ropensci/taxize_/issues&quot;&gt;ask questions/report problems at GitHub&lt;/a&gt;.&lt;/h3&gt;

&lt;hr&gt;

&lt;h4&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/2013-01-25-tnrs-use-case.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2013-01-25-tnrs-use-case.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Open Science Challenge</title>
   <link href="http://recology.info//2013/01/open-science-challenge/"/>
   <updated>2013-01-08T00:00:00-08:00</updated>
   <id>http://recology.info//2013/01/open-science-challenge</id>
   <content type="html">&lt;p&gt;&lt;img src=&quot;https://raw.github.com/sckott/sckott.github.com/master/public/img/ropensci_challenge.png&quot; alt=&quot;center&quot;&gt;&lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;&lt;strong&gt;Open Science&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;Science is becoming more open in many areas: publishing, data sharing, lab notebooks, and software. There are many benefits to open science. For example, sharing research data alongside your publications leads to increased citation rate (Piwowar &lt;em&gt;et. al.&lt;/em&gt; 2007). In addition, data is becoming easier to share and reuse thanks to efforts like &lt;a href=&quot;http://figshare.com/&quot;&gt;FigShare&lt;/a&gt; and &lt;a href=&quot;http://datadryad.org/&quot;&gt;Dryad&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;If you don&amp;#39;t understand the problem we are currently facing due to lack of open science, watch this video:&lt;/p&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;http://www.youtube.com/embed/N2zK3sAtr-4&quot; frameborder=&quot;0&quot; allowfullscreen&gt;&lt;/iframe&gt;

&lt;hr&gt;

&lt;h3&gt;&lt;strong&gt;I just want Data&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;Another way to look at this challenge is to think about how you can get data more easily. Right now you probably go to a website that has an interface to a database. You do a search, and then download a .csv file perhaps. Then you open it in Excel, and do some pivot tables to get the data in the right format. Only then will you bring the data in to R. &lt;/p&gt;

&lt;p&gt;The advantage of using our packages is that they allow you to do that data collection part in a few lines of code. Therefore, you can easily do all those steps in the above paragraph using a few lines of code in one R file. Why does this matter? You can more easily reproduce your own work months later after that summer vacation. In addition, others can reproduce your research more easily. &lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;&lt;strong&gt;The challenge&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;We (&lt;a href=&quot;http://ropensci.org/&quot;&gt;ropensci&lt;/a&gt;) have just kicked off the &lt;a href=&quot;http://ropensci.org/open-science-challenge/&quot;&gt;rOpenSci Open Science Challenge&lt;/a&gt;. If you aren&amp;#39;t familiar with rOpenSci, it is a software collective connecting scientists to open science data on the web. Since R is the most popular programming language for life scientists, it made sense to do this in R (instead of Python e.g.). &lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;&lt;strong&gt;What is the challenge about?&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;At rOpenSci, we create R software to make getting open source text from publications and open source data easy. An important result of this is that we are facilitating open science. Why? Because R is an open source programming language, and all of our software is open source. . This challenge asks you to propose a project using one or more of our packages - or perhaps you want to propose a new dataset to connect to R. The rOpenSci core developer team will help you with any problems using our packages, and attempt to modify packages according to feedback from participants. Do you use one or more of our R packages? If you do, great. If not, check out our packages &lt;a href=&quot;http://ropensci.org/packages/index.html&quot;&gt;here&lt;/a&gt;. &lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;&lt;strong&gt;How to apply&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;Just send an email to &lt;a href=&quot;mailto:info@ropensci.org?subject=rOpenSci%20Open%20Science%20Challenge&quot;&gt;info@ropensci.org&lt;/a&gt;. &lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;&lt;strong&gt;The deadline&lt;/strong&gt;&lt;/h3&gt;

&lt;p&gt;January 31, 2013&lt;/p&gt;

&lt;hr&gt;

&lt;h4&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2013-01-08-open-science-challenge.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2013-01-08-open-science-challenge.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and &lt;a href=&quot;https://github.com/cboettig/knitcitations&quot;&gt;knitcitations&lt;/a&gt; from &lt;a href=&quot;http://www.carlboettiger.info/&quot;&gt;Carl Boettiger&lt;/a&gt;.&lt;/h4&gt;

&lt;hr&gt;

&lt;h4&gt;References&lt;/h4&gt;

&lt;p&gt;&lt;p&gt;Piwowar HA, Day RS, Fridsma DB and Ioannidis J (2007).
&amp;ldquo;Sharing Detailed Research Data is Associated With Increased Citation Rate.&amp;rdquo;
&lt;EM&gt;Plos One&lt;/EM&gt;, &lt;B&gt;2&lt;/B&gt;.
&lt;a href=&quot;http://dx.doi.org/10.1371/journal.pone.0000308&quot;&gt;http://dx.doi.org/10.1371/journal.pone.0000308&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Is invasive?</title>
   <link href="http://recology.info//2012/12/is-invasive/"/>
   <updated>2012-12-13T00:00:00-08:00</updated>
   <id>http://recology.info//2012/12/is-invasive</id>
   <content type="html">&lt;p&gt;The Global Invasive Species Database (GISD) (see their website for more info &lt;a href=&quot;http://www.issg.org/database/welcome/&quot;&gt;here&lt;/a&gt;) has data on the invasiveness status of many species. From &lt;code&gt;taxize&lt;/code&gt; you can now query the GISD database. &lt;/p&gt;

&lt;p&gt;Introducing the function &lt;code&gt;gisd_isinvasive&lt;/code&gt;. This function was contributed to &lt;code&gt;taxize&lt;/code&gt; by &lt;a href=&quot;http://www.bartomeus.cat/es/ignasi/&quot;&gt;Ignasi Bartomeus&lt;/a&gt;, a postdoc at the Swedish University Agricultural Sciences. &lt;/p&gt;

&lt;p&gt;There are two possible outputs from using &lt;code&gt;gisd_isinvasive&lt;/code&gt;: &amp;quot;Invasive&amp;quot; or &amp;quot;Not in GISD&amp;quot;. If you use &lt;code&gt;simplify=TRUE&lt;/code&gt; in the function you get &amp;quot;Invasive&amp;quot; or &amp;quot;Not in GISD&amp;quot;, but if you use &lt;code&gt;simplify=FALSE&lt;/code&gt; you get verbose description of the invasive species instead of just &amp;quot;Invasive&amp;quot; (and you still just get &amp;quot;Not in GISD&amp;quot;). &lt;/p&gt;

&lt;hr&gt;

&lt;p&gt;&lt;img src=&quot;http://sckott.github.io/public/img/gisd_small.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;Install taxize from GitHub&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# install_github(&amp;#39;taxize_&amp;#39;, &amp;#39;ropensci&amp;#39;) # install if you don&amp;#39;t already&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# have the GitHub version&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;taxize&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Make a vector of species&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;sp &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Carpobrotus edulis&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Rosmarinus officinalis&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Nasua nasua&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Martes melampus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;Centaurea solstitialis&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Using the function &lt;code&gt;gisd_isinvasive&lt;/code&gt; you can query the GISD database for the invasiveness status of your species, at least according to GISD. Calling &lt;code&gt;gisd_isinvasive&lt;/code&gt; with the second parameter set to default &lt;code&gt;simplify=FALSE&lt;/code&gt;, you get verbose output, with details on the species.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gisd_isinvasive&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;sp&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Checking species 1
Checking species 2
Checking species 3
Checking species 4
Checking species 5
Done

                 species
1     Carpobrotus edulis
2 Rosmarinus officinalis
3            Nasua nasua
4        Martes melampus
5 Centaurea solstitialis
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               status
1                                                                                                                                                                                                                                                  You searched for invasive species named Carpobrotus edulis:     1.  Carpobrotus edulis (succulent)        Carpobrotus edulis is a mat-forming succulent native to South Africa which is invasive primarily in coastal habitats in many parts of the world. It was often introduced as an ornamental plant or used for planting along roadsides, from which it has spread to become invasive. Its main impacts are smothering, reduced regeneration of native flora and changes to soil pH and nutrient regimes.\r\nCommon Names: balsamo, Cape fig, figue marine, freeway iceplant, ghaukum, ghoenavy, highway ice plant, higo del Cabo, higo marino, Hottentosvy, hottentot fig, Hottentottenfeige, iceplant, ikhambi-lamabulawo, Kaapsevy, patata frita, perdevy, pigface, rankvy, sea fig, sour fig, suurvy, umgongozi, vyerank\r\nSynonyms: Mesembryanthemum edule L., Mesembryanthemum edulis
2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                         Not in GISD
3                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                            You searched for invasive species named Nasua nasua:1.  Nasua nasua (mammal)             Interim profile, incomplete informationCommon Names: Achuni, Coatí, South American Coati, Tejón
4                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       You searched for invasive species named Martes melampus:1.  Martes melampus (mammal)             Interim profile, incomplete informationCommon Names: Japanese Marten, Tsushima Island Marten
5 You searched for invasive species named Centaurea solstitialis:     1.  Centaurea solstitialis (herb)        Centaurea solstitialis is a winter annual that can form dense impenetrable stands that displace desirable vegetation in natural areas, rangelands, and other places. It is best adapted to open grasslands with deep, well-drained soils and an annual precipitation range of 25 to 150cm per year. It is intolerant of shade. Although populations can occur at elevations as high as 2,400 m, most large infestations are found below 1,500 m. Human activities are the primary mechanisms for the long distance movement of C. solstitialis seed. The short, stiff, pappus bristles are covered with barbs that readily adhere to clothing, hair, and fur.  The movement of contaminated hay and uncertified seed are also important long distance transportation mechanisms. Wind disperses seeds over short distances.\r\nCommon Names: geeldissel, golden star thistle, sonnwend-Flockenblume, St. Barnaby&amp;#39;s thistle, yellow centaury, yellow cockspur, yellow star thistle\r\nSynonyms: Leucantha solstitialis (L.) A.&amp;amp; D. Löve&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Simpler output, just the invasive status.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;gisd_isinvasive&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;sp&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; simplify &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Checking species 1
Checking species 2
Checking species 3
Checking species 4
Checking species 5
Done

                 species      status
1     Carpobrotus edulis    Invasive
2 Rosmarinus officinalis Not in GISD
3            Nasua nasua    Invasive
4        Martes melampus    Invasive
5 Centaurea solstitialis    Invasive&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-12-13-is-invasive.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2012-12-13-is-invasive.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Shiny apps are awesome</title>
   <link href="http://recology.info//2012/12/shiny-r/"/>
   <updated>2012-12-10T00:00:00-08:00</updated>
   <id>http://recology.info//2012/12/shiny-r</id>
   <content type="html">&lt;p&gt;RStudio has a new product called &lt;code&gt;Shiny&lt;/code&gt; that, quoting from their website, &amp;quot;makes it super simple for R users like you to turn analyses into interactive web applications that anyone can use&amp;quot;. &lt;a href=&quot;http://www.rstudio.com/shiny/&quot;&gt;See here&lt;/a&gt; for more information. &lt;/p&gt;

&lt;p&gt;A &lt;code&gt;Shiny&lt;/code&gt; basically consists of two files: a &lt;code&gt;ui.r&lt;/code&gt; file and a &lt;code&gt;server.r&lt;/code&gt; file.  The &lt;code&gt;ui.r&lt;/code&gt; file, as it says, provides the user interface, and the &lt;code&gt;server.r&lt;/code&gt; file provides the the server logic.&lt;/p&gt;

&lt;p&gt;Below is what it looks like in the wild (on a browser). &lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://sckott.github.io/public/img/shiny_ss.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;p&gt;It was pretty easy (for &lt;a href=&quot;http://emhart.github.com/&quot;&gt;Ted Hart of rOpenSci&lt;/a&gt;) to build this app to demonstrate output from the &lt;a href=&quot;http://cran.r-project.org/web/packages/rgbif/index.html&quot;&gt;&lt;code&gt;ropensci rgbif&lt;/code&gt; package&lt;/a&gt;. &lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;You may need to install packages first.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;shiny&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ggplot2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;plyr&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;rgbif&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;We tried to build in making real time API calls to GBIF&amp;#39;s servers, but the calls took too long for web speed.  So we prepare the data first, and then serve it up from saved data in a &lt;code&gt;.rda&lt;/code&gt; file. Let&amp;#39;s first prepare the data. --Well, this is what we do on the app itself, but see the next code block for&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rgbif&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
splist &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Accipiter erythronemius&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Junco hyemalis&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Aix sponsa&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Haliaeetus leucocephalus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;Corvus corone&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Threskiornis molucca&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Merops malimbicus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; llply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;splist&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; occurrencelist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; coordinatestatus &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; maxresults &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; splist  &lt;span class=&quot;c1&quot;&gt;# name each data.frame with the species names&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;setwd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;~/ShinyApps/rgbif2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# set directory&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;save&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; file &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;speciesdata.rda&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# save the list of data.frames into an .rda file to serve up&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Here&amp;#39;s the server logic&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;shiny&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plyr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rgbif&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;## Set up server output&lt;/span&gt;
shinyServer&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;input&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; output&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;kp&quot;&gt;load&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;speciesdata.rda&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# define function for server plot output&lt;/span&gt;
    output&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;gbifplot &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; reactivePlot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        species &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; input&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;spec
        df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; out&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%in%&lt;/span&gt; species&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
        &lt;span class=&quot;kp&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gbifmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
    output&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;cbt &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; reactiveText&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;})&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;The user interface&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;shiny&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Define UI for application that plots random distributions&lt;/span&gt;
shinyUI&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;pageWithSidebar&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;headerPanel&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;rgbif example&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; sidebarPanel&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;checkboxGroupInput&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;spec&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;Species to map:&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;sb&quot;&gt;`Sharp shinned hawk (Accipiter erythronemius)`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Accipiter erythronemius&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;sb&quot;&gt;`Dark eyed junco (Junco hyemalis)`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Junco hyemalis&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Wood duck (Aix sponsa)`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Aix sponsa&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;sb&quot;&gt;`Bald eagle (Haliaeetus leucocephalus)`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Haliaeetus leucocephalus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;sb&quot;&gt;`Carrion crow (Corvus corone)`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Corvus corone&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;sb&quot;&gt;`Australian White Ibis (Threskiornis molucca)`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Threskiornis molucca&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        &lt;span class=&quot;sb&quot;&gt;`Rosy Bee-eater (Merops malimbicus)`&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Merops malimbicus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; selected &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Bald eagle (Haliaeetus leucocephalus)&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))),&lt;/span&gt; 
    mainPanel&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;h5&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;A map of your selected species: Please note that GBIF is queried for every selection so loading times vary&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
        plotOutput&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;gbifplot&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;p&gt;This should be all you need. To actually serve up the app in the web, request to be part of their beta-test of Shiny server on the web &lt;a href=&quot;https://rstudio.wufoo.com/forms/shiny-server-beta-program/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Go play with our Shiny app &lt;a href=&quot;http://glimmer.rstudio.com/ropensci/rgbif2/&quot;&gt;here&lt;/a&gt; to see the kind of visualization you can do with the &lt;code&gt;rgbif&lt;/code&gt; package.&lt;/p&gt;

&lt;hr&gt;

&lt;h4&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-12-10-shiny-r.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2012-12-10-shiny-r.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>One R package for all your taxonomic needs</title>
   <link href="http://recology.info//2012/12/taxize/"/>
   <updated>2012-12-06T00:00:00-08:00</updated>
   <id>http://recology.info//2012/12/taxize</id>
   <content type="html">&lt;p&gt;UPDATE: there were some errors in the tests for &lt;code&gt;taxize&lt;/code&gt;, so the binaries aren&amp;#39;t avaiable yet. You can install from source though, see below. &lt;/p&gt;

&lt;p&gt;Getting taxonomic information for the set of species you are studying can be a pain in the ass. You have to manually type, or paste in, your species one-by-one. Or, if you are lucky, there is a web service in which you can upload a list of species. Encyclopedia of Life (EOL) has a service where you can do this &lt;a href=&quot;http://gni.globalnames.org/parsers/new&quot;&gt;here&lt;/a&gt;. But is this reproducible? No. &lt;/p&gt;

&lt;p&gt;Getting your taxonomic information for your species can now be done programatically in R. Do you want to get taxonomic information from ITIS. We got that. Tropicos? We got that too. uBio? No worries, we got that. What about theplantlist.org? Yep, got that. Encyclopedia of Life? Indeed. What about getting sequence data for a taxon? Oh hell yeah, you can get sequences available for a taxon across all genes, or get all records for a taxon for a specific gene. &lt;/p&gt;

&lt;p&gt;Of course this is all possible because these data providers have open APIs so that we can facilitate your computer talking to their database. Fun! &lt;/p&gt;

&lt;p&gt;Why get your taxonomic data programatically? Because it&amp;#39;s 1) faster than by hand in web sites/looking up in books, 2) reproducible, especially if you share your code (damnit!), and 3) you can easily mash up your new taxonomic data to get sequences to build a phylogeny, etc.&lt;/p&gt;

&lt;p&gt;I&amp;#39;ll give a few examples of using &lt;code&gt;taxize&lt;/code&gt; based around use cases, that is, stuff someone might actually do instead of what particular functions do.&lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;Install packages.  You can get from CRAN or GitHub.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# install.packages(&amp;quot;ritis&amp;quot;) # uncomment if not already installed&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# install_github(&amp;#39;taxize_&amp;#39;, &amp;#39;ropensci&amp;#39;) # uncomment if not already installed&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# install.packages(&amp;quot;taxize&amp;quot;, type=&amp;quot;source&amp;quot;) # uncomment if not already installed&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ritis&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;taxize&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Attach family names to a list of species.&lt;/h3&gt;

&lt;h4&gt;I often have a list of species that I studied and simply want to get their family names to, for example, make a table for the paper I&amp;#39;m writing.&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# For one species&lt;/span&gt;
itis_name&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;query &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Poa annua&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; get &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;family&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Retrieving data for species &amp;#39; Poa annua &amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &amp;quot;Poaceae&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# For many species&lt;/span&gt;
species &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Poa annua&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Abies procera&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Helianthus annuus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Coffea arabica&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
famnames &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;species&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; itis_name&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; get &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;family&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; USE.NAMES &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Retrieving data for species &amp;#39; Poa annua &amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Retrieving data for species &amp;#39; Abies procera &amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Retrieving data for species &amp;#39; Helianthus annuus &amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Retrieving data for species &amp;#39; Coffea arabica &amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;species &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; species&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; family &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; famnames&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;species     family
1         Poa annua    Poaceae
2     Abies procera   Pinaceae
3 Helianthus annuus Asteraceae
4    Coffea arabica  Rubiaceae&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Resolve taxonomic names.&lt;/h3&gt;

&lt;h4&gt;This is a common use case for ecologists/evolutionary biologists, or at least should be. That is, species names you have for your own data, or when using other&amp;#39;s data, could be old names - and if you need the newest names for your species list, how can you make this as painless as possible? You can query taxonomic data from many different sources with &lt;code&gt;taxize&lt;/code&gt;.&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# The iPlantCollaborative provides access via API to their taxonomic name&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# resolution service (TNRS)&lt;/span&gt;
mynames &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;shorea robusta&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;pandanus patina&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;oryza sativa&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;durio zibethinus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;rubus ulmifolius&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;asclepias curassavica&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;pistacia lentiscus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
iplant_tnrsmatch&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;retrieve &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;all&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; taxnames &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;helianthus annuus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;acacia&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;gossypium&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; output &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;names&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;AcceptedName   MatchFam MatchGenus MatchScore    Accept?
1 Helianthus annuus Asteraceae Helianthus          1 No opinion
2            Acacia   Fabaceae     Acacia          1 No opinion
3                                  Acacia          1 No opinion
4         Gossypium  Malvaceae  Gossypium          1 No opinion
     SubmittedNames
1 helianthus annuus
2            acacia
3            acacia
4         gossypium&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# The global names resolver is another attempt at this, hitting many&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# different data sources&lt;/span&gt;
gnr_resolve&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;names &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Helianthus annuus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Homo sapiens&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; returndf &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;data_source_id    submitted_name       name_string score
1               4 Helianthus annuus Helianthus annuus 0.988
3              10 Helianthus annuus Helianthus annuus 0.988
5              12 Helianthus annuus Helianthus annuus 0.988
8             110 Helianthus annuus Helianthus annuus 0.988
11            159 Helianthus annuus Helianthus annuus 0.988
13            166 Helianthus annuus Helianthus annuus 0.988
15            169 Helianthus annuus Helianthus annuus 0.988
2               4      Homo sapiens      Homo sapiens 0.988
4              10      Homo sapiens      Homo sapiens 0.988
6              12      Homo sapiens      Homo sapiens 0.988
7             107      Homo sapiens      Homo sapiens 0.988
9             122      Homo sapiens      Homo sapiens 0.988
10            123      Homo sapiens      Homo sapiens 0.988
12            159      Homo sapiens      Homo sapiens 0.988
14            168      Homo sapiens      Homo sapiens 0.988
16            169      Homo sapiens      Homo sapiens 0.988
                     title
1                     NCBI
3                 Freebase
5                      EOL
8     Illinois Wildflowers
11                 CU*STAR
13                   nlbif
15           uBio NameBank
2                     NCBI
4                 Freebase
6                      EOL
7                AskNature
9                 BioPedia
10                   AnAge
12                 CU*STAR
14 Index to Organism Names
16           uBio NameBank&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# We can hit the Plantminer API too&lt;/span&gt;
plants &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Myrcia lingua&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Myrcia bella&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Ocotea pulchella&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Miconia&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;Coffea arabica var. amarella&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Bleh&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
plantminer&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plants&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Myrcia lingua 
Myrcia bella 
Ocotea pulchella 
Miconia 
Coffea arabica var. amarella 
Bleh&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;fam   genus                    sp             author
1       Myrtaceae  Myrcia                lingua   (O. Berg) Mattos
2       Myrtaceae  Myrcia                 bella           Cambess.
3       Lauraceae  Ocotea             pulchella (Nees &amp;amp; Mart.) Mez
4 Melastomataceae Miconia                    NA        Ruiz &amp;amp; Pav.
5       Rubiaceae  Coffea arabica var. amarella        A. Froehner
6              NA    Bleh                    NA                 NA
            source source.id   status confidence suggestion       database
1              TRO 100227036       NA         NA         NA       Tropicos
2             WCSP    131057 Accepted          H         NA The Plant List
3 WCSP (in review)    989758 Accepted          M         NA The Plant List
4              TRO  40018467       NA         NA         NA       Tropicos
5              TRO 100170231       NA         NA         NA       Tropicos
6               NA        NA       NA         NA       Baea             NA&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# We made a light wrapper around the Taxonstand package to search&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# Theplantlist.org too&lt;/span&gt;
splist &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Heliathus annuus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Abies procera&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Poa annua&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Platanus occidentalis&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;Carex abrupta&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Arctostaphylos canescens&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Ocimum basilicum&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Vicia faba&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;Quercus kelloggii&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Lactuca serriola&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
tpl_search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;taxon &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; splist&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Genus      Species Infraspecific Plant.Name.Index
1       Heliathus       annuus                          FALSE
2           Abies      procera                           TRUE
3             Poa        annua                           TRUE
4        Platanus occidentalis                           TRUE
5           Carex      abrupta                           TRUE
6  Arctostaphylos    canescens                           TRUE
7          Ocimum    basilicum                           TRUE
8           Vicia         faba                           TRUE
9         Quercus    kelloggii                           TRUE
10        Lactuca     serriola                           TRUE
   Taxonomic.status      Family      New.Genus  New.Species
1                                    Heliathus       annuus
2          Accepted    Pinaceae          Abies      procera
3          Accepted     Poaceae            Poa        annua
4          Accepted Platanaceae       Platanus occidentalis
5          Accepted  Cyperaceae          Carex      abrupta
6          Accepted   Ericaceae Arctostaphylos    canescens
7          Accepted   Lamiaceae         Ocimum    basilicum
8          Accepted Leguminosae          Vicia         faba
9          Accepted    Fagaceae        Quercus    kelloggii
10         Accepted  Compositae        Lactuca     serriola
   New.Infraspecific Authority  Typo WFormat
1                              FALSE   FALSE
2                       Rehder FALSE   FALSE
3                           L. FALSE   FALSE
4                           L. FALSE   FALSE
5               &amp;lt;NA&amp;gt;     Mack. FALSE   FALSE
6                       Eastw. FALSE   FALSE
7                           L. FALSE   FALSE
8                           L. FALSE   FALSE
9               &amp;lt;NA&amp;gt;     Newb. FALSE   FALSE
10                          L. FALSE   FALSE&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Taxonomic hierarchies&lt;/h3&gt;

&lt;h4&gt;I often want the full taxonomic hierarchy for a set of species. That is, give me the family, order, class, etc. for my list of species. There are two different easy ways to do this with &lt;code&gt;taxize&lt;/code&gt;. The first example uses EOL.&lt;/h4&gt;

&lt;hr&gt;

&lt;h4&gt;Using EOL.&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;pageid &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; eol_search&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Quercus douglasii&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;id&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# first need to search for the taxon&amp;#39;s page on EOL&lt;/span&gt;
out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; eol_pages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;taxonconceptID &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; pageid&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# then we nee to get the taxon ID used by EOL&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Notice that there are multiple different sources you can pull the&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# hierarchy from. Note even that you can get the hierarchy from the ITIS&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# service via this EOL API.&lt;/span&gt;
out&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;identifier                 scientificName
1   46203061 Quercus douglasii Hook. &amp;amp; Arn.
2   48373995 Quercus douglasii Hook. &amp;amp; Arn.
                                  nameAccordingTo sourceIdentfier
1  Integrated Taxonomic Information System (ITIS)           19322
2 Species 2000 &amp;amp; ITIS Catalogue of Life: May 2012         9723391
  taxonRank
1   Species
2   Species&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Then the hierarchy!&lt;/span&gt;
eol_hierarchy&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;out&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;nameAccordingTo &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Species 2000 &amp;amp; ITIS Catalogue of Life: May 2012&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;identifier&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;sourceIdentifier  taxonID parentNameUsageID taxonConceptID
1         11017504 48276627                 0            281
2         11017505 48276628          48276627            282
3         11017506 48276629          48276628            283
4         11022500 48373354          48276629           4184
5         11025284 48373677          48373354           4197
  scientificName taxonRank
1        Plantae   kingdom
2  Magnoliophyta    phylum
3  Magnoliopsida     class
4        Fagales     order
5       Fagaceae    family&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;eol_hierarchy&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;out&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;nameAccordingTo &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Integrated Taxonomic Information System (ITIS)&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    &lt;span class=&quot;s&quot;&gt;&amp;quot;identifier&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# and from ITIS, slightly different than ITIS output below, which includes taxa all the way down.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;sourceIdentifier  taxonID parentNameUsageID taxonConceptID
1            202422 46150613                 0            281
2            846492 46159776          46150613        8654492
3            846494 46161961          46159776       28818077
4            846496 46167532          46161961           4494
5            846504 46169010          46167532       28825126
6            846505 46169011          46169010            282
7             18063 46169012          46169011            283
8            846548 46202954          46169012       28859070
9             19273 46202955          46202954           4184
10            19275 46203022          46202955           4197
    scientificName     taxonRank
1          Plantae       kingdom
2   Viridaeplantae    subkingdom
3     Streptophyta  infrakingdom
4     Tracheophyta      division
5  Spermatophytina   subdivision
6     Angiospermae infradivision
7    Magnoliopsida         class
8          Rosanae    superorder
9          Fagales         order
10        Fagaceae        family&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;And getting a taxonomic hierarchy using ITIS.&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# First, get the taxonomic serial number (TSN) that ITIS uses&lt;/span&gt;
mytsn &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; get_tsn&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Quercus douglasii&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;sciname&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Retrieving data for species &amp;#39; Quercus douglasii &amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Get the full taxonomic hierarchy for a taxon from the TSN&lt;/span&gt;
itis&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;mytsn&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;getfullhierarchyfromtsn&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$`1`
        parentName parentTsn      rankName         taxonName    tsn
1                                  Kingdom           Plantae 202422
2          Plantae    202422    Subkingdom    Viridaeplantae 846492
3   Viridaeplantae    846492  Infrakingdom      Streptophyta 846494
4     Streptophyta    846494      Division      Tracheophyta 846496
5     Tracheophyta    846496   Subdivision   Spermatophytina 846504
6  Spermatophytina    846504 Infradivision      Angiospermae 846505
7     Angiospermae    846505         Class     Magnoliopsida  18063
8    Magnoliopsida     18063    Superorder           Rosanae 846548
9          Rosanae    846548         Order           Fagales  19273
10         Fagales     19273        Family          Fagaceae  19275
11        Fagaceae     19275         Genus           Quercus  19276
12         Quercus     19276       Species Quercus douglasii  19322&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# But this can be even easier!&lt;/span&gt;
classification&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;get_tsn&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Quercus douglasii&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# Boom!&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Retrieving data for species &amp;#39; Quercus douglasii &amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$`1`
        parentName parentTsn      rankName         taxonName    tsn
1                                  Kingdom           Plantae 202422
2          Plantae    202422    Subkingdom    Viridaeplantae 846492
3   Viridaeplantae    846492  Infrakingdom      Streptophyta 846494
4     Streptophyta    846494      Division      Tracheophyta 846496
5     Tracheophyta    846496   Subdivision   Spermatophytina 846504
6  Spermatophytina    846504 Infradivision      Angiospermae 846505
7     Angiospermae    846505         Class     Magnoliopsida  18063
8    Magnoliopsida     18063    Superorder           Rosanae 846548
9          Rosanae    846548         Order           Fagales  19273
10         Fagales     19273        Family          Fagaceae  19275
11        Fagaceae     19275         Genus           Quercus  19276
12         Quercus     19276       Species Quercus douglasii  19322&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# You can also do this easy-peasy route to a taxonomic hierarchy using&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# uBio&lt;/span&gt;
classification&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;get_uid&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Ornithorhynchus anatinus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$`1`
       ScientificName         Rank    UID
1  cellular organisms      no rank 131567
2           Eukaryota superkingdom   2759
3        Opisthokonta      no rank  33154
4             Metazoa      kingdom  33208
5           Eumetazoa      no rank   6072
6           Bilateria      no rank  33213
7           Coelomata      no rank  33316
8       Deuterostomia      no rank  33511
9            Chordata       phylum   7711
10           Craniata    subphylum  89593
11         Vertebrata      no rank   7742
12      Gnathostomata   superclass   7776
13         Teleostomi      no rank 117570
14       Euteleostomi      no rank 117571
15      Sarcopterygii      no rank   8287
16          Tetrapoda      no rank  32523
17            Amniota      no rank  32524
18           Mammalia        class  40674
19        Prototheria      no rank   9254
20        Monotremata        order   9255
21  Ornithorhynchidae       family   9256
22    Ornithorhynchus        genus   9257&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Sequences?&lt;/h3&gt;

&lt;h4&gt;While you are at doing taxonomic stuff, you often wonder &amp;quot;hmmm, I wonder if there are any sequence data available for my species?&amp;quot; So, you can use &lt;code&gt;get_seqs&lt;/code&gt; to search for specific genes for a species, and &lt;code&gt;get_genes_avail&lt;/code&gt; to find out what genes are available for a certain species. These functions search for data on &lt;a href=&quot;http://www.ncbi.nlm.nih.gov/&quot;&gt;NCBI&lt;/a&gt;.&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Get sequences (sequence is provied in output, but hiding here for&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# brevity). What&amp;#39;s nice about this is that it gets the longest sequence&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# avaialable for the gene you searched for, and if there isn&amp;#39;t anything&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# available, it lets you get a sequence from a congener if you set&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# getrelated=TRUE. The last column in the output data.frame also tells you&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# what species the sequence is from.&lt;/span&gt;
out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; get_seqs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;taxon_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Acipenser brevirostrum&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; gene &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;5S rRNA&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
    seqrange &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;1:3000&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; getrelated &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; writetodf &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
out&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;names&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;%in%&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;sequence&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;taxon                                         gene_desc
1 Acipenser brevirostrum Acipenser brevirostrum 5S rRNA gene, clone BRE92A
     gi_no     acc_no length                 spused
1 60417159 AJ745069.1    121 Acipenser brevirostrum&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Search for available sequences&lt;/span&gt;
out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; get_genes_avail&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;taxon_name &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Umbra limi&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; seqrange &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;1:2000&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; getrelated &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
out&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;grep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;RAG1&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; out&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;genesavail&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; ignore.case &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# does the string &amp;#39;RAG1&amp;#39; exist in any of the gene names&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;spused length
414 Umbra limi    732
427 Umbra limi    959
434 Umbra limi   1631
                                                                            genesavail
414 isolate UlimA recombinase activating protein 1 (rag1) gene, exon 3 and partial cds
427           recombination-activating protein 1 (RAG1) gene, intron 2 and partial cds
434                        recombination-activating protein 1 (RAG1) gene, partial cds
    predicted
414  JX190826
427  AY459526
434  AY380548&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-12-06-taxize.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2012-12-06-taxize.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Altecology, a call to unconference action</title>
   <link href="http://recology.info//2012/11/altecology/"/>
   <updated>2012-11-15T00:00:00-08:00</updated>
   <id>http://recology.info//2012/11/altecology</id>
   <content type="html">&lt;p&gt;Note: This post is cross-posted on Sandra Chung&amp;#39;s blog &lt;a href=&quot;http://sandrachung.com/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;The rise of the unconference&lt;/h3&gt;

&lt;p&gt;The Ecological Society of America meeting is holding its &lt;a href=&quot;http://www.esa.org/minneapolis/&quot;&gt;98th annual meeting&lt;/a&gt; next year in Minneapolis, MN. Several thousand students and professionals in ecological science and education will gather to hear and read the latest work and ideas in ecology in the familiar poster and lecture formats that are the core of every major scientific conference. But a subset of these people will get a taste of something a little bit different: an unconference within the conference.&lt;/p&gt;

&lt;p&gt;The most important difference between traditional science conferences and the unconference format is that it prioritizes human interaction. Often the best and most important parts of science meetings are the interactions between talks, next to posters, and at the end of the day over drinks. These connections pave the way for collaborations and friendships that nourish our professional and personal lives with shared opportunities, camaraderie and support. &lt;/p&gt;

&lt;p&gt;In recognition of the increasing relative importance of the “meeting” part of a science meeting, the unconference format emphasizes interaction over presentation. It attempts to engage participants to the maximum extent reasonable in discussion and doing. &lt;a href=&quot;http://scienceonline.com/&quot;&gt;Science Online&lt;/a&gt; is a good example of this unconference format, in which the session topics are typically decided on democratically by the conference attendees (partly before arrival, partly on arrival), and you vote with your feet by going to and leaving sessions as you desire. &lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;Ecology is changing&lt;/h3&gt;

&lt;p&gt;Ecology is now adopting some of the same online and social tools that are already accelerating innovation in computing and other science disciplines. Ecologists, ecology students and educators are asking many of the same basic questions they have always asked: What should we be doing? How do we do it better and faster? Social media, open source software, open science, altmetrics, crowdsourcing, crowdfunding, data visualization, data sharing, alternative peer review, and an increasing emphasis on more and better communication and collaboration are just some of the newer tools being put forth to help address those questions in the 21st century.&lt;/p&gt;

&lt;p&gt;Social media is rapidly becoming more common in ecologists’ toolkits to disseminate news of their new papers, communicate about research and research tools, and even filter the deluge of publications. Tools like blogs, Twitter and Facebook are filling the communication gaps between annual meetings and adding a new layer of conversation and connection to conferences and classrooms.&lt;/p&gt;

&lt;p&gt;Social media, in turn, is connecting scientists directly to people besides their immediate colleagues who appreciate the impact of their work and want it to continue. The crowdfunding movement - exemplified by Kickstarter - has spurred similar alternative science funding projects such as SciFund. #SciFund project has shown that social media engagement increases donations to crowdfunded research (&lt;a href=&quot;http://jecology.libsyn.com/interview-with-jarrett-byrnes-on-science-crowdfunding&quot;&gt;interview with Jarrett Byrnes&lt;/a&gt;). &lt;/p&gt;

&lt;p&gt;In addition, we are in the era of big data, and &lt;a href=&quot;http://www.neoninc.org/news/big-data-part-i&quot;&gt;this includes ecology&lt;/a&gt;. To deal with this “data deluge”, ecologists increasingly want to learn how to manage, share, retrieve, use, and visualize data. There are new tools for all of these tasks - we need to aid each other in learning them. Online and offline communities are coalescing around the development and dissemination of these tools for the benefit of ecological science, and they are meeting face-to-face at our ecological unconference.&lt;/p&gt;

&lt;p&gt;Science in general is becoming increasingly complex and calling for larger and larger collaborations. This growth in turn is spurring a drive toward more openness and transparency within the culture of science. The more collaborative and complex scientific study becomes, the more scientists depend upon each other to do good work that we can all build upon with confidence. The often unstated assumption about ecology, and all of science, is that research findings are reproducible; but that assumption is quite shaky given the increasing number of retractions (see the &lt;a href=&quot;http://retractionwatch.wordpress.com/&quot;&gt;Retraction Watch blog&lt;/a&gt;) and findings that much research is not reproducible (see media coverage &lt;a href=&quot;http://www.nature.com/nature/journal/v483/n7391/full/483531a.html&quot;&gt;here&lt;/a&gt; and &lt;a href=&quot;http://www.reuters.com/article/2012/03/28/us-science-cancer-idUSBRE82R12P20120328&quot;&gt;here&lt;/a&gt;). &lt;/p&gt;

&lt;p&gt;A recent initiative seeks to facilitate attempts to reproduce research: &lt;a href=&quot;https://www.scienceexchange.com/reproducibility&quot;&gt;The Reproducibility Initiative&lt;/a&gt;. Jarrett Byrnes &lt;a href=&quot;http://www.slideshare.net/JarrettByrnes/taking-the-ecological-conversation-online&quot;&gt;spoke at #ESA2012&lt;/a&gt; of how transparent, online discourse enhances our ability to discuss and improve our work and the work of our peers, both before and after publication. &lt;/p&gt;

&lt;p&gt;Much of the ecological science community shares one or both of these goals: to do the best possible science, and to do it in a way that is most useful and accessible to colleagues and to society at large. The goal of this year’s ecological unconference is to introduce as many people as possible to resources - both tools and people - that can help all of us achieve those goals, on our own, or together.&lt;/p&gt;

&lt;p&gt;One way we as ecologists can quickly make our research more reproducible is the way we write. By simply using tools that make reproducing what we have done easy to do, we can avoid retracted papers, failed drugs, and ruined careers. &lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;What are you proposing?&lt;/h3&gt;

&lt;p&gt;We originally thought about a separate event from ESA itself, modeled after &lt;a href=&quot;http://scienceonline.com/&quot;&gt;Science Online&lt;/a&gt;, incorporating a variety of topics. However, we thought testing the waters for this sort of non-traditional unconference format would be better in 2013. We are gathering ideas from the community (see “How do I make my voice heard?” below). The ideas on the wiki that get the most traction, and have 1-2 champions that are willing to see the idea through and lead the workshop at ESA will be turned in to proposals for ESA workshops. In addition, we will be submitting a proposal for an Ignite session at ESA. To summarise, we will be running:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;A few workshops (at lunch hours, and half-day). Topics may include:

&lt;ul&gt;
&lt;li&gt;Data sharing&lt;/li&gt;
&lt;li&gt;Data visualization&lt;/li&gt;
&lt;li&gt;Data management&lt;/li&gt;
&lt;li&gt;Alternatives to academia&lt;/li&gt;
&lt;li&gt;Blogging&lt;/li&gt;
&lt;li&gt;Social media&lt;/li&gt;
&lt;li&gt;Reproducible science writing&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;One Ignite session on “Tools for better/faster science”. See more about Ignite sessions &lt;a href=&quot;http://www.esa.org/minneapolis/ignite.php&quot;&gt;here&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;A “tweetup” event to socialize in a more relaxed atmosphere&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;These will all be loosely aggregated under the &lt;a href=&quot;https://twitter.com/search/realtime?q=%23AltEcology&quot;&gt;#AltEcology&lt;/a&gt; hashtag.&lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;How do I make my voice heard?&lt;/h3&gt;

&lt;p&gt;We have set up a wiki in which anyone can contribute. Please share your ideas and voice your support for existing ones at the wiki &lt;a href=&quot;http://ecologyunconference.wikispaces.com/&quot;&gt;here&lt;/a&gt;.  You can just throw ideas out there, or even propose new workshops and nominate people to lead them. We’re currently moving to transform existing ideas into ESA workshop and Ignite proposals to meet the &lt;a href=&quot;http://www.esa.org/minneapolis/workshop.php&quot;&gt;November 29 deadline&lt;/a&gt;, but we’ll be incorporating input from the wiki right up to the meeting itself in August 2013.&lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;Get in touch&lt;/h3&gt;

&lt;p&gt;If you have any questions/comments, let us know in the comments section below, tweet us (Sandra: &lt;a href=&quot;https://twitter.com/sandramchung&quot;&gt;@sandramchung&lt;/a&gt;, Scott: &lt;a href=&quot;https://twitter.com/recology_&quot;&gt;@recology_&lt;/a&gt;), or email (&lt;a href=&quot;mailto:sandra.m.chung@gmail.com&quot;&gt;Sandra&lt;/a&gt;, &lt;a href=&quot;mailto:myrmecocystus@gmail.com&quot;&gt;Scott&lt;/a&gt;). &lt;/p&gt;

&lt;hr&gt;

&lt;h4&gt;Get the .md file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2012-11-15-altecology.md&quot;&gt;at my github account&lt;/a&gt;.  Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Displaying Your Data in Google Earth Using R2G2</title>
   <link href="http://recology.info//2012/10/R2G2-package/"/>
   <updated>2012-10-24T00:00:00-07:00</updated>
   <id>http://recology.info//2012/10/R2G2-package</id>
   <content type="html">&lt;p&gt;Have you ever wanted to easily visualize your ecology data in &lt;a href=&quot;http://earth.google.com&quot;&gt;Google Earth&lt;/a&gt;?  &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt; is a new package for R, available via &lt;a href=&quot;http://cran.r-project.org/&quot;&gt;R CRAN&lt;/a&gt; and formally described in &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/1755-0998.12012/abstract&quot;&gt;this Molecular Ecology Resources article&lt;/a&gt;, which provides a user-friendly bridge between R and the Google Earth interface.  Here, we will provide a brief introduction to the package, including a short tutorial, and then encourage you to try it out with your own data!&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://barkerlab.net/nils.html&quot;&gt;Nils Arrigo&lt;/a&gt;, with some help from &lt;a href=&quot;http://portal.environment.arizona.edu/students/profiles/loren-albert&quot;&gt;Loren Albert&lt;/a&gt;, &lt;a href=&quot;http://barkerlab.net/mike.html&quot;&gt;Mike Barker&lt;/a&gt;, and Pascal Mickelson (one of the contributors to &lt;a href=&quot;http://sckott.github.io/about.html&quot;&gt;Recology&lt;/a&gt;), has created a set of R tools to generate KML files to view data with geographic components.  Instead of just telling you what the tools can do, though, we will show you a couple of examples using publically available data.  Note: a number of individual files are linked to throughout the tutorial below, but just in case you would rather download all the tutorial files in one go, have at it (&lt;a href=&quot;/public/img/R2G2tutorial/R2G2tutorial.zip&quot;&gt;tutorial zip file&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Among the basic tools in &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt; is the ability to place features—like dots, shapes, or images (including plots you produced in R)— that represent discrete observations at specific geographical locations.  For example, in the figure below, we show the migratory path of a particular turkey vulture in autumn of three successive years (red = 2009; blue = 2010; green = 2011).  &lt;/p&gt;

&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/public/img/R2G2tutorial/Vulture_Path.jpg&quot; alt=&quot;Google Earth image with three successive years of a particular turkey vulture&#39;s migration&quot; width=&quot;800&quot;&gt;&lt;br&gt;
&lt;small&gt;Google Earth imagery showing migratory path of a particular turkey vulture in 2009, 2010, and 2011.&lt;/small&gt;
&lt;/div&gt;  

&lt;p&gt;We use the &lt;em&gt;PolyLines2GE&lt;/em&gt; function that is part of &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt; to create line segments between the geographical coordinates which have been obtained from a turkey vulture tagged with a transponder (data accessed via the &lt;a href=&quot;http://movebank.org/&quot;&gt;Movebank Data Repository&lt;/a&gt; and is from the &lt;a href=&quot;http://movebank.org/movebank/#page%3Dstudies%2Cpath%3Dstudy481458&quot;&gt;Turkey Vulture Acopian Center USA GPS&lt;/a&gt;).  The &lt;em&gt;PolyLines2GE&lt;/em&gt; function looks like the following:  &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;PolyLines2GE&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;coords &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vulture_path&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;  
            nesting &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vulture_path&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;  
            colors &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;auto&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
            goo &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Vulture_Path.kml&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
            maxAlt &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1e4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
            fill &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
            closepoly &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
            lwd &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
            extrude &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
  

It expects to receive an array (&quot;coords&quot;) containing latitude and longitude coordinates in decimal degrees. Additionally, each individual coordinate has a flag associated with it (&quot;nesting&quot;) so that each data series can be distinguished.  Illustrating what you need is easier than explaining:

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;nesting longitude latitude
1   long1A      lat1A
1   long1B      lat1B
1   long1C      lat1C
2   long2A      lat2A
2   long2B      lat2B
3   long3A      lat3A
3   long3B      lat3B
3   long3C      lat3C&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

Feeding the columns of this array to the function results in three differently colored lines:  the first would connect the coordinates 1A-1B-1C, while the second would connect 2A-2B, and the third would connect 3A-3B-3C.  The only other user-defined input that is strictly necessary is the output file name (&quot;Vulture_Path.kml&quot; in this case).  The other options—which allow you control of the appearance of the lines and of the altitude at which your line displays in Google Earth—have reasonable defaults that are well-documented in the function definition itself.  Check out this example in Google Earth [by downloading the KML file][vultureKML].  Alternatively, [download the annotated R script][vultureR] and generate the KML file for yourself.

Now, let&#39;s say you wanted to get a sense of the range and abundance of two congeneric species.  In this second example, we use the *Hist2GE* function to create a histogram—overlaid on the surface of the earth—which shows the species distribution of *Mimulus lewisii* (red) and *Mimulus nasutus* (blue) in North America.  


&lt;div align=&quot;center&quot;&gt;
&lt;img src=&quot;/public/img/R2G2tutorial/Mimulus_Distribution.jpg&quot; alt=&quot;Google Earth image showing the distribution of Mimulus in North America&quot; width=&quot;800&quot;&gt;&lt;br&gt;
&lt;small&gt;Google Earth imagery showing the species distribution of &lt;em&gt;Mimulus lewisii&lt;/em&gt; and &lt;em&gt;Mimulus nasutus&lt;/em&gt;&lt;/small&gt;
&lt;/div&gt;  

&lt;p&gt;As you might expect, each polygon represents an occurrence of the species in question, while the height of the polygon represents the abundance of the species at that geographic location.  Species occurring within a particular distance of each other have been grouped together for the histogram.  For this example, we retrieve data from the &lt;a href=&quot;http://data.gbif.org/&quot;&gt;GBIF&lt;/a&gt; database from within R (see the example code for how that is done).  Inputs to the Hist2GE function are:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;Hist2GE&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;coords &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; MyCompleteData&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;  
        species &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; MyCompleteData&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt;  
        grid &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; grid10000&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
        goo &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Mimulus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
        nedges &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
        orient &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;45&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;  
        maxAlt &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1e4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;As in the first example, the function expects to receive an array containing the longitude and latitude (&amp;quot;coords&amp;quot;), a vector distinguishing individual observations (&amp;quot;species&amp;quot;), and an output file name (&amp;quot;goo&amp;quot;).  In this case, however, we also need to specify the size of the grid we will use to group observations together to construct the histogram.  Several pre-defined grid sizes are included in the package to do this grouping; these all cover large geographic areas and therefore must account for the curvature of the earth.  Here is a list of these pre-defined grids:&lt;/p&gt;

&lt;table border=&quot;1&quot;&gt;
    &lt;tr&gt;&lt;th&gt;Grid Name&lt;/th&gt;&lt;th&gt;Approximate Area of Grid Division &lt;/th&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;grid20000&lt;/td&gt;&lt;td&gt;25,500 sq. km&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;grid10000&lt;/td&gt;&lt;td&gt;51,000 sq. km&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;grid5000&lt;/td&gt;&lt;td&gt;102,000 sq. km&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;grid500&lt;/td&gt;&lt;td&gt;1,020,000 sq. km&lt;/td&gt;&lt;/tr&gt;
    &lt;tr&gt;&lt;td&gt;grid50&lt;/td&gt;&lt;td&gt;10,200,000 sq. km&lt;/td&gt;&lt;/tr&gt;
&lt;/table&gt;  

&lt;p&gt;For smaller geographic areas (less than 25,000 square kilometers, or an area of about 158 km per side), you can customize the grid size by specifying the bounds of your region of interest in decimal degrees, as well as the coarseness of the grid within that region.  While it is possible to use this custom grid definition for larger sizes, beware that not all areas defined thusly will be of equal size due to the earth&amp;#39;s curvature (obviously the bigger you go, the worse it gets...).  Finally, you again have control over the display parameters of the histogram.  In particular, the maximum altitude (&amp;quot;maxAlt&amp;quot;) controls how high the tallest bar in the histogram will go.  Here is &lt;a href=&quot;/public/img/R2G2tutorial/Mimulus_Distribution.kml&quot;&gt;the resulting KML file&lt;/a&gt;, as well as &lt;a href=&quot;/public/img/R2G2tutorial/Mimulus_Distribution.R&quot;&gt;the annotated R script&lt;/a&gt; so you can further explore the example.&lt;/p&gt;

&lt;p&gt;More complex visual representations are also possible using &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt;.  For instance, you can also create contour plots or phylogenies overlaid directly on the surface of the earth.  We included a couple examples of this type in &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/1755-0998.12012/abstract&quot;&gt;our Molecular Ecology Resources article&lt;/a&gt;, and if the response seems good, we may post a follow up tutorial showing how we went about creating those examples.&lt;/p&gt;

&lt;p&gt;It is our sincere hope that you will use the tools in &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt; to more effectively visualize the geographical aspects of your data.  In particular, we are excited about the potential for incorporating &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt; into data analysis pipelines connecting analysis in R with data visualization and exploration in Google Earth.  Ultimately, the inclusion of KML files as supplementary materials to journal articles should also enrich one&amp;#39;s understanding of the data being presented!&lt;/p&gt;

&lt;p&gt;&lt;big&gt;&lt;b&gt;Note:  If you make something cool using &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt;, please post a link to your KML file in the comments; we would love to see!&lt;/b&gt;&lt;/big&gt;&lt;/p&gt;

&lt;p&gt;Citation information for &lt;a href=&quot;http://cran.r-project.org/web/packages/R2G2/index.html&quot;&gt;R2G2&lt;/a&gt;:&lt;br&gt;
&lt;em&gt;Arrigo, N., Albert, L. P., Mickelson, P. G. and Barker, M. S. (2012), Quantitative visualization of biological data in Google Earth using R2G2, an R CRAN package. Molecular Ecology Resources. doi: 10.1111/1755-0998.12012&lt;/em&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Getting taxonomic names downstream</title>
   <link href="http://recology.info//2012/10/get-taxa-downstream/"/>
   <updated>2012-10-16T00:00:00-07:00</updated>
   <id>http://recology.info//2012/10/get-taxa-downstream</id>
   <content type="html">&lt;p&gt;It can be a pain in the ass to get taxonomic names. For example, I sometimes need to get all the Class names for a set of species.  This is a relatively easy problem using the &lt;a href=&quot;http://www.itis.gov/ws_description.html&quot;&gt;ITIS API&lt;/a&gt; (example below).  &lt;/p&gt;

&lt;p&gt;The much harder problem is getting all the taxonomic names downstream. ITIS doesn&amp;#39;t provide an API method for this - well, they do (&lt;a href=&quot;http://www.itis.gov/ws_hierApiDescription.html#getHierarchyDn&quot;&gt;&lt;code&gt;getHirerachyDownFromTSN&lt;/code&gt;&lt;/a&gt;), but it only provides direct children (e.g., the genera within a tribe - but it won&amp;#39;t give all the species within each genus).  &lt;/p&gt;

&lt;p&gt;So in the &lt;code&gt;taxize&lt;/code&gt; package, we wrote a function called &lt;code&gt;downstream&lt;/code&gt;, which allows you to get taxonomic names to any downstream point, e.g.:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;get all Classes within Animalia,&lt;/li&gt;
&lt;li&gt;get all Species within a Family&lt;/li&gt;
&lt;li&gt;etc.&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;Install packages.  You can get other packages from CRAN, but taxize is only on GitHub for now.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# install_github(&amp;#39;ritis&amp;#39;, &amp;#39;ropensci&amp;#39;) # uncomment if not already installed&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# install_github(&amp;#39;taxize_&amp;#39;, &amp;#39;ropensci&amp;#39;) # uncomment if not already&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# installed&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ritis&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;taxize&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Get upstream taxonomic names.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Search for a TSN by scientific name&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; searchbyscientificname&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Tardigrada&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; tsn &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; df&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;combinedname &lt;span class=&quot;o&quot;&gt;%in%&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Tardigrada&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;tsn&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Get just one immediate higher taxonomic name&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;6&lt;/span&gt; gethierarchyupfromtsn&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;tsn &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; tsn&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;parentName parentTsn rankName  taxonName    tsn
1   Animalia    202423   Phylum Tardigrada 155166&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Get full hierarchy upstream from TSN&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; getfullhierarchyfromtsn&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;tsn &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; tsn&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;parentName parentTsn rankName        taxonName    tsn
1                       Kingdom         Animalia 202423
2   Animalia    202423   Phylum       Tardigrada 155166
3 Tardigrada    155166    Class     Eutardigrada 155362
4 Tardigrada    155166    Class Heterotardigrada 155167
5 Tardigrada    155166    Class   Mesotardigrada 155358&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Get taxonomc names downstream.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Get genera downstream fromthe Class Bangiophyceae&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; downstream&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;846509&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Genus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;tsn parentName parentTsn   taxonName rankId rankName
1 11531 Bangiaceae     11530      Bangia    180    Genus
2 11540 Bangiaceae     11530    Porphyra    180    Genus
3 11577 Bangiaceae     11530 Porphyrella    180    Genus
4 11580 Bangiaceae     11530 Conchocelis    180    Genus&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Get families downstream from Acridoidea&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; downstream&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;650497&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Family&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;tsn parentName parentTsn      taxonName rankId rankName
1  102195 Acridoidea    650497      Acrididae    140   Family
2  650502 Acridoidea    650497     Romaleidae    140   Family
3  657472 Acridoidea    650497    Charilaidae    140   Family
4  657473 Acridoidea    650497   Lathiceridae    140   Family
5  657474 Acridoidea    650497     Lentulidae    140   Family
6  657475 Acridoidea    650497    Lithidiidae    140   Family
7  657476 Acridoidea    650497   Ommexechidae    140   Family
8  657477 Acridoidea    650497    Pamphagidae    140   Family
9  657478 Acridoidea    650497  Pyrgacrididae    140   Family
10 657479 Acridoidea    650497    Tristiridae    140   Family
11 657492 Acridoidea    650497 Dericorythidae    140   Family&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Get species downstream from Ursus&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; downstream&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;180541&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Species&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;tsn parentName parentTsn        taxonName rankId rankName
1 180542      Ursus    180541  Ursus maritimus    220  Species
2 180543      Ursus    180541     Ursus arctos    220  Species
3 180544      Ursus    180541 Ursus americanus    220  Species
4 621850      Ursus    180541 Ursus thibetanus    220  Species&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-10-16-get-taxa-downstream.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2012-10-16-get-taxa-downstream.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Exploring phylogenetic tree balance metrics</title>
   <link href="http://recology.info//2012/10/phylogenetic-tree-balance/"/>
   <updated>2012-10-10T00:00:00-07:00</updated>
   <id>http://recology.info//2012/10/phylogenetic-tree-balance</id>
   <content type="html">&lt;p&gt;I need to simulate balanced and unbalanced phylogenetic trees for some research I am doing.  In order to do this, I do rejection sampling: simulate a tree -&amp;gt; measure tree shape -&amp;gt; reject if not balanced or unbalanced &lt;strong&gt;enough&lt;/strong&gt;.  But what is enough?  We need to define some cutoff value to determine what will be our set of balanced and unbalanced trees. &lt;/p&gt;

&lt;h3&gt;A function to calculate shape metrics, and a custom theme for plottingn phylogenies.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; foo &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; metric &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;colless&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt;     &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;metric &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;colless&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt;         xx &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; as.treeshape&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# convert to apTreeshape format&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt;         colless&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;xx&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;yule&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# calculate colless&amp;#39; metric&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt;     &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;metric &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;gamma&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt;         gammaStat&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;     &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;metric should be one of colless or gamma&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt; theme_myblank &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt;     &lt;span class=&quot;kp&quot;&gt;stopifnot&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt;     theme_blank &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggplot2&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;theme_blank
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt;     ggplot2&lt;span class=&quot;o&quot;&gt;::&lt;/span&gt;theme&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;panel.grid.major &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; panel.grid.minor &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt;         panel.background &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; plot.background &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;15&lt;/span&gt;         axis.title.x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_text&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;colour &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;NA&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; axis.title.y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;16&lt;/span&gt;         axis.text.x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; axis.text.y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; axis.line &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;17&lt;/span&gt;         axis.ticks &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_blank&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;18&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Simulate some trees&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ape&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;phytools&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; numtrees &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# lets simulate 1000 trees&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; trees &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; pbtree&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;n &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; nsim &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; numtrees&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; ape &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# simulate 500 pure-birth trees with 100 spp each, ape = F makes it run faster&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Calculate Colless&amp;#39; shape metric on each tree&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plyr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;apTreeshape&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; colless_df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ldply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;trees&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; foo&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; metric &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;colless&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# calculate metric for each tree&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;colless_df&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;V1
1 -0.1761
2  0.2839
3  0.4639
4  0.9439
5 -0.6961
6 -0.1161&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Calculate the percent of trees that will fall into the cutoff for balanced and unbalanced trees&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; col_percent_low &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;colless_df&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;colless_df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;V1 &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;V1&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;numtrees&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; col_percent_high &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;colless_df&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;colless_df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;V1 &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;V1&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;numtrees&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Create a distribution of the metric values&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt; a &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;colless_df&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;V1&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# plot histogram of distribution of values&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt;  geom_histogram&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt;  theme_bw&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt;  scale_x_continuous&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;limits&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; breaks&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;  geom_vline&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;xintercept &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; colour&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; linetype &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;longdash&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt;  geom_vline&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;xintercept &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; colour&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; linetype &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;longdash&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt;  ggtitle&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;paste0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Distribution of Colless&amp;#39; metric for 1000 trees, cutoffs at -0.7 and 0.7 results in\n &amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; col_percent_low&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;% (&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; numtrees&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;col_percent_low&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;) &amp;#39;balanced&amp;#39; trees (left) and &amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; col_percent_low&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;% (&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; numtrees&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;col_percent_low&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;) &amp;#39;unbalanced&amp;#39; trees (right)&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;  
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt;  labs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Colless&amp;#39; Metric Value&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Number of phylogenetic trees&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt;  theme&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plot.title  &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_text&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt; a&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/collesshist.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;h3&gt;Create phylogenies representing balanced and unbalanced trees (using the custom theme)&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggphylo&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; b &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggphylo&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;trees&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;which.min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;colless_df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;V1&lt;span class=&quot;p&quot;&gt;)],&lt;/span&gt; do.plot &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; theme_myblank&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggphylo&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;trees&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;which.max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;colless_df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;V1&lt;span class=&quot;p&quot;&gt;)],&lt;/span&gt; do.plot &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; theme_myblank&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;6&lt;/span&gt; b&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/collessphylog.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;h3&gt;Now, put it all together in one plot using some gridExtra magic.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gridExtra&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt; grid.newpage&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt; pushViewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;viewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;layout &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; grid.layout&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt; vpa_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; viewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.49&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt; vpb_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; viewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.23&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt; vpc_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; viewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.82&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vp &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vpa_&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;b&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vp &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vpb_&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vp &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vpc_&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/collessall.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;h3&gt;And the same for Gamma stat, which measures the distribution of nodes in time.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; gamma_df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ldply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;trees&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; foo&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; metric&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;gamma&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# calculate metric for each tree&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; gam_percent_low &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gamma_df&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;gamma_df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;V1 &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;V1&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;numtrees&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt; gam_percent_high &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gamma_df&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;gamma_df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;V1 &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;V1&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;numtrees&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt; a &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gamma_df&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;V1&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# plot histogram of distribution of values&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt;  geom_histogram&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt;  theme_bw&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;  scale_x_continuous&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;breaks&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;-1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt;  geom_vline&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;xintercept &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; colour&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; linetype &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;longdash&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt;  geom_vline&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;xintercept &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; colour&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; linetype &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;longdash&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt;  ggtitle&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;paste0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Distribution of Gamma metric for 1000 trees, cutoffs at -1 and 1 results in\n &amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; gam_percent_low&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;% (&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; numtrees&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gam_percent_low&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;) trees with deeper nodes (left) and &amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; gam_percent_high&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;% (&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; numtrees&lt;span class=&quot;o&quot;&gt;*&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gam_percent_high&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;) trees with shallower nodes (right)&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;  
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt;  labs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Gamma Metric Value&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Number of phylogenetic trees&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt;  theme&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plot.title  &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; element_text&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;16&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt; b &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggphylo&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;trees&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;which.min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gamma_df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;V1&lt;span class=&quot;p&quot;&gt;)],&lt;/span&gt; do.plot&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; theme_myblank&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggphylo&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;trees&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;which.max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gamma_df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;V1&lt;span class=&quot;p&quot;&gt;)],&lt;/span&gt; do.plot&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;bp&quot;&gt;F&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; theme_myblank&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;15&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;16&lt;/span&gt; grid.newpage&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;17&lt;/span&gt; pushViewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;viewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;layout &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; grid.layout&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;18&lt;/span&gt; vpa_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; viewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.49&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;19&lt;/span&gt; vpb_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; viewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.23&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;20&lt;/span&gt; vpc_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; viewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.82&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.7&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;21&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vp &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vpa_&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;22&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;b&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vp &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vpb_&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;23&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vp &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vpc_&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/gammaall.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;hr&gt;

&lt;h4&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-10-10-phylogenetic-tree-balance.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2012-10-10-phylogenetic-tree-balance.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>GBIF biodiversity data from R - more functions</title>
   <link href="http://recology.info//2012/10/rgbif-newfxns/"/>
   <updated>2012-10-08T00:00:00-07:00</updated>
   <id>http://recology.info//2012/10/rgbif-newfxns</id>
   <content type="html">&lt;h4&gt;UPDATE: In response to Jarrett&amp;#39;s query I laid out a separate use case in which you may want to query by higher taxonomic rankings than species. See below.  In addition, added examples of querying by location in reply to comments by seminym.&lt;/h4&gt;

&lt;hr&gt;

&lt;p&gt;We have been working on an R package to get GBIF data from R, with the stable version available through CRAN &lt;a href=&quot;URL&quot;&gt;here&lt;/a&gt;, and the development version available on GitHub &lt;a href=&quot;http://github.com/rgbif&quot;&gt;here&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;We had a Google Summer of code stuent work on the package this summer - you can see his work on the package over at his GitHub page &lt;a href=&quot;&quot;&gt;here&lt;/a&gt;.  We have added some new functionality since his work, and would like to show it off. &lt;/p&gt;

&lt;h3&gt;Lets install rgbif first.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# install_github(&amp;#39;rgbif&amp;#39;, &amp;#39;ropensci&amp;#39;) # uncomment if not already installed&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rgbif&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plyr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;XML&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;httr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;maps&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;7&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Get taxonomic information on a specific taxon or taxa in GBIF by their taxon concept keys.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;keys &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; taxonsearch&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;scientificname &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Puma concolor&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# many matches to this search&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &amp;quot;51780668&amp;quot; &amp;quot;51758018&amp;quot; &amp;quot;50010499&amp;quot; &amp;quot;51773067&amp;quot; &amp;quot;51078815&amp;quot; &amp;quot;51798065&amp;quot;
 [7] &amp;quot;51088007&amp;quot; &amp;quot;50410780&amp;quot; &amp;quot;50305290&amp;quot; &amp;quot;51791438&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; taxonget&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;keys&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]])&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# let&amp;#39;s get the first one - the first row in the data.frame is the one we searched for (51780668)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[[1]]
                    sciname taxonconceptkeys       rank
1             Puma concolor         51780668    species
2                      Puma         51780667      genus
3                   Felidae         51780651     family
4                 Carnivora         51780613      order
5                  Mammalia         51780547      class
6                  Chordata         51775774     phylum
7                  Animalia         51775773    kingdom
8 Puma concolor californica         51780669 subspecies
9   Puma concolor improcera         51780670 subspecies&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;The &lt;code&gt;occurrencedensity&lt;/code&gt; function was renamed to &lt;code&gt;densitylist&lt;/code&gt; because it is in the &lt;code&gt;density&lt;/code&gt; API service, not the &lt;code&gt;occurrence&lt;/code&gt; API service.  You can use &lt;code&gt;densitylist&lt;/code&gt; to get a data.frame of total occurrence counts by one-degree cell for a single taxon, country, dataset, data publisher or data network.  Just a quick reminder of what the function can do:&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;densitylist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;originisocountrycode &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;CA&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;cellid minLatitude maxLatitude minLongitude maxLongitude count
1  46913          40          41          -67          -66    44
2  46914          40          41          -66          -65   907
3  46915          40          41          -65          -64   510
4  46916          40          41          -64          -63   645
5  46917          40          41          -63          -62    56
6  46918          40          41          -62          -61   143&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Using a related function, &lt;code&gt;density_spplist&lt;/code&gt;, you can get a species list by one-degree cell as well.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Get a species list by cell, choosing one at random&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; density_spplist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;originisocountrycode &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;CO&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; spplist &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;random&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &amp;quot;Abarema laeta (Benth.) Barneby &amp;amp; J.W.Grimes&amp;quot;
 [2] &amp;quot;Abuta grandifolia (Mart.) Sandwith&amp;quot;         
 [3] &amp;quot;Acalypha cuneata Poepp.&amp;quot;                    
 [4] &amp;quot;Acalypha diversifolia Jacq.&amp;quot;                
 [5] &amp;quot;Acalypha macrostachya Jacq.&amp;quot;                
 [6] &amp;quot;Acalypha stachyura Pax&amp;quot;                     
 [7] &amp;quot;Acanthoscelio acutus&amp;quot;                       
 [8] &amp;quot;Accipiter collaris&amp;quot;                         
 [9] &amp;quot;Actitis macularia&amp;quot;                          
[10] &amp;quot;Adelobotrys klugii Wurdack&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# density_spplist(originisocountrycode = &amp;#39;CO&amp;#39;, spplist = &amp;#39;r&amp;#39;) # can&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# abbreviate the `spplist` argument&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Get a species list by cell, choosing the one with the greatest no. of&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# records&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;6&lt;/span&gt; density_spplist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;originisocountrycode &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;CO&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; spplist &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;great&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# great is abbreviated from `greatest`&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &amp;quot;Acanthaceae Juss.&amp;quot;                
 [2] &amp;quot;Accipitridae sp.&amp;quot;                 
 [3] &amp;quot;Accipitriformes/Falconiformes sp.&amp;quot;
 [4] &amp;quot;Apodidae sp.&amp;quot;                     
 [5] &amp;quot;Apodidae sp. (large swift sp.)&amp;quot;   
 [6] &amp;quot;Apodidae sp. (small swift sp.)&amp;quot;   
 [7] &amp;quot;Arctiinae&amp;quot;                        
 [8] &amp;quot;Asteraceae Bercht. &amp;amp; J. Presl&amp;quot;    
 [9] &amp;quot;Asteraceae sp. 1&amp;quot;                 
[10] &amp;quot;Asteraceae sp. 6&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Can also get a data.frame with counts instead of the species list&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; density_spplist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;originisocountrycode &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;CO&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; spplist &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;great&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; listcount &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;counts&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt;     &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;names_ count
1                  Acanthaceae Juss.     2
2                   Accipitridae sp.     6
3  Accipitriformes/Falconiformes sp.     2
4                       Apodidae sp.     5
5     Apodidae sp. (large swift sp.)     8
6     Apodidae sp. (small swift sp.)     5
7                          Arctiinae     7
8      Asteraceae Bercht. &amp;amp; J. Presl     2
9                   Asteraceae sp. 1     6
10                  Asteraceae sp. 6    10&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;You can now map point results, from fxns &lt;code&gt;occurrencelist&lt;/code&gt; and those from &lt;code&gt;densitylist&lt;/code&gt;, which plots them as points or as tiles, respectively.  Point map, using output from occurrencelist.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; occurrencelist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;scientificname &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Puma concolor&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; coordinatestatus &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt;     maxresults &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; latlongdf &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; gbifmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;input &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# make a map, plotting on world map&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/gbifmap1.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;h3&gt;Point map, using output from occurrencelist, with many species plotted as different colors&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; splist &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Accipiter erythronemius&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Junco hyemalis&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Aix sponsa&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Buteo regalis&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;lapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;splist&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; occurrencelist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; coordinatestatus &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; maxresults &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt;     latlongdf &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; gbifmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/gbifmap2.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;h3&gt;Tile map, using output from densitylist, using results in Canada only.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; out2 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; densitylist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;originisocountrycode &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;CA&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# data for Canada&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; gbifmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# on world map&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/gbifmap31.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; gbifmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out2&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; region &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Canada&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# on Canada map&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/gbifmap32.png&quot; alt=&quot;NA&quot;&gt; &lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;We can also query by higher taxonomic rankings, and map all lower species within that ranking. Above we queried by scientificname, but we can also query by higher taxonomy. 7071443 is the taxonconceptkey for &amp;#39;Bacillariophyceae&amp;#39;, a Class which includes many lower species.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; densitylist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;taxonconceptKey &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;7071443&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; gbifmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/algae.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;h3&gt;seminym asked about querying by area. You can query by area, though slightly differently for occurrencelist and densitylist functions. For occurrencelist you can search using min and max lat and long values (and min an max altitude, pretty cool, eh).&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Get occurrences or density by area, using min/max lat/long coordinates&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; occurrencelist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;minlatitude &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;30&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; maxlatitude &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;35&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; minlongitude &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt;     maxlongitude &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-95&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; coordinatestatus &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; maxresults &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; latlongdf &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Using `geom_point`&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;6&lt;/span&gt; gbifmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;state&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;texas&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; geom_point&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/byarea_occurr1.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Using geom_jitter to move the points apart from one another&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; gbifmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;state&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;texas&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; geom_jitter&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; position_jitter&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/byarea_occurr2.png&quot; alt=&quot;NA&quot;&gt; &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# And move points a lot&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; gbifmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;state&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;texas&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; geom_jitter&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; position_jitter&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/byarea_occurr3.png&quot; alt=&quot;NA&quot;&gt; &lt;/p&gt;

&lt;h3&gt;And you can query by area in &lt;code&gt;densitylist&lt;/code&gt; by specifying a place using the &lt;code&gt;originisocountrycode&lt;/code&gt; argument (as done in an above example).  Just showing the head of the data.frame here.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Get density by place, note that you can&amp;#39;t use the lat and long arguments&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# in densitylist&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;densitylist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;originisocountrycode &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;CA&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;cellid minLatitude maxLatitude minLongitude maxLongitude count
1  46913          40          41          -67          -66    44
2  46914          40          41          -66          -65   907
3  46915          40          41          -65          -64   510
4  46916          40          41          -64          -63   645
5  46917          40          41          -63          -62    56
6  46918          40          41          -62          -61   143&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h4&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-10-08-rgbif-newfxns.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2012-10-08-rgbif-newfxns.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Vertnet - getting vertebrate museum record data and a quick map</title>
   <link href="http://recology.info//2012/09/rvertnet/"/>
   <updated>2012-09-19T00:00:00-07:00</updated>
   <id>http://recology.info//2012/09/rvertnet</id>
   <content type="html">&lt;p&gt;We (&lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt;) started a repo to wrap the API for &lt;a href=&quot;http://vertnet.org/index.php&quot;&gt;VertNet&lt;/a&gt;, an open access online database of vertebrate specimen records across many collection holders. Find the open source code &lt;a href=&quot;https://github.com/ropensci/rvertnet&quot;&gt;here&lt;/a&gt; - please contribute if you are so inclined.  We had a great Google Summer of Code student, &lt;a href=&quot;http://vijaybarve.wordpress.com/&quot;&gt;Vijay Barve&lt;/a&gt; contributing to the repo this summer, so it is getting close to being CRAN-able. &lt;/p&gt;

&lt;p&gt;Most of the functions in the repo get you the raw data, but there were no functions to visualize the data.  Since much of the data records of latitude and longitude data, maps are a natural visualization to use.  &lt;/p&gt;

&lt;p&gt;What follows is a quick example of using the basic &lt;code&gt;vertmap&lt;/code&gt; function.&lt;/p&gt;

&lt;h3&gt;First, let&amp;#39;s install &lt;code&gt;rvertnet&lt;/code&gt;&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# install_github(&amp;#39;rvertnet&amp;#39;, &amp;#39;ropensci&amp;#39;) # uncomment if not installed&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# already&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rvertnet&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;First, let&amp;#39;s get some data using &lt;code&gt;vertoccurrence&lt;/code&gt;&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; vertoccurrence&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;q &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;larva&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; num &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# get records on keyword &amp;#39;larva&amp;#39;, limit to 100&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;nrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# how many rows?&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] 100&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Now map it using &lt;code&gt;vertmap&lt;/code&gt;.  This is a very basic function: it simply cleans up the input data.frame, removing rows without lat/long data, and providing warnings when the input data.frame is not in the correct format.  &lt;code&gt;vertmap&lt;/code&gt; uses the &lt;code&gt;ggplot2&lt;/code&gt; framework for the map.  If you want to make you own map please do so -  this is just a simple fxn to get you started if you want to take a quick look at the data.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; vertmap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;input &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; out&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# make a map using vertmap&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/vertmap.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;hr&gt;

&lt;h4&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-09-19-rvertnet.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2012-09-19-rvertnet.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Getting data from figures in published papers</title>
   <link href="http://recology.info//2012/09/getting-data/"/>
   <updated>2012-09-18T00:00:00-07:00</updated>
   <id>http://recology.info//2012/09/getting-data</id>
   <content type="html">&lt;h2&gt;The problem:&lt;/h2&gt;

&lt;p&gt;There are a lot of figures in published papers in the scholarly literature, like the below, from (Attwood &lt;em&gt;et. al.&lt;/em&gt; 2012)):  &lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/getfig2.png&quot; alt=&quot;alt text&quot;&gt;&lt;/p&gt;

&lt;p&gt;At some point, a scientist wants to ask a question for which they can synthesize the knowledge on that question by collecting data from the published literature.  This often requires something like the following workflow:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Search for relevant papers (e.g., via Google Scholar).&lt;/li&gt;
&lt;li&gt;Collect the papers.&lt;/li&gt;
&lt;li&gt;Decide which are appropriate for inclusion.&lt;/li&gt;
&lt;li&gt;Collect data from the figures using software on a native application.  Examples include &lt;a href=&quot;http://www.arizona-software.ch/graphclick/&quot;&gt;GraphClick&lt;/a&gt; and &lt;a href=&quot;http://rsbweb.nih.gov/ij/&quot;&gt;ImageJ&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Proof data. &lt;/li&gt;
&lt;li&gt;Analyze data &amp;amp; publish paper. &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;This workflow needs revamping, particularly in step number 3 - collecting the data.  This data remains private, moving from one closed source (original publication) to another (personal computer).  We can surely do better.&lt;/p&gt;

&lt;h2&gt;A solution&lt;/h2&gt;

&lt;p&gt;The data collection process (Step 3 above) can make use of modern technology, and be based in the browser. Some benefits of a browser based data collection approach:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Cross-platform: a data digitization program that lives in the browser can be more easily cross-platform (Linux/Mac/Windows) than a native app. &lt;/li&gt;
&lt;li&gt;Linked data: with the increasing abundance of APIs (application programming interfaces), we can link the data going into this app to anything of interest.  This is not so easy in a native app. &lt;/li&gt;
&lt;li&gt;Automatic updates: a web based browser can be updated easily without requiring a user to go get updates. &lt;/li&gt;
&lt;li&gt;User-based: a web based browser can easily integrate secure user login so that users can be associated with data collected, allowing for quantification of user-based error, and eventually user based scores/badges/etc. if so desired.&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;For those concerned about a browser based approach to data collection from figures, it will likely be possible to make it work offline as well, then send data up to servers when connected to the web again. &lt;/p&gt;

&lt;p&gt;What would be great about having data be public by default is that the work would be reproducible easily, at least on the data side of things. Hopefully the researchers would make all their code available publicly to recreate their analyses. &lt;/p&gt;

&lt;h2&gt;Question: Why would this idea work?&lt;/h2&gt;

&lt;p&gt;Better question: Why wouldn’t it work!&lt;/p&gt;

&lt;p&gt;I think this idea could be awesome.  The reason I think it could be is based on two observations: &lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;There is a seemingly endless supply of academic papers with figures in them from which data can be extracted.**&lt;/li&gt;
&lt;li&gt;There is increasing use of meta-analysis in science, which is fed by just this kind of data. &lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;** p.s. in the future, perhaps we will move to all SVG format figures or something even better, in which case data can be extracted from the underlying XML&lt;/p&gt;

&lt;h2&gt;Okay, maybe it&amp;#39;s a good idea, but who owns the data in figures in published papers?&lt;/h2&gt;

&lt;p&gt;As far as I know, and I&amp;#39;ve checked with a few knowledgeable people, no one owns this data. So it&amp;#39;s ripe for the digitizing!&lt;/p&gt;

&lt;h2&gt;Open access&lt;/h2&gt;

&lt;p&gt;I want this project to be totally open access (and I hope you do too).  I love models like GitHub where everything is public by default (unless you are an enterprise user, exceptions, exceptions), and I think that is what this requires.  You may be thinking though: &amp;quot;But I am collecting data for my meta-analysis and I don&amp;#39;t want to share the data with anyone else&amp;quot;.  My answer: &amp;quot;I understand where you are coming from, but it doesn&amp;#39;t seem very likely that someone will be asking the exact same question as you and be looking for the data from the exact same papers&amp;quot;.  There will just be a huge database of data from figures, and all the appropriate metadata of course.  Anyone should be able to use this.&lt;/p&gt;

&lt;h2&gt;APIs&lt;/h2&gt;

&lt;p&gt;It would be great to build this from the start having an API in mind.  That is, how do we need to structure the data to be easily served up in an API to other websites, or pulled down to someone&amp;#39;s local machine within Python or R to do data manipulation, analysis, and visualization?  We are going to need a key-value store database, such as MongoDB/CouchDB because ideally at least we would store the data collected, the figure itself, use information, etc. &lt;/p&gt;

&lt;h2&gt;What is being done about this?&lt;/h2&gt;

&lt;p&gt;I was fortunate enough to tag along with &lt;a href=&quot;http://emhart.github.com/&quot;&gt;Ted Hart&lt;/a&gt;, a postdoc at &lt;a href=&quot;PUTINLINKHERE&quot;&gt;UBC&lt;/a&gt;, on a recently submitted NCEAS working group proposal. Who knows if we&amp;#39;ll get it, but we are already working on a prototype, so we will hit the ground running if we get funded, and just hit the ground, but walk a bit slower if we don&amp;#39;t get the funding. &lt;/p&gt;

&lt;h2&gt;What could this be in the future?&lt;/h2&gt;

&lt;p&gt;At least in my mind, I think of this idea going the direction of gamification, including points, badges, etc., sort of like &lt;a href=&quot;http://fold.it/portal/&quot;&gt;FoldIt&lt;/a&gt; or &lt;a href=&quot;http://www.galaxyzoo.org/&quot;&gt;GalaxyZoo&lt;/a&gt;.  At first we need alpha-, then beta-testers, which I imagine will most likely be academics exracting data for a meta-analysis for example.  But in the future, it would be great to make the interface enjoyable enough to attract non-academics, which could greatly increase the speed of data collection. &lt;/p&gt;

&lt;p&gt;Once there are a lot of people collecting data we can get many data points for every single data point in a graph.  Whereas right now, someone clicks on each data point in a graph one, maybe two times if they are lucky.  In the future, we could have ten different users clicking on each mean and each error bar in each graph.  So exciting!  The following figure illustrates this. &lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/clicks.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;h2&gt;What do you think?&lt;/h2&gt;

&lt;p&gt;Is this idea totally insane?  Is it do-able?  Is it worth doing?&lt;/p&gt;

&lt;hr&gt;

&lt;h4&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-09-18-getting-data.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2012-09-18-getting-data.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h4&gt;

&lt;hr&gt;

&lt;h4&gt;References&lt;/h4&gt;

&lt;p&gt;&lt;p&gt;Attwood AS, Scott-Samuel NE, Stothart G, Munafò MR and Laks J (2012).
&amp;ldquo;Glass Shape Influences Consumption Rate For Alcoholic Beverages.&amp;rdquo;
&lt;EM&gt;Plos One&lt;/EM&gt;, &lt;B&gt;7&lt;/B&gt;.
&lt;a href=&quot;http://dx.doi.org/10.1371/journal.pone.0043007&quot;&gt;http://dx.doi.org/10.1371/journal.pone.0043007&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Scholarly metadata from R</title>
   <link href="http://recology.info//2012/09/rmetadata/"/>
   <updated>2012-09-17T00:00:00-07:00</updated>
   <id>http://recology.info//2012/09/rmetadata</id>
   <content type="html">&lt;p&gt;Metadata!  Metadata is very cool.  It&amp;#39;s super hot right now - everybody is talking about it.  Okay, maybe not everyone, but it&amp;#39;s an important part of archiving scholarly work.&lt;/p&gt;

&lt;p&gt;We are working on &lt;a href=&quot;https://github.com/ropensci/rmetadata&quot;&gt;a repo on GitHub &lt;code&gt;rmetadata&lt;/code&gt;&lt;/a&gt; to be a one stop shop for querying metadata from around the web.  Various repos on GitHub we have started - &lt;a href=&quot;https://github.com/ropensci/rpmc&quot;&gt;rpmc&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rpmc&quot;&gt;rdatacite&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rpmc&quot;&gt;rdryad&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rpmc&quot;&gt;rpensoft&lt;/a&gt;, &lt;a href=&quot;https://github.com/ropensci/rpmc&quot;&gt;rhindawi&lt;/a&gt; - will at least in part be folded into &lt;code&gt;rmetadata&lt;/code&gt;.&lt;/p&gt;

&lt;p&gt;As a start we are writing functions to hit any metadata services that use the &lt;a href=&quot;http://www.openarchives.org/OAI/openarchivesprotocol.html&quot;&gt;OAI-PMH: &amp;quot;Open Archives Initiative Protocol for Metadata Harvesting&amp;quot;&lt;/a&gt; framework.  &lt;code&gt;OAI-PMH&lt;/code&gt; has six methods (or verbs as they are called) for data harvesting that are the same across different metadata providers:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;code&gt;GetRecord&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;Identify&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ListIdentifiers&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ListMetadataFormats&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ListRecords&lt;/code&gt;&lt;/li&gt;
&lt;li&gt;&lt;code&gt;ListSets&lt;/code&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;code&gt;OAI-PMH&lt;/code&gt; provides an updating list of data providers, which we can easily use to get the base URLs for their data.  Then we just use one of the six above methods to query their metadata.&lt;/p&gt;

&lt;h3&gt;Let&amp;#39;s install rmetadata first.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;rmetadata&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;ropensci&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rmetadata&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;The most basic thing you can do with &lt;code&gt;OAI-PMH&lt;/code&gt; is identify the data provider, getting their basic information. The &lt;code&gt;Identify&lt;/code&gt; verb.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# one provider&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; md_identify&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;datacite&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;repositoryName                     baseURL protocolVersion
1   DataCite MDS http://oai.datacite.org/oai             2.0
        adminEmail    earliestDatestamp deletedRecord
1 admin@datacite.org 2011-01-01T00:00:00Z            no
         granularity compression compression.1
1 YYYY-MM-DDThh:mm:ssZ        gzip       deflate
                                                                                                                                                    description
1 oai, oai.datacite.org, :, oai:oai.datacite.org:12425, http://www.openarchives.org/OAI/2.0/oai-identifier http://www.openarchives.org/OAI/2.0/oai-identifier.xsd&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# many providers&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; md_identify&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;datacite&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;pensoft&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;repositoryName                     baseURL protocolVersion
1       DataCite MDS http://oai.datacite.org/oai             2.0
2 Pensoft Publishers       http://oai.pensoft.eu             2.0
        adminEmail    earliestDatestamp deletedRecord
1 admin@datacite.org 2011-01-01T00:00:00Z            no
2               NULL           2008-07-04            no
         granularity compression compression.1
1 YYYY-MM-DDThh:mm:ssZ        gzip       deflate
2           YYYY-MM-DD        NULL          NULL
                                                                                                                                                    description
1 oai, oai.datacite.org, :, oai:oai.datacite.org:12425, http://www.openarchives.org/OAI/2.0/oai-identifier http://www.openarchives.org/OAI/2.0/oai-identifier.xsd
2                                                                                                                                                            NULL&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# no match for one, two matches for other&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; md_identify&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;harvard&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;journal&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$harvard
             x
1 no match found

$journal
                                             repo_name
1       Hrcak - Portal of scientific journals of Croatia
2 International journal of Power Electronics Engineering&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# let&amp;#39;s pick one from the second&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; md_identify&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Hrcak&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;repositoryName
1 Hrcak - Portal of scientific journals of Croatia
                  baseURL protocolVersion    adminEmail
1 http://hrcak.srce.hr/oai/             2.0 hrcak@srce.hr
earliestDatestamp deletedRecord granularity
1        2005-12-01            no  YYYY-MM-DD
                                                                                                                                                                        description
1 oai, hrcak.srce.hr, :, oai:hrcak.srce.hr:anIdentifier, http://www.openarchives.org/OAI/2.0/oai-identifier                    http://www.openarchives.org/OAI/2.0/oai-identifier.xsd&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;There are a variety of metadata formats, depending on the data provider - list them with the &lt;code&gt;ListMetadataFormats&lt;/code&gt; verb.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# List metadata formats for a provider&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; md_listmetadataformats&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;dryad&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;metadataPrefix
1         oai_dc
2            rdf
3            ore
4           mets
                                                     schema
1              http://www.openarchives.org/OAI/2.0/oai_dc.xsd
2                 http://www.openarchives.org/OAI/2.0/rdf.xsd
3 http://tweety.lanl.gov/public/schemas/2008-06/atom-tron.sch
4                  http://www.loc.gov/standards/mets/mets.xsd
                          metadataNamespace
1 http://www.openarchives.org/OAI/2.0/oai_dc/
2    http://www.openarchives.org/OAI/2.0/rdf/
3                 http://www.w3.org/2005/Atom
4                    http://www.loc.gov/METS/&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# List metadata formats for a specific identifier for a provider&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; md_listmetadataformats&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;pensoft&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; identifier &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.3897/zookeys.1.10&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;identifier metadataPrefix
1 10.3897/zookeys.1.10         oai_dc
2 10.3897/zookeys.1.10           mods
                                           schema
1    http://www.openarchives.org/OAI/2.0/oai_dc.xsd
2 http://www.loc.gov/standards/mods/v3/mods-3-1.xsd
                          metadataNamespace
1 http://www.openarchives.org/OAI/2.0/oai_dc/
2                  http://www.loc.gov/mods/v3&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;The &lt;code&gt;ListRecords&lt;/code&gt; verb is used to harvest records from a repository&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;md_listrecords&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;datacite&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]][,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;identifier            datestamp setSpec
1 oai:oai.datacite.org:32153 2011-06-08T08:57:11Z     TIB
2 oai:oai.datacite.org:32200 2011-06-20T08:11:08Z     TIB
3 oai:oai.datacite.org:32220 2011-06-28T14:11:08Z     TIB
4 oai:oai.datacite.org:32241 2011-06-30T13:24:45Z     TIB
5 oai:oai.datacite.org:32255 2011-07-01T12:09:24Z     TIB
6 oai:oai.datacite.org:32282 2011-07-05T09:08:10Z     TIB&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;&lt;code&gt;ListIdentifiers&lt;/code&gt; is an abbreviated form of &lt;code&gt;ListRecords&lt;/code&gt;, retrieving only headers rather than records.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Single provider&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; md_listidentifiers&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;datacite&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; set &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;REFQUALITY&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]][&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &amp;quot;oai:oai.datacite.org:32426&amp;quot; &amp;quot;oai:oai.datacite.org:32152&amp;quot;
[3] &amp;quot;oai:oai.datacite.org:25453&amp;quot; &amp;quot;oai:oai.datacite.org:25452&amp;quot;
[5] &amp;quot;oai:oai.datacite.org:25451&amp;quot; &amp;quot;oai:oai.datacite.org:25450&amp;quot;
[7] &amp;quot;oai:oai.datacite.org:25449&amp;quot; &amp;quot;oai:oai.datacite.org:25407&amp;quot;
[9] &amp;quot;oai:oai.datacite.org:48328&amp;quot; &amp;quot;oai:oai.datacite.org:48439&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; md_listidentifiers&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;dryad&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; from &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;2012-07-15&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]][&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &amp;quot;oai:datadryad.org:10255/dryad.9106&amp;quot;
[2] &amp;quot;oai:datadryad.org:10255/dryad.33780&amp;quot;
[3] &amp;quot;oai:datadryad.org:10255/dryad.33901&amp;quot;
[4] &amp;quot;oai:datadryad.org:10255/dryad.33902&amp;quot;
[5] &amp;quot;oai:datadryad.org:10255/dryad.34472&amp;quot;
[6] &amp;quot;oai:datadryad.org:10255/dryad.34558&amp;quot;
[7] &amp;quot;oai:datadryad.org:10255/dryad.39975&amp;quot;
[8] &amp;quot;oai:datadryad.org:10255/dryad.35065&amp;quot;
[9] &amp;quot;oai:datadryad.org:10255/dryad.35081&amp;quot;
[10] &amp;quot;oai:datadryad.org:10255/dryad.35082&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Many providers&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; md_listidentifiers&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;datacite&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;pensoft&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; from &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;2012-08-21&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; llply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;out&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; x&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# display just a few of them&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[[1]]
[1] &amp;quot;oai:oai.datacite.org:1099317&amp;quot; &amp;quot;oai:oai.datacite.org:1099572&amp;quot;
[3] &amp;quot;oai:oai.datacite.org:1099824&amp;quot; &amp;quot;oai:oai.datacite.org:1099695&amp;quot;
[5] &amp;quot;oai:oai.datacite.org:1088239&amp;quot; &amp;quot;oai:oai.datacite.org:1088122&amp;quot;
[7] &amp;quot;oai:oai.datacite.org:1088190&amp;quot; &amp;quot;oai:oai.datacite.org:1175749&amp;quot;
[9] &amp;quot;oai:oai.datacite.org:1175288&amp;quot; &amp;quot;oai:oai.datacite.org:1115603&amp;quot;

[[2]]
[1] &amp;quot;10.3897/phytokeys.16.2884&amp;quot; &amp;quot;10.3897/phytokeys.16.3602&amp;quot;
[3] &amp;quot;10.3897/phytokeys.16.3186&amp;quot; &amp;quot;10.3897/zookeys.216.3407&amp;quot;
[5] &amp;quot;10.3897/zookeys.216.3332&amp;quot;  &amp;quot;10.3897/zookeys.216.3224&amp;quot;
[7] &amp;quot;10.3897/zookeys.216.3769&amp;quot;  &amp;quot;10.3897/zookeys.216.3360&amp;quot;
[9] &amp;quot;10.3897/zookeys.216.3646&amp;quot;  &amp;quot;10.3897/neobiota.14.3140&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;With &lt;code&gt;ListSets&lt;/code&gt; you can retrieve the set structure of a repository.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# arXiv, returns a data.frame&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;md_listsets&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;arXiv&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]])&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;setName          setSpec
1   Computer Science               cs
2        Mathematics             math
3 Nonlinear Sciences             nlin
4            Physics          physics
5       Astrophysics physics:astro-ph
6   Condensed Matter physics:cond-mat&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# many providers, returns a list&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; md_listsets&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;pensoft&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;arXiv&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[[1]]
                                setName            setSpec
1                                 ZooKeys            zookeys
2                                 BioRisk            biorisk
3                               PhytoKeys          phytokeys
4                                NeoBiota           neobiota
5         Journal of Hymenoptera Research                jhr
6  International Journal of Myriapodology                ijm
7                Comparative Cytogenetics        compcytogen
8                    Subterranean Biology           subtbiol
9                     Nature Conservation natureconservation
10                               MycoKeys           mycokeys

[[2]]
                                  setName          setSpec
1                          Computer Science               cs
2                               Mathematics             math
3                        Nonlinear Sciences             nlin
4                                   Physics          physics
5                              Astrophysics physics:astro-ph
6                          Condensed Matter physics:cond-mat
7  General Relativity and Quantum Cosmology    physics:gr-qc
8          High Energy Physics - Experiment   physics:hep-ex
9             High Energy Physics - Lattice  physics:hep-lat
10      High Energy Physics - Phenomenology   physics:hep-ph
11             High Energy Physics - Theory   physics:hep-th
12                     Mathematical Physics  physics:math-ph
13                       Nuclear Experiment  physics:nucl-ex
14                           Nuclear Theory  physics:nucl-th
15                          Physics (Other)  physics:physics
16                          Quantum Physics physics:quant-ph
17                     Quantitative Biology            q-bio
18                     Quantitative Finance            q-fin
19                               Statistics             stat&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Retrieve an individual metadata record from a repository using the &lt;code&gt;GetRecord&lt;/code&gt; verb.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Single provider, one identifier&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; md_getrecord&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;pensoft&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; identifier &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.3897/zookeys.1.10&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;identifier  datestamp
1 10.3897/zookeys.1.10 2008-07-04
                                                                                           dc.title
1 A new candidate for a Gondwanaland distribution in the Zodariidae (Araneae): Australutica in Africa
 dc.creator  dc.subject dc.subject.1 dc.subject.2 dc.subject.3
1 Jocqué,Rudy new species Gondwanaland Soutpansberg      Araneae
       dc.source
1 ZooKeys 1: 59-66
                                                                                                                                                                                                                                                                                                                   dc.description
1 Two new species of Australutica Jocqué, 1995, a genus formerly only known from Australia, are described from South Africa: A. africana n. sp. from Soutpansberg and A. normanlarseni n. sp. from the Cape Peninsula. The taxonomic position of the new species is discussed and a key to the species of Australutica is provided.
      dc.publisher dc.date          dc.type dc.format
1 Pensoft Publishers    2008 Research Article text/html
                         dc.identifier
1 http://dx.doi.org/10.3897/zookeys.1.10
                                    dc.identifier.1 dc.language
1 http://www.pensoft.net/journals/zookeys/article/10/          en
                                                                                 dc..attrs
1 http://www.openarchives.org/OAI/2.0/oai_dc/ http://www.openarchives.org/OAI/2.0/oai_dc.xsd&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Single provider, multiple identifiers&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; md_getrecord&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;provider &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;pensoft&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; identifier &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;10.3897/zookeys.1.10&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;10.3897/zookeys.4.57&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;identifier  datestamp
1 10.3897/zookeys.1.10 2008-07-04
2 10.3897/zookeys.4.57 2008-12-17
                                                                                              dc.title
1    A new candidate for a Gondwanaland distribution in the Zodariidae (Araneae): Australutica in Africa
2 Studies of Tiger Beetles. CLXXVIII. A new Lophyra (Lophyra) from Somaliland (Coleoptera, Cicindelidae)
   dc.creator    dc.subject dc.subject.1 dc.subject.2 dc.subject.3
1   Jocqué,Rudy   new species Gondwanaland Soutpansberg      Araneae
2 Cassola,Fabio Tiger Beetles Cicindelidae      Lophyra   Somaliland
       dc.source
1 ZooKeys 1: 59-66
2 ZooKeys 4: 65-69
                                                                                                                                                                                                                                                                                                                                                                                                                 dc.description
1                                                                                               Two new species of Australutica Jocqué, 1995, a genus formerly only known from Australia, are described from South Africa: A. africana n. sp. from Soutpansberg and A. normanlarseni n. sp. from the Cape Peninsula. The taxonomic position of the new species is discussed and a key to the species of Australutica is provided.
2 A new tiger beetle species, Lophyra (Lophyra) praetermissa n. sp. (Coleoptera, Cicindelidae), obviously a close relative of L. (L.) histrio (Tschitschérine, 1903), is described from the environs of Erigavo, Somaliland (northern Somalia). Its discovery thus brings up to 73 the number of the species of this genus presently known worldwide (39 species of which - 29 from Africa - belong to the typonominal subgenus).
      dc.publisher dc.date          dc.type dc.format
1 Pensoft Publishers    2008 Research Article text/html
2 Pensoft Publishers    2008 Research Article text/html
                         dc.identifier
1 http://dx.doi.org/10.3897/zookeys.1.10
2 http://dx.doi.org/10.3897/zookeys.4.57
                                    dc.identifier.1 dc.language
1 http://www.pensoft.net/journals/zookeys/article/10/          en
2 http://www.pensoft.net/journals/zookeys/article/57/          en
                                                                                 dc..attrs
1 http://www.openarchives.org/OAI/2.0/oai_dc/ http://www.openarchives.org/OAI/2.0/oai_dc.xsd
2 http://www.openarchives.org/OAI/2.0/oai_dc/ http://www.openarchives.org/OAI/2.0/oai_dc.xsd&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Cool, so I hope people find this post and package useful.  Let me know what you think in comments below, or if you have code specific comments or additions, go to &lt;a href=&quot;https://github.com/ropensci/rmetadata&quot;&gt;the GitHub repo for &lt;code&gt;rmetadata&lt;/code&gt;&lt;/a&gt;.  In a upcoming post I will show an example  of what you can do with &lt;code&gt;rmetadata&lt;/code&gt; in terms of an actual research question.&lt;/p&gt;

&lt;hr&gt;

&lt;h4&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-09-15-rmetadata.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2012-09-17-rmetadata.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h4&gt;

&lt;h4&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h4&gt;
</content>
 </entry>
 
 <entry>
   <title>Getting data on your government</title>
   <link href="http://recology.info//2012/09/gov-dat/"/>
   <updated>2012-09-01T00:00:00-07:00</updated>
   <id>http://recology.info//2012/09/gov-dat</id>
   <content type="html">&lt;hr&gt;

&lt;p&gt;I created an R package a while back to interact with some APIs that serve up data on what our elected represenatives are up to, including the &lt;a href=&quot;http://developer.nytimes.com/&quot;&gt;New York Times Congress API&lt;/a&gt;, and the &lt;a href=&quot;http://services.sunlightlabs.com/&quot;&gt;Sunlight Labs API&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;What kinds of things can you do with &lt;code&gt;govdat&lt;/code&gt;?  Here are a few examples. &lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;How do the two major parties differ in the use of certain words (searches the congressional record using the Sunlight Labs Capitol Words API)?&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# install_github(&amp;#39;govdat&amp;#39;, &amp;#39;sckott&amp;#39;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;govdat&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;reshape2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt; dems &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sll_cw_dates&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;phrase &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;science&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; start_date &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;1996-01-20&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; end_date &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;2012-09-01&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;     granularity &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;year&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; party &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;D&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; printdf &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt; repubs &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; sll_cw_dates&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;phrase &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;science&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; start_date &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;1996-01-20&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; end_date &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;2012-09-01&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt;     granularity &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;year&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; party &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;R&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; printdf &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt; df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; melt&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;rbind&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;party &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;D&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;nrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dems&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt; dems&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;party &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;R&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt;     &lt;span class=&quot;kp&quot;&gt;nrow&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;repubs&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt; repubs&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt; df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;count &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;count&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt; ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;yearmonth&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; count&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; colour &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; party&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; group &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; party&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_line&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;15&lt;/span&gt;     scale_colour_manual&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;values &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;blue&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;red&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; labs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;use of the word &amp;#39;Science&amp;#39;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;16&lt;/span&gt;     theme_bw&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;18&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; opts&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;axis.text.x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_text&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; panel.grid.major &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;17&lt;/span&gt;     panel.grid.minor &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; legend.position &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/unnamed-chunk-1.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;Let&amp;#39;s get some data on donations to individual elected representatives.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plyr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Let&amp;#39;s get Nancy Pelosi&amp;#39;s entity ID&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; sll_ts_aggregatesearch&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Nancy Pelosi&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$name
[1] &amp;quot;Nancy Pelosi (D)&amp;quot;

$count_given
[1] 0

$firm_income
[1] 0

$count_lobbied
[1] 0

$seat
[1] &amp;quot;federal:house&amp;quot;

$total_received
[1] 13769274

$state
[1] &amp;quot;CA&amp;quot;

$lobbying_firm
NULL

$count_received
[1] 9852

$party
[1] &amp;quot;D&amp;quot;

$total_given
[1] 0

$type
[1] &amp;quot;politician&amp;quot;

$id
[1] &amp;quot;85ab2e74589a414495d18cc7a9233981&amp;quot;

$non_firm_spending
[1] 0

$is_superpac
NULL&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Her entity ID&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; sll_ts_aggregatesearch&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Nancy Pelosi&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;id&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &amp;quot;85ab2e74589a414495d18cc7a9233981&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# And search for her top donors by sector&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; nancy &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ldply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;sll_ts_aggregatetopsectors&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;sll_ts_aggregatesearch&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Nancy Pelosi&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;id&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; nancy  &lt;span class=&quot;c1&quot;&gt;# but just abbreviations for sectors&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;sector count     amount
1       F  1847 2698672.00
2       P   981 2243050.00
3       H   829 1412700.00
4       K  1345 1409836.00
5       Q  1223 1393154.00
6       N   829 1166187.00
7       B   537  932044.00
8       W   724  760800.00
9       Y   820  664926.00
10      E   201  283575.00&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; data&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;sll_ts_sectors&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# load sectors abbrevations data&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; nancy2 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;nancy&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; sll_ts_sectors&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;sector&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# attach full sector names&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; nancy2_melt &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; melt&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;nancy2&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; id.vars &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; nancy2_melt&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;value &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.numeric&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;nancy2_melt&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;value&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# and lets plot some results&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;7&lt;/span&gt; ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;nancy2_melt&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;sector_name&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; value&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_bar&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; coord_flip&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; facet_wrap&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;~&lt;/span&gt;variable&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;8&lt;/span&gt;     scales &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;free&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; ncol &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/unnamed-chunk-2.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;## It looks like a lot of individual donations (the count facet) by&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;## finance/insurance/realestate, but by amount, the most (by slim margin)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;## is from labor organizations.&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Or we may want to get a bio of a congressperson. Here we get Todd Akin of MO. And some twitter searching too? Indeed.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; nyt_cg_memberbioroles&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;A000358&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# cool, lots of info, output cutoff for brevity&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; out&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]][[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]][&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;$member_id
[1] &amp;quot;A000358&amp;quot;

$first_name
[1] &amp;quot;Todd&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# we can get her twitter id from this bio, and search twitter using&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# twitteR package&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; akintwitter &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; out&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]][[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;twitter_id
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# install.packages(&amp;#39;twitteR&amp;#39;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;twitteR&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;7&lt;/span&gt; tweets &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; userTimeline&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;akintwitter&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; n &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;8&lt;/span&gt; tweets&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# there&amp;#39;s some gems in there no doubt&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[[1]]
[1] &amp;quot;RepToddAkin: Do you receive my Akin Alert e-newsletter?  Pick the issues you’d like to get updates on and sign up here!\nhttp://t.co/nZfiRjTF&amp;quot;

[[2]]
[1] &amp;quot;RepToddAkin: If the 2001 &amp;amp;amp; 2003 tax policies expire, taxes will increase over $4 trillion in the next 10 years. America can&amp;#39;t afford it. #stopthetaxhike&amp;quot;

[[3]]
[1] &amp;quot;RepToddAkin: A govt agency&amp;#39;s order shouldn&amp;#39;t defy constitutional rights. I&amp;#39;m still working for #religiousfreedom and repealing the HHS mandate. #prolife&amp;quot;

[[4]]
[1] &amp;quot;RepToddAkin: I am a cosponsor of the bill being considered today to limit abortions in DC. RT if you agree! #prolife http://t.co/Mesrjl0w&amp;quot;

[[5]]
[1] &amp;quot;RepToddAkin: We need to #StopTheTaxHike. Raising taxes like the President wants would destroy more than 700,000 jobs. #4jobs http://t.co/KUTd0M7U&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-09-01-gov-dat.Rmd&quot;&gt;at my github account&lt;/a&gt; - or &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_posts/2012-09-01-gov-dat.md&quot;&gt;.md file&lt;/a&gt;.&lt;/h3&gt;

&lt;hr&gt;

&lt;h3&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h3&gt;
</content>
 </entry>
 
 <entry>
   <title>Getting ecology and evolution journal titles from R</title>
   <link href="http://recology.info//2012/08/get-ecoevo-journal-titles/"/>
   <updated>2012-08-31T00:00:00-07:00</updated>
   <id>http://recology.info//2012/08/get-ecoevo-journal-titles</id>
   <content type="html">&lt;hr&gt;

&lt;p&gt;So I want to mine some #altmetrics data for some research I&amp;#39;m thinking about doing.  The steps would be: &lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Get journal titles for ecology and evolution journals. &lt;/li&gt;
&lt;li&gt;Get DOI&amp;#39;s for all papers in all the above journal titles. &lt;/li&gt;
&lt;li&gt;Get altmetrics data on each DOI. &lt;/li&gt;
&lt;li&gt;Do some fancy analyses. &lt;/li&gt;
&lt;li&gt;Make som pretty figs. &lt;/li&gt;
&lt;li&gt;Write up results. &lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;It&amp;#39;s early days, so jus working on the first step.  However, getting a list of journals in ecology and evolution is frustratingly hard.  This turns out to not be that easy if you are (1) trying to avoid &lt;a href=&quot;http://thomsonreuters.com/&quot;&gt;Thomson Reuters&lt;/a&gt;, and (2) want a machine interface way to do it (read: API). &lt;/p&gt;

&lt;p&gt;Unfortunately, Mendeley&amp;#39;s API does not have methods for getting a list of journals by field, or at least I don&amp;#39;t know how to do it using &lt;a href=&quot;http://apidocs.mendeley.com/&quot;&gt;their API&lt;/a&gt;.  No worries though - &lt;a href=&quot;http://crossref.org/&quot;&gt;Crossref&lt;/a&gt; comes to save the day.   Here&amp;#39;s my attempt at this using the &lt;a href=&quot;http://help.crossref.org/#using_oai_pmh&quot;&gt;Crossref OAI-PMH&lt;/a&gt;.&lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;I wrote a little while loop to get journal titles from the Crossref OAI-PMH. This takes a while to run, but at least it works on my machine - hopefully yours too!&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;XML&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;RCurl&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt; token &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;characters&amp;quot;&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# define a iterator, also used for gettingn the resumptionToken&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt; nameslist &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# define empty list to put joural titles in to&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;while&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;is.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;token&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;     baseurl &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;http://oai.crossref.org/OAIHandler?verb=ListSets&amp;quot;&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt;     &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;token &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;characters&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt;         tok2 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;NULL&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt;     &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt;         tok2 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;paste&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;&amp;amp;resumptionToken=&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; token&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; sep &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt;     &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt;     query &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;paste&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;baseurl&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; tok2&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; sep &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt;     crsets &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; xmlToList&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;xmlParse&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;getURL&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;query&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;15&lt;/span&gt;     names &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;crsets&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]],&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; x&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;setName&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]))&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;16&lt;/span&gt;     nameslist&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;token&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;names&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;17&lt;/span&gt;     &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;try&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;crsets&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.&lt;/span&gt;attrs&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;resumptionToken&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;try-error&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;18&lt;/span&gt;         &lt;span class=&quot;kp&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;no more data&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;19&lt;/span&gt;     &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; token &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; crsets&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;.&lt;/span&gt;attrs&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;resumptionToken&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;20&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Yay!  Hopefully it worked if you tried it.  Let&amp;#39;s see how long the list of journal titles is.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;sapply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;nameslist&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# length of each list&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;characters c65ebc3f-b540-4672-9c00-f3135bf849e3 
                               10001                                10001 
6f61b343-a8f4-48f1-8297-c6f6909ca7f7 
                                6864&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; allnames &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;do.call&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; nameslist&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# combine to list&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;allnames&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] 26866&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Now, let&amp;#39;s use some &lt;code&gt;regex&lt;/code&gt; to pull out the journal titles that are likely ecology and evolutionary biology journals.  The &lt;code&gt;^&lt;/code&gt; symbol says &amp;quot;the string must start here&amp;quot;. The &lt;code&gt;\\s&lt;/code&gt; means whitespace.  The &lt;code&gt;[]&lt;/code&gt; lets you specify a set of letters you are looking for, e.g., &lt;code&gt;[Ee]&lt;/code&gt; means capital &lt;code&gt;E&lt;/code&gt; &lt;em&gt;OR&lt;/em&gt; lowercase &lt;code&gt;e&lt;/code&gt;.  I threw in titles that had the words systematic and natrualist too.  Tried to trim any whitespace as well using the &lt;code&gt;stringr&lt;/code&gt; package.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;stringr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt; ecotitles &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;allnames&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;str_detect&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;allnames&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;^[Ee]cology|\\s[Ee]cology&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt; evotitles &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;allnames&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;str_detect&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;allnames&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;^[Ee]volution|\\s[Ee]volution&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt; systtitles &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;allnames&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;str_detect&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;allnames&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;^[Ss]ystematic|\\s[Ss]systematic&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt; naturalist &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.character&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;allnames&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;str_detect&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;allnames&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;[Nn]aturalist&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt; ecoevotitles &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ecotitles&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; evotitles&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; systtitles&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; naturalist&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# combine to list&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt; ecoevotitles &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; str_trim&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ecoevotitles&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; side &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;both&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# trim whitespace, if any&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ecoevotitles&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] 188&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Just the first ten titles&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; ecoevotitles&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[1] &amp;quot;Microbial Ecology in Health and Disease&amp;quot;           
 [2] &amp;quot;Population Ecology&amp;quot;                                
 [3] &amp;quot;Researches on Population Ecology&amp;quot;                  
 [4] &amp;quot;Behavioral Ecology and Sociobiology&amp;quot;               
 [5] &amp;quot;Microbial Ecology&amp;quot;                                 
 [6] &amp;quot;Biochemical Systematics and Ecology&amp;quot;               
 [7] &amp;quot;FEMS Microbiology Ecology&amp;quot;                         
 [8] &amp;quot;Journal of Experimental Marine Biology and Ecology&amp;quot;
 [9] &amp;quot;Applied Soil Ecology&amp;quot;                              
[10] &amp;quot;Forest Ecology and Management&amp;quot;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-08-30-get-ecoevo-journal-titles.Rmd&quot;&gt;at my github account&lt;/a&gt;.&lt;/h3&gt;

&lt;hr&gt;

&lt;h3&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h3&gt;
</content>
 </entry>
 
 <entry>
   <title>Ecology unconference at ESA 2013</title>
   <link href="http://recology.info//2012/08/ecology-unconference/"/>
   <updated>2012-08-30T09:25:00-07:00</updated>
   <id>http://recology.info//2012/08/ecology-unconference</id>
   <content type="html">&lt;hr&gt;

&lt;p&gt;So I heard many people say after or during the recent ESA conference in Portland that they really enjoyed the converstations more than listening to talks or looking at posters. &lt;/p&gt;

&lt;p&gt;There was some chatter about doing an unconference associated with next year&amp;#39;s ESA conference in Minneapolis. And Sandra Chung (@sandramchung) got on it and started a wiki that we can all conribute ideas to. The wiki is here: &lt;a href=&quot;http://ecologyunconference.wikispaces.com/&quot;&gt;http://ecologyunconference.wikispaces.com/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;What is an unconference? The idea of an unconference is to have a community organized meetup in which interactions among people are emphasized over the traditional lecture and poster format. For example, many sessions may just be organized a single idea, and people attending have a discussion around the topic. The format can be decided by the community. &lt;/p&gt;

&lt;p&gt;What will we do there? The broadest restriction is that topics should be about science that happens online. You may say, &amp;quot;Well, real ecology happens in the field!&amp;quot;. Yes, but a lot of the products of ecology are put online, and increasingly the discussion of the practice of ecology happens online. Check out the &lt;a href=&quot;http://scienceonline2012.com/&quot;&gt;Science Online 2012 website&lt;/a&gt; for a little taste of what we hope to achieve next year.&lt;/p&gt;

&lt;p&gt;How do I get involved? Go to the wiki and start contributing: &lt;a href=&quot;http://ecologyunconference.wikispaces.com/&quot;&gt;http://ecologyunconference.wikispaces.com/&lt;/a&gt;. There are already some suggestions for topics...Here&amp;#39;s a screenshot of the ideas for Session Proposals page:&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/ecologyunconf.png&quot; alt=&quot;ecologyunconf&quot;&gt;&lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;Important!  Use the #esaun13 hashtag to talk about this unconference on Twitter, G+, and app.net.&lt;/h3&gt;

&lt;hr&gt;

&lt;h3&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-08-30-making-matrices.Rmd&quot;&gt;at my github account&lt;/a&gt;.&lt;/h3&gt;

&lt;hr&gt;

&lt;h3&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;.&lt;/h3&gt;
</content>
 </entry>
 
 <entry>
   <title>Making matrices with zeros and ones</title>
   <link href="http://recology.info//2012/08/making-matrices/"/>
   <updated>2012-08-30T09:02:00-07:00</updated>
   <id>http://recology.info//2012/08/making-matrices</id>
   <content type="html">&lt;hr&gt;

&lt;h2&gt;So I was trying to figure out a fast way to make matrices with randomly allocated 0 or 1 in each cell of the matrix. I reached out on Twitter, and got many responses (thanks tweeps!).&lt;/h2&gt;

&lt;hr&gt;

&lt;h3&gt;Here is the solution I came up with. See if you can tell why it would be slow.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; mm &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;mm&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;sample&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[,1] [,2] [,3] [,4] [,5]
 [1,]    1    0    1    0    1
 [2,]    0    0    1    1    1
 [3,]    0    0    0    0    1
 [4,]    0    1    1    0    1
 [5,]    0    1    1    1    1
 [6,]    1    0    1    1    1
 [7,]    0    1    0    1    0
 [8,]    0    0    1    0    1
 [9,]    1    0    1    1    1
[10,]    1    0    0    1    1&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Ted Hart (@distribecology) replied first with:&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rbinom&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; ncol &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; nrow &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[,1] [,2] [,3] [,4] [,5]
 [1,]    1    1    0    1    1
 [2,]    1    0    0    1    0
 [3,]    0    1    0    0    0
 [4,]    0    0    1    0    0
 [5,]    1    0    1    0    0
 [6,]    0    0    0    0    1
 [7,]    1    0    0    0    0
 [8,]    0    1    0    1    0
 [9,]    1    1    1    1    0
[10,]    0    1    1    0    0&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Next, David Smith (@revodavid) and Rafael Maia (@hylospar) came up with about the same solution.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; m &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; n &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;sample&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; m &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; n&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; replace &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; m&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; n&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[,1] [,2] [,3] [,4] [,5]
 [1,]    0    0    0    0    1
 [2,]    0    0    0    0    0
 [3,]    0    1    1    0    1
 [4,]    1    0    0    1    0
 [5,]    0    0    0    0    1
 [6,]    1    0    1    1    1
 [7,]    1    1    1    1    0
 [8,]    0    0    0    1    1
 [9,]    1    0    0    0    1
[10,]    0    1    0    1    1&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Then there was the solution by Luis Apiolaza (@zentree).&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; m &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; n &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;runif&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;m &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; n&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; m&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; n&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;[,1] [,2] [,3] [,4] [,5]
 [1,]    0    1    1    0    0
 [2,]    1    0    1    1    0
 [3,]    1    0    1    0    0
 [4,]    1    0    0    0    1
 [5,]    1    0    1    1    0
 [6,]    1    0    0    0    0
 [7,]    1    0    0    0    0
 [8,]    1    1    1    0    0
 [9,]    0    0    0    0    1
[10,]    1    0    0    1    1&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Last, a solution was proposed using &lt;code&gt;RcppArmadillo&lt;/code&gt;, but I couldn&amp;#39;t get it to work on my machine, but here is the function anyway if someone can.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;inline&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;RcppArmadillo&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; f &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; cxxfunction&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;body &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;return wrap(arma::randu(5,10));&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; plugin &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;RcppArmadillo&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;And here is the comparison of system.time for each solution.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; mm &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; m &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; n &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;mm&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;sample&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# @recology_&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;user  system elapsed 
  0.470   0.002   0.471&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rbinom&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; ncol &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; nrow &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# @distribecology&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;user  system elapsed 
  0.014   0.000   0.015&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;sample&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; m &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; n&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; replace &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; m&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; n&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# @revodavid &amp;amp; @hylospar&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;user  system elapsed 
  0.015   0.000   0.014&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1000&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;runif&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;m &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; n&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; m&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; n&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# @zentree&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;user  system elapsed 
  0.014   0.000   0.014&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;If you want to take the time to learn C++ or already know it, the RcppArmadillo option would likely be the fastest, but I think (IMO) for many scientists, especially ecologists, we probably don&amp;#39;t already know C++, so will stick to the next fastest options.&lt;/h3&gt;

&lt;hr&gt;

&lt;h3&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-08-30-making-matrices.Rmd&quot;&gt;at my github account&lt;/a&gt;.&lt;/h3&gt;

&lt;hr&gt;

&lt;h3&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h3&gt;
</content>
 </entry>
 
 <entry>
   <title>ggplot2 maps with insets</title>
   <link href="http://recology.info//2012/08/ggplot-inset-map/"/>
   <updated>2012-08-22T00:00:00-07:00</updated>
   <id>http://recology.info//2012/08/ggplot-inset-map</id>
   <content type="html">&lt;hr&gt;

&lt;h2&gt;UPDATE: changed data source so that the entire example can be run by anone on their own machine. Also, per Joachim&amp;#39;s suggestion, I put a box around the blown up area of the map. Thoughts?&lt;/h2&gt;

&lt;hr&gt;

&lt;h2&gt;Here&amp;#39;s a quick demo of creating a map with an inset within it using ggplot. The inset is achieved using the &lt;code&gt;gridExtra&lt;/code&gt; package.&lt;/h2&gt;

&lt;hr&gt;

&lt;h3&gt;Install libraries&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;maps&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;maptools&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gridExtra&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rgeos&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Create a data frame&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; dat &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ecosystem &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;rep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;oak&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;steppe&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;prairie&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; each &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt;     lat &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; rnorm&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; mean &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;51&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; sd &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; lon &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; rnorm&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;24&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; mean &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-113&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; sd &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;head&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;ecosystem   lat    lon
1       oak 51.81 -109.1
2       oak 50.41 -115.0
3       oak 52.20 -112.5
4       oak 51.67 -114.8
5       oak 49.75 -105.4
6       oak 51.42 -114.6&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Get maps using the maps library&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Get a map of Canada&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; canadamap &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;map&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;world&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Canada&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; plot &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;FALSE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;x&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;y&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Get a map of smaller extent&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt; canadamapsmall &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; canadamap&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;canadamap&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;x &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;-90&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; canadamap&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;y &lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;54&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# Make inset rectangle to show area of zoom&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt; canadamapsmall_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; na.omit&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;canadamapsmall&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# omit NA&amp;#39;s&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# This should get your corner points for the box, picking min and max of&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# lat and lon&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt; insetrect &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;xmin &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;canadamapsmall_&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; xmax &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;canadamapsmall_&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt;     ymin &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;min&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;canadamapsmall_&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;y&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; ymax &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;canadamapsmall_&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;y&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt; insetrect&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;xmin   xmax  ymin ymax
1 -133.1 -90.39 48.05   54&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Make the maps&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# The inset map, all of Canada&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt; a &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;canadamap&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt;  theme_bw&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt;  geom_path&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; canadamap&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; colour &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;black&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; fill &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;white&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt;  geom_rect&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; insetrect&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;xmin &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; xmin&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; xmax &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; xmax&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; ymin &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; ymin&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; ymax &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; ymax&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; alpha&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; colour&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;blue&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; linetype&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt;  opts&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;panel.border &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_rect&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;colour &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;black&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; linetype&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;           panel.grid.major &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; panel.grid.minor&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt;           panel.background &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_rect&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; fill &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;white&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt;           legend.position &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.15&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.80&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; legend.key &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt;           axis.ticks &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; axis.text.x&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt;           axis.text.y&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;theme_blank&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;12&lt;/span&gt;  labs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;13&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;14&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# The larger map, zoomed in, with the data&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;15&lt;/span&gt; b &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;dat&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;lon&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; lat&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; colour&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;ecosystem&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;16&lt;/span&gt;  theme_bw&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base_size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;22&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;17&lt;/span&gt;  geom_jitter&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; alpha&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.6&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;18&lt;/span&gt;  geom_path&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;data &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; canadamapsmall&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; colour &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;black&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; fill &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;white&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;19&lt;/span&gt;  scale_size&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;guide&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;none&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;20&lt;/span&gt;  opts&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;panel.border &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_rect&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;colour &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;black&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; linetype&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;21&lt;/span&gt;           panel.grid.major &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; panel.grid.minor&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;22&lt;/span&gt;           panel.background &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_rect&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt; fill &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;white&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;23&lt;/span&gt;           legend.position &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;0.20&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; legend.text&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;theme_text&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; face&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;bold&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;24&lt;/span&gt;           legend.title&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;theme_text&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;12&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; face&lt;span class=&quot;o&quot;&gt;=&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;#39;bold&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; legend.key &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;25&lt;/span&gt;           axis.ticks &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_segment&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;26&lt;/span&gt;  labs&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;#39;&amp;#39;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Print the two maps together, one an inset of the other&lt;/h3&gt;

&lt;h4&gt;This approach uses the &lt;code&gt;gridExtra&lt;/code&gt; package for flexible alignment, etc. of ggplot graphs&lt;/h4&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; grid.newpage&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; vpb_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; viewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# the larger map&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; vpa_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; viewport&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;width &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; height &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.8&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# the inset in upper right&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;b&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vp &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vpb_&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;print&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;a&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vp &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vpa_&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/unnamed-chunk-5.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;hr&gt;

&lt;h3&gt;Get the .Rmd file used to create this post &lt;a href=&quot;https://github.com/sckott/sckott.github.com/tree/master/_drafts/2012-08-22-ggplot-inset-map.Rmd&quot;&gt;at my github account&lt;/a&gt;.&lt;/h3&gt;

&lt;hr&gt;

&lt;h3&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h3&gt;
</content>
 </entry>
 
 <entry>
   <title>Hitting the Global Names Resolver API</title>
   <link href="http://recology.info//2012/07/global-names-resolver/"/>
   <updated>2012-07-20T00:00:00-07:00</updated>
   <id>http://recology.info//2012/07/global-names-resolver</id>
   <content type="html">&lt;h2&gt;Example of using the Global Names Resolver API to check species names&lt;/h2&gt;

&lt;hr&gt;

&lt;p&gt;There are a number of options for resolution of taxonomic names. The &lt;a href=&quot;http://tnrs.iplantcollaborative.org/&quot;&gt;Taxonomic Name Resolution Service (TNRS)&lt;/a&gt; comes to mind. There is a new service for taxonomic name resoultion called the &lt;a href=&quot;http://resolver.globalnames.org/&quot;&gt;Global Names Resolver&lt;/a&gt;. They describe the service thusly &amp;quot;&lt;em&gt;Resolve lists of scientific names against known sources. This service parses incoming names, executes exact or fuzzy matching as required, and displays a confidence score for each match along with its identifier.&lt;/em&gt;&amp;quot;. &lt;/p&gt;

&lt;hr&gt;

&lt;h2&gt;Load required packages&lt;/h2&gt;

&lt;h3&gt;Just uncomment the code to use.&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# If you don&amp;#39;t have them already&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# install.packages(c(&amp;#39;RJSONIO&amp;#39;,&amp;#39;plyr&amp;#39;,&amp;#39;devtools&amp;#39;)) require(devtools)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# install_github(&amp;#39;taxize_&amp;#39;,&amp;#39;ropensci&amp;#39;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;4&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;RJSONIO&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;5&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plyr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;6&lt;/span&gt; &lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;taxize&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Get the data sources available&lt;/h2&gt;

&lt;h3&gt;Get just id&amp;#39;s and names of sources in a data.frame&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;tail&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;gnr_datasources&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;todf &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##     id                                title
## 82 164                            BioLib.cz
## 83 165 Tropicos - Missouri Botanical Garden
## 84 166                                nlbif
## 85 167                                 IPNI
## 86 168              Index to Organism Names
## 87 169                        uBio NameBank&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Give me the id for EOL (Encyclopedia of Life)&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; gnr_datasources&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;todf &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; out&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;out&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;title &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;EOL&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;id&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;## [1] 12&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Fuzzy search for sources with the word &amp;quot;zoo&amp;quot;&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; out &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; gnr_datasources&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;todf &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt; outdf &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; out&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;agrep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;zoo&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; out&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;title&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; ignore.case &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;3&lt;/span&gt; outdf&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##     id             title
## 20 100 Mushroom Observer
## 25 105           ZooKeys&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h2&gt;Resolve some names&lt;/h2&gt;

&lt;h3&gt;Search for &lt;em&gt;Helianthus annuus&lt;/em&gt; and &lt;em&gt;Homo sapiens&lt;/em&gt;, return a data.frame&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; gnr&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;names &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Helianthus annuus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Homo sapiens&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; returndf &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##   data_source_id    submitted_name       name_string score    title
## 1              4 Helianthus annuus Helianthus annuus 0.988     NCBI
## 3             10 Helianthus annuus Helianthus annuus 0.988 Freebase&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;hr&gt;

&lt;h3&gt;Search for the same species, with only using data source 12 (i.e., EOL)&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt;1&lt;/span&gt; gnr&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;names &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Helianthus annuus&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Homo sapiens&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; data_source_ids &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;12&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
&lt;span class=&quot;lineno&quot;&gt;2&lt;/span&gt;     returndf &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kc&quot;&gt;TRUE&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;##   data_source_id    submitted_name       name_string score title
## 1             12 Helianthus annuus Helianthus annuus 0.988   EOL
## 2             12      Homo sapiens      Homo sapiens 0.988   EOL&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;That&amp;#39;s it. Have fun! And put bugs/comments/etc. &lt;a href=&quot;https://github.com/ropensci/taxize_/issues&quot;&gt;here&lt;/a&gt;.&lt;/h3&gt;

&lt;hr&gt;

&lt;h3&gt;Written in &lt;a href=&quot;http://daringfireball.net/projects/markdown/&quot;&gt;Markdown&lt;/a&gt;, with help from &lt;a href=&quot;http://yihui.name/knitr/&quot;&gt;knitr&lt;/a&gt;, and nice knitr highlighting/etc. in in &lt;a href=&quot;http://rstudio.org/&quot;&gt;RStudio&lt;/a&gt;.&lt;/h3&gt;

&lt;hr&gt;

&lt;h3&gt;I prepared the markdown for this post by:&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;lineno&quot;&gt; 1&lt;/span&gt; KnitPost &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;input&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; base.url &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 2&lt;/span&gt;     &lt;span class=&quot;kn&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;knitr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 3&lt;/span&gt;     opts_knit&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;set&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;base.url &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; base.url&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 4&lt;/span&gt;     fig.path &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;paste0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;img/&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;sub&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;.Rmd$&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;basename&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;input&lt;span class=&quot;p&quot;&gt;)),&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;/&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 5&lt;/span&gt;     opts_chunk&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;set&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;fig.path &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; fig.path&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 6&lt;/span&gt;     opts_chunk&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;set&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;fig.cap &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;center&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 7&lt;/span&gt;     render_jekyll&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 8&lt;/span&gt;     knit&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;input&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; envir &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;parent.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;())&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt; 9&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;10&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;setwd&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;/path/to/_posts&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;lineno&quot;&gt;11&lt;/span&gt; KnitPost&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;/path/to/postfile.Rmd&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;from &lt;a href=&quot;http://jfisher-usgs.github.com/r/2012/07/03/knitr-jekyll/&quot;&gt;jfisher&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Recent R packages for ecology and evolution</title>
   <link href="http://recology.info//2012/06/recent-r-eeb-packages/"/>
   <updated>2012-06-14T00:00:00-07:00</updated>
   <id>http://recology.info//2012/06/recent-r-eeb-packages</id>
   <content type="html">&lt;p&gt;Many R packages/tools have come out recently for doing ecology and evolution. All of the below were described in Methods in Ecology and Evolution, except for spider, which came out in &lt;a href=&quot;http://onlinelibrary.wiley.com/journal/10.1111/(ISSN)1755-0998&quot;&gt;Molecular Ecology Resources&lt;/a&gt;. Here are some highlights.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;mvabund &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2012.00190.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/mvabund/index.html&quot;&gt;get R pkg&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Model-based analysis of multivariate abundance data. Visualising data, fitting predictive models, checking assumptions, hypothesis testing.&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;popdemo &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2012.00222.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/popdemo/index.html&quot;&gt;get R pkg&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Population demography using projection matrix analysis. &lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;motmot &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00132.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/motmot/index.html&quot;&gt;get R pkg&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Models of trait macroevolution on trees&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;spider &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.1755-0998.2011.03108.x/abstract?deniedAccessCustomisedMessage=&amp;amp;userIsAuthenticated=false&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/spider/index.html&quot;&gt;get R pkg&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Analysis of species identity and evolution, with particular reference to DNA barcoding&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;BaSTA &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2012.00186.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/BaSTA/index.html&quot;&gt;get R pkg&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Bayesian estimation of age-specific survival from incomplete mark–recapture/recovery data with covariates&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;abc &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00179.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/abc/index.html&quot;&gt;get R pkg&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Approximate Bayesian Computation (ABC)&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;RNetLogo &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00180.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/RNetLogo/index.html&quot;&gt;get R pkg&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Running and exploring individual-based models implemented in NetLogo&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;phytools &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00169.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/phytools/index.html&quot;&gt;get R pkg&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Tools for phylogenetic comparative biology&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;smatr &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00153.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://cran.r-project.org/web/packages/smatr/index.html&quot;&gt;get R pkg&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Estimation and inference about allometric lines&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;RBrownie &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00112.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://www.brianomeara.info/tutorials/brownie&quot;&gt;get R pkg ?&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Testing hypotheses about rates of evolutionary change&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;li&gt;polytomy resolver &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00103.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00103.x/suppinfo&quot;&gt;get R pkg&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Resolve polytomies on dated phylogenies with their R scripts [here][].&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;And a cool tool came out for the Python programming language. &lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;NichePy &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00184.x/abstract&quot;&gt;paper&lt;/a&gt; - &lt;a href=&quot;https://github.com/bastodian/NichePy&quot;&gt;get python&lt;/a&gt;

&lt;ul&gt;
&lt;li&gt;Modular tools for estimating the similarity of ecological niche and species distribution models&lt;/li&gt;
&lt;/ul&gt;&lt;/li&gt;
&lt;/ul&gt;
</content>
 </entry>
 
 <entry>
   <title>Visualize your Github stats (forks and watchers) in a browser with R!</title>
   <link href="http://recology.info//2012/05/opencpu-github-stats/"/>
   <updated>2012-05-05T00:00:00-07:00</updated>
   <id>http://recology.info//2012/05/opencpu-github-stats</id>
   <content type="html">&lt;p&gt;So &lt;a href=&quot;http://opencpu.org/&quot;&gt;OpenCPU&lt;/a&gt; is pretty awesome.  You can run R in a browser using URL calls with an alphanumeric code (e.g., x3e50ee0780) defining a stored function, and any arguments you pass to it. &lt;/p&gt;

&lt;p&gt;Go &lt;a href=&quot;http://beta.opencpu.org/apps/opencpu.demo/storefunction/&quot;&gt;here&lt;/a&gt; to store a function.  And you can output lots of different types of things: png, pdf, json, etc - see &lt;a href=&quot;http://opencpu.org/documentation/outputs/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Here&amp;#39;s a function I created:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/2602432.js?file=getgithubstats.r&quot;&gt;&lt;/script&gt;

&lt;p&gt;It makes a &lt;a href=&quot;http://had.co.nz/ggplot2/&quot;&gt;ggplot2&lt;/a&gt; graphic of your watchers and forks on each repo (up to 100 repos), sorted by descending number of forks/watchers.&lt;/p&gt;

&lt;p&gt;Here&amp;#39;s an example from the function.  Paste the following in to your browser and you should get the below figure. &lt;/p&gt;

&lt;p&gt;http://beta.opencpu.org/R/call/opencpu.demo/gitstats/png&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/hadley.png&quot; alt=&quot;had&quot;&gt;&lt;/p&gt;

&lt;p&gt;And you can specify user or organization name using arguments in the URL&lt;/p&gt;

&lt;p&gt;http://beta.opencpu.org/R/call/opencpu.demo/gitstats/png?type=&amp;#39;org&amp;#39;&amp;amp;id=&amp;#39;ropensci&amp;#39;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/ropensci.png&quot; alt=&quot;ropensci&quot;&gt;&lt;/p&gt;

&lt;p&gt;Sweet. Have fun. &lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>mvabund - new R pkg for multivariate abundance data</title>
   <link href="http://recology.info//2012/03/mvabund/"/>
   <updated>2012-03-19T00:00:00-07:00</updated>
   <id>http://recology.info//2012/03/mvabund</id>
   <content type="html">&lt;p&gt;There is a new R package in town, mvabund, which does, as they say &amp;quot;statistical methods for analysing multivariate abundance data&amp;quot;.  The authors introduced the paper in an online early paper in Methods in Ecology and Evolution &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2012.00190.x/full&quot;&gt;here&lt;/a&gt;, R package &lt;a href=&quot;http://cran.r-project.org/web/packages/mvabund/index.html&quot;&gt;here&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;The package is meant to visualize data, fit predictive models, check model assumptions, and test hypotheses about community-environment associations. &lt;/p&gt;

&lt;p&gt;Here is a quick example. &lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/2112141.js?file=mvabund.r&quot;&gt;&lt;/script&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/mvabund1.png&quot; alt=&quot;mvabund1&quot;&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/mvabund2.png&quot; alt=&quot;mvabund2&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Journal Articles Need Interactive Graphics</title>
   <link href="http://recology.info//2012/02/science-publications-need-interactive-graphics/"/>
   <updated>2012-02-25T00:00:00-08:00</updated>
   <id>http://recology.info//2012/02/science-publications-need-interactive-graphics</id>
   <content type="html">&lt;p&gt;I should have thought of it earlier: In a day and age when we are increasingly reading scientific literature on computer screens, why is it that we limit our peer-reviewed data representation to static, unchanging graphs and plots? Why do we not try to create dynamic visualizations of our rich and varied data sets? Would we not derive benefits in the quality and clarity of scientific discourse from publishing these visualizations?&lt;/p&gt;

&lt;p&gt;An article in the very good (and under-appreciated, in my opinion) &lt;em&gt;&lt;a href=&quot;http://www.americanscientist.org/&quot;&gt;American Scientist&lt;/a&gt;&lt;/em&gt; magazine written by Brian Hayes started me thinking about these questions.  &lt;a href=&quot;http://www.americanscientist.org/issues/pub/pixels-or-perish&quot;&gt;&amp;quot;Pixels or Perish&amp;quot;&lt;/a&gt; begins by recapping the evolution of graphics in scientific publications and notes that before people were good at making plots digitally, they were good at making figures from using photographic techniques; and before that, from elaborate engravings.  Clearly, the state-of-the-art in scientific publishing is a moving target.&lt;/p&gt;

&lt;p&gt;Hayes points out that one of the primary advantages of static images is that everyone knows how to use them and that almost no one lacks the tools to view them.  That is, printed images in a magazine or static digital images in the portable document format (pdf) are easily viewed on paper or on a screen and can be readily interpreted by a wide audience.  While I agree that this feature is very important, why have we not, as scientists, moved to the next level?  We do not lack the ability to interpret data--it is our job to do so--not to mention that we are some of the heaviest generators of data in the first place.&lt;/p&gt;

&lt;p&gt;The obstacles to progress towards interactive data are two-fold.  First, generating dynamic data visualizations is not as easy as generating static plots.  The data visualization tools simply are not as well developed and they do not show up as frequently in the programming environments in which scientists work.  One example Hayes cites is that the ideas from programs such as &lt;a href=&quot;http://vis.stanford.edu/files/2011-D3-InfoVis.pdf&quot;&gt;D^3&lt;/a&gt; have not yet made an appearance in software, like &lt;a href=&quot;http://www.r-project.org/&quot;&gt;R&lt;/a&gt; and &lt;a href=&quot;http://www.mathworks.com/products/matlab/&quot;&gt;Matlab&lt;/a&gt;, that more scientists use. This is one reason why I am so excited by the work that our very own &lt;a href=&quot;http://sckott.github.io/recologyabout.html&quot;&gt;Scott&lt;/a&gt; has been doing with this &lt;a href=&quot;http://sckott.github.io/&quot;&gt;Recology&lt;/a&gt; blog, in trying to promote awareness of tools in &lt;a href=&quot;http://www.r-project.org/&quot;&gt;R&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The second is that neither of our currently dominant publishing formats (physical paper and digital pdf files) support dynamic graphics. Hayes says it better than I could: &amp;quot;…the Web is not where scientists publish…[publications are]…available &lt;em&gt;through&lt;/em&gt; the Web, not &lt;em&gt;on&lt;/em&gt; the Web.&amp;quot;  So, not many current publications really take advantage of the new capabilities that the Web has offered us to showcase dynamic data sets.  In fact, while &lt;a href=&quot;http://www.sciencemag.org/&quot;&gt;Science&lt;/a&gt; and &lt;a href=&quot;http://wwww.nature.com&quot;&gt;Nature&lt;/a&gt;--just to name two prominent examples of scientific journals--make available HTML versions of their articles, it seems like most of the interactivity is limited to looking at larger versions of figures in the articles*.  I myself usually just download the pdf version of articles rather than viewing the HTML version.  This obstacle, however, is not a fundamental one; it is only the current situation.&lt;/p&gt;

&lt;p&gt;The more serious obstacle that Hayes foresees in transitioning to dynamic graphics is one of archiving. Figures in journal articles printed in 1900 are still readable today, but there is no guarantee that a particular file format will survive in usable form to 2100, or even 2020.  I do not know the answer to this conundrum.  A balance might need to be struck between generating static and dynamic data.  At least in the medium term, papers should probably also contain static versions of figures representing dynamic data sets. It is inelegant, but it could avoid the situation where we lose access to information that was once there.&lt;/p&gt;

&lt;p&gt;That said, if the &lt;a href=&quot;http://www.nytimes.com&quot;&gt;New York Times&lt;/a&gt; can do it, so can we.  We should not wait to make our data presentation more dynamic and interactive.  At first, it will be difficult to incorporate these kinds of figures into the articles themselves, and they will likely be relegated to the &amp;quot;supplemental material&amp;quot; dead zone that is infrequently viewed.  But the more dynamic material that journals receive from authors, the more incentive they will have to expand upon their current offerings.  Ultimately, doing so will greatly improve the quality of scientific discourse.&lt;/p&gt;

&lt;p&gt;&lt;small&gt;* Whether the lack of dynamic data visualization on these journals&amp;#39; websites is due to the authors not submitting such material or due to restrictions from the journals themselves, I do not know. I suspect the burden falls more on the authors&amp;#39; shoulders at this point than the journals&amp;#39;.&lt;/small&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Take the INNGE survey on math and ecology</title>
   <link href="http://recology.info//2012/02/math-ecology-survey/"/>
   <updated>2012-02-17T00:00:00-08:00</updated>
   <id>http://recology.info//2012/02/math-ecology-survey</id>
   <content type="html">&lt;p&gt;Many ecologists are R users, but we vary in our understanding of the math and statistical theory behind models we use. There is no clear consensus on what should be the basic mathematical training of ecologists.   &lt;/p&gt;

&lt;p&gt;To learn what the community thinks, we invite you to fill out a short and anonymous questionnaire on this topic &lt;a href=&quot;https://sites.google.com/site/mathematicsandecologysurvey/&quot;&gt;here&lt;/a&gt;.  &lt;/p&gt;

&lt;p&gt;The questionnaire was designed by &lt;a href=&quot;http://www.cebc.cnrs.fr/Fidentite/barraquand/barraquand.htm&quot;&gt;Frédéric Barraquand&lt;/a&gt;, a graduate student at Université Pierre et Marie Curie, in collaboration with the International Network of Next-Generation Ecologists (&lt;a href=&quot;http://www.innge.net&quot;&gt;INNGE&lt;/a&gt;).  &lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Scraping Flora of North America</title>
   <link href="http://recology.info//2012/01/flora-north-america-scraping/"/>
   <updated>2012-01-27T00:00:00-08:00</updated>
   <id>http://recology.info//2012/01/flora-north-america-scraping</id>
   <content type="html">&lt;p&gt;So &lt;a href=&quot;http://fna.huh.harvard.edu/&quot;&gt;Flora of North America&lt;/a&gt; is an awesome collection of taxonomic information for plants across the continent.  However, the information within is not easily machine readable.  &lt;/p&gt;

&lt;p&gt;So, a little web scraping is called for.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/ropensci/rfna&quot;&gt;rfna&lt;/a&gt; is an R package to collect information from the Flora of North America. &lt;/p&gt;

&lt;p&gt;So far, you can:
1. Get taxonomic names from web pages that index the names.
2. Then get daughter URLs for those taxa, which then have their own 2nd order daughter URLs you can scrape, or scrape the 1st order daughter page. 
3. Query Asteraceae taxa for whether they have paleate or epaleate receptacles.  This function is something I needed, but more functions will be made like this to get specific traits. &lt;/p&gt;

&lt;p&gt;Further functions will do search, etc.&lt;/p&gt;

&lt;p&gt;You can install by:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;install.packages&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;devtools&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;devtools&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
install_github&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;rfna&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;rOpenSci&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rfna&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Here is an example where a set of URLs is acquired using function &lt;code&gt;getdaughterURLs&lt;/code&gt;, then the function &lt;code&gt;receptacle&lt;/code&gt; is used to ask whether of each the taxa at those URLs have paleate or epaleate receptacles. &lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/1690353.js?file=rfna_demo.r&quot;&gt;&lt;/script&gt;
</content>
 </entry>
 
 <entry>
   <title>RNetLogo - A package for running NetLogo from R</title>
   <link href="http://recology.info//2012/01/RNetLogo/"/>
   <updated>2012-01-23T00:00:00-08:00</updated>
   <id>http://recology.info//2012/01/RNetLogo</id>
   <content type="html">&lt;p&gt;Described in a new Methods in Ecology and Evolution paper &lt;a href=&quot;http://onlinelibrary.wiley.com/doi/10.1111/j.2041-210X.2011.00180.x/abstract&quot;&gt;here&lt;/a&gt;, a new &lt;a href=&quot;http://cran.r-project.org/&quot;&gt;R&lt;/a&gt; package &lt;a href=&quot;http://cran.r-project.org/web/packages/RNetLogo/index.html&quot;&gt;RNetLogo&lt;/a&gt; allows you to use &lt;a href=&quot;http://ccl.northwestern.edu/netlogo/&quot;&gt;NetLogo&lt;/a&gt; from R. &lt;/p&gt;

&lt;p&gt;NetLogo is software is a &amp;quot;multi-agent programmable modeling environment&amp;quot;. NetLogo can be used in individual- and agent-based modeling, and is used in the book &lt;a href=&quot;http://www.railsback-grimm-abm-book.com/&quot;&gt;&lt;em&gt;Agent-based and Individual-based Modeling: A Practical Introduction&lt;/em&gt;&lt;/a&gt; by Railsback &amp;amp; Grimm. &lt;/p&gt;

&lt;p&gt;I have not tried the package yet, but looks interesting. I am always a fan of running stand-alone programs from R if possible. &lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Taking a Closer Look at Peer Review</title>
   <link href="http://recology.info//2012/01/reviewing-peer-review-process/"/>
   <updated>2012-01-16T00:00:00-08:00</updated>
   <id>http://recology.info//2012/01/reviewing-peer-review-process</id>
   <content type="html">&lt;p&gt;This post is only tangentially about open science.  It is more directly about the process of peer review and how it might be improved.  I am working on a follow-up post about how these points can be addressed in an open publishing environment.&lt;/p&gt;

&lt;p&gt;A &lt;a href=&quot;http://arxiv.org/abs/1110.0791&quot;&gt;recent paper on the arXiv&lt;/a&gt; got me thinking about the sticking points in the publishing pipeline.  As it stands, most scientists have a pretty good understanding of how peer reviewed publishing is supposed to work.  Once an author—or more likely, a group of authors—decides that a manuscript is ready for action, the following series of events will occur:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;the authors submit the manuscript to the journal of choice;&lt;/li&gt;
&lt;li&gt;the journal&amp;#39;s editor makes a general decision about whether the article is appropriate for the journal;&lt;/li&gt;
&lt;li&gt;in the affirmative case, the editor selects referees for the manuscript and sends them the text for review;&lt;/li&gt;
&lt;li&gt;the referees return reviews of the manuscript (the referees are not typically identified to the authors);&lt;/li&gt;
&lt;li&gt;the editor makes the decision to reject the manuscript, accept it with minor revisions, or accept it with major revisions.  Rejected manuscripts usually start over the process in another journal.  Minor revisions to accepted manuscripts are usually made quickly and publication proceeds.  In the case of major revisions, the suggested changes are made, if possible, and the manuscript is returned to the editor.  At this point, the referees may get a second crack at the material (but not necessarily), before the editor makes a final accept/reject decision based on the feedback from the referees.&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Peer review of manuscripts exists for several reasons.  For one, self-regulation determines the suitability of the material for publication if it was not already obvious to the editor of the journal.  Having peer reviewers also improves the material and its presentation.  Furthermore, having expert reviewers lends credibility to the work and insures that misleading, wrong, or crackpot material does not receive the stamp of credibility.  Finally, finding appropriately skilled referees spreads the workload beyond the editors, who may not have the resources to evaluate every paper arriving at their desk.&lt;/p&gt;

&lt;p&gt;Though peer review has a storied history, it also has its drawbacks.  First, and perhaps foremost, the process is often a slow one, with many months elapsing during even one round of communications between the authors, the editor, and the referees.  Peer review is not always an objective process either: referees have the power to delay, or outright reject, work that their competitors have completed, and thus they may lose their impartiality in the process.  Additionally, the publishing process does not reveal the feedback process that occurs between authors and referees, which can be a scientifically and pedagogically valuable exchange.&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://arxiv.org/abs/1110.0791&quot;&gt;One proposal&lt;/a&gt; to address the shortcomings of the peer review process (alluded to in the first paragraph) was posted by Sergey Bozhevolnyi on the &lt;a href=&quot;http://arxiv.org/&quot;&gt;arXiv&lt;/a&gt;, a pre-publication website for many physics-related manuscripts.  Bozhevolnyi calls his model of publishing Rapid, Impartial, and Comprehensive (RIC) publishing.  To him, &amp;quot;rapid&amp;quot; means that editors should approve or reject manuscripts before the manuscripts are sent to the referees for review.  Then, &amp;quot;impartial&amp;quot; means that referees, who might otherwise have an interest in rejecting a perfectly fine paper, lose the power to dictate whether or not a manuscript is published.  Instead, the referees critique the paper without assessing whether it is publication-worthy.  Lastly, &amp;quot;comprehensive&amp;quot; involves publishing everything having to do with the manuscript.  That is, all positive and negative reviews are published in conjunction with the all versions of a manuscript.&lt;/p&gt;

&lt;p&gt;The primary benefit of RIC, according to Bozhevolnyi, is that it saves the energies of authors, editors, and referees, thus allowing them all to do more research and less wrangling.  Since most papers are ultimately accepted somewhere, then we should not cause additional delays in publishing by first rejecting them in multiple places.  Instead, collate the manuscript and the reviews and publish them all together, along with any revisions to the manuscript.  Having the reviews be publicly viewable will encourage referees to be more careful about writing their critiques and supporting their assertions, and the process as a whole will be more transparent than it currently is.&lt;/p&gt;

&lt;p&gt;Before I critique the RIC publishing proposal, I should point out that some aspects of the proposal are very appealing.  I particularly like the idea of publishing all reviews in addition to the manuscript.  That said, I find it difficult to believe that the incentives for authors and referees change for the better under this proposal.  For example, what happens if authors receive feedback, do not wish to invest the time to address the critique, and subsequently allow the original manuscript and the reviews to stand as they are?  This situation seems like a moral hazard for authors that does a disservice to the quality of scientific literature.  On the part of the referees, does removing decision-making authority make reviewing less appealing?  Disempowering the referees by potentially ignoring their critique and only counting it as a minor part of the publishing process will not motivate them to write better reviews.  In the case of editors, what makes us believe that an editor, or an editorial board, has the background to properly evaluate the suitability of work for acceptance into a journal?  The reason we have referees in the current peer review system is because they have the very expertise and familiarity needed for this task.&lt;/p&gt;

&lt;p&gt;Does the fact that Bozhevolnyi&amp;#39;s RIC proposal does not make sense mean that peer review is fine as it is?  I do not think so.  Instead, it is worth asking what parts of peer review we like and what parts we would like to improve.  I posit that rejection, or the threat of rejection, is the greatest motivator for authors to make necessary changes to their manuscript.  As such, rejection by peers is still the best way to require and receive revisions.  Though I think that referees should retain their rejecting power (and their anonymity!), I feel strongly that the entire peer review process would benefit from the increased transparency and accountability that publishing unsigned reviews would add.  As far as editors, they play a role in shaping the kind of journal they run by selecting appropriate material on a general level, but they should not play too large a role in determining the &amp;quot;important&amp;quot; research in any field.  The model used by the journal [Public Library of Science One][] is a promising one in this regard, with the only acceptance criterion being whether the science is sound.&lt;/p&gt;

&lt;p&gt;The amount of time that it takes to publish is one of the most frustrating aspects of peer review, however.  Journals could voluntarily publish time-to-publication figures, a number which could then be used by authors—along with impact factors and acceptance rates—to decide which journals to submit to.  For instance, an editor of the Journal of Orthodontics writes about just this fact in &lt;a href=&quot;http://jorthod.maneyjournals.org/content/29/3/171.full&quot;&gt;an editorial&lt;/a&gt;.  A Google search for &amp;quot;journal time to publication&amp;quot; reveals that people have been thinking about this problem for a while (e.g. &lt;a href=&quot;http://www.hutter1.net/journals.htm&quot;&gt;computer science comparisons&lt;/a&gt;), but no general standard exists across journals.  In fact, I suspect these are numbers most journals are afraid will hurt them more than help them.  Nevertheless, journals acknowledge the demand for rapid publication when they offer services like [Springer&amp;#39;s Fast Track publishing&lt;a href=&quot;http://www.springer.com/societies+%26+publishing+partners/society+%26+partner+zone?SGWID=0-173202-12-772912-0&quot;&gt;fasttrackpub&lt;/a&gt; or &lt;a href=&quot;http://pra.aps.org/highlighting-rapids&quot;&gt;Physical Review&amp;#39;s Rapid Communications&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Ultimately, it may not matter what journals do because authors are routing around this problem via pre-publication archives such as the &lt;a href=&quot;http://arxiv.org/&quot;&gt;arXiv&lt;/a&gt; for physics-related subject matter.  Though not without complications, especially in the health sciences (see, for example, &lt;a href=&quot;http://www.plosone.org/article/info%3Adoi%2F10.1371%2Fjournal.pone.0010782&quot;&gt;&amp;quot;The Promise and Perils of Pre-Publication Review&amp;quot;&lt;/a&gt;), pre-publication allows authors to communicate results and establish priority without stressing about getting through the peer review process as fast as possible.  Instead, the process takes its normal, slower course while authors move along their on-going research.&lt;/p&gt;

&lt;p&gt;I will conclude by leaving an open question that I may address in a future post:  how do you encourage peer reviewers to do the best possible job, in a timely manner, without only relying on their altruism to doing good science and being good members of the community?  It is this question about peer review, I feel, that is the most fraught with complication and subject to the law of unintended consequences if the incentives are changed.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Function for phylogeny resolution</title>
   <link href="http://recology.info//2012/01/phylogeny-resolution/"/>
   <updated>2012-01-13T00:00:00-08:00</updated>
   <id>http://recology.info//2012/01/phylogeny-resolution</id>
   <content type="html">&lt;p&gt;UPDATE:  Yeah, so the treeresstats function had a problem in one of the calculations.  I fixed that and added some more calulcations to the function. &lt;/p&gt;

&lt;p&gt;I couldn&amp;#39;t find any functions to calculate number of polytomies, and related metrics. &lt;/p&gt;

&lt;p&gt;Here&amp;#39;s a simple function that gives four metrics on a phylo tree object:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/1607531.js?file=treeresstats.R&quot;&gt;&lt;/script&gt;

&lt;p&gt;Here&amp;#39;s output from the gist above:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;trsize_tips
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;15&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;trsize_nodes
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;13&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;numpolys
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;numpolysbytrsize_tips
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.06666667&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;numpolysbytrsize_nodes
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.07692308&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;proptipsdescpoly
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.2&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;propnodesdich
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.9230769&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;And an example with many trees:&lt;/p&gt;

&lt;table border=&quot;1&quot;&gt;
    &lt;tr&gt;
        &lt;th&gt;trsize_tips&lt;/th&gt;
        &lt;th&gt;trsize_nodes&lt;/th&gt;
        &lt;th&gt;numpolys&lt;/th&gt;
        &lt;th&gt;numpolysbytrsize_tips&lt;/th&gt;
        &lt;th&gt;numpolysbytrsize_nodes&lt;/th&gt;
        &lt;th&gt;proptipsdescpoly&lt;/th&gt;
        &lt;th&gt;propnodesdich&lt;/th&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;20&lt;/td&gt; &lt;td&gt;13&lt;/td&gt; &lt;td&gt;4&lt;/td&gt; &lt;td&gt;0.20&lt;/td&gt; &lt;td&gt;0.31&lt;/td&gt; &lt;td&gt;0.7&lt;/td&gt; &lt;td&gt;0.69&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;20&lt;/td&gt; &lt;td&gt;7&lt;/td&gt; &lt;td&gt;3&lt;/td&gt; &lt;td&gt;0.15&lt;/td&gt; &lt;td&gt;0.43&lt;/td&gt; &lt;td&gt;0.9&lt;/td&gt; &lt;td&gt;0.57&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;20&lt;/td&gt; &lt;td&gt;11&lt;/td&gt; &lt;td&gt;6&lt;/td&gt; &lt;td&gt;0.30&lt;/td&gt; &lt;td&gt;0.55&lt;/td&gt; &lt;td&gt;1.0&lt;/td&gt; &lt;td&gt;0.45&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;20&lt;/td&gt; &lt;td&gt;13&lt;/td&gt; &lt;td&gt;4&lt;/td&gt; &lt;td&gt;0.20&lt;/td&gt; &lt;td&gt;0.31&lt;/td&gt; &lt;td&gt;0.7&lt;/td&gt; &lt;td&gt;0.69&lt;/td&gt;
    &lt;/tr&gt;
    &lt;tr&gt;
        &lt;td&gt;20&lt;/td&gt; &lt;td&gt;9&lt;/td&gt; &lt;td&gt;5&lt;/td&gt; &lt;td&gt;0.25&lt;/td&gt; &lt;td&gt;0.56&lt;/td&gt; &lt;td&gt;1.0&lt;/td&gt; &lt;td&gt;0.44&lt;/td&gt;
    &lt;/tr&gt;
&lt;/table&gt;
</content>
 </entry>
 
 <entry>
   <title>Moving from blogger and wordpress to jekyll</title>
   <link href="http://recology.info//2012/01/moving-from-blogger-wordpress-to-jekyll/"/>
   <updated>2012-01-11T00:00:00-08:00</updated>
   <id>http://recology.info//2012/01/moving-from-blogger-wordpress-to-jekyll</id>
   <content type="html">&lt;p&gt;Recology used to be hosted on Blogger, and my personal website was hosted on Wordpress.  Neither platform was very satisfying.  Blogger is very limited in their layouts, unless you use dynamic views, which suck because they don&amp;#39;t allow javascript snippets to render GitHub gists.  Wordpress is just limited all around as you can&amp;#39;t put in hardly anythig excep text and some pictures. They both have their place, but not so much for content that requires syntax highlighting, references, etc. &lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;https://github.com/mojombo/jekyll&quot;&gt;Jekyll&lt;/a&gt; powered sites on &lt;a href=&quot;https://github.com/&quot;&gt;GitHub&lt;/a&gt; are an awesome alternative.  You do have to write the code yourself, but you can copy any number of templates on GitHub with a simple &lt;code&gt;git clone&lt;/code&gt; onto your machine, edit the text a bit, push it up to GitHub, and that&amp;#39;s it.  &lt;/p&gt;

&lt;p&gt;On Blogger and Wordpress you can&amp;#39;t see the code behind why different blogs/sites look different.  But on Jekyll/GitHub you can see the code behind each site (see &lt;a href=&quot;https://github.com/mojombo/jekyll/wiki/sites&quot;&gt;here&lt;/a&gt; for a list of Jekyll/GitHub sites and their source code), which makes learning so easy.  &lt;/p&gt;

&lt;p&gt;Here is a video on YouTube that explains in some detail Jekyll/GitHub sites:&lt;/p&gt;

&lt;iframe width=&quot;560&quot; height=&quot;315&quot; src=&quot;http://www.youtube.com/embed/7mXeJlFdZ2c&quot; frameborder=&quot;0&quot; allowfullscreen&gt;&lt;/iframe&gt;

&lt;p&gt;A great point in the video above is that a Jekyll site allows a workflow that is great not only for code-junkies, but for scientists.  What is the most important thing about science?  That it is reproducible of course.   Documenting your code and sharing with everyone on GitHub or SVN, etc. is great for science in facilitating collaboration and facilitating transparency.  Having your website/blog on Jekyll fits right in to this workflow (that is, pull down any changes - write/edit something - commit - push to GitHub).  Although this sort of worklow isn&amp;#39;t necessary for a blog, it is nice for scientists to use this workflow all the time. &lt;/p&gt;

&lt;p&gt;Here&amp;#39;s how to get started:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;a href=&quot;http://git-scm.com/&quot;&gt;Install git&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/signup/free&quot;&gt;Get a free GitHub account&lt;/a&gt; and &lt;a href=&quot;http://help.github.com/mac-set-up-git/&quot;&gt;configure GitHub&lt;/a&gt;.  If you are afraid of the command line, there is a great GitHub app &lt;a href=&quot;http://mac.github.com/&quot;&gt;here&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;&lt;code&gt;git clone&lt;/code&gt; a jekyll template to your machine.  There are hundreds of these now.  Look &lt;a href=&quot;https://github.com/mojombo/jekyll/wiki/sites&quot;&gt;here&lt;/a&gt; for your favorite, and &lt;code&gt;git clone&lt;/code&gt; it. ***&lt;/li&gt;
&lt;li&gt;Edit the template you have cloned, and commit and push to GitHub.  That&amp;#39;s it.  It will take just a bit to render.&lt;br&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;There is more to it than that, but that is how you can get started.  If you want to add comments, &lt;a href=&quot;http://disqus.com/&quot;&gt;Disqus&lt;/a&gt; is a great option.  Once you fork someones jekyll site, make sure to change all the personal/site specific information to your information, including the RSS feed. &lt;/p&gt;

&lt;p&gt;*** Note: You can name your repo for your site/blog as yourgithubname.github.com if you want your URL for the site to be http://yourgithubname.github.com.  Or you can name your repo whatever you want, e.g., disrepo, then the URL will be http://yourgithubname.github.com/disrepo. &lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Presenting results of logistic regression</title>
   <link href="http://recology.info//2012/01/logistic-regression-barplot-fig/"/>
   <updated>2012-01-10T05:50:00-08:00</updated>
   <id>http://recology.info//2012/01/logistic-regression-barplot-fig</id>
   <content type="html">&lt;p&gt;So my advisor pointed out this &amp;#39;new&amp;#39; (well, 2004), way of plotting results of logistic regression results.  The idea was presented in a 2004 Bulletin of the Ecological Society of America issue (&lt;a href=&quot;http://esapubs.org/bulletin/backissues/085-3/bulletinjuly2004_2column.htm#tools1&quot;&gt;here&lt;/a&gt;).  I tried to come up with a  solution using, what else, ggplot2.  I don&amp;#39;t have it quite all the way down - I am missing the second y-axis values for the histograms, but someone smarter than me can figure that part out (note that Hadley doesn&amp;#39;t want to support second y-axes in ggplot2, but they can probably be hacked on). &lt;/p&gt;

&lt;p&gt;Here&amp;#39;s the code:
&lt;script src=&quot;https://gist.github.com/1589136.js?file=loghistplot.R&quot;&gt;&lt;/script&gt;&lt;/p&gt;

&lt;p&gt;Here&amp;#39;s a few examples using datasets provided with the ggplot2 package:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;loghistplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;mtcars&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;mpg&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;vs&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/mtcarsplot.png&quot; alt=&quot;mtcars plot&quot;&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;loghistplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;movies&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;rating&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Action&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/moviesplot.png&quot; alt=&quot;movies plot&quot;&gt;&lt;/p&gt;

&lt;p&gt;And two examples of the logpointplot function:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;logpointplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;mtcars&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;mpg&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;vs&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/logpointplot1.png&quot; alt=&quot;mtcars point plot&quot;&gt;&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;logpointplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;movies&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;rating&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;Action&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)])&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/logpointplot2.png&quot; alt=&quot;movies point plot&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Testing twitterfeed</title>
   <link href="http://recology.info//2012/01/testing-twitterfeed/"/>
   <updated>2012-01-08T11:33:00-06:00</updated>
   <id>http://recology.info//2012/01/testing-twitterfeed</id>
   <content type="html">&lt;p&gt;Does this work on twitterfeed?&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Weecology can has new mammal dataset</title>
   <link href="http://recology.info//2011/12/weecology-can-has-new-mammal-dataset/"/>
   <updated>2011-12-29T06:11:00-08:00</updated>
   <id>http://recology.info//2011/12/weecology-can-has-new-mammal-dataset</id>
   <content type="html">&lt;p&gt;So the &lt;a href=&quot;http://weecology.org/&quot;&gt;Weecology&lt;/a&gt; folks have published a large dataset on mammal communities in a data paper in &lt;a href=&quot;http://www.esajournals.org/doi/abs/10.1890/11-0262.1&quot;&gt;Ecology&lt;/a&gt;. I know nothing about mammal communities, but that doesn&amp;#39;t mean one can&amp;#39;t play with the data...&lt;/p&gt;

&lt;h3&gt;Their dataset consists of five csv files:&lt;/h3&gt;

&lt;ul&gt;
&lt;li&gt;communities, &lt;/li&gt;
&lt;li&gt;references,&lt;/li&gt;
&lt;li&gt;sites,&lt;/li&gt;
&lt;li&gt;species, and &lt;/li&gt;
&lt;li&gt;trapping data&lt;/li&gt;
&lt;/ul&gt;

&lt;h3&gt;Where are these sites, and by the way, do they vary much in altitude?&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;http://3.bp.blogspot.com/-BKqBoPCDA_A/Tvx9nLbMlkI/AAAAAAAAFPA/9_pG_Ihx33I/s1600/usmap.png&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img src=&quot;http://3.bp.blogspot.com/-BKqBoPCDA_A/Tvx9nLbMlkI/AAAAAAAAFPA/9_pG_Ihx33I/s1600/usmap.png&quot; height=&quot;230&quot; width=&quot;400&quot;/&gt;&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://1.bp.blogspot.com/-KkU_EcX8-EY/Tvx9n7hiP9I/AAAAAAAAFPI/7LoV0IjRiAM/s1600/worldmap.png&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img src=&quot;http://1.bp.blogspot.com/-KkU_EcX8-EY/Tvx9n7hiP9I/AAAAAAAAFPI/7LoV0IjRiAM/s1600/worldmap.png&quot; height=&quot;230&quot; width=&quot;400&quot;/&gt;&lt;/p&gt;

&lt;h3&gt;Let&amp;#39;s zoom in on just the states&lt;/h3&gt;

&lt;p&gt;&lt;a href=&quot;http://3.bp.blogspot.com/-BKqBoPCDA_A/Tvx9nLbMlkI/AAAAAAAAFPA/9_pG_Ihx33I/s1600/usmap.png&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img src=&quot;http://3.bp.blogspot.com/-BKqBoPCDA_A/Tvx9nLbMlkI/AAAAAAAAFPA/9_pG_Ihx33I/s1600/usmap.png&quot; height=&quot;230&quot; width=&quot;400&quot;/&gt;&lt;/p&gt;

&lt;h3&gt;What phylogenies can we get for the species in this dataset?&lt;/h3&gt;

&lt;p&gt;We can use the &lt;a href=&quot;http://cran.r-project.org/web/packages/treebase/&quot;&gt;rOpenSci package treebase&lt;/a&gt; to search the online phylogeny repository &lt;a href=&quot;http://www.treebase.org/treebase-web/home.html&quot;&gt;TreeBASE&lt;/a&gt;. Limiting to returning a max of 1 tree (to save time), we can see that X species are in at least 1 tree on the TreeBASE database. Nice.&lt;/p&gt;

&lt;p&gt;So there are 321 species in the database with at least 1 tree in the TreeBASE database. Of course there could be many more, but we limited results from TreeBASE to just 1 tree per query.&lt;/p&gt;

&lt;h3&gt;Here&amp;#39;s the code:&lt;/h3&gt;

&lt;script src=&quot;https://gist.github.com/1534730.js?file=mammaldataset.R&quot;&gt;&lt;/script&gt;
</content>
 </entry>
 
 <entry>
   <title>Recology is 1 yr old</title>
   <link href="http://recology.info//2011/12/recology-is-1-yr-old/"/>
   <updated>2011-12-23T16:52:00-08:00</updated>
   <id>http://recology.info//2011/12/recology-is-1-yr-old</id>
   <content type="html">&lt;p&gt;This blog has lasted a whole year already. &amp;nbsp;Thanks for reading and commenting. &lt;/p&gt;

&lt;h3&gt;There are a couple of announcements:&lt;/h3&gt;

&lt;ol&gt;
&lt;li&gt;Less blogging: I hope to put in many more years blogging here, but in full disclosure &lt;a href=&quot;http://jecologyblog.wordpress.com/&quot;&gt;I am blogging for Journal of Ecology&lt;/a&gt; now, so I am going to be (and already have been) blogging less here.&lt;/li&gt;
&lt;li&gt;More blogging: If anyone wants to write guest posts at Recology on the topics of using R for ecology and evolution, or open science, please contact me. &lt;/li&gt;
&lt;li&gt;Different blogging: I was going to roll out the new dynamic views for this blog, but Google doesn&amp;#39;t allow javascript, which is how I include code using GitHub gists. Oh well...&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Anywho, here is the breakdown of visits to this blog, visualized using #ggplot2, of course. There were a total of about 23,000 pageviews in the first year of this blog. &lt;/p&gt;

&lt;p&gt;Here is the pie chart code I used:
&lt;script src=&quot;https://gist.github.com/1515754.js?file=piechart.R&quot;&gt;&lt;/script&gt; &lt;/p&gt;

&lt;p&gt;Visits to top ten posts:&lt;/p&gt;

&lt;p&gt;&lt;img style=&quot; margin-right: 2em; border:none&quot; src=&quot;http://farm8.staticflickr.com/7158/6613213609_e491cd6f95_d.jpg&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Visits by by pages:&lt;/p&gt;

&lt;p&gt;&lt;img style=&quot; margin-right: 2em; border:none&quot; src=&quot;http://farm8.staticflickr.com/7033/6613216069_6c7b0d2aca_d.jpg&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Visits by top referring sites:&lt;/p&gt;

&lt;p&gt;&lt;img style=&quot; margin-right: 2em; border:none&quot; src=&quot;http://farm8.staticflickr.com/7008/6613217859_a03bcfee3e_d.jpg&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Visits by country:&lt;/p&gt;

&lt;p&gt;&lt;img style=&quot; margin-right: 2em; border:none&quot; src=&quot;http://farm8.staticflickr.com/7027/6613219049_97cf21a84e_d.jpg&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Visits by browsers:&lt;/p&gt;

&lt;p&gt;&lt;img style=&quot; margin-right: 2em; border:none&quot; src=&quot;http://farm8.staticflickr.com/7147/6613232905_5a98d82f87_d.jpg&quot;/&gt;&lt;/p&gt;

&lt;p&gt;Visits by operating system:&lt;/p&gt;

&lt;p&gt;&lt;img style=&quot; margin-right: 2em; border:none&quot; src=&quot;http://farm8.staticflickr.com/7005/6613236311_7cab55afd6_d.jpg&quot;/&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Dynamic views don't support javascript-so reverting back to simple views</title>
   <link href="http://recology.info//2011/12/dynamic-views-don-t-support-javascript-so-reverting-back-to-simple-views/"/>
   <updated>2011-12-22T09:36:00-08:00</updated>
   <id>http://recology.info//2011/12/dynamic-views-don-t-support-javascript-so-reverting-back-to-simple-views</id>
   <content type="html">&lt;p&gt;Sorry for the temporary loss of GitHub gists...Hopefully dynamic views will support javascript soon!!&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>I Work For The Internet !</title>
   <link href="http://recology.info//2011/12/i-work-for-internet/"/>
   <updated>2011-12-13T07:35:00-08:00</updated>
   <id>http://recology.info//2011/12/i-work-for-internet</id>
   <content type="html">&lt;p&gt;UPDATE: code and figure updated at 647 AM CST on 19 Dec &amp;#39;11. Also, see Jarrett Byrnes (improved) fork of my gist &lt;a href=&quot;https://gist.github.com/1474802&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;The site &lt;a href=&quot;http://iworkfortheinternet.org/&quot;&gt;I WORK FOR THE INTERNET&lt;/a&gt; is collecting pictures and first names (last name initials only) to show collective support against SOPA (the Stop Online Piracy Act). Please stop by their site and add your name/picture.&lt;/p&gt;

&lt;p&gt;I used the #rstats package twitteR, created by Jeff Gentry, to search for tweets from people signing this site with their picture, then plotted using ggplot2, and also used Hadley&amp;#39;s lubridate to round timestamps on tweets to be able to bin tweets in to time slots for plotting.&lt;/p&gt;

&lt;p&gt;Tweets containing the phrase &amp;#39;I work for the internet&amp;#39; by time:&lt;/p&gt;

&lt;p&gt;&lt;a href=&quot;http://1.bp.blogspot.com/-KALUtp3xQ_Q/Tu8ya0ZX0GI/AAAAAAAAFNM/JGVLj1qSRYs/s1600/Rplot01.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;326&quot; src=&quot;http://1.bp.blogspot.com/-KALUtp3xQ_Q/Tu8ya0ZX0GI/AAAAAAAAFNM/JGVLj1qSRYs/s400/Rplot01.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Here&amp;#39;s the code as a GitHub gist. Sometimes the searchTwitter fxn doesn&amp;#39;t returns an error, which I don&amp;#39;t understand, but you can play with it:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/1472619.js?file=iworkfortheinternet.R&quot;&gt;&lt;/script&gt;
</content>
 </entry>
 
 <entry>
   <title>LondonR meetings presentations</title>
   <link href="http://recology.info//2011/12/londonr-meetings-presentations/"/>
   <updated>2011-12-11T09:59:00-08:00</updated>
   <id>http://recology.info//2011/12/londonr-meetings-presentations</id>
   <content type="html">&lt;p&gt;Three presentations uploaded on &lt;a href=&quot;http://www.londonr.org/Presentations/Agenda.html&quot; target=&quot;_blank&quot;&gt;LondonR meetings website&lt;/a&gt;. &amp;nbsp;I especially enjoyed the &lt;a href=&quot;http://www.londonr.org/Presentations/segue-presentation-LondonRUG%20(1).ppt&quot; target=&quot;_blank&quot;&gt;JD Long presentation&lt;/a&gt; on the seque package for simulations using Amazon&amp;#39;s EC2.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>rOpenSci won 3rd place in the PLoS-Mendeley Binary Battle!</title>
   <link href="http://recology.info//2011/11/ropensci-won-3rd-place-in-the-plos-mendeley-binary-battle/"/>
   <updated>2011-11-30T10:28:00-08:00</updated>
   <id>http://recology.info//2011/11/ropensci-won-3rd-place-in-the-plos-mendeley-binary-battle</id>
   <content type="html">&lt;p&gt;&lt;br /&gt;&lt;div style=&quot;font-family: Georgia, &#39;Times New Roman&#39;, &#39;Bitstream Charter&#39;, Times, serif; font-size: 13px; line-height: 19px;&quot;&gt;I am part of the rOpenSci development team (&lt;a href=&quot;http://ropensci.org/developers/&quot; target=&quot;_blank&quot;&gt;along with Carl Boettiger, Karthik Ram, and Nick Fabina&lt;/a&gt;). &amp;nbsp; Our website: &lt;a href=&quot;http://ropensci.org/&quot;&gt;http://ropensci.org/&lt;/a&gt;. &amp;nbsp;Code at Github:&amp;nbsp;&lt;a href=&quot;https://github.com/ropensci&quot;&gt;https://github.com/ropensci&lt;/a&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Georgia, &#39;Times New Roman&#39;, &#39;Bitstream Charter&#39;, Times, serif; font-size: 13px; line-height: 19px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Georgia, &#39;Times New Roman&#39;, &#39;Bitstream Charter&#39;, Times, serif; font-size: 13px; line-height: 19px;&quot;&gt;We entered two of our R packages for integrating with PLoS Journals (rplos) and Mendeley (RMendeley) in the&amp;nbsp;&lt;a data-mce-href=&quot;http://dev.mendeley.com/api-binary-battle&quot; href=&quot;http://dev.mendeley.com/api-binary-battle&quot; target=&quot;_blank&quot;&gt;Mendeley-PLoS Binary Battle&lt;/a&gt;. &amp;nbsp;Get them at GitHub (&lt;a data-mce-href=&quot;https://github.com/ropensci/rplos&quot; href=&quot;https://github.com/ropensci/rplos&quot; target=&quot;_blank&quot;&gt;rplos&lt;/a&gt;;&amp;nbsp;&lt;a data-mce-href=&quot;https://github.com/ropensci/RMendeley&quot; href=&quot;https://github.com/ropensci/RMendeley&quot; target=&quot;_blank&quot;&gt;RMendeley&lt;/a&gt;).&lt;/div&gt;&lt;div style=&quot;font-family: Georgia, &#39;Times New Roman&#39;, &#39;Bitstream Charter&#39;, Times, serif; font-size: 13px; line-height: 19px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Georgia, &#39;Times New Roman&#39;, &#39;Bitstream Charter&#39;, Times, serif; font-size: 13px; line-height: 19px;&quot;&gt;These two packages allow users (from R! of course) to search and retrieve data from PLoS journals (including their altmetrics data), and from Mendeley. &amp;nbsp;You could surely mash up data from both PLoS and Mendeley. &amp;nbsp;That&amp;#39;s what&amp;#39;s cool about rOpenSci - we provide the tools, and leave it up to users vast creativity to do awesome things.&lt;/div&gt;&lt;div style=&quot;font-family: Georgia, &#39;Times New Roman&#39;, &#39;Bitstream Charter&#39;, Times, serif; font-size: 13px; line-height: 19px;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div style=&quot;font-family: Georgia, &#39;Times New Roman&#39;, &#39;Bitstream Charter&#39;, Times, serif; font-size: 13px; line-height: 19px;&quot;&gt;3rd place gives us a $1,000 prize, plus a&amp;nbsp;&lt;a data-mce-href=&quot;http://ardrone.parrot.com/parrot-ar-drone/uk/&quot; href=&quot;http://ardrone.parrot.com/parrot-ar-drone/uk/&quot; target=&quot;_blank&quot;&gt;Parrot AR Drone helicopter&lt;/a&gt;.&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Public vote open for Mendely-PLoS Binary Battle: vote rOpenSci!</title>
   <link href="http://recology.info//2011/11/public-vote-open-for-mendely-plos/"/>
   <updated>2011-11-19T07:00:00-08:00</updated>
   <id>http://recology.info//2011/11/public-vote-open-for-mendely-plos</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.surveygizmo.com/s3/722753/Mendeley-PLoS-Binary-Battle-Public-Vote&quot;&gt;http://www.surveygizmo.com/s3/722753/Mendeley-PLoS-Binary-Battle-Public-Vote&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>My talk on doing phylogenetics in R</title>
   <link href="http://recology.info//2011/11/my-talk-on-doing-phylogenetics-in-r/"/>
   <updated>2011-11-18T11:15:00-08:00</updated>
   <id>http://recology.info//2011/11/my-talk-on-doing-phylogenetics-in-r</id>
   <content type="html">&lt;p&gt;I gave a talk today on doing very basic phylogenetics in R, including getting sequence data, aligning sequence data, plotting trees, doing trait evolution stuff, etc.&lt;br /&gt;&lt;br /&gt;Please comment if you have code for doing bayesian phylogenetic inference in R. &amp;nbsp;I know phyloch has function mrbayes, but can&amp;#39;t get it to work...&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;div id=&quot;__ss_10222772&quot; style=&quot;width: 425px;&quot;&gt;&lt;strong style=&quot;display: block; margin: 12px 0 4px;&quot;&gt;&lt;a href=&quot;http://www.slideshare.net/schamber/phylogenetics-in-r&quot; target=&quot;_blank&quot; title=&quot;Phylogenetics in R&quot;&gt;Phylogenetics in R&lt;/a&gt;&lt;/strong&gt; &lt;iframe frameborder=&quot;0&quot; height=&quot;355&quot; marginheight=&quot;0&quot; marginwidth=&quot;0&quot; scrolling=&quot;no&quot; src=&quot;http://www.slideshare.net/slideshow/embed_code/10222772&quot; width=&quot;425&quot;&gt;&lt;/iframe&gt; &lt;br /&gt;&lt;div style=&quot;padding: 5px 0 12px;&quot;&gt;View more &lt;a href=&quot;http://www.slideshare.net/&quot; target=&quot;_blank&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/schamber&quot; target=&quot;_blank&quot;&gt;schamber&lt;/a&gt; &lt;/div&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Check out a video of my research at RocketHub</title>
   <link href="http://recology.info//2011/11/check-out-video-of-my-research-at/"/>
   <updated>2011-11-01T07:36:00-07:00</updated>
   <id>http://recology.info//2011/11/check-out-video-of-my-research-at</id>
   <content type="html">&lt;p&gt;Okay, so this post isn&amp;#39;t at all about R - but I can&amp;#39;t resist begging my readers for some help. &lt;br /&gt;&lt;br /&gt;I’m trying to get some crowdfunding for my research on the evolution of native plants in agricultural landscapes.  My campaign is part of a larger project by about 50 other scientists and me to see how well it works to go straight to the public to get funding for science research.  All these projects, including mine, are hosted at a site called RocketHub - a site that hosts crowdfunding projects of all sorts – and now they have science.&lt;br /&gt;&lt;br /&gt;It is important to get a few bucks at the beginning so that the people that don’t know me with deep pockets will hopefully chip in once they see the money ball rolling.  &lt;br /&gt;&lt;br /&gt;The funding will go towards paying some students to collect data in the lab for me.&lt;br /&gt;&lt;br /&gt;Here’s the link if you want to donate, or just to check out the video I made about my research!&lt;br /&gt;&lt;a href=&quot;http://www.rockethub.com/projects/3790-evolution-in-agriculture&quot;&gt;http://www.rockethub.com/projects/3790-evolution-in-agriculture&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;And watch the video here too:&lt;br /&gt;&lt;br /&gt;&lt;iframe allowfullscreen=&quot;&quot; frameborder=&quot;0&quot; height=&quot;315&quot; src=&quot;http://www.youtube.com/embed/W1mQgK6xFn0&quot; width=&quot;560&quot;&gt;&lt;/iframe&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>My little presentation on getting web data through R</title>
   <link href="http://recology.info//2011/10/my-little-presentation-on-getting-web/"/>
   <updated>2011-10-28T09:16:00-07:00</updated>
   <id>http://recology.info//2011/10/my-little-presentation-on-getting-web</id>
   <content type="html">&lt;div id=&quot;__ss_9926321&quot; style=&quot;width: 425px;&quot;&gt;&lt;span style=&quot;display: block; margin: 12px 0 4px;&quot;&gt;With examples from &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt; R packages.&amp;nbsp;&lt;/span&gt;&lt;span style=&quot;display: block; margin: 12px 0 4px;&quot;&gt;p.s. I am no expert at this...&lt;/span&gt;&lt;strong style=&quot;display: block; margin: 12px 0 4px;&quot;&gt;&lt;br /&gt;&lt;/strong&gt;&lt;strong style=&quot;display: block; margin: 12px 0 4px;&quot;&gt;&lt;a href=&quot;http://www.slideshare.net/schamber/web-data-from-r&quot; target=&quot;_blank&quot; title=&quot;Web data from R&quot;&gt;Web data from R&lt;/a&gt;&lt;/strong&gt; &lt;iframe frameborder=&quot;0&quot; height=&quot;355&quot; marginheight=&quot;0&quot; marginwidth=&quot;0&quot; scrolling=&quot;no&quot; src=&quot;http://www.slideshare.net/slideshow/embed_code/9926321&quot; width=&quot;425&quot;&gt;&lt;/iframe&gt; &lt;br /&gt;&lt;div style=&quot;padding: 5px 0 12px;&quot;&gt;View more &lt;a href=&quot;http://www.slideshare.net/&quot; target=&quot;_blank&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/schamber&quot; target=&quot;_blank&quot;&gt;schamber&lt;/a&gt; &lt;/div&gt;&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>Two new rOpenSci R packages are on CRAN</title>
   <link href="http://recology.info//2011/10/two-new-ropensci-r-packages-are-on-cran/"/>
   <updated>2011-10-27T05:27:00-07:00</updated>
   <id>http://recology.info//2011/10/two-new-ropensci-r-packages-are-on-cran</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.carlboettiger.info/&quot;&gt;Carl Boettiger&lt;/a&gt;, a graduate student at UC Davis, just got two packages on &lt;a href=&quot;http://cran.r-project.org/web/packages/available_packages_by_name.html&quot;&gt;CRAN&lt;/a&gt;. &amp;nbsp;One is &lt;a href=&quot;http://cran.r-project.org/web/packages/treebase/index.html&quot;&gt;treebase&lt;/a&gt;, which which handshakes with the &lt;a href=&quot;http://www.treebase.org/treebase-web/home.html&quot;&gt;Treebase&lt;/a&gt; API. &amp;nbsp;The other is &lt;a href=&quot;http://cran.r-project.org/web/packages/rfishbase/index.html&quot;&gt;rfishbase&lt;/a&gt;, which connects with the &lt;a href=&quot;http://www.fishbase.org/search.php&quot;&gt;Fishbase&lt;/a&gt;, although I believe just scrapes XML content as there is no API. &amp;nbsp;See development on GitHub for treebase &lt;a href=&quot;https://github.com/ropensci/treeBASE&quot;&gt;here&lt;/a&gt;, and for rfishbase &lt;a href=&quot;https://github.com/ropensci/rfishbase&quot;&gt;here&lt;/a&gt;. &amp;nbsp;Carl has some tutorials on treebase and rfishbase at his website &lt;a href=&quot;http://www.carlboettiger.info/&quot;&gt;here&lt;/a&gt;, and we have an official rOpenSci tutorial for treebase &lt;a href=&quot;http://ropensci.org/tutorials/r-treebase-tutorial/&quot;&gt;here&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;Basically, these two R packages let you search and pull down data from Treebase and Fishbase - pretty awesome. &amp;nbsp;This improves workflow, and puts your data search and acquisition component into your code, instead of being a bunch of mouse clicks in a browser.&lt;br /&gt;&lt;br /&gt;These two packages are part of the &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci project&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Two-sex demographic models in R</title>
   <link href="http://recology.info//2011/10/two-sex-demographic-models-in-r/"/>
   <updated>2011-10-26T07:31:00-07:00</updated>
   <id>http://recology.info//2011/10/two-sex-demographic-models-in-r</id>
   <content type="html">&lt;p&gt;Tom Miller (a prof here at Rice) and Brian Inouye have a paper out in Ecology (&lt;a href=&quot;http://www.esajournals.org/doi/abs/10.1890/11-0028.1&quot;&gt;paper&lt;/a&gt;, &lt;a href=&quot;http://www.esapubs.org/archive/archive_E.htm&quot;&gt;appendices&lt;/a&gt;) that confronts two-sex models of dispersal with empirical data.&lt;br /&gt;&lt;br /&gt;They conducted the first confrontation of two-sex demographic models with empirical data on lab populations of bean beetles &lt;i&gt;Callosobruchus&lt;/i&gt;. &lt;br /&gt;&lt;br /&gt;Their R code for the modeling work is available at Ecological Archives (link &lt;a href=&quot;http://www.esapubs.org/archive/ecol/E092/186/&quot;&gt;here&lt;/a&gt;).&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Here is a figure made from running the five blocks of code in &amp;#39;Miller&lt;em&gt;and&lt;/em&gt;Inouye_figures.txt&amp;#39; that reproduces Fig. 4 (A-E) in their Ecology paper (p = proportion female, Nt = density). &amp;nbsp;Nice!&lt;br /&gt;A: Saturating density dependence &lt;br /&gt;B: Over-compensatory density dependence&lt;br /&gt;C: Sex-specific gamma&amp;#39;s (but bM=bF=0.5)&lt;br /&gt;D:&amp;nbsp;&lt;span style=&quot;background-color: transparent;&quot;&gt;Sex-specific b&amp;#39;s (but gammaM=gammaF=1)&lt;/span&gt;&lt;br /&gt;E:&amp;nbsp;&lt;span style=&quot;background-color: transparent;&quot;&gt;Sex-specific b&amp;#39;s (but gammaM=gammaF=2)&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://2.bp.blogspot.com/-Ht7fPEjDhQY/TqgYoiQQlPI/AAAAAAAAFEU/ehhPrxOseK4/s1600/Screen+Shot+2011-10-26+at+9.26.11+AM.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;391&quot; src=&quot;http://2.bp.blogspot.com/-Ht7fPEjDhQY/TqgYoiQQlPI/AAAAAAAAFEU/ehhPrxOseK4/s400/Screen+Shot+2011-10-26+at+9.26.11+AM.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>New food web dataset</title>
   <link href="http://recology.info//2011/10/new-food-web-dataset/"/>
   <updated>2011-10-14T11:00:00-07:00</updated>
   <id>http://recology.info//2011/10/new-food-web-dataset</id>
   <content type="html">&lt;p&gt;&lt;br /&gt;&lt;br /&gt;So, there is a new food web dataset out that was put in Ecological Archives &lt;a href=&quot;http://www.esapubs.org/Archive/ecol/E092/173/default.htm&quot;&gt;here&lt;/a&gt;, and I thought I would play with it.  The food web is from Otago Harbour, an intertidal mudflat ecosystem in New Zealand.  The web contains 180 nodes, with 1,924 links. &lt;br /&gt;&lt;br /&gt;Fun stuff...&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;igraph, default layout plot&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://3.bp.blogspot.com/-2lQOoeAqGCM/Tphf9GJI8LI/AAAAAAAAFEA/EPwum7GfwXg/s1600/igraphplot.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;303&quot; src=&quot;http://3.bp.blogspot.com/-2lQOoeAqGCM/Tphf9GJI8LI/AAAAAAAAFEA/EPwum7GfwXg/s400/igraphplot.jpeg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;igraph, circle layout plot, nice&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://1.bp.blogspot.com/--hGl2IwHi4M/TphhJYdBO0I/AAAAAAAAFEI/8GsLuUkbYcM/s1600/igraphcircleplot.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;303&quot; src=&quot;http://1.bp.blogspot.com/--hGl2IwHi4M/TphhJYdBO0I/AAAAAAAAFEI/8GsLuUkbYcM/s400/igraphcircleplot.jpeg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;My funky little gggraph function plot&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;get the gggraph function, and make it better, &lt;a href=&quot;https://github.com/sckott/gggraph&quot;&gt;here at Github&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://4.bp.blogspot.com/-MBPHlFaVWos/Tphf82gWUpI/AAAAAAAAFD4/qaxCX4PP-C0/s1600/gggraphplot.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;303&quot; src=&quot;http://4.bp.blogspot.com/-MBPHlFaVWos/Tphf82gWUpI/AAAAAAAAFD4/qaxCX4PP-C0/s400/gggraphplot.jpeg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;script src=&quot;https://gist.github.com/1287545.js?file=newfoodwb.R&quot;&gt;&lt;/script&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Phylogenetic community structure: PGLMMs</title>
   <link href="http://recology.info//2011/10/phylogenetic-community-structure-pglmms/"/>
   <updated>2011-10-13T08:18:00-07:00</updated>
   <id>http://recology.info//2011/10/phylogenetic-community-structure-pglmms</id>
   <content type="html">&lt;p&gt;So, &lt;a href=&quot;http://r-ecology.blogspot.com/2011/01/new-approach-to-analysis-of.html&quot;&gt;I&amp;#39;ve blogged about this topic before&lt;/a&gt;, way back on 5 Jan this year.&lt;br /&gt;&lt;br /&gt;Matt Helmus, a postdoc in the &lt;a href=&quot;http://woottonlab.uchicago.edu/&quot;&gt;Wootton lab at the University of Chicago&lt;/a&gt;, published a paper with Anthony Ives in Ecological Monographs this year (&lt;a href=&quot;http://www.esajournals.org/doi/abs/10.1890/10-1264.1&quot;&gt;abstract here&lt;/a&gt;). &amp;nbsp;The paper addressed a new statistical approach to phylogenetic community structure. &lt;br /&gt;&lt;br /&gt;As I said in the original post, part of the power of the PGLMM (phylogenetic generalized linear mixed models) approach is that you don&amp;#39;t have to conduct quite so many separate statistical tests as with the previous null model/randomization approach. &lt;br /&gt;&lt;br /&gt;Their original code was written in Matlab. &amp;nbsp;Here I provide the R code that Matt has so graciously shared with me. &amp;nbsp;There are four functions and a fifth file has an example use case. &amp;nbsp;The example and output are shown below. &lt;br /&gt;&lt;br /&gt;Look for the inclusion of Matt&amp;#39;s PGLMM to the picante R package in the future.&lt;br /&gt;&lt;br /&gt;&lt;u&gt;Here are links to the files as GitHub gists:&amp;nbsp;&lt;/u&gt;&lt;br /&gt;PGLMM.data.R: &amp;nbsp;&lt;a href=&quot;https://gist.github.com/1278205&quot;&gt;https://gist.github.com/1278205&lt;/a&gt;&lt;br /&gt;PGLMM.fit.R: &amp;nbsp;&lt;a href=&quot;https://gist.github.com/1284284&quot;&gt;https://gist.github.com/1284284&lt;/a&gt;&lt;br /&gt;PGLMM.reml.R: &amp;nbsp;&lt;a href=&quot;https://gist.github.com/1284287&quot;&gt;https://gist.github.com/1284287&lt;/a&gt;&lt;br /&gt;PGLMM.sim.R: &amp;nbsp;&lt;a href=&quot;https://gist.github.com/1284288&quot;&gt;https://gist.github.com/1284288&lt;/a&gt;&lt;br /&gt;PGLMM&lt;em&gt;example.R: &amp;nbsp;&lt;a href=&quot;https://gist.github.com/1284442&quot;&gt;https://gist.github.com/1284442&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;Enjoy!&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&lt;u&gt;The example&lt;/u&gt;&lt;/b&gt;&lt;br /&gt;&amp;lt;script src=&amp;quot;https://gist.github.com/1284477.js?file=PGLMM&lt;/em&gt;exampleoutput.R&amp;quot;&amp;gt;&lt;/script&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;..and the figures...&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://3.bp.blogspot.com/-ODHXaozYSFY/Tpb9qSXbbHI/AAAAAAAAFDg/hLHlGDiYRSw/s1600/plot1.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;315&quot; src=&quot;http://3.bp.blogspot.com/-ODHXaozYSFY/Tpb9qSXbbHI/AAAAAAAAFDg/hLHlGDiYRSw/s320/plot1.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://2.bp.blogspot.com/-tQYXCZWIMYs/Tpb9q5zF4EI/AAAAAAAAFDo/_iOxMYf5DsI/s1600/plot2.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;307&quot; src=&quot;http://2.bp.blogspot.com/-tQYXCZWIMYs/Tpb9q5zF4EI/AAAAAAAAFDo/_iOxMYf5DsI/s320/plot2.png&quot; width=&quot;320&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://1.bp.blogspot.com/-fowoTDI0chc/Tpb9rMAlswI/AAAAAAAAFDw/7pvqZ-jpECk/s1600/plot3.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;http://1.bp.blogspot.com/-fowoTDI0chc/Tpb9rMAlswI/AAAAAAAAFDw/7pvqZ-jpECk/s320/plot3.png&quot; width=&quot;316&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>R talk on regular expressions (regex)</title>
   <link href="http://recology.info//2011/10/r-talk-on-regular-expressions-regex/"/>
   <updated>2011-10-06T08:50:00-07:00</updated>
   <id>http://recology.info//2011/10/r-talk-on-regular-expressions-regex</id>
   <content type="html">&lt;p&gt;Regular expressions are a powerful in any language to manipulate, search, etc. data.&lt;/p&gt;

&lt;p&gt;For example:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; fruit &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;apple&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;banana&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;pear&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;pineapple&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; fruit
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;apple&amp;quot;&lt;/span&gt;     &lt;span class=&quot;s&quot;&gt;&amp;quot;banana&amp;quot;&lt;/span&gt;    &lt;span class=&quot;s&quot;&gt;&amp;quot;pear&amp;quot;&lt;/span&gt;      &lt;span class=&quot;s&quot;&gt;&amp;quot;pineapple&amp;quot;&lt;/span&gt;

&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;grep&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;a&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; fruit&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# there is an &amp;quot;a&amp;quot; in each of the words&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; 
&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;strsplit&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;a string&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;s&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;c1&quot;&gt;# strsplit splits the string on the &amp;quot;s&amp;quot;&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]]&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;a &amp;quot;&lt;/span&gt;    &lt;span class=&quot;s&quot;&gt;&amp;quot;tring&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;R base has many functions for regular expressions, see slide 9 of Ed&amp;#39;s talk below.  The package stringr, created by Hadley Wickham, is a nice alternative that wraps the base regex functions for easier use. I highly recommend &lt;a href=&quot;http://cran.r-project.org/web/packages/stringr/index.html&quot;&gt;stringr&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Ed Goodwin, the coordinator of the &lt;a href=&quot;http://www.meetup.com/houstonr/&quot;&gt;Houston R Users group&lt;/a&gt;, gave a presentation to the group last night on regular expressions in R. It was a great talk, and he is allowing me to post his talk here.&lt;/p&gt;

&lt;p&gt;Enjoy!  And thanks for sharing Ed!&lt;/p&gt;

&lt;div style=&quot;width:425px&quot; id=&quot;__ss_9576621&quot;&gt; &lt;strong style=&quot;display:block;margin:12px 0 4px&quot;&gt;&lt;a href=&quot;http://www.slideshare.net/schamber/regexpresentationedgoodwin&quot; title=&quot;regex-presentation_ed_goodwin&quot; target=&quot;_blank&quot;&gt;regex-presentation_ed_goodwin&lt;/a&gt;&lt;/strong&gt; &lt;iframe src=&quot;http://www.slideshare.net/slideshow/embed_code/9576621&quot; width=&quot;425&quot; height=&quot;355&quot; frameborder=&quot;0&quot; marginwidth=&quot;0&quot; marginheight=&quot;0&quot; scrolling=&quot;no&quot;&gt;&lt;/iframe&gt; &lt;div style=&quot;padding:5px 0 12px&quot;&gt; View more &lt;a href=&quot;http://www.slideshare.net/&quot; target=&quot;_blank&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/schamber&quot; target=&quot;_blank&quot;&gt;schamber&lt;/a&gt; &lt;/div&gt; &lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>R tutorial on visualizations/graphics</title>
   <link href="http://recology.info//2011/09/r-tutorial-on-visualizationsgraphics/"/>
   <updated>2011-09-30T08:48:00-07:00</updated>
   <id>http://recology.info//2011/09/r-tutorial-on-visualizationsgraphics</id>
   <content type="html">&lt;p&gt;Rolf Lohaus, a Huxley postdoctoral fellow here in the EEB dept at Rice University, gave our R course a talk on basic visualizations in R this morning.&lt;br /&gt;&lt;br /&gt;Enjoy!&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;script src=&quot;https://gist.github.com/1254174.js?file=visualizations_tutorial.R&quot;&gt;&lt;/script&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Short on funding? Can't get a grant? Crowdfunding! #SciFund</title>
   <link href="http://recology.info//2011/09/short-on-funding-cant-get-grant/"/>
   <updated>2011-09-27T09:16:00-07:00</updated>
   <id>http://recology.info//2011/09/short-on-funding-cant-get-grant</id>
   <content type="html">&lt;p&gt;Crowdsourced funding is becoming a sustainable way for various artists, entrepreneurs, etc. to get their idea funded from individuals. For example, think of &lt;a href=&quot;http://www.kickstarter.com/&quot;&gt;Kickstarter&lt;/a&gt; and &lt;a href=&quot;http://www.rockethub.com/&quot;&gt;RocketHub&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Jai Ranganathan and Jarrett Byrnes have started an experiment to determine how well crowdfunding can work for scientists: The SciFund Challenge. Go here to &lt;a href=&quot;http://scifund.wordpress.com/sign-up/&quot;&gt;signup&lt;/a&gt; and here for their &lt;a href=&quot;http://scifund.wordpress.com/&quot;&gt;website&lt;/a&gt;. &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;The deadline to sign up is Oct. 1&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Ten Simple Rules for OA Publishers talk by Philip Bourne</title>
   <link href="http://recology.info//2011/09/ten-simple-rules-for-oa-publishers-talk/"/>
   <updated>2011-09-23T12:44:00-07:00</updated>
   <id>http://recology.info//2011/09/ten-simple-rules-for-oa-publishers-talk</id>
   <content type="html">&lt;div id=&quot;__ss_9354451&quot; style=&quot;width: 425px;&quot;&gt;&lt;strong style=&quot;display: block; margin: 12px 0 4px;&quot;&gt;&lt;a href=&quot;http://www.slideshare.net/pebourne/ten-simple-rules-for-open-access-publishers&quot; target=&quot;_blank&quot; title=&quot;Ten Simple Rules for Open Access Publishers&quot;&gt;Ten Simple Rules for Open Access Publishers&lt;/a&gt;&lt;/strong&gt; &lt;iframe frameborder=&quot;0&quot; height=&quot;355&quot; marginheight=&quot;0&quot; marginwidth=&quot;0&quot; scrolling=&quot;no&quot; src=&quot;http://www.slideshare.net/slideshow/embed_code/9354451&quot; width=&quot;425&quot;&gt;&lt;/iframe&gt; &lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;padding: 5px 0 12px;&quot;&gt;View more &lt;a href=&quot;http://www.slideshare.net/&quot; target=&quot;_blank&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/pebourne&quot; target=&quot;_blank&quot;&gt;Philip Bourne&lt;/a&gt; &lt;/div&gt;&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>@drewconway interview on @DataNoBorders at the Strata conference</title>
   <link href="http://recology.info//2011/09/drewconway-interview-on-datanoborders/"/>
   <updated>2011-09-22T21:10:00-07:00</updated>
   <id>http://recology.info//2011/09/drewconway-interview-on-datanoborders</id>
   <content type="html">&lt;p&gt;The O&amp;#39;Reilly Media Strata Summit has many interviews on YouTube (just search YouTube for it)&lt;br /&gt;&lt;br /&gt;Drew Conway is the author of a R packages, including &lt;a href=&quot;http://cran.r-project.org/web/packages/infochimps/index.html&quot;&gt;infochimps&lt;/a&gt;, an R wrapper to the &lt;a href=&quot;http://www.infochimps.com/&quot;&gt;Infochimps&lt;/a&gt; API service.&lt;br /&gt;&lt;br /&gt;The YouTube video:&lt;iframe allowfullscreen=&quot;&quot; frameborder=&quot;0&quot; height=&quot;315&quot; src=&quot;http://www.youtube.com/embed/fsnnwTWoOLk&quot; width=&quot;560&quot;&gt;&lt;/iframe&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Open science talk by Carl Boettiger</title>
   <link href="http://recology.info//2011/09/open-science-talk-by-carl-boettiger/"/>
   <updated>2011-09-22T20:55:00-07:00</updated>
   <id>http://recology.info//2011/09/open-science-talk-by-carl-boettiger</id>
   <content type="html">&lt;p&gt;Carl Boettiger gave a talk on the topic of open science to incoming UC Davis graduate students.&lt;/p&gt;

&lt;p&gt;Here is the audio &lt;a href=&quot;http://www.archive.org/details/ThingsIWishIKnewThreeYearsAgo-ByTheDavisOpenScienceGroup&amp;amp;amp;reCache=1&quot;&gt;click here&lt;/a&gt; &lt;/p&gt;

&lt;p&gt;Here are the slides &lt;a href=&quot;http://hazelnusse.github.com/DOS_WOW2011/#title-slide&quot;&gt;clickhere&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>My take on an R introduction talk</title>
   <link href="http://recology.info//2011/09/my-take-on-r-introduction-talk/"/>
   <updated>2011-09-09T11:03:00-07:00</updated>
   <id>http://recology.info//2011/09/my-take-on-r-introduction-talk</id>
   <content type="html">&lt;p&gt;UPDATE: I put in an R tutorial as a Github gist below.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Here is a short intro R talk I gave today...for what it&amp;#39;s worth...&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;div id=&quot;__ss_9195930&quot; style=&quot;width: 425px;&quot;&gt;&lt;strong style=&quot;display: block; margin: 12px 0 4px;&quot;&gt;&lt;a href=&quot;http://www.slideshare.net/schamber/r-introduction&quot; target=&quot;_blank&quot; title=&quot;R Introduction&quot;&gt;R Introduction&lt;/a&gt;&lt;/strong&gt; &lt;iframe frameborder=&quot;0&quot; height=&quot;355&quot; marginheight=&quot;0&quot; marginwidth=&quot;0&quot; scrolling=&quot;no&quot; src=&quot;http://www.slideshare.net/slideshow/embed_code/9195930&quot; width=&quot;425&quot;&gt;&lt;/iframe&gt; &lt;br /&gt;&lt;div style=&quot;padding: 5px 0 12px;&quot;&gt;View more &lt;a href=&quot;http://www.slideshare.net/&quot; target=&quot;_blank&quot;&gt;presentations&lt;/a&gt; from &lt;a href=&quot;http://www.slideshare.net/schamber&quot; target=&quot;_blank&quot;&gt;schamber&lt;/a&gt; &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;/div&gt;&lt;script src=&quot;https://gist.github.com/1208321.js?file=Rintrotutorial.R&quot;&gt;&lt;/script&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>A Data Visualization Book</title>
   <link href="http://recology.info//2011/09/data-visualization-book/"/>
   <updated>2011-09-08T23:28:00-07:00</updated>
   <id>http://recology.info//2011/09/data-visualization-book</id>
   <content type="html">&lt;p&gt;&lt;i&gt;Note:  thanks to Scott for inviting me to contribute to the Recology blog despite being an ecology outsider; my work is primarily in atomic physics. -Pascal&lt;/i&gt;&lt;p&gt;A part of me has always liked thinking about how to effectively present information, but until the past year, I had not read much to support my (idle) interest in information visualization.  That changed in the spring when I read Edward Tufte&amp;#39;s &lt;i&gt;The Visual Display of Quantitative Information&lt;/i&gt;, a book that stimulated me to think more deeply about presenting information.  I originally started with a specific task in mind--a wonderful tool for focusing one&amp;#39;s interests--but quickly found that Tufte&amp;#39;s book was less a practical guide and more a list of general design principles.  Then, a few months ago, I stumbled upon Nathan Yau&amp;#39;s blog, &lt;a href=&quot;http://flowingdata.com/&quot;&gt;FlowingData&lt;/a&gt;, and found out he was writing a practical guide to design and visualization.  Conveniently enough for me, Yau&amp;#39;s book, &lt;i&gt;&lt;a href=&quot;http://book.flowingdata.com/&quot;&gt;Visualize This&lt;/a&gt;&lt;/i&gt;, would be released within a month of my discovery of his blog; what follows are my impressions of &lt;i&gt;Visualize This&lt;/i&gt;.&lt;p&gt;I have liked &lt;i&gt;Visualize This&lt;/i&gt; a lot.  Yau writes with much the same informal tone as on his blog, and the layout is visually pleasing (good thing, too, for a book about visualizing information!).  The first few chapters are pretty basic if you have done much data manipulation before, but it is really nice to have something laid out so concisely.  The examples are good, too, in that he is very explicit about every step: there is no intuiting what that missing step should be.  The author even acknowledges in the introduction that the first part of the book is at an introductory level.&lt;p&gt;Early in the book, Yau discusses where to obtain data.  This compilation of sources is potentially a useful reference for someone, like me, who almost always generates his own data in the lab.  Unfortunately, Yau does not talk much about preparation of (or best practices for) your own data.  Additionally, from the perspective of a practicing scientist, it would have been nice to hear about how to archive data to make sure it is readable far into the future, but that is probably outside the scope of the book.&lt;p&gt;Yau seems really big into using open source software for getting and analyzing data (e.g. Python, R, etc…), but he is surprisingly attached to the proprietary Adobe Illustrator for turning figures into presentation quality graphics.  He says that he feels like the default options in most analysis programs do not make for very good quality graphics (and he is right), but he does not really acknowledge that you can generate nice output if you go beyond the default settings.  For me, the primary advantage of generating output programmatically is that it is easy to regenerate when you need to change the data or the formatting on the plot.  Using a graphical user interface, like in Adobe Illustrator, is nice if you are only doing something once (how often does that happen?), but when you have to regenerate the darn figure fifty times to satisfy your advisor, it gets tedious to move things around pixel by pixel.&lt;p&gt;By the time I reached the middle chapters, I started finding many of the details to be repetitive.  Part of this repetition stems from the fact that Yau divides these chapters by the type of visualization. For example, &amp;quot;Visualizing Proportions&amp;quot; and &amp;quot;Visualizing Relationships&amp;quot; are two of the chapter titles.  While I think these distinctions are important ones for telling the right story about one&amp;#39;s data, creating figures for the different data types often boils down to choosing different functions in R or Python. People with less analysis and presentation experience should find the repetition helpful, but I increasingly skimmed these sections as I went along.  &lt;p&gt;Working through Yau&amp;#39;s examples for steps you do not already know would probably be the most useful way of getting something out of the book.  So, for example, I started trying to use Python to scrape data from a webpage, something I had not previously done.  I followed the book&amp;#39;s example of this data-scraping just fine, but as with most things in programming, you find all sorts of minor hurdles to clear when you try your own thing. In my case, I am re-learning the Python I briefly learned about 10 years ago--partly in anticipation of not having access to Matlab licenses once I vacate the academy--since I have forgotten a lot of the syntax.  A lot of this stuff would be faster if I were working in Matlab which I grew more familiar with in graduate school.&lt;p&gt;Overall, &lt;i&gt;Visualize This&lt;/i&gt; is a really nice looking book and will continue to be useful to me as a reference. Yau concludes his book with a refreshing reminder to provide context for the data we present.  This advice is particularly relevant when presenting to a wider or lay audience, but it is still important for us, as scientists, to clearly communicate our findings in the literature.  Patterns in the data are not often self-evident, and therefore we should think carefully about which visualization tools will best convey the meaning of our results.&lt;p&gt;&lt;small&gt;Edited to add &lt;a href=&quot;http://book.flowingdata.com/&quot;&gt; a link to &lt;i&gt;Visualize This&lt;/i&gt;&lt;/a&gt; here and in the introductory paragraph.&lt;/small&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>FigShare Talk</title>
   <link href="http://recology.info//2011/09/figshare-talk/"/>
   <updated>2011-09-08T21:36:00-07:00</updated>
   <id>http://recology.info//2011/09/figshare-talk</id>
   <content type="html">&lt;p&gt;FigShare - I very much like this idea of a place to put your data online that is NOT published. Dryad is a nice place for datastes linked with published papers, but there isn&amp;#39;t really a place for datasets that perhaps did not make the cut for a published paper, and if known to the scientific community, could potentially help resolve the &amp;quot;file-drawer&amp;quot; effect in meta-analyses. (wow, run on sentence)&lt;br /&gt;&lt;br /&gt;&amp;nbsp;&lt;iframe frameborder=&quot;0&quot; height=&quot;225&quot; src=&quot;http://player.vimeo.com/video/26416313?title=0&amp;amp;byline=0&amp;amp;portrait=0&quot; width=&quot;400&quot;&gt;&lt;/iframe&gt;&lt;br /&gt;&lt;a href=&quot;http://vimeo.com/26416313&quot;&gt;&amp;quot;Figshare - Why don&amp;#39;t you publish all your research?&amp;quot; Mark Hahnel Imperial College London&lt;/a&gt; from &lt;a href=&quot;http://vimeo.com/biogeeks&quot;&gt;London Biogeeks&lt;/a&gt; on &lt;a href=&quot;http://vimeo.com/&quot;&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Jonathan Eisen on the Fourth Domain and Open Science</title>
   <link href="http://recology.info//2011/09/jonathan-eisen-on-fourth-domain-and/"/>
   <updated>2011-09-06T16:53:00-07:00</updated>
   <id>http://recology.info//2011/09/jonathan-eisen-on-fourth-domain-and</id>
   <content type="html">&lt;p&gt;&lt;iframe frameborder=&quot;0&quot; height=&quot;227&quot; src=&quot;http://player.vimeo.com/video/28444926?portrait=0&quot; width=&quot;400&quot;&gt;&lt;/iframe&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;a href=&quot;http://vimeo.com/28444926&quot;&gt;Stalking the Fourth Domain with Jonathan Eisen, Ph D&lt;/a&gt; from &lt;a href=&quot;http://vimeo.com/user8340111&quot;&gt;mendelspod&lt;/a&gt; on &lt;a href=&quot;http://vimeo.com/&quot;&gt;Vimeo&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>rnpn: An R interface for the National Phenology Network</title>
   <link href="http://recology.info//2011/08/rnpn-r-interface-for-national-phenology/"/>
   <updated>2011-08-31T08:26:00-07:00</updated>
   <id>http://recology.info//2011/08/rnpn-r-interface-for-national-phenology</id>
   <content type="html">&lt;p&gt;The team at &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt; and I have been working on a wrapper for the &lt;a href=&quot;http://www.usanpn.org/&quot;&gt;USA National Phenology Network&lt;/a&gt; API. The following is a demo of some of the current possibilities. We will have more functions down the road. Get the publicly available code, and contribute, at Github &lt;a href=&quot;https://github.com/ropensci/rnpn&quot;&gt;here&lt;/a&gt;. If you try this out look at the &lt;a href=&quot;https://github.com/ropensci/rnpn/blob/master/DESCRIPTION&quot;&gt;Description file &lt;/a&gt;for the required R packages to run rnpn. Let us know at Github (&lt;a href=&quot;https://github.com/ropensci&quot;&gt;here&lt;/a&gt;) or at our website &amp;nbsp;&lt;a href=&quot;http://ropensci.org/&quot;&gt;http://ropensci.org/&lt;/a&gt;, or&amp;nbsp;in the comments below, or on twitter (@rOpenSci), what use cases you would like to see with the rnpn package.&lt;br /&gt;&lt;br /&gt;&lt;b&gt;&lt;u&gt;Method and demo of each&lt;/u&gt;&lt;/b&gt;:&lt;br /&gt;&lt;i&gt;&lt;b&gt;Get observations for species by day&lt;/b&gt;&lt;/i&gt;&lt;br /&gt;&lt;i&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-style: normal;&quot;&gt;From the documentation: &amp;quot;&lt;/span&gt;&lt;/i&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Arial; font-size: 13px; white-space: pre-wrap;&quot;&gt;This function will return a list of species, containing all the dates which observations were made about the species, and a count of the number of such observations made on that date.&lt;/span&gt;&lt;i&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-style: normal;&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/i&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-size: x-small;&quot;&gt;#### Note, the data below is truncated for blogging brevity...&lt;/span&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&amp;gt; getobsspbyday&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&amp;#39;2008-01-01&amp;#39;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&amp;#39;2011-12-31&amp;#39;&lt;/span&gt;&lt;span style=&quot;color: #666666;&quot;&gt;) # Searched for species 1 and 2 from Jan 1, 2008 to Dec 31, 2011&lt;/span&gt;&lt;br /&gt;          &lt;a href=&quot;http://inside-r.org/r-doc/base/date&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;date&lt;/span&gt;&lt;/a&gt; count   species&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-03-08     &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-03-&lt;span style=&quot;color: #cc66cc;&quot;&gt;15&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-03-&lt;span style=&quot;color: #cc66cc;&quot;&gt;22&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-03-&lt;span style=&quot;color: #cc66cc;&quot;&gt;24&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-03-&lt;span style=&quot;color: #cc66cc;&quot;&gt;26&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;6&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-04-&lt;span style=&quot;color: #cc66cc;&quot;&gt;17&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;7&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-04-&lt;span style=&quot;color: #cc66cc;&quot;&gt;24&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;8&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-05-&lt;span style=&quot;color: #cc66cc;&quot;&gt;12&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;9&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-05-&lt;span style=&quot;color: #cc66cc;&quot;&gt;20&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;10&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-&lt;span style=&quot;color: #cc66cc;&quot;&gt;11&lt;/span&gt;-&lt;span style=&quot;color: #cc66cc;&quot;&gt;24&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;11&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-&lt;span style=&quot;color: #cc66cc;&quot;&gt;12&lt;/span&gt;-07     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;12&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2010&lt;/span&gt;-01-&lt;span style=&quot;color: #cc66cc;&quot;&gt;18&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;13&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2010&lt;/span&gt;-01-&lt;span style=&quot;color: #cc66cc;&quot;&gt;23&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;62&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2011&lt;/span&gt;-05-&lt;span style=&quot;color: #cc66cc;&quot;&gt;29&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;63&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2011&lt;/span&gt;-06-&lt;span style=&quot;color: #cc66cc;&quot;&gt;27&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;64&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2011&lt;/span&gt;-06-&lt;span style=&quot;color: #cc66cc;&quot;&gt;30&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;65&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-03-&lt;span style=&quot;color: #cc66cc;&quot;&gt;17&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;66&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-04-03     &lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;67&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-04-05     &lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;68&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-04-&lt;span style=&quot;color: #cc66cc;&quot;&gt;10&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;69&lt;/span&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;-04-&lt;span style=&quot;color: #cc66cc;&quot;&gt;17&lt;/span&gt;     &lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt; species &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;br /&gt;&lt;/i&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;b&gt;Get individuals at specific stations&lt;/b&gt;&lt;/i&gt;&lt;br /&gt;From the documentation: &amp;quot;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Arial; font-size: 13px; white-space: pre-wrap;&quot;&gt;This function returns all of the individuals at a series of stations.&lt;/span&gt;&amp;quot;&lt;br /&gt;&lt;div&gt;&lt;br /&gt;&lt;div style=&quot;overflow-x: auto; overflow-y: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&amp;gt; getindsatstations&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;507&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;523&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666;&quot;&gt;# Searched for any individuals at stations 507 and 523&lt;/span&gt;&lt;br /&gt;   individual&lt;em&gt;id individual&lt;/em&gt;name species&lt;em&gt;id kingdom&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;1200&lt;/span&gt;         dogwood         &lt;span style=&quot;color: #cc66cc;&quot;&gt;12&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;1197&lt;/span&gt;    purple lilac         &lt;span style=&quot;color: #cc66cc;&quot;&gt;36&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;1193&lt;/span&gt;         white &lt;a href=&quot;http://inside-r.org/r-doc/base/t&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;t&lt;/span&gt;&lt;/a&gt;         &lt;span style=&quot;color: #cc66cc;&quot;&gt;38&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;3569&lt;/span&gt;     forsythia-&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;         &lt;span style=&quot;color: #cc66cc;&quot;&gt;73&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;1206&lt;/span&gt;            jack        &lt;span style=&quot;color: #cc66cc;&quot;&gt;150&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;6&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;1199&lt;/span&gt;      trout lily        &lt;span style=&quot;color: #cc66cc;&quot;&gt;161&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;7&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;1198&lt;/span&gt;           dandy        &lt;span style=&quot;color: #cc66cc;&quot;&gt;189&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;8&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;1192&lt;/span&gt;           red &lt;a href=&quot;http://inside-r.org/r-doc/base/t&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;t&lt;/span&gt;&lt;/a&gt;        &lt;span style=&quot;color: #cc66cc;&quot;&gt;192&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;9&lt;/span&gt;           &lt;span style=&quot;color: #cc66cc;&quot;&gt;1710&lt;/span&gt;    common lilac         &lt;span style=&quot;color: #cc66cc;&quot;&gt;36&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;10&lt;/span&gt;          &lt;span style=&quot;color: #cc66cc;&quot;&gt;1711&lt;/span&gt;  common lilac &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;         &lt;span style=&quot;color: #cc66cc;&quot;&gt;36&lt;/span&gt; Plantae&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;11&lt;/span&gt;          &lt;span style=&quot;color: #cc66cc;&quot;&gt;1712&lt;/span&gt;       dandelion        &lt;span style=&quot;color: #cc66cc;&quot;&gt;189&lt;/span&gt; Plantae&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;br /&gt;&lt;/i&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;br /&gt;&lt;/i&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;br /&gt;&lt;/i&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;b&gt;Get individuals of species at stations&lt;/b&gt;&lt;/i&gt;&lt;br /&gt;From the documentation:&amp;nbsp;&amp;quot;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Arial; font-size: 13px; white-space: pre-wrap;&quot;&gt;This function will return a list of all the individuals, which are members of a species, among &amp;nbsp;any number of stations.&lt;/span&gt;&amp;quot;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;div style=&quot;overflow-x: auto; overflow-y: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&amp;gt; getindspatstations&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;35&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;60&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;259&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;2009&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;  &lt;span style=&quot;color: #666666;&quot;&gt;# Search for individuals of species 35 at stations 60 and 259 in year 2009&lt;/span&gt;&lt;br /&gt;  individual&lt;/em&gt;id individual&lt;em&gt;name number&lt;/em&gt;observations&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;          &lt;span style=&quot;color: #cc66cc;&quot;&gt;1715&lt;/span&gt;            west                   &lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;          &lt;span style=&quot;color: #cc66cc;&quot;&gt;1716&lt;/span&gt;            east                   &lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;br /&gt;&lt;/i&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;br /&gt;&lt;/i&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;br /&gt;&lt;/i&gt;&lt;br /&gt;&lt;i style=&quot;font-style: italic;&quot;&gt;&lt;b&gt;Get observation associated with particular observation&lt;/b&gt;&lt;/i&gt;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-style: normal;&quot;&gt;From the documentation:&lt;/span&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Arial; font-size: x-small;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;white-space: pre-wrap;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-style: normal;&quot;&gt;&amp;nbsp;&lt;/span&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Arial; font-size: 13px; white-space: pre-wrap;&quot;&gt;This function will return the comment associated with a particular observation.&lt;/span&gt;&lt;span class=&quot;Apple-style-span&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Arial; font-size: x-small;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;white-space: pre-wrap;&quot;&gt;&amp;quot;&lt;/span&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Arial; font-size: x-small;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;white-space: pre-wrap;&quot;&gt;&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: monospace; white-space: pre;&quot;&gt;&amp;gt; getobscomm&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1938&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666;&quot;&gt;# The observation for observation number 1938&lt;/span&gt;&lt;/span&gt;&lt;br /&gt;&lt;div style=&quot;overflow-x: auto; overflow-y: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;$observation_comment&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;some lower branches are bare&amp;quot;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Tenure track position in systematics at the University of Vermont</title>
   <link href="http://recology.info//2011/08/tenure-track-position-in-systematics-at/"/>
   <updated>2011-08-22T13:24:00-07:00</updated>
   <id>http://recology.info//2011/08/tenure-track-position-in-systematics-at</id>
   <content type="html">&lt;p&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;background-color: white; color: #4f4f4f; font-family: Arial, Tahoma, Helvetica, FreeSans, sans-serif; font-size: 15px; line-height: 20px;&quot;&gt;&lt;/span&gt;&lt;br /&gt;&lt;center style=&quot;text-align: left;&quot;&gt;There is an awesome position opening up for an assistant professor in systematics at the University of Vermont. Below is the announcement, and see the &lt;a href=&quot;http://currentecology.blogspot.com/2011/08/tenure-track-position-in-systematics-at.html&quot;&gt;original post&lt;/a&gt; at the &lt;a href=&quot;http://currentecology.blogspot.com/&quot;&gt;Distributed Ecology blog&lt;/a&gt;. Why is this related to R? One can do a lot of systematics work in R, including retrieving scientific collections data through an upcoming package handshaking with &lt;a href=&quot;http://vertnet.org/index.php&quot;&gt;VertNet&lt;/a&gt; (part of the &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt; project), managing large data sets, retrieval of GenBank data through the ape package (see fxn read.genbank), phylogenetic reconstruction and analysis, and more. So I am sure a systematist with R ninja skills will surely have a head up on the rest of the field.&amp;nbsp;&lt;/center&gt;&lt;center style=&quot;text-align: left;&quot;&gt;&lt;br /&gt;&lt;/center&gt;&lt;center style=&quot;text-align: left;&quot;&gt;&lt;br /&gt;&lt;/center&gt;&lt;center&gt;&lt;b&gt;&lt;br /&gt;&lt;/b&gt;&lt;/center&gt;&lt;center&gt;&lt;b&gt;Assistant Professor in Systematics&lt;/b&gt;&lt;/center&gt;&lt;br /&gt;&lt;br /&gt;Department of Biology&lt;br /&gt;University of Vermont&lt;br /&gt;Burlington, Vermont&lt;br /&gt;&lt;br /&gt;The Department of Biology of the University of Vermont seeks applications for a tenure- track Assistant Professor position in Systematics and Evolutionary Biology of arthropods, especially insects. The position will be open in the fall of 2012. The successful candidate will have expertise in classical and molecular systematics, including analysis of complex data sets. Candidates pursuing phylogenomics and innovative methods in bioinformatics in combination with taxonomy are especially encouraged to apply. Department information at:&lt;a href=&quot;http://www.uvm.edu/~biology/&quot; style=&quot;color: #0499fa; text-decoration: none;&quot;&gt;&amp;nbsp;http://www.uvm.edu/~biology/&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;All applicants are expected to: 1) hold a Ph.D. degree in relevant disciplines and have two or more years of postdoctoral experience; 2) develop a competitively funded research program; 3) teach undergraduate courses (chosen from among general biology, evolution, systematic entomology, and others in the candidate&amp;#39;s expertise); 4) teach, mentor and advise undergraduate and graduate students; and 5) oversee a natural history collection of historic significance.&lt;br /&gt;&lt;br /&gt;Candidates must apply online:&lt;a href=&quot;http://www.uvmjobs.com/&quot; style=&quot;color: #0499fa; text-decoration: none;&quot;&gt;&amp;nbsp;http://www.uvmjobs.com/&lt;/a&gt;. On left see &amp;quot;Search Postings&amp;quot; then find &amp;quot;Biology&amp;quot; under &amp;quot;HCM Department&amp;quot; then posting 0040090 (first posting). Sorry, but we cannot supply the direct link because it will time out.&lt;br /&gt;&lt;br /&gt;Attach a cover letter with a statement of research focus and teaching interests (one document), a curriculum vitae, representative publications, and the contact information of three references.&lt;br /&gt;&lt;br /&gt;Review of applications will begin on September 15, 2011, and will continue until the position is filled. Questions and up to three additional publications may be directed to Dr. Jos. J. Schall: jschall@uvm.edu.&lt;br /&gt;&lt;br /&gt;The University of Vermont recently identified several &amp;quot;Spires of Excellence&amp;quot; in which it will strategically focus institutional investments and growth over the next several years. One spire associated with the position is Complex Systems. Candidates whose research interests align with this spire are especially encouraged to apply&lt;a href=&quot;http://www.uvm.edu/~tri/&quot; style=&quot;color: #0499fa; text-decoration: none;&quot;&gt;http://www.uvm.edu/~tri/&lt;/a&gt;.&lt;br /&gt;The University seeks faculty who can contribute to the diversity and excellence of the academic community through their research, teaching, and/or service. Applicants are requested to include in their cover letter information about how they will further this goal. The University of Vermont is an Affirmative Action/Equal Opportunity employer. The Department is committed to increasing faculty diversity and welcomes applications from women, underrepresented ethnic, racial and cultural groups, and from people with disabilities.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Thursday at #ESA11</title>
   <link href="http://recology.info//2011/08/thursday-at-esa11/"/>
   <updated>2011-08-12T06:11:00-07:00</updated>
   <id>http://recology.info//2011/08/thursday-at-esa11</id>
   <content type="html">&lt;p&gt;Interesting talks/posters:&lt;div&gt;&lt;br /&gt;Richard Lankau presented research on trade-offs and competitive ability. He suggests that during range expansion selection for increased intraspecific competitive ability in older populations leads to loss of traits for interspecific competitive traits due to trade-offs between these traits. &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Ellner emphatically states that rapid evolution DOES matter for ecological responses, and longer-term evolutionary patterns as well. [His paper on the talk he was giving came out prior to his talk, which he pointed out, good form sir]&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Lauren Sullivan gave an interesting talk on bottom up and top down effects on plant reproduction in one site of a huge network of sites doing similar nutrient and herbivory manipulations around the globe - NutNet (go here: &lt;a href=&quot;http://nutnet.science.oregonstate.edu/&quot;&gt;http://nutnet.science.oregonstate.edu/&lt;/a&gt;). &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Laura Prugh shows in California that the engineering effects (i.e., the mounds that they make) of giant kangaroo rats are more important for the associated food web than the species interaction effects (the proxy used was just density of rats). &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Kristy Deiner suggests that chironomids are more phylogenetic similar in lakes with stocked fish relative to fishless lakes, in high elevation lakes in the Sierra Nevada. She used barcode data to generate her phylogeny of chironomids. If you have barcode data and want to search BOLD Systems site, one option is doing it from R using rbold, a package under development at &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt; (code at &lt;a href=&quot;https://github.com/sckott/rbold&quot;&gt;Github&lt;/a&gt;). &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Jessica Gurevitch presented a large working group&amp;#39;s methods/approach to a set of reviews on invasion biology. We didn&amp;#39;t get to see a lot of results from this work, but I personally was glad to see her explaining to a packed room the utility of meta-analysis, and comparing to the medical field in which meta-analysis is sort of the gold standard by which to draw conclusions. &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Following Jessica, Jason Fridley told us about the Evolutionary Imbalance Hypothesis (EIH) (see my notes &lt;a href=&quot;http://schamber.wordpress.com/lab-notebook-2/&quot;&gt;here&lt;/a&gt;). He posed the problem of, when two biotas come together, what determines which species are retained in this new community and which species are left out. He listed a litany of traits/responses to measure to get at this problem, but suggested that with a little bit of &amp;quot;desktop ecology&amp;quot;, we could simply ask: Is the invasability of X region related to the phylogenetic diversity of that region? In three destination regions (Eastern Deciduous Forests, Mediterranean California, and the Czech Republic) out of four there was a positive relationship between proportion of invasive plant species in a source region and the phylogenetic diversity of the source regions. &lt;ul&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Wednesday at #ESA11</title>
   <link href="http://recology.info//2011/08/wednesday-at-esa11/"/>
   <updated>2011-08-11T06:50:00-07:00</updated>
   <id>http://recology.info//2011/08/wednesday-at-esa11</id>
   <content type="html">&lt;p&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times, &#39;Times New Roman&#39;, serif;&quot;&gt;Interesting talks/posters:&lt;/span&gt;&lt;br /&gt;&lt;div&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times, &#39;Times New Roman&#39;, serif;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;li&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times, &#39;Times New Roman&#39;, serif;&quot;&gt;Ethan White&amp;#39;s poster describing &lt;a href=&quot;http://ecologicaldata.org/&quot;&gt;EcologicalData.org&lt;/a&gt; was of course awesome given my interest in getting data into the hands of ecologists over at &lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci.org&lt;/a&gt;. Ethan also has software you can download on your machine to get the datasets you want easily - &lt;a href=&quot;http://ecologicaldata.org/ecodata-retriever&quot;&gt;EcoData Retriever&lt;/a&gt;. [rOpenSci will try to take advantage of their work and allow you to call the retriever from R]&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times, &#39;Times New Roman&#39;, serif;&quot;&gt;Carl Boettiger&amp;#39;s talk was awesome. He explained how we need better tools to be able to predict collapses using early warning signals. He developed a way to estimate the statistical distribution of probabilities of system collapse.&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times, &#39;Times New Roman&#39;, serif;&quot;&gt;Jennifer Dunne: Explained how she put together an ancient network from Germany. Bravo.&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times, &#39;Times New Roman&#39;, serif;&quot;&gt;Carlos Melian explained his model of network buildup that starts from individuals, allows speciation, and other evolutionary processes.&amp;nbsp;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times, &#39;Times New Roman&#39;, serif;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;background-color: white;&quot;&gt;Rachel Winfree told us that in two sets of mutualistic plant-pollinator networks in New Jersey and California, that the least connected pollinator species were the most likely to be lost from the network with increasing agricultural intensity.&amp;nbsp;&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;li&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times, &#39;Times New Roman&#39;, serif;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;background-color: white;&quot;&gt;Dan Cariveau suggests that pollination crop services can be stabilized even with increasing agriculture intensity if in fact pollinator species respond in different ways. That is, some pollinators may decrease in abundance with increasing ag intensity, while other species may increase - retaining overall pollination services to crops.&lt;/span&gt;&lt;/span&gt;&lt;/li&gt;
&lt;/ul&gt;&lt;/div&gt;&lt;div&gt;&lt;ul&gt;&lt;/ul&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Monday at #ESA11</title>
   <link href="http://recology.info//2011/08/monday-at-esa11/"/>
   <updated>2011-08-08T20:17:00-07:00</updated>
   <id>http://recology.info//2011/08/monday-at-esa11</id>
   <content type="html">&lt;p&gt;Monday was a good day at ESA in Austin.&amp;nbsp;There were a few topics I promised to report on in my blogging/tweeting.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;...focused on open source data. &lt;a href=&quot;http://www.nceas.ucsb.edu/~strasser/Site/Home.html&quot;&gt;Carly Strasser&amp;#39;s&lt;/a&gt; presentation on guidelines for data management was awesome (including other talks in the symposium on Creating Effective Data Management Plans for Ecological Research). Although this was a good session, I can&amp;#39;t&amp;nbsp;help but wish that they had hammered home the need for open science more. Oh well. Also, they talked&amp;nbsp;a lot about how, and not a lot of why we should properly curate data. Still, a good session. One issue Carly and I talked about was tracking code in versioning systems such as &lt;a href=&quot;https://github.com/&quot;&gt;Github&lt;/a&gt;. There doesn&amp;#39;t seem to be a culture of versioning code for analyses/simulations in ecology. But when we get there...it will be easier to share/track/collaborate on &amp;nbsp;code.&lt;br /&gt;&lt;br /&gt;...used R software. &lt;a href=&quot;http://eco.confex.com/eco/2011/preliminaryprogram/abstract_31982.htm&quot;&gt;David Jennings&lt;/a&gt;&amp;nbsp;talked about a meta-analysis asking if phylogenetic distance influences competition strength in pairwise experiments. David used the metafor package in R to do his meta-analysis. Good form sir.&lt;br /&gt;&lt;br /&gt;...did cool science. &lt;a href=&quot;http://www.ecologicalevolution.org/people/former-lab-members/matthew-helmus/&quot;&gt;Matt Helmus &lt;/a&gt;presented a great talk on phylogenetic species area curves (likely using R, or Matlab maybe?).&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;p.s. &lt;a href=&quot;http://ropensci.org/developers/&quot;&gt;We&lt;/a&gt; launched &lt;a href=&quot;http://ropensci.org/2011/07/welcome-to-ropensci/&quot;&gt;rOpenSci&lt;/a&gt; today.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Oddities:&lt;br /&gt;&lt;ul&gt;&lt;li&gt;The Tilman effect - Tilman&amp;#39;s talk was so packed it looked like there was a line waiting to get into a trendy bar. &lt;a href=&quot;http://www.math.ualberta.ca/~ashander/images/til.jpg&quot;&gt;Here&amp;#39;s a picture&lt;/a&gt;&amp;nbsp;(credit: Jaime Ashander). Bigger room next time anyone?&amp;nbsp;&lt;/li&gt;
&lt;li&gt;Wiley came out with an open source journal called &lt;a href=&quot;http://onlinelibrary.wiley.com/journal/10.1002/(ISSN)2045-7758&quot;&gt;Ecology and Evolution&lt;/a&gt;. This brings them to 3 open source journals (the other two are in other fields). We (&lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt;) will attempt to hand-shake with these journals.&amp;nbsp; &lt;/li&gt;
&lt;li&gt;The vegetarian lunch option was surprisingly good. Nice.&amp;nbsp;&lt;/li&gt;
&lt;/ul&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>(#ESA11) rOpenSci: a collaborative effort to develop R-based tools for facilitating Open Science</title>
   <link href="http://recology.info//2011/08/esa11-ropensci-collaborative-effort-to_08/"/>
   <updated>2011-08-08T08:06:00-07:00</updated>
   <id>http://recology.info//2011/08/esa11-ropensci-collaborative-effort-to_08</id>
   <content type="html">&lt;p&gt;Our&amp;nbsp;&lt;a href=&quot;http://ropensci.org/developers/&quot;&gt;development team&lt;/a&gt;&amp;nbsp;would like to announce the launch of&amp;nbsp;&lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt;. As the title states, this project aims to create&amp;nbsp;&lt;a href=&quot;http://www.r-project.org/&quot;&gt;R&lt;/a&gt;&amp;nbsp;&lt;a href=&quot;http://cran.r-project.org/web/packages/available_packages_by_name.html&quot;&gt;packages&lt;/a&gt;&amp;nbsp;to make open science more available to researchers.&lt;br /&gt;&lt;br /&gt;&lt;table align=&quot;center&quot; cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;margin-left: auto; margin-right: auto; text-align: center;&quot;&gt;&lt;tbody&gt;
&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;http://1.bp.blogspot.com/-9YIk1e1liUU/Tj8YAoOPyQI/AAAAAAAAElQ/9gCMQ8CJORI/s1600/ropensci.png&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; src=&quot;http://1.bp.blogspot.com/-9YIk1e1liUU/Tj8YAoOPyQI/AAAAAAAAElQ/9gCMQ8CJORI/s1600/ropensci.png&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;font-size: 13px; text-align: center;&quot;&gt;&lt;a href=&quot;http://ropensci.org/&quot;&gt;http://ropensci.org/&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;
&lt;/tbody&gt;&lt;/table&gt;&lt;br /&gt;What this means is that we seek to connect researchers using R with as much open data as possible, mainly through APIs. There are a number of R packages that already do this (e.g.,&amp;nbsp;&lt;a href=&quot;http://cran.r-project.org/web/packages/infochimps/index.html&quot;&gt;infochimps&lt;/a&gt;,&amp;nbsp;&lt;a href=&quot;http://cran.r-project.org/web/packages/twitteR/index.html&quot;&gt;twitteR&lt;/a&gt;), but we are making more packages, e.g., for&amp;nbsp;&lt;a href=&quot;https://github.com/cboettig/RMendeley&quot;&gt;Mendeley&lt;/a&gt;,&amp;nbsp;&lt;a href=&quot;https://github.com/sckott/rplos&quot;&gt;PLoS Journals&lt;/a&gt;, and&amp;nbsp;&lt;a href=&quot;https://github.com/sckott/taxize_&quot;&gt;taxonomic sources&lt;/a&gt;&amp;nbsp;(&lt;a href=&quot;http://www.itis.gov/&quot;&gt;ITIS&lt;/a&gt;,&amp;nbsp;&lt;a href=&quot;http://www.eol.org/&quot;&gt;EOL&lt;/a&gt;,&amp;nbsp;&lt;a href=&quot;http://tnrs.iplantcollaborative.org/&quot;&gt;TNRS&lt;/a&gt;,&amp;nbsp;&lt;a href=&quot;http://www.phylodiversity.net/phylomatic/&quot;&gt;Phylomatic&lt;/a&gt;,&amp;nbsp;&lt;a href=&quot;http://www.ubio.org/&quot;&gt;UBio&lt;/a&gt;).&lt;br /&gt;&lt;br /&gt;Importantly, we are creating a package called&amp;nbsp;&lt;a href=&quot;http://ropensci.org/&quot;&gt;rOpenSci&lt;/a&gt;, which aims to integrate functions from packages for individual open data sources.&lt;br /&gt;&lt;br /&gt;If you are somewhat interested, follow our progress on our&amp;nbsp;&lt;a href=&quot;http://ropensci.org/&quot;&gt;website&lt;/a&gt;, on&amp;nbsp;&lt;a href=&quot;http://twitter.com/#!/rOpenSci&quot;&gt;Twitter&lt;/a&gt;, or&amp;nbsp;&lt;a href=&quot;http://ropensci.org/contact/&quot;&gt;contact us&lt;/a&gt;. If you are really^2 interested you could go to&amp;nbsp;&lt;a href=&quot;https://github.com/&quot;&gt;Github&lt;/a&gt;&amp;nbsp;and contribute. If &amp;nbsp;you are really^3 interested,&amp;nbsp;&lt;a href=&quot;http://ropensci.org/developers/&quot;&gt;join our development team&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Blogging/tweeting from #ESA11</title>
   <link href="http://recology.info//2011/07/bloggingtweeting-from-esa11/"/>
   <updated>2011-07-31T12:46:00-07:00</updated>
   <id>http://recology.info//2011/07/bloggingtweeting-from-esa11</id>
   <content type="html">&lt;p&gt;I will be blogging about the upcoming Ecological Society of America meeting in Austin, TX. I will focus on discussing talks/posters that:&lt;br /&gt;&lt;br /&gt;&lt;ol&gt;&lt;li&gt;Have taken a cool approach to using data, or&lt;/li&gt;&lt;li&gt;Have focused on open science/data, or&lt;/li&gt;&lt;li&gt;Done&amp;nbsp;something cool with R software, or&lt;/li&gt;&lt;li&gt;Are just exciting in general&lt;/li&gt;&lt;/ol&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;I will also tweet throughout the meeting from @recology_ (yes the underscore is part of the name, recology was already taken).&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;The hashtag for the meeting this year is #ESA11&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Models in Evolutionary Ecology seminar, organized by Timothee Poisot</title>
   <link href="http://recology.info//2011/07/models-in-evolutionary-ecology-seminar/"/>
   <updated>2011-07-18T05:27:00-07:00</updated>
   <id>http://recology.info//2011/07/models-in-evolutionary-ecology-seminar</id>
   <content type="html">&lt;p&gt;Here is one of the talks by Thomas Brouquet, and see the rest &lt;a href=&quot;http://www.dailymotion.com/playlist/x1mv7l_mez_en_video_cefe-colloque#videoId=xjylea&quot;&gt;here&lt;/a&gt;. &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;iframe frameborder=&quot;0&quot; height=&quot;270&quot; src=&quot;http://www.dailymotion.com/embed/video/xjylea&quot; width=&quot;480&quot;&gt;&lt;/iframe&gt;&lt;br /&gt;&lt;a href=&quot;http://www.dailymotion.com/video/xjylea_thomas-broquet_tech&quot; target=&quot;_blank&quot;&gt;Thomas Broquet&lt;/a&gt; &lt;i&gt;by &lt;a href=&quot;http://www.dailymotion.com/mez_en_video&quot; target=&quot;_blank&quot;&gt;mez&lt;em&gt;en&lt;/em&gt;video&lt;/a&gt;&lt;/i&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Archiving ecology/evolution data sets online</title>
   <link href="http://recology.info//2011/07/archiving-ecologyevolution-data-sets/"/>
   <updated>2011-07-15T19:02:00-07:00</updated>
   <id>http://recology.info//2011/07/archiving-ecologyevolution-data-sets</id>
   <content type="html">&lt;p&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Georgia, &#39;Times New Roman&#39;, &#39;Bitstream Charter&#39;, Times, serif; font-size: 13px; line-height: 19px;&quot;&gt;&lt;/span&gt;&lt;br /&gt;We now have many options for archiving data sets online:&lt;br /&gt;&lt;br /&gt;&lt;a data-mce-href=&quot;http://datadryad.org/&quot; href=&quot;http://datadryad.org/&quot; target=&quot;_blank&quot;&gt;Dryad&lt;/a&gt;,&amp;nbsp;&lt;a data-mce-href=&quot;http://knb.ecoinformatics.org/index.jsp&quot; href=&quot;http://knb.ecoinformatics.org/index.jsp&quot; target=&quot;_blank&quot;&gt;KNB&lt;/a&gt;,&amp;nbsp;&lt;a data-mce-href=&quot;http://www.esapubs.org/archive/&quot; href=&quot;http://www.esapubs.org/archive/&quot; target=&quot;_blank&quot;&gt;Ecological Archives&lt;/a&gt;,&amp;nbsp;&lt;a data-mce-href=&quot;http://www.esapubs.org/archive/archive_D.htm&quot; href=&quot;http://www.esapubs.org/archive/archive_D.htm&quot; target=&quot;_blank&quot;&gt;Ecology Data Papers&lt;/a&gt;,&amp;nbsp;&lt;a data-mce-href=&quot;http://ecologicaldata.org/&quot; href=&quot;http://ecologicaldata.org/&quot; target=&quot;_blank&quot;&gt;Ecological Data&lt;/a&gt;, etc.&lt;br /&gt;&lt;br /&gt;However, these portals largely do not communicate with one another as far as I know, and there is no way to search over all data set sources, again, as far as I know. So, I wonder if it would ease finding of all these&amp;nbsp;different data sets to get these different sites to get their data sets cloned on a site like Infochimps, or have links from Infochimps. &amp;nbsp;Infochimps already has APIs (and there&amp;#39;s an R wrapper for the Infochimps API already set up here: http://cran.r-project.org/web/packages/infochimps/index.html by Drew Conway), and they have discussions set up there, etc.&lt;br /&gt;&lt;br /&gt;Does it make sense to post data sets linked to published works on Infochimps? I think probably not know that I think about it. But perhaps it makes sense for other data sets, or subsets of data sets that are not linked with published works to be posted there as I know at least Dryad only accepts data sets linked with published papers.&lt;br /&gt;&lt;br /&gt;One use case is there was a tweet from someone recently that his students were excited about getting their data sets on their resume/CV, but didn&amp;#39;t think there was a way to put them any place where there wasn&amp;#39;t a precondition that the data set was linked with a published work. Seems like this&amp;nbsp;could be a good opportunity to place these datasets on Infcohimps, and at least they are available then where a lot of people are searching for data sets, etc.&lt;br /&gt;&lt;br /&gt;What I think would be ideal is if Dryad, KNB, etc. could link their datasets to Infochimps, where they could be found, then users can either get them from Infochimps, or perhaps you would have to go to the Dryad site, e.g. But at least you could search over all ecological data sets then.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>CRdata vs. Cloudnumbers</title>
   <link href="http://recology.info//2011/07/crdata-vs-cloudnumbers/"/>
   <updated>2011-07-14T06:31:00-07:00</updated>
   <id>http://recology.info//2011/07/crdata-vs-cloudnumbers</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.cloudnumbers.com/&quot;&gt;Cloudnumbers&lt;/a&gt; and &lt;a href=&quot;http://crdata.org/&quot;&gt;CRdata&lt;/a&gt; are two new cloud computing services.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;I tested the two services with a very simple script. The script simply creates a dataframe of 10000 numbers via rnorm, and assigns them to a factor of one of two levels (a or b). I then take the mean of the two factor levels with the aggregate function.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;In CRdata you need to put in some extra code to format the output in a browser window. For example, the last line below needs to have &amp;#39;&amp;lt;crdata&lt;em&gt;object&amp;gt;&amp;#39; on both sides of the output object so it can be rendered in a browser. And etc. for other things that one would print to a console. Whereas you don&amp;#39;t need this extra code for using Cloudnumbers.&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&amp;nbsp;&lt;br /&gt;dat &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/data.frame&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;n = &lt;a href=&quot;http://inside-r.org/r-doc/stats/rnorm&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rnorm&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;10000&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; p = &lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;#39;a&amp;#39;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;#39;b&amp;#39;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; each=&lt;span style=&quot;color: #cc66cc;&quot;&gt;5000&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;out &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/stats/aggregate&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;aggregate&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;n ~ p&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt; = dat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#&amp;lt;crdata&lt;/em&gt;object&amp;gt;out&amp;lt;/crdata_object&amp;gt;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;Here is a screenshot of the output from CRdata with the simple script above.&lt;br /&gt;&lt;img height=&quot;208&quot; src=&quot;http://f.cl.ly/items/1D090q2N0Y3a410W262V/Screen%20shot%202011-07-14%20at%208.04.33%20AM.png&quot; width=&quot;400&quot; /&gt;&lt;br /&gt;This simple script ran in about 20 seconds or so from starting the job to finishing. However, it seems like the only output option is html. Can this be right? This seems like a terrible only option.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;In Cloudnumbers you have to start a workspace, upload your R code file.&lt;br /&gt;Then, start a session...&lt;br /&gt;choose your software platform...&lt;br /&gt;choose packages (one at a time, very slow)...&lt;br /&gt;then choose number of clusters, etc.&lt;br /&gt;Then finally star the job.&lt;br /&gt;Then it initializes, then finally you can open the console, and&lt;br /&gt;Then from here it is like running R as you normally would, except on the web.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;u&gt;Who wins (at least for our very minimal example above)&lt;/u&gt;&lt;br /&gt;&lt;br /&gt;&lt;ol&gt;&lt;li&gt;Speed of entire process (not just running code): CRdata&lt;/li&gt;&lt;li&gt;Ease of use: CRdata&lt;/li&gt;&lt;li&gt;Cost: CRdata (free only)&lt;/li&gt;&lt;li&gt;Least annoying: Cloudnumbers (you don&amp;#39;t have to add in extra code to run your own code)&lt;/li&gt;&lt;li&gt;Opensource: CRdata (you can use publicly available code on the site)&lt;/li&gt;&lt;li&gt;Long-term use: Cloudnumbers (more powerful, flexible, etc.)&lt;/li&gt;&lt;/ol&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;I imagine Cloudnumbers could be faster for larger jobs, but you would have to pay for the speed of course.&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;What I really want to see is a cloud computing service that accepts code directly run from R or RStudio. Hmmm...that would be so tasty indeed. I think&lt;a href=&quot;http://cloudnumbers.zendesk.com/entries/20199198-using-an-external-terminal-ssh-console&quot;&gt; Cloudnumbers may be able to do this&lt;/a&gt;, but haven&amp;#39;t tested it yet.&amp;nbsp;&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Perhaps using the server version of RStudio along with Amazon&amp;#39;s EC2 is a better option than both of these. See Karthik Ram&amp;#39;s &lt;a href=&quot;http://inundata.org/2011/03/30/r-ec2-rstudio-server/&quot;&gt;post&lt;/a&gt; about using RStudio server along with Amazon&amp;#39;s EC2. Even just running RStudio server on your Unbuntu machine or virtual machine is a pretty cool option, even without EC2 (works like a charm on my Parallels Ubuntu vm on my Mac).&amp;nbsp;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>rbold: An R Interface for Bold Systems barcode repository</title>
   <link href="http://recology.info//2011/06/rbold-an-r-interface-for-bold-systems-barcode-repository/"/>
   <updated>2011-06-28T07:27:00-07:00</updated>
   <id>http://recology.info//2011/06/rbold-an-r-interface-for-bold-systems-barcode-repository</id>
   <content type="html">&lt;p&gt;Have you ever wanted to &lt;a href=&quot;http://services.boldsystems.org/index.php?page=1_esearch&amp;amp;status=&quot;&gt;search&lt;/a&gt; and &lt;a href=&quot;http://services.boldsystems.org/index.php?page=2_efetch&amp;amp;status=&quot;&gt;fetch&lt;/a&gt; barcode data from &lt;a href=&quot;http://www.boldsystems.org/views/login.php&quot;&gt;Bold Systems&lt;/a&gt;?&lt;br /&gt;&lt;br /&gt;I am developing functions to interface with Bold from R. I just started, but hopefully folks will find it useful.&lt;br /&gt;&lt;br /&gt;The code is at Github &lt;a href=&quot;https://github.com/ropensci/rbold&quot;&gt;here&lt;/a&gt;. The two functions are still very buggy, so please bring up issues below, or in the Issues area on Github. For example, some searches work and other similar searches don&amp;#39;t. Apologies in advance for the bugs.&lt;br /&gt;&lt;br /&gt;Below is a screenshot of an example query using function getsampleids to get barcode identifiers for specimens. You can then use getseqs function to grab barcode data for specific specimens or many specimens.&lt;br /&gt;&lt;img alt=&quot;Screen shot 2011-06-28 at 9.24.00 AM.png&quot; height=&quot;267&quot; src=&quot;http://cl.ly/1V1y1Q1A0t062F2y2308/Screen_shot_2011-06-28_at_9.24.00_AM.png&quot; width=&quot;400&quot; /&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>iEvoBio 2011 Synopsis</title>
   <link href="http://recology.info//2011/06/ievobio-2011-synopsis/"/>
   <updated>2011-06-22T19:38:00-07:00</updated>
   <id>http://recology.info//2011/06/ievobio-2011-synopsis</id>
   <content type="html">&lt;p&gt;We just wrapped up the &lt;a href=&quot;http://ievobio.org/&quot;&gt;2011 iEvoBio meeting&lt;/a&gt;. It was awesome! If you didn&amp;#39;t go this year or last year, definitely think about going next year.&lt;br /&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Here is a list of the cool projects that were discussed at the meeting (apologies if I left some out):&lt;/div&gt;&lt;div&gt;&lt;ol&gt;&lt;li&gt;&lt;a href=&quot;http://vistrails.org/index.php/Main_Page&quot;&gt;Vistrails&lt;/a&gt;: workflow tool, awesome project by Claudio Silva&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://www.commplish.com/&quot;&gt;Commplish&lt;/a&gt;: purpose is to use via API&amp;#39;s, not with the web UI&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://phylopic.org/&quot;&gt;Phylopic&lt;/a&gt;: a database of life-form silouhettes, including an API for remote access, sweet!&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://gloome.tau.ac.il/&quot;&gt;Gloome&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://www.mappinglife.org/&quot;&gt;MappingLife&lt;/a&gt;: awesome geographic/etc data visualization interace on the web&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://bioinfolab.unl.edu/~canderson/SuiteMSA/&quot;&gt;SuiteSMA&lt;/a&gt;: visualizating multiple alignments&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://github.com/cboettig/treeBASE&quot;&gt;treeBASE&lt;/a&gt;: R interface to treebase, by &lt;a href=&quot;http://www.carlboettiger.info/&quot;&gt;Carl Boettiger&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://vertnet.org/index.php&quot;&gt;VertNet&lt;/a&gt;: database for vertebrate natural history collections&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://sourceforge.net/projects/revbayes/&quot;&gt;RevBayes&lt;/a&gt;: revamp of MrBayes, with GUI, etc.&amp;nbsp;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;https://www.phenoscape.org/wiki/Main_Page&quot;&gt;Phenoscape Knowledge Base&lt;/a&gt;&lt;/li&gt;&lt;ul&gt;&lt;li&gt;Peter Midford lightning talk: talked about matching taxonomic and genetic data&lt;/li&gt;&lt;/ul&gt;&lt;li&gt;&lt;a href=&quot;http://biscicol.blogspot.com/p/biscicol-prototype.html&quot;&gt;BiSciCol&lt;/a&gt;: biological science collections tracker&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://www.ontogrator.org/&quot;&gt;Ontogrator&lt;/a&gt;&amp;nbsp;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://tnrs.iplantcollaborative.org/&quot;&gt;TNRS&lt;/a&gt;: taxonomic name resolution service&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://www.boldsystems.org/views/login.php&quot;&gt;Barcode of Life data systems&lt;/a&gt;, and &lt;a href=&quot;http://services.boldsystems.org/&quot;&gt;remote access&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://www.mooreabiocode.org/about&quot;&gt;Moorea Biocode Project&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://amarallab.mbl.edu/mirada/mirada.html&quot;&gt;Microbial LTER&amp;#39;s data&lt;/a&gt;&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://birdvis.org/&quot;&gt;BirdVis&lt;/a&gt;: interactive bird data visualization (Claudio Silva&amp;nbsp;in collaboration with Cornell Lab of Ornithology)&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://www.crowdlabs.org/&quot;&gt;Crowdlabs&lt;/a&gt;: I think the site is down right now, another project by Claudio Silva&lt;/li&gt;&lt;li&gt;&lt;a href=&quot;http://hydrodictyon.eeb.uconn.edu/projects/phycas/index.php/Phycas_Home&quot;&gt;Phycas&lt;/a&gt;: Bayesian phylogenetics, can you just call this from R?&lt;/li&gt;&lt;li&gt;RIP MrBayes!!!! replaced by RevBayes (see 9 above)&lt;/li&gt;&lt;li&gt;Slides of presentations will be at&amp;nbsp;&lt;a href=&quot;http://www.slideshare.net/event/ievobio11&quot;&gt;Slideshare&lt;/a&gt; (not all presentations up yet) &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp; &amp;nbsp;&lt;/li&gt;&lt;li&gt;A birds of a feather group I was involved in proposed an idea (TOL-o-matic) like Phylomatic, but of broader scope, for easy access and submission of trees, and perhaps even social (think just pushing a &amp;#39;SHARE&amp;#39; button within PAUP, RevBayes, or other phylogenetics software)!&amp;nbsp;&lt;/li&gt;&lt;li&gt;Synopses of Birds of a Feather discussion groups:&amp;nbsp;&lt;a href=&quot;http://piratepad.net/iEvoBio11-BoF-reportouts&quot;&gt;http://piratepad.net/iEvoBio11-BoF-reportouts&lt;/a&gt;&lt;/li&gt;&lt;/ol&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>PLoS journals API from R: "rplos"</title>
   <link href="http://recology.info//2011/06/plos-journals-api-from-r-rplos-/"/>
   <updated>2011-06-21T06:30:00-07:00</updated>
   <id>http://recology.info//2011/06/plos-journals-api-from-r-rplos-</id>
   <content type="html">&lt;p&gt;The Public Libraries of Science (PLOS) has an API so&amp;nbsp;that developers can create cool tools to access their data (including full text papers!!).&lt;br /&gt;&lt;br /&gt;Carl Boettiger at UC Davis and I are working on R functions that use the PLoS API. See our code on Github &lt;a href=&quot;https://github.com/ropensci/rplos&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: red;&quot;&gt;here&lt;/span&gt;&lt;/a&gt;. See the wiki at the Github page for examples of use. We hope to deploy rplos as a package someday soon. Please feel free to suggest changes/additions rplos in the comments below or on the Github/rplos site.&lt;br /&gt;&lt;br /&gt;Get your own API key &lt;a href=&quot;http://api.plos.org/&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: red;&quot;&gt;here&lt;/span&gt;&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>ggplot2 talk by Hadley Whickam at Google</title>
   <link href="http://recology.info//2011/06/ggplot2-talk-by-hadley-whickam-at-google/"/>
   <updated>2011-06-17T09:40:00-07:00</updated>
   <id>http://recology.info//2011/06/ggplot2-talk-by-hadley-whickam-at-google</id>
   <content type="html">&lt;iframe allowfullscreen=&quot;&quot; frameborder=&quot;0&quot; height=&quot;349&quot; src=&quot;http://www.youtube.com/embed/TaxJwC_MP9Q&quot; width=&quot;560&quot;&gt;&lt;/iframe&gt;
</content>
 </entry>
 
 <entry>
   <title>OpenStates from R via API: watch your elected representatives</title>
   <link href="http://recology.info//2011/06/openstates-from-r-via-api-watch-your-elected-representatives/"/>
   <updated>2011-06-10T21:19:00-07:00</updated>
   <id>http://recology.info//2011/06/openstates-from-r-via-api-watch-your-elected-representatives</id>
   <content type="html">&lt;p&gt;I am writing some functions to acquire data from the &lt;a href=&quot;http://openstates.sunlightlabs.com/&quot;&gt;OpenStates project,&lt;/a&gt;&amp;nbsp;via &lt;a href=&quot;http://openstates.sunlightlabs.com/api/&quot;&gt;their API&lt;/a&gt;. They have &lt;a href=&quot;http://groups.google.com/group/fifty-state-project&quot;&gt;a great support community&lt;/a&gt; at Google Groups as well.&lt;br /&gt;&lt;br /&gt;On its face this post is not obviously about ecology or evolution, but well, our elected representatives do, so to speak, hold our environment in a noose, ready to let the Earth hang any day.&lt;br /&gt;&lt;br /&gt;Code &lt;a href=&quot;https://SChamberlain@github.com/SChamberlain/ropstates.git&quot;&gt;I am developing is over at Github&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;Here is an example of its use in R, in this case using the Bill Search option (billsearch.R on my Github site), and in this case you do not provide your API key in the function call, but instead put it in your .Rprofile file, which is called when you open R. We are searching here for the term &amp;#39;agriculture&amp;#39; in Texas (&amp;#39;tx&amp;#39;), in the &amp;#39;upper&amp;#39; chamber.&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&amp;gt; temp &amp;lt;- billsearch&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;#39;agriculture&amp;#39;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/datasets/state&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;state&lt;/span&gt;&lt;/a&gt; = &lt;span style=&quot;color: blue;&quot;&gt;&amp;#39;tx&amp;#39;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; chamber = &lt;span style=&quot;color: blue;&quot;&gt;&amp;#39;upper&amp;#39;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&amp;gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;temp&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;21&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&amp;gt; temp&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;br /&gt;$title&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;Congratulating John C. Padalino of El Paso for being appointed to the United States Department of Agriculture.&amp;quot;&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;$created&lt;em&gt;at&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;2010-08-11 07:59:46&amp;quot;&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;$updated&lt;/em&gt;at&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;2010-09-02 03:34:39&amp;quot;&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;$chamber&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;upper&amp;quot;&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;$state&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;tx&amp;quot;&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;$session&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;81&amp;quot;&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;$type&lt;br /&gt;$type&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;resolution&amp;quot;&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;$subjects&lt;br /&gt;$subjects&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;Resolutions&amp;quot;&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;$subjects&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;Other&amp;quot;&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;$bill&lt;em&gt;id&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;SR 1042&amp;quot;&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Apparently, the first bill (SR 2042, see $bill&lt;/em&gt;id at the bottom of the list output) that came up was to congratulate John Paladino for being appointed to the USDA.&lt;br /&gt;&lt;br /&gt;The other function I have ready is getting basic metadata on a state, called statemetasearch.&lt;br /&gt;&lt;br /&gt;I plan to develop more functions for all the possible API calls to the OpenStates project.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Just turned on 'mobile template' for this blog, let me know if it works</title>
   <link href="http://recology.info//2011/06/just-turned-on-mobile-template-for-this-blog-let-me-know-if-it-works/"/>
   <updated>2011-06-09T10:50:00-07:00</updated>
   <id>http://recology.info//2011/06/just-turned-on-mobile-template-for-this-blog-let-me-know-if-it-works</id>
   <content type="html">&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://f.cl.ly/items/0V2S0T1k3X3G2p0W2p1e/Screen%20shot%202011-06-09%20at%2012.49.15%20PM.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;161&quot; src=&quot;http://f.cl.ly/items/0V2S0T1k3X3G2p0W2p1e/Screen%20shot%202011-06-09%20at%2012.49.15%20PM.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>> 10,000 visits to Recology!!!!</title>
   <link href="http://recology.info//2011/06/10000-visits-to-my-recology/"/>
   <updated>2011-06-09T10:09:00-07:00</updated>
   <id>http://recology.info//2011/06/10000-visits-to-my-recology</id>
   <content type="html">&lt;p&gt;Thanks so much everyone for stopping by!&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://f.cl.ly/items/3m2g3b3r2o1b1k1b3x27/Screen%20shot%202011-06-09%20at%2012.07.33%20PM.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;337&quot; src=&quot;http://f.cl.ly/items/3m2g3b3r2o1b1k1b3x27/Screen%20shot%202011-06-09%20at%2012.07.33%20PM.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>How to fit power laws</title>
   <link href="http://recology.info//2011/06/how-to-fit-power-laws/"/>
   <updated>2011-06-07T13:24:00-07:00</updated>
   <id>http://recology.info//2011/06/how-to-fit-power-laws</id>
   <content type="html">&lt;p&gt;A new paper out in Ecology by Xiao and colleagues (in press, &lt;a href=&quot;http://www.esajournals.org/doi/abs/10.1890/11-0538.1&quot;&gt;here&lt;/a&gt;) compares the use of log-transformation to non-linear regression for analyzing power-laws.&lt;br /&gt;&lt;br /&gt;They suggest that the error distribution should determine which method performs better. When your errors are additive, homoscedastic, and normally distributed, they propose using non-linear regression. When errors are multiplicative, heteroscedastic, and lognormally distributed, they suggest using linear regression on log-transformed data. The assumptions about these two methods are different, so cannot be correct for a single dataset.&lt;br /&gt;&lt;br /&gt;They will provide their R code for their methods once they are up on Ecological Archives (they weren&amp;#39;t up there by the time of this post).&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>searching ITIS and fetching Phylomatic trees</title>
   <link href="http://recology.info//2011/06/searching-itis-and-fetching-phylomatic-trees/"/>
   <updated>2011-06-03T15:35:00-07:00</updated>
   <id>http://recology.info//2011/06/searching-itis-and-fetching-phylomatic-trees</id>
   <content type="html">&lt;p&gt;I am writing a set of functions to search&amp;nbsp;ITIS for taxonomic information (more databases to come) and functions to fetch plant phylogenetic trees from Phylomatic. &lt;a href=&quot;https://github.com/sckott/taxize_&quot;&gt;Code at github&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;Also, see the examples in the demos folder on the Github site above.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;script src=&quot;https://gist.github.com/1007288.js?file=taxize_example.R&quot;&gt;&lt;/script&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://1.bp.blogspot.com/-rcw5OIf3Hak/Telhj896L0I/AAAAAAAAEh4/p6GhpNRW6IA/s1600/examplephylogenyplot.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;http://1.bp.blogspot.com/-rcw5OIf3Hak/Telhj896L0I/AAAAAAAAEh4/p6GhpNRW6IA/s400/examplephylogenyplot.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>phylogenetic signal simulations</title>
   <link href="http://recology.info//2011/05/phylogenetic-signal-simulations/"/>
   <updated>2011-05-18T06:13:00-07:00</updated>
   <id>http://recology.info//2011/05/phylogenetic-signal-simulations</id>
   <content type="html">&lt;p&gt;I did a little simulation to examine how K and lambda vary in response to tree size (and how they compare to each other on the same simulated trees). I use Liam Revell&amp;#39;s functions fastBM to generate traits, and phylosig to measure phylogenetic signal.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Two observations:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;First, it seems that lambda is more sensitive than K to tree size, but then lambda levels out at about 40 species, whereas K continues to vary around a mean of 1.&lt;/li&gt;
&lt;li&gt;Second, K is more variable than lambda at all levels of tree size (compare standard error bars).&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Does this make sense to those smart folks out there?
&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;script src=&quot;https://gist.github.com/977999.js?file=phylogeneticsignal_sim.R&quot;&gt;&lt;/script&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://4.bp.blogspot.com/-hY0LQNsBzWc/TdNOJFMZzkI/AAAAAAAAEcg/SYeSCgUfyOY/s400/physig_sim.jpeg&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>A simple function for plotting phylogenies in ggplot2</title>
   <link href="http://recology.info//2011/05/simple-function-for-plotting/"/>
   <updated>2011-05-17T12:37:00-07:00</updated>
   <id>http://recology.info//2011/05/simple-function-for-plotting</id>
   <content type="html">&lt;p&gt;UPDATE: Greg jordan has a much more elegant way of plotting trees with ggplot2. See his links in the comments below.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;I wrote a simple function for plotting a phylogeny in ggplot2. However, it only handles a 3 species tree right now, as I haven&amp;#39;t figured out how to generalize the approach to N species.&lt;br /&gt;&lt;br /&gt;Any ideas on how to improve this?&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;script src=&quot;https://gist.github.com/977207.js?file=ggtree_v1.R&quot;&gt;&lt;/script&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>plyr's idata.frame VS. data.frame</title>
   <link href="http://recology.info//2011/05/plyrs-idataframe-vs-dataframe/"/>
   <updated>2011-05-13T13:16:00-07:00</updated>
   <id>http://recology.info//2011/05/plyrs-idataframe-vs-dataframe</id>
   <content type="html">&lt;hr&gt;

&lt;p&gt;I had seen the function idata.frame in plyr before, but not really tested it. From the plyr documentation: &lt;/p&gt;

&lt;blockquote&gt;
&lt;p&gt;&lt;em&gt;&amp;quot;An immutable data frame works like an ordinary data frame, except that when you subset it, it returns a reference to the original data frame, not a a copy. This makes subsetting substantially faster and has a big impact when you are working with large datasets with many groups.&amp;quot;&lt;/em&gt;&lt;/p&gt;
&lt;/blockquote&gt;

&lt;p&gt;For example, although baseball is a data.frame, its immutable counterpart is a reference to it:&lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; idata.frame&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;baseball&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;o&quot;&gt;&amp;lt;&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;environment&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt; &lt;span class=&quot;mh&quot;&gt;0x1022c74e8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;attr&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(,&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;class&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;idf&amp;quot;&lt;/span&gt;         &lt;span class=&quot;s&quot;&gt;&amp;quot;environment&amp;quot;&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;Here are a few comparisons of operations on normal data frames and immutable data frames. Immutable data frames don&amp;#39;t work with the doBy package, but do work with aggregate in base functions. &amp;nbsp;Overall, the speed gains using idata.frame are quite impressive - I will use it more often for sure.&lt;/p&gt;

&lt;p&gt;Here&amp;#39;s the comparisons of idata.frames and data.frames:&lt;/p&gt;

&lt;hr&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# load packages&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plyr&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;reshape2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;

&lt;span class=&quot;c1&quot;&gt;# Make immutable data frame&lt;/span&gt;
baseball_i &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; idata.frame&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;baseball&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Example 1 - idata.frame more than twice as fast&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; ddply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;baseball&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;year&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; summarise&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;mean&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rbi&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;user  system elapsed 
  8.509   0.266   8.798&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; ddply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;baseball_i&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;year&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; summarise&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;mean&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rbi&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;user  system elapsed 
  7.233   0.025   7.334&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Example 2 - Bummer, this does not work with idata.frame&amp;#39;s&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;colwise&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;is.numeric&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)(&lt;/span&gt;baseball&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# works&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;year stint   g  ab   r   h X2b X3b hr rbi sb cs  bb so ibb hbp sh sf
1 2007     4 165 705 177 257  64  28 73  NA NA NA 232 NA  NA  NA NA NA
  gidp
1   NA&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;colwise&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;max&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;is.numeric&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)(&lt;/span&gt;baseball_i&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# doesn&amp;#39;t work&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Error: is.data.frame(df) is not TRUE&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Example 3 - idata.frame twice as fast&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; baseball&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;baseball&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;year &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;1884&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;user  system elapsed 
  1.329   0.035   1.378&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; baseball_i&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;baseball_i&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;year &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;1884&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;user  system elapsed 
  0.674   0.015   0.689&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;Example 4 - idata.frame faster&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; melt&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;baseball&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; id &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;user  system elapsed 
  7.129   0.506   7.691&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;50&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; melt&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;baseball_i&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; id &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;user  system elapsed 
  0.852   0.162   1.015&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;And you can go back to a data frame by&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;d &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;baseball_i&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
str&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;d&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;&amp;#39;data.frame&amp;#39;: 21699 obs. of  22 variables:
 $ id   : chr  &amp;quot;ansonca01&amp;quot; &amp;quot;forceda01&amp;quot; &amp;quot;mathebo01&amp;quot; &amp;quot;startjo01&amp;quot; ...
 $ year : int  1871 1871 1871 1871 1871 1871 1871 1872 1872 1872 ...
 $ stint: int  1 1 1 1 1 1 1 1 1 1 ...
 $ team : chr  &amp;quot;RC1&amp;quot; &amp;quot;WS3&amp;quot; &amp;quot;FW1&amp;quot; &amp;quot;NY2&amp;quot; ...
 $ lg   : chr  &amp;quot;&amp;quot; &amp;quot;&amp;quot; &amp;quot;&amp;quot; &amp;quot;&amp;quot; ...
 $ g    : int  25 32 19 33 29 29 29 46 37 25 ...
 $ ab   : int  120 162 89 161 128 146 145 217 174 130 ...
 $ r    : int  29 45 15 35 35 40 36 60 26 40 ...
 $ h    : int  39 45 24 58 45 47 37 90 46 53 ...
 $ X2b  : int  11 9 3 5 3 6 5 10 3 11 ...
 $ X3b  : int  3 4 1 1 7 5 7 7 0 0 ...
 $ hr   : int  0 0 0 1 3 1 2 0 0 0 ...
 $ rbi  : int  16 29 10 34 23 21 23 50 15 16 ...
 $ sb   : int  6 8 2 4 3 2 2 6 0 2 ...
 $ cs   : int  2 0 1 2 1 2 2 6 1 2 ...
 $ bb   : int  2 4 2 3 1 4 9 16 1 1 ...
 $ so   : int  1 0 0 0 0 1 1 3 1 0 ...
 $ ibb  : int  NA NA NA NA NA NA NA NA NA NA ...
 $ hbp  : int  NA NA NA NA NA NA NA NA NA NA ...
 $ sh   : int  NA NA NA NA NA NA NA NA NA NA ...
 $ sf   : int  NA NA NA NA NA NA NA NA NA NA ...
 $ gidp : int  NA NA NA NA NA NA NA NA NA NA ...&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;idata.frame doesn&amp;#39;t work with the doBy package&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kn&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;doBy&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
summaryBy&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rbi &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt; year&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; baseball_i&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; FUN &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;mean&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; na.rm &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;bp&quot;&gt;T&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;Error: cannot coerce type &amp;#39;environment&amp;#39; to vector of type &amp;#39;any&amp;#39;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;h3&gt;But idata.frame works with aggregate in base (but with minimal speed gains) and aggregate is faster than ddply&lt;/h3&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aggregate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rbi &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt; year&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; baseball&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;mean&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;user  system elapsed 
  4.998   0.346   5.373&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aggregate&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rbi &lt;span class=&quot;o&quot;&gt;~&lt;/span&gt; year&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; baseball_i&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;mean&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;user  system elapsed 
  4.745   0.283   5.045&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;kp&quot;&gt;system.time&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;replicate&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; ddply&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;baseball_i&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;year&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; summarise&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;mean&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rbi&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-text&quot; data-lang=&quot;text&quot;&gt;user  system elapsed 
 13.293   0.042  13.428&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>google reader</title>
   <link href="http://recology.info//2011/05/google-reader/"/>
   <updated>2011-05-12T11:10:00-07:00</updated>
   <id>http://recology.info//2011/05/google-reader</id>
   <content type="html">&lt;p&gt;I just realized that the gists code blocks don&amp;#39;t show up in Google Reader, so you have to click the link to my blog to see the gists. Apologies for that!&lt;br /&gt;&lt;br /&gt;-S&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Comparison of functions for comparative phylogenetics</title>
   <link href="http://recology.info//2011/05/comparison-of-functions-for-comparative-phylogenetics/"/>
   <updated>2011-05-11T08:08:00-07:00</updated>
   <id>http://recology.info//2011/05/comparison-of-functions-for-comparative-phylogenetics</id>
   <content type="html">&lt;p&gt;With all the packages (and beta stage groups of functions) for comparative phylogenetics in R (tested here: picante, geiger, ape, motmot, Liam Revell&amp;#39;s functions), I was simply interested in which functions to use in cases where multiple functions exist to do the same thing. I only show default settings, so perhaps these functions would differ under different parameter settings. &amp;nbsp;[I am using a Mac 2.4 GHz i5, 4GB RAM]&lt;br /&gt;&lt;br /&gt;Get motmot here:&amp;nbsp;&lt;a href=&quot;https://r-forge.r-project.org/R/?group_id=782&quot;&gt;https://r-forge.r-project.org/R/?group_id=782&lt;/a&gt;&lt;br /&gt;Get Liam Revell&amp;#39;s functions here:&amp;nbsp;&lt;a href=&quot;http://anolis.oeb.harvard.edu/~liam/R-phylogenetics/&quot;&gt;http://anolis.oeb.harvard.edu/~liam/R-phylogenetics/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/3600585.js?file=comparfxn.r&quot;&gt;&lt;/script&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;It&amp;#39;s hard to pick an overall winner because not all functions are available in all packages, but there are definitely some functions that are faster than others.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>RHIPE package in R for interfacing between Hadoop and R</title>
   <link href="http://recology.info//2011/05/rhipe-package-in-r-for-interfacing-between-hadoop-and-r/"/>
   <updated>2011-05-04T17:11:00-07:00</updated>
   <id>http://recology.info//2011/05/rhipe-package-in-r-for-interfacing-between-hadoop-and-r</id>
   <content type="html">&lt;p&gt;&lt;div&gt;&lt;strong&gt;&lt;a href=&quot;http://www.lecturemaker.com/2011/02/rhipe/#video&quot; title=&quot;Click link to go to the video page&quot;&gt;RHIPE: An Interface Between Hadoop and R&lt;/a&gt;&lt;/strong&gt;&lt;br /&gt;Presented by Saptarshi Guha&lt;/div&gt;&lt;a href=&quot;http://www.lecturemaker.com/2011/02/rhipe/#video&quot;&gt;&lt;img alt=&quot;Video Link&quot; border=&quot;0&quot; height=&quot;169&quot; src=&quot;http://www.lecturemaker.com/lectures/RMeetUp2010/RHIPE_Lecture.jpg&quot; title=&quot;Click image to go to the video page&quot; width=&quot;300&quot; /&gt;&lt;/a&gt;          &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;And &lt;a href=&quot;http://blog.piccolboni.info/2011/04/looking-for-map-reduce-language.html&quot;&gt;this review&lt;/a&gt; of methods for interfacing with Hadoop suggests R&amp;#39;s RHIPE is quite nice.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Treebase trees from R</title>
   <link href="http://recology.info//2011/05/treebase-trees-from-r/"/>
   <updated>2011-05-03T08:00:00-07:00</updated>
   <id>http://recology.info//2011/05/treebase-trees-from-r</id>
   <content type="html">&lt;p&gt;UPDATE: See Carl Boettiger&amp;#39;s functions/package at Github for searching Treebase &lt;a href=&quot;https://github.com/ropensci/treeBASE&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Treebase is a great resource for phylogenetic trees, and has a nice interface for searching for certain types of trees. However, if you want to simply download a lot of trees for analyses (like that in &lt;a href=&quot;http://biology.mcgill.ca/faculty/davies/pdfs/Davies_etal_Evolution_2011.pdf&quot;&gt;Davies et al.&lt;/a&gt;), then you want to be able to access trees in bulk (I believe Treebase folks are working on an API though). I wrote some simple code for extracting trees from &lt;a href=&quot;http://treebase.org/&quot;&gt;Treebase.org&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;It reads an xml file of (in this case consensus) URL&amp;#39;s for each tree, parses the xml, makes a vector of URL&amp;#39;s, reads the nexus files with error checking, remove trees that gave errors, then a simple plot looking at metrics of the trees.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;Is there an easier way to do this?&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/953468.js?file=treebase_code.R&quot;&gt;&lt;/script&gt;

&lt;p&gt;&lt;br /&gt;&lt;/p&gt;

&lt;p&gt;&lt;img src=&quot;http://2.bp.blogspot.com/-AaMexPVCreo/TcAW171ZBaI/AAAAAAAAEbc/bDafe7YgGcw/s320/sampetreebaseplot.png&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Processing nested lists</title>
   <link href="http://recology.info//2011/04/processing-nested-lists/"/>
   <updated>2011-04-28T15:41:00-07:00</updated>
   <id>http://recology.info//2011/04/processing-nested-lists</id>
   <content type="html">&lt;p&gt;So perhaps you have all figured this out already, but I was excited to figure out how to finally neatly get all the data frames, lists, vectors, etc. out of a nested list. It is as easy as nesting calls to the apply family of functions, in the case below, using plyr&amp;#39;s apply like functions. Take this example:&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot;&gt;&lt;span style=&quot;color: #666666; font-family: monospace; font-style: italic;&quot;&gt;# Nested lists code, an example&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: monospace; font-style: italic;&quot;&gt;# Make a nested list&lt;/span&gt;&lt;br /&gt;mylist &lt;span style=&quot;font-family: monospace;&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/list&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;list&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;mylist_ &lt;span style=&quot;font-family: monospace;&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/list&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;list&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: black; font-family: monospace; font-weight: bold;&quot;&gt;for&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;(&lt;/span&gt;i &lt;span style=&quot;color: black; font-family: monospace; font-weight: bold;&quot;&gt;in&lt;/span&gt; &lt;span style=&quot;color: #cc66cc; font-family: monospace;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;font-family: monospace;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #cc66cc; font-family: monospace;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;{&lt;/span&gt;&lt;br /&gt; &lt;span style=&quot;color: black; font-family: monospace; font-weight: bold;&quot;&gt;for&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;(&lt;/span&gt;j &lt;span style=&quot;color: black; font-family: monospace; font-weight: bold;&quot;&gt;in&lt;/span&gt; &lt;span style=&quot;color: #cc66cc; font-family: monospace;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;font-family: monospace;&quot;&gt;:&lt;/span&gt;&lt;span style=&quot;color: #cc66cc; font-family: monospace;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;{&lt;/span&gt;&lt;br /&gt;  mylist&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;[&lt;/span&gt;j&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;font-family: monospace;&quot;&gt;&amp;lt;-&lt;/span&gt; i&lt;span style=&quot;font-family: monospace;&quot;&gt;*&lt;/span&gt;j&lt;br /&gt; &lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;}&lt;/span&gt;&lt;br /&gt;mylist&lt;em&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;[&lt;/span&gt;i&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;]&lt;/span&gt; &lt;span style=&quot;font-family: monospace;&quot;&gt;&amp;lt;-&lt;/span&gt; mylist&lt;br /&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: monospace; font-style: italic;&quot;&gt;# return values from first part of list&lt;/span&gt;&lt;br /&gt;laply&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;(&lt;/span&gt;mylist&lt;/em&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc; font-family: monospace;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933; font-family: monospace;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/identity&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;identity&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;[1] 1 2 3 4 5&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot;&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-family: monospace; font-style: italic;&quot;&gt;# return all values&lt;/span&gt;&lt;br /&gt;laply&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;(&lt;/span&gt;mylist&lt;em&gt;&lt;span style=&quot;color: #339933; font-family: monospace;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/function&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;)&lt;/span&gt; laply&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #339933; font-family: monospace;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/identity&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;identity&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;     1  2  3  4  5&lt;br /&gt;[1,] 1  2  3  4  5&lt;br /&gt;[2,] 2  4  6  8 10&lt;br /&gt;[3,] 3  6  9 12 15&lt;br /&gt;[4,] 4  8 12 16 20&lt;br /&gt;[5,] 5 10 15 20 25&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# perform some function, in this case sqrt of each value&lt;/span&gt;&lt;br /&gt;laply&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;mylist&lt;/em&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/function&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; laply&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/function&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/sqrt&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;sqrt&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot;&gt;&lt;span style=&quot;color: #009900;&quot;&gt;  &lt;/span&gt;&lt;br /&gt;        1        2        3        4        5&lt;br /&gt;[1,] 1.000000 1.414214 1.732051 2.000000 2.236068&lt;br /&gt;[2,] 1.414214 2.000000 2.449490 2.828427 3.162278&lt;br /&gt;[3,] 1.732051 2.449490 3.000000 3.464102 3.872983&lt;br /&gt;[4,] 2.000000 2.828427 3.464102 4.000000 4.472136&lt;br /&gt;[5,] 2.236068 3.162278 3.872983 4.472136 5.000000&lt;br /&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Running Phylip's contrast application for trait pairs from R</title>
   <link href="http://recology.info//2011/04/running-phylip-s-contrast-application-for-trait-pairs-from-r/"/>
   <updated>2011-04-26T05:40:00-07:00</updated>
   <id>http://recology.info//2011/04/running-phylip-s-contrast-application-for-trait-pairs-from-r</id>
   <content type="html">&lt;p&gt;Here is some code to run Phylip&amp;#39;s contrast application from R and get the output within R to easily manipulate yourself. Importantly, the code is written specifically for trait pairs only as the regular expression work in the code specifically grabs data from contast results when only two traits are input. You could easily change the code to do N traits. Note that the p-value calculated for the chi-square statistic is not output from contrast, but is calculated within the function &amp;#39;PhylipWithinSpContr&amp;#39;. In the code below there are two functions that make&amp;nbsp;a lot of busy work easier: &amp;#39;WritePhylip&amp;#39; and&amp;nbsp;&amp;#39;PhylipWithinSpContr&amp;#39;. The first function is nice because the formatting required for data input to Phylip programs is so, well, awkward &amp;nbsp;- and this function does it for you. The second function runs contrast and retrieves the output data. The example data set I produce in the code below has multiple individuals per species, so that contrasts are calculated taking into account within species variation. Get Phylip&amp;#39;s contrast documentation &lt;a href=&quot;http://evolution.genetics.washington.edu/phylip/doc/contrast.html&quot;&gt;here&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;Note that the data input format allows only 10 characters for the species name, so I suggest if your species names are longer than 10 characters use the function abbreviate, for example, to shorten all names to no longer than 10 characters. Also, within the function WritePhylip I concatenate species names and their number of individuals per species leaving plenty of space.&lt;br /&gt;&lt;br /&gt;Also, mess around with the options in the &amp;quot;system&amp;quot; call to get what you want. For example, I used &amp;quot;R&amp;quot;, &amp;quot;W&amp;quot; and &amp;quot;Y&amp;quot;, meaning replace old outfile (R), then turn on within species analyses (W), then accept all options (Y). E..g, if you don&amp;#39;t have an old outfile, then you obviously don&amp;#39;t need to replace the old file with the &amp;quot;R&amp;quot; command.&lt;br /&gt;&lt;br /&gt;(p.s. I have not tried this on a windows machine).&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;script src=&quot;https://gist.github.com/942176.js?file=phylip_fromR.R&quot;&gt;&lt;/script&gt;&lt;br /&gt;&lt;br /&gt;Here is example output:&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Monaco; font-size: 12px; line-height: 17px; white-space: pre-wrap;&quot;&gt;&lt;/span&gt;&lt;br /&gt;&lt;pre class=&quot;G1dpdwhmFL&quot; style=&quot;border-bottom-style: none; border-color: initial; border-left-style: none; border-right-style: none; border-top-style: none; border-width: initial; font-family: Monaco; font-size: 9pt !important; line-height: 1.45; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; outline-color: initial; outline-style: none; outline-width: initial; white-space: pre-wrap !important;&quot; tabindex=&quot;0&quot;&gt;&lt;span class=&quot;G1dpdwhmIL  ace_keyword&quot; style=&quot;white-space: pre;&quot;&gt;&amp;gt; &lt;/span&gt;&lt;span class=&quot;G1dpdwhmMK  ace_keyword&quot;&gt;datout&lt;br /&gt;&lt;/span&gt;               names2   dat...1.    dat...2.&lt;br /&gt;1      VarAIn&lt;em&gt;VarAest   0.000110   -0.000017&lt;br /&gt;2      VarAIn&lt;/em&gt;VarAest  -0.000017    0.000155&lt;br /&gt;3      VarAIn&lt;em&gt;VarEest   0.790783   -0.063097&lt;br /&gt;4      VarAIn&lt;/em&gt;VarEest  -0.063097    0.981216&lt;br /&gt;5      VarAIn&lt;em&gt;VarAreg   1.000000   -0.107200&lt;br /&gt;6      VarAIn&lt;/em&gt;VarAreg  -0.151800    1.000000&lt;br /&gt;7     VarAIn&lt;em&gt;VarAcorr   1.000000   -0.127600&lt;br /&gt;8     VarAIn&lt;/em&gt;VarAcorr  -0.127600    1.000000&lt;br /&gt;9      VarAIn&lt;em&gt;VarEreg   1.000000   -0.064300&lt;br /&gt;10     VarAIn&lt;/em&gt;VarEreg  -0.079800    1.000000&lt;br /&gt;11    VarAIn&lt;em&gt;VarEcorr   1.000000   -0.071600&lt;br /&gt;12    VarAIn&lt;/em&gt;VarEcorr  -0.071600    1.000000&lt;br /&gt;13    VarAOut&lt;em&gt;VarEest   0.790734   -0.063104&lt;br /&gt;14    VarAOut&lt;/em&gt;VarEest  -0.063104    0.981169&lt;br /&gt;15    VarAOut&lt;em&gt;VarEreg   1.000000   -0.064300&lt;br /&gt;16    VarAOut&lt;/em&gt;VarEreg  -0.079800    1.000000&lt;br /&gt;17   VarAOut&lt;em&gt;VarEcorr   1.000000   -0.071600&lt;br /&gt;18   VarAOut&lt;/em&gt;VarEcorr  -0.071600    1.000000&lt;br /&gt;19    logL&lt;em&gt;withvar&lt;/em&gt;df -68.779770    6.000000&lt;br /&gt;20 logL&lt;em&gt;withoutvar&lt;/em&gt;df -68.771450    3.000000&lt;br /&gt;21           chisq&lt;em&gt;df  -0.016640    3.000000&lt;br /&gt;22            chisq&lt;/em&gt;p   1.000000 -999.000000&lt;/pre&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Phylometa from R: Randomization via Tip Shuffle</title>
   <link href="http://recology.info//2011/04/phylometa-from-r-randomization-via-tip-shuffle/"/>
   <updated>2011-04-16T11:44:00-07:00</updated>
   <id>http://recology.info//2011/04/phylometa-from-r-randomization-via-tip-shuffle</id>
   <content type="html">&lt;p&gt;---UPDATE: I am now using code formatting from gist.github, so I replaced the old prettyR code (sorry guys). The github way is much easier and prettier. I hope readers like the change.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;a href=&quot;http://r-ecology.blogspot.com/2011/04/phylometa-from-r-udpate.html&quot;&gt;I wrote earlier&lt;/a&gt; about some code I wrote for running Phylometa (software to do phylogenetic meta-analysis) from R.&lt;br /&gt;&lt;br /&gt;I have been concerned about what exactly is the right penalty for including phylogeny in a meta-analysis. E.g.: AIC is calculated from Q in Phylometa, and Q increases with tree size.&lt;br /&gt;&lt;br /&gt;So, I wrote some code to shuffle the tips of your tree N number of times, run Phylometa, and extract just the &amp;quot;Phylogenetic MA&amp;quot; part of the output. So, we compare the observed output (without tip shuffling) to the distribution of the tip shuffled output, and we can calculate a P-value from that. The code I wrote simply extracts the pooled effect size for fixed and also random-effects models. But you could change the code to extract whatever you like for the randomization.&lt;br /&gt;&lt;br /&gt;I think the point of this code is not to estimate your pooled effects, etc., but may be an alternative way to compare traditional to phylogenetic MA where hopefully simply incorporating a tree is not penalizing the meta-analysis so much&amp;nbsp;that you will&amp;nbsp;always accept the traditional MA as better.&lt;br /&gt;&lt;br /&gt;Get the code &lt;a href=&quot;https://gist.github.com/925343#file_phylometa_rand_fxn_one.r&quot;&gt;here&lt;/a&gt;, and also below. Get the example &lt;a href=&quot;http://wp.me/PRT1F-2R&quot;&gt;tree file&lt;/a&gt; and &lt;a href=&quot;http://wp.me/PRT1F-2S&quot;&gt;data file&lt;/a&gt;, named &amp;quot;phylogeny.txt&amp;quot; and &amp;quot;metadata&lt;em&gt;2g.txt&amp;quot;, respectively below (or use your own data!). You need the file &amp;quot;phylometa&lt;/em&gt;fxn.r&amp;quot; from my website, get &lt;a href=&quot;https://gist.github.com/939970&quot;&gt;here&lt;/a&gt;, but just call it using source as seen below.&lt;br /&gt;&lt;br /&gt;&lt;script src=&quot;https://gist.github.com/925343.js?file=phylometa_rand_fxn_one.R&quot;&gt;&lt;/script&gt;&lt;br /&gt;&lt;br /&gt;As you can see, the observed values fall well within the distribution of values obtained from shuffling tips. &amp;nbsp;P-values were 0.64 and 0.68 for fixed- and random-effects MA&amp;#39;s, respectively. This suggests, to me at least, that the traditional (distribution of tip shuffled analyses, the histograms below) and phylogenetic (red lines) MA&amp;#39;s are not&amp;nbsp;different. The way I would use this is as an additional analysis to the actual Phylometa output.&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://4.bp.blogspot.com/-fpEjXUBvAw8/TanftVw49QI/AAAAAAAAEbY/z9rJKThxRMo/s1600/metadata_2g.txt.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;400&quot; src=&quot;http://4.bp.blogspot.com/-fpEjXUBvAw8/TanftVw49QI/AAAAAAAAEbY/z9rJKThxRMo/s400/metadata_2g.txt.jpeg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>RStudio Beta 2 is Out!</title>
   <link href="http://recology.info//2011/04/rstudio-beta-2-is-out-/"/>
   <updated>2011-04-11T07:33:00-07:00</updated>
   <id>http://recology.info//2011/04/rstudio-beta-2-is-out-</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://blog.rstudio.org/2011/04/11/rstudio-beta2/&quot;&gt;RStudio Beta 2 (v0.93) « RStudio Blog&lt;/a&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;A new beta version of RStudio is out! &lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Adjust branch lengths with node ages: comparison of two methods</title>
   <link href="http://recology.info//2011/04/adjust-branch-lengths-with-node-ages-comparison-of-two-methods/"/>
   <updated>2011-04-10T11:02:00-07:00</updated>
   <id>http://recology.info//2011/04/adjust-branch-lengths-with-node-ages-comparison-of-two-methods</id>
   <content type="html">&lt;p&gt;Here is an approach for comparing two methods of adjusting branch lengths on trees: bladj in the program Phylocom and a fxn written by Gene Hunt at the Smithsonian.&lt;br /&gt;&lt;br /&gt;Get the code and example files (tree and node ages) &lt;a href=&quot;https://gist.github.com/938313&quot;&gt;here&lt;/a&gt;&lt;br /&gt;Get phylocom here:&amp;nbsp;&lt;a href=&quot;http://www.phylodiversity.net/phylocom/&quot;&gt;http://www.phylodiversity.net/phylocom/&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;Gene Hunt&amp;#39;s method has many options you can mess with, including setting tip ages (not available in bladj), setting node ages, and minimum branch length imposed. You will notice that Gene&amp;#39;s method may be not the appropriate if you only have extant taxa.&lt;br /&gt;&lt;br /&gt;The function AdjBrLens uses as input a newick tree file and a text file of node ages, and uses functions you can simply run by &amp;quot;source&amp;quot; the R file bladjing&lt;em&gt;twomethods.R file from &lt;a href=&quot;https://gist.github.com/938313&quot;&gt;here&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;Note that blad does not like numbers for node names, so you have to put a character in front of a number of just character names for nodes.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# This is where the work happens... &lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Directory below needs to have at least three items:&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#  1. phylocom executable for windows or mac&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#  2. tree newick file&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#  3. node ages file as required by phylocom, see their manual&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Output: trees&lt;/em&gt;out is a list of three trees, the original, bladj, and Gene Hunt&amp;#39;s method&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Also, within the function all three trees are written to file as PDFs&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/setwd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;setwd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;/Mac/R&lt;em&gt;stuff/Blog&lt;/em&gt;etc/Bladjing&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# set working directory&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/source&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;source&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;bladjing&lt;em&gt;twomethods.R&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# run functions from source file&lt;/span&gt;&lt;br /&gt;trees&lt;/em&gt;out &amp;lt;- AdjBrLens&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;tree.txt&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;nodeages.txt&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# plot trees of three methods together, &lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# with nodes with age estimates labeled&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/grDevices/jpeg&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;jpeg&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;threeplots.jpeg&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; quality=&lt;span style=&quot;color: #cc66cc;&quot;&gt;100&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/layout&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;layout&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/matrix&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;matrix&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/plot&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;plot&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trees&lt;em&gt;out&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;nodelabels&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trees&lt;/em&gt;out&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;$node.label&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; cex = &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.6&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/title&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;title&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;original tree&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/plot&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;plot&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trees&lt;em&gt;out&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;nodelabels&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trees&lt;/em&gt;out&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;$node.label&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; cex = &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.6&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/title&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;title&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;bladj method&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/plot&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;plot&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trees&lt;em&gt;out&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;nodelabels&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trees&lt;/em&gt;out&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;$node.label&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; cex = &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.6&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/title&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;title&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;gene hunt method, scalePhylo&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/grDevices/dev.off&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;dev.off&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;It is sort of hard to see the differences in&amp;nbsp;the branch length changes here, but the individual output trees will reveal the differences better.&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://2.bp.blogspot.com/-tLK1y12TYlI/TaHwayCs3GI/AAAAAAAAEbU/rPsFYqSEDuI/s1600/threeplots.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; src=&quot;http://2.bp.blogspot.com/-tLK1y12TYlI/TaHwayCs3GI/AAAAAAAAEbU/rPsFYqSEDuI/s1600/threeplots.jpeg&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Phylometa from R - UDPATE</title>
   <link href="http://recology.info//2011/04/phylometa-from-r-udpate/"/>
   <updated>2011-04-01T14:18:00-07:00</updated>
   <id>http://recology.info//2011/04/phylometa-from-r-udpate</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://r-ecology.blogspot.com/2010/12/phylogenetic-meta-analysis-in-r-using.html&quot;&gt;A while back I posted some messy code to run Phylometa from R&lt;/a&gt;, especially useful for processing the output data from Phylometa which is not easily done. The code is still quite messy, but it should work now. I have run the code with tens of different data sets and phylogenies so it should work. &lt;br /&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;I fixed errors when parentheses came up against numbers in the output, and other things. You can use the code for up to 4 levels of your grouping variable. In addition, there are some lines of code to plot the effect sizes with confidence intervals, comparing random and fixed effects models and phylogenetic and traditional models.&amp;nbsp;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Get the code at my website:&lt;/div&gt;&lt;div&gt;-&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: #333333; font-family: Georgia, &#39;Bitstream Charter&#39;, serif; font-size: 14px; line-height: 23px;&quot;&gt;&lt;a href=&quot;https://gist.github.com/939970&quot; style=&quot;border-bottom-width: 0px; border-color: initial; border-left-width: 0px; border-right-width: 0px; border-style: initial; border-top-width: 0px; color: #1c9bdc; font-style: inherit; font-weight: inherit; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; outline-color: initial; outline-style: initial; outline-width: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px; text-decoration: underline; vertical-align: baseline;&quot; target=&quot;_blank&quot;&gt;phylometa&lt;em&gt;fxn.R&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;-&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: #333333; font-family: Georgia, &#39;Bitstream Charter&#39;, serif; font-size: 14px; line-height: 23px;&quot;&gt;&amp;lt;a href=&amp;quot;https://gist.github.com/939971&amp;quot; style=&amp;quot;border-bottom-width: 0px; border-color: initial; border-left-width: 0px; border-right-width: 0px; border-style: initial; border-top-width: 0px; color: #1c9bdc; font-style: inherit; font-weight: inherit; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px; outline-color: initial; outline-style: initial; outline-width: 0px; padding-bottom: 0px; padding-left: 0px; padding-right: 0px; padding-top: 0px; text-decoration: underline; vertical-align: baseline;&amp;quot; target=&amp;quot;&lt;/em&gt;blank&amp;quot;&amp;gt;phylometa&lt;em&gt;inR&lt;/em&gt;run.R&lt;/a&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;- Use the first file to do the work, calling the second file using source().&lt;br /&gt;- This new code works with Marc&amp;#39;s new version of Phylometa, so please update:&amp;nbsp;http://lajeunesse.myweb.usf.edu/publications.html&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Again, please let me know if it doesn&amp;#39;t work, if it&amp;#39;s worthless, what changes could make it better.&lt;br /&gt;&lt;br /&gt;Some notes on tree formatting for Phylometa. &lt;br /&gt;1.&amp;nbsp;Trees cannot have node labels - remove them (e.g., tree$node.label &amp;lt; NULL).&lt;br /&gt;2. Trees cannot have zero length branches. This may seem like a non-problem, but it might be for example if you have resolved polytomies and zero length branches are added to resolve the polytomy.&lt;br /&gt;3. I think you cannot have a branch length on the root branch.&lt;br /&gt;&lt;br /&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Bio-ORACLE</title>
   <link href="http://recology.info//2011/03/bio-oracle/"/>
   <updated>2011-03-25T06:38:00-07:00</updated>
   <id>http://recology.info//2011/03/bio-oracle</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.oracle.ugent.be/index.html&quot;&gt;Bio-ORACLE&lt;/a&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;A new dataset available of geophysical, biotic and climate data. Should be fun to play with in R. &lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>basic ggplot2 network graphs ver2</title>
   <link href="http://recology.info//2011/03/basic-ggplot2-network-graphs-ver2/"/>
   <updated>2011-03-23T12:09:00-07:00</updated>
   <id>http://recology.info//2011/03/basic-ggplot2-network-graphs-ver2</id>
   <content type="html">&lt;hr&gt;

&lt;p&gt;I posted last week a simple function to plot networks using ggplot2 package. Here is version 2. I still need to work on figuring out efficient vertex placement.&lt;/p&gt;

&lt;p&gt;Changes in version 2:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;You have one of three options: use an igraph object, a matrix, or a dataframe (matrices will be converted to data frames within the function)&lt;/li&gt;
&lt;li&gt;If you have data on food webs similar to that provided in the Takapoto dataset provided in the NetIndices package, you can set trophic = &amp;quot;TRUE&amp;quot;, and gggraph will use the function TrophInd to assign trophic levels (the y axis value) to each vertex/node. You have to provide additional information along with this option such as what the imports and exports are, see NetIndices documentation.&lt;/li&gt;
&lt;li&gt;I added some simple error checking.&lt;/li&gt;
&lt;li&gt;if using method=&amp;quot;df&amp;quot; and trophic=&amp;quot;FALSE&amp;quot;, x axis placement of vertices is now done using the function degreex (see inside the fxn), which sorts vertices according to their degree (so the least connected species are on the left of the graph; note that species with the same degree are not stacked on the y-axis because e.g., two vertices of degree=5 would get x=3 then x=4).&lt;/li&gt;
&lt;/ul&gt;

&lt;hr&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# ggraph Version 2&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;bipartite&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;igraph&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# gggraph, version 3 g = an igraph graph object, a matrix, or data frame&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# vplace = type of vertex placement assignment, one of rnorm, runif, etc.&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# method = one of &amp;#39;df&amp;#39; for data frame, &amp;#39;mat&amp;#39; for matrix or &amp;#39;igraph&amp;#39; for an&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# igraph graph object trophic = TRUE or FALSE for using Netindices&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# function TrophInd to determine trophic level (y value in graph)&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# trophinames = columns in matrix or dataframe to use for calculating&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# trophic level import = named or refereced by col# columns of matrix or&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# dataframe to use for import argument of TrophInd export = named or&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# refereced by col# columns of matrix or dataframe to use for export&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# argument of TrophInd dead = named or refereced by col# columns of matrix&lt;/span&gt;
&lt;span class=&quot;c1&quot;&gt;# or dataframe to use for dead argument of TrophInd&lt;/span&gt;

gggraph &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vplace &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; rnorm&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; method&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; trophic &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;FALSE&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; trophinames&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
    import&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; export&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
    degreex &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        degreecol &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;y &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;
        degreerow &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;apply&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;function&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;y&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;y &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]))&lt;/span&gt;
        degrees &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;sort&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;degreecol&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; degreerow&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;degrees&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;seq&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;degrees&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
        df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;value &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;rownames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;df&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        df
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# require igraph&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;igraph&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; 
        &lt;span class=&quot;kp&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;must first install &amp;#39;igraph&amp;#39; package.&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    &lt;span class=&quot;c1&quot;&gt;# require ggplot2&lt;/span&gt;
    &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;ggplot2&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; 
        &lt;span class=&quot;kp&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;must first install &amp;#39;ggplot2&amp;#39; package.&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
    
    &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;method &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;df&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;matrix&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            g &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;data.frame&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
            &lt;span class=&quot;kp&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;object must be of class &amp;#39;data.frame.&amp;#39;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;trophic &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;FALSE&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;# data preparation from adjacency matrix&lt;/span&gt;
            temp &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;expand.grid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;dimnames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;))[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.vector&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;as.matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;)))&lt;/span&gt;
            temp &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; temp&lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;temp&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;is.na&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;temp&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
            temp &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; temp&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;sort.list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;temp&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
            g_df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rows &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; temp&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; cols &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; temp&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; freqint &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; temp&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; 
                &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            
            g_df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;id &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            g_df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;id &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; g_df&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; rows &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; g_df&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; cols &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; g_df&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; 
                &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; freqint &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; g_df&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            g_df_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; melt&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; id &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
            
            xy_s &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;degreex&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; rnorm&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df_&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;value&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
            g_df_2 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df_&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; xy_s&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;value&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;trophic &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;TRUE&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;# require NetIndices&lt;/span&gt;
            &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;kn&quot;&gt;require&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;NetIndices&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; 
                &lt;span class=&quot;kp&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;must first install &amp;#39;NetIndices&amp;#39; package.&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
            &lt;span class=&quot;c1&quot;&gt;# data preparation from adjacency matrix&lt;/span&gt;
            temp &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;expand.grid&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;dimnames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;trophinames&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;trophinames&lt;span class=&quot;p&quot;&gt;]))[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; 
                &lt;span class=&quot;kp&quot;&gt;as.vector&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;as.matrix&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;trophinames&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;-&lt;/span&gt;trophinames&lt;span class=&quot;p&quot;&gt;])))&lt;/span&gt;
            temp &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; temp&lt;span class=&quot;p&quot;&gt;[(&lt;/span&gt;temp&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;gt;&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;amp;&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;is.na&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;temp&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
            temp &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; temp&lt;span class=&quot;p&quot;&gt;[&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;sort.list&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;temp&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]),&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;]&lt;/span&gt;
            g_df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rows &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; temp&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; cols &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; temp&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; freqint &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; temp&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; 
                &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            
            g_df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;id &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            g_df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;id &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; g_df&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; rows &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; g_df&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; cols &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; g_df&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; 
                &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;],&lt;/span&gt; freqint &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; g_df&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            g_df_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; melt&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; id &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;4&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
            
            xy_s &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;value &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df_&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;value&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; rnorm&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df_&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;value&lt;span class=&quot;p&quot;&gt;))),&lt;/span&gt; 
                y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; TrophInd&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; Import &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; import&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; Export &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; export&lt;span class=&quot;p&quot;&gt;)[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
            g_df_2 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df_&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; xy_s&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;value&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# plotting&lt;/span&gt;
        p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df_2&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_point&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_line&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; freqint&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
            group &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; id&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_text&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; hjust &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;label &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; value&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; 
            theme_bw&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; opts&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;panel.grid.major &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; panel.grid.minor &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
            axis.text.x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; axis.text.y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; axis.title.x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
            axis.title.y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; axis.ticks &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; panel.border &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
            legend.position &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;none&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        
        p  &lt;span class=&quot;c1&quot;&gt;# return graph&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;method &lt;span class=&quot;o&quot;&gt;==&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;igraph&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;{&lt;/span&gt;
        &lt;span class=&quot;kr&quot;&gt;if&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;class&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;!=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;igraph&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; 
            &lt;span class=&quot;kp&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;object must be of class &amp;#39;igraph.&amp;#39;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        &lt;span class=&quot;c1&quot;&gt;# data preparation from igraph object&lt;/span&gt;
        g_ &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; get.edgelist&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        g_df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        g_df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;id &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df&lt;span class=&quot;p&quot;&gt;[,&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;])&lt;/span&gt;
        g_df &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; melt&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; id &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        xy_s &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;value &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;value&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vplace&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;value&lt;span class=&quot;p&quot;&gt;))),&lt;/span&gt; 
            y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; vplace&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;length&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;unique&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df&lt;span class=&quot;o&quot;&gt;$&lt;/span&gt;value&lt;span class=&quot;p&quot;&gt;))))&lt;/span&gt;
        g_df2 &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;merge&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; xy_s&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; by &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;value&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        
        &lt;span class=&quot;c1&quot;&gt;# plotting&lt;/span&gt;
        p &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; ggplot&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;g_df2&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;x&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; y&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_point&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_line&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;0.3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
            aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;group &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; id&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; linetype &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; id&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; geom_text&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;size &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;3&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; hjust &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1.5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
            aes&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;label &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; value&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; theme_bw&lt;span class=&quot;p&quot;&gt;()&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;+&lt;/span&gt; opts&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;panel.grid.major &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
            panel.grid.minor &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; axis.text.x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; axis.text.y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
            axis.title.x &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; axis.title.y &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; axis.ticks &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; 
            panel.border &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; theme_blank&lt;span class=&quot;p&quot;&gt;(),&lt;/span&gt; legend.position &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;none&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
        
        p  &lt;span class=&quot;c1&quot;&gt;# return graph&lt;/span&gt;
    &lt;span class=&quot;p&quot;&gt;}&lt;/span&gt; &lt;span class=&quot;kr&quot;&gt;else&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;stop&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;paste&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;do not recognize method = \&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; method&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;\&amp;quot;;\nmethods are \&amp;quot;df\&amp;quot; and \&amp;quot;igraph\&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; 
        sep &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
&lt;span class=&quot;p&quot;&gt;}&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;&lt;span class=&quot;c1&quot;&gt;# Eg&lt;/span&gt;
&lt;span class=&quot;kn&quot;&gt;library&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;NetIndices&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
data&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;Takapoto&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
gggraph&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;Takapoto&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vplace &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; rnorm&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; method &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;df&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; trophic &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;TRUE&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; trophinames &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;8&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;:&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;10&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;),&lt;/span&gt; 
    import &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;CO2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; export &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;CO2&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Sedimentation&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;Grazing&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/gggraph1.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;

&lt;div class=&quot;highlight&quot;&gt;&lt;pre&gt;&lt;code class=&quot;language-r&quot; data-lang=&quot;r&quot;&gt;plants &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rlnorm&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;n &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; meanlog &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; sdlog &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
animals &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;round&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;rlnorm&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;n &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;5&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; meanlog &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;2&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; sdlog &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
plants &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; plants &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;plants&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
animals &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; animals &lt;span class=&quot;o&quot;&gt;*&lt;/span&gt; &lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;100&lt;/span&gt;&lt;span class=&quot;o&quot;&gt;/&lt;/span&gt;&lt;span class=&quot;kp&quot;&gt;sum&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;animals&lt;span class=&quot;p&quot;&gt;))&lt;/span&gt;
z &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; r2dtable&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; animals&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; plants&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;  &lt;span class=&quot;c1&quot;&gt;# if errors, rerun again until no error&lt;/span&gt;
z &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kp&quot;&gt;as.data.frame&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;z&lt;span class=&quot;p&quot;&gt;[[&lt;/span&gt;&lt;span class=&quot;m&quot;&gt;1&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;]])&lt;/span&gt;
&lt;span class=&quot;kp&quot;&gt;rownames&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;z&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt; &lt;span class=&quot;o&quot;&gt;&amp;lt;-&lt;/span&gt; &lt;span class=&quot;kt&quot;&gt;c&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;&lt;span class=&quot;s&quot;&gt;&amp;quot;a&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;b&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;c&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;d&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;e&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;
gggraph&lt;span class=&quot;p&quot;&gt;(&lt;/span&gt;z&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; vplace &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; rnorm&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; method &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;df&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;,&lt;/span&gt; trophic &lt;span class=&quot;o&quot;&gt;=&lt;/span&gt; &lt;span class=&quot;s&quot;&gt;&amp;quot;FALSE&amp;quot;&lt;/span&gt;&lt;span class=&quot;p&quot;&gt;)&lt;/span&gt;&lt;/code&gt;&lt;/pre&gt;&lt;/div&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/gggraph2.png&quot; alt=&quot;center&quot;&gt; &lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>basic ggplot2 network graphs</title>
   <link href="http://recology.info//2011/03/basic-ggplot2-network-graphs/"/>
   <updated>2011-03-17T06:35:00-07:00</updated>
   <id>http://recology.info//2011/03/basic-ggplot2-network-graphs</id>
   <content type="html">&lt;p&gt;I have been looking around on the web and have not found anything yet related to using ggplot2 for making graphs/networks. I put together a few functions to make very simple graphs. The bipartite function especially is not ideal, as of course we only want to allow connections between unlike nodes, not all nodes. These functions do not, obviously, take full advantage of the power of ggplot2, but&amp;nbsp;it’s a start.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/3601320.js?file=gggraph.r&quot;&gt;&lt;/script&gt;

&lt;p&gt;&lt;img src=&quot;/public/img/gggraph/erdos.jpeg&quot; width=&quot;500&quot; height=&quot;500&quot;&gt;
&lt;img src=&quot;/public/img/gggraph/barabasi.jpeg&quot; width=&quot;500&quot; height=&quot;500&quot;&gt;
&lt;img src=&quot;/public/img/gggraph/grg.jpeg&quot; width=&quot;500&quot; height=&quot;500&quot;&gt;
&lt;img src=&quot;/public/img/gggraph/growing.jpeg&quot; width=&quot;500&quot; height=&quot;500&quot;&gt;
&lt;img src=&quot;/public/img/gggraph/watts.jpeg&quot; width=&quot;500&quot; height=&quot;500&quot;&gt;
&lt;img src=&quot;/public/img/gggraph/grg-bipartite.jpeg&quot; width=&quot;500&quot; height=&quot;500&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Species abundance distributions and basketball</title>
   <link href="http://recology.info//2011/03/species-abundance-distributions-and/"/>
   <updated>2011-03-13T13:00:00-07:00</updated>
   <id>http://recology.info//2011/03/species-abundance-distributions-and</id>
   <content type="html">&lt;p&gt;A post over at the Phased blog (http://www.nasw.org/users/mslong/) highlights a recent paper in PLoS One by Robert Warren et al. Similar results were obtained in a 2007 Ecology Letters paper by Nekola and Brown, who showed that abundance distributions found in ecology are similar to those found for scientific citations, Eastern North American precipitation, among other things. A similar argument was made by Nee et al. in 1991 (in the journal PRSL-B). The author of the blog appears to agree with the outcome of the Warren et al. study.&lt;br /&gt;&lt;br /&gt;I tend to disagree.&lt;br /&gt;&lt;br /&gt;In the field of graphs/networks, many networks (social, sexual intercourse among humans, etc.) are found to have similar statistical properties to those of ecological networks (food webs, interactions among mutualists, etc.). However, just because these networks have similar statistical properties does not mean that the statistical properties of ecological networks have no biological meaning.&lt;br /&gt;&lt;br /&gt;They make the argument that the common SAD fit may be an artifact of large data sets alone. However, I don&amp;#39;t see any explanation of why they think large data sets is a valid explanation of SADs. Surely SAD&amp;#39;s are fit to varying sizes of datasets. The problem with small datasets is lack of statistical power to detect a particular pattern, but surely you can get a fit for a particular SAD to a small dataset.&lt;br /&gt;&lt;br /&gt;There are ecological mechanistic theories behind different SAD models. They argue that because very similar SADs are found in ecological and non-ecological datasets alike one option is that a universal mechanism structures ecological and non-ecological data (with the mechanism unknown in both). Why can&amp;#39;t the same SAD pattern be generated by different mechanisms? &lt;br /&gt;&lt;br /&gt;Are Warren et al, Nekola, and Nee right in questioning the utility of SADs? Questioning our theories and ideas only makes the theories better in the end by weeding out shortcomings, etc.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;span style=&quot;float: left; padding-bottom: 5px; padding-left: 5px; padding-right: 5px; padding-top: 5px;&quot;&gt;&lt;a href=&quot;http://www.researchblogging.org/&quot;&gt;&lt;img alt=&quot;ResearchBlogging.org&quot; src=&quot;http://www.researchblogging.org/public/citation_icons/rb2_large_white.png&quot; style=&quot;border: 0;&quot; /&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;Z3988&quot; title=&quot;ctx_ver=Z39.88-2004&amp;amp;rft_val_fmt=info%3Aofi%2Ffmt%3Akev%3Amtx%3Ajournal&amp;amp;rft.jtitle=PLoS+ONE&amp;amp;rft_id=info%3Adoi%2F10.1371%2Fjournal.pone.0017342&amp;amp;rfr_id=info%3Asid%2Fresearchblogging.org&amp;amp;rft.atitle=Universal+Ecological+Patterns+in+College+Basketball+Communities&amp;amp;rft.issn=1932-6203&amp;amp;rft.date=2011&amp;amp;rft.volume=6&amp;amp;rft.issue=3&amp;amp;rft.spage=0&amp;amp;rft.epage=&amp;amp;rft.artnum=http%3A%2F%2Fdx.plos.org%2F10.1371%2Fjournal.pone.0017342&amp;amp;rft.au=Warren%2C+R.&amp;amp;rft.au=Skelly%2C+D.&amp;amp;rft.au=Schmitz%2C+O.&amp;amp;rft.au=Bradford%2C+M.&amp;amp;rfe_dat=bpr3.included=1;bpr3.tags=Ecology+%2F+Conservation&quot;&gt;Warren, R., Skelly, D., Schmitz, O., &amp;amp; Bradford, M. (2011). Universal Ecological Patterns in College Basketball Communities &lt;span style=&quot;font-style: italic;&quot;&gt;PLoS ONE, 6&lt;/span&gt; (3) DOI: &lt;a href=&quot;http://dx.doi.org/10.1371/journal.pone.0017342&quot; rev=&quot;review&quot;&gt;10.1371/journal.pone.0017342&lt;/a&gt;&lt;/span&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>cloudnumbers.com</title>
   <link href="http://recology.info//2011/03/cloudnumbers-com/"/>
   <updated>2011-03-11T05:28:00-08:00</updated>
   <id>http://recology.info//2011/03/cloudnumbers-com</id>
   <content type="html">&lt;p&gt;UPDATE: I guess it still is not actually available. Bummer...&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Has anyone used cloudnumbers.com?&lt;br /&gt;&lt;br /&gt;http://www.cloudnumbers.com/&lt;br /&gt;&lt;br /&gt;They provide cloud computing, and have built in applications, including R.&lt;br /&gt;&lt;br /&gt;How well does it work? Does it increase processing speed? I guess it may at the least free up RAM and processor space on your own machine.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Five ways to visualize your pairwise comparisons</title>
   <link href="http://recology.info//2011/03/for-all-your-pairwise-comparison-needs/"/>
   <updated>2011-03-05T10:49:00-08:00</updated>
   <id>http://recology.info//2011/03/for-all-your-pairwise-comparison-needs</id>
   <content type="html">&lt;p&gt;UPDATE: &lt;i&gt;&lt;u&gt;At the bottom are two additional methods, and some additions (underlined) are added to the original 5 methods. Thanks for all the feedback...&lt;/u&gt;&lt;/i&gt;&lt;br /&gt;&lt;i&gt;&lt;u&gt;-Also, another post &lt;a href=&quot;http://www.r-statistics.com/2010/04/correlation-scatter-plot-matrix-for-ordered-categorical-data/&quot;&gt;here&lt;/a&gt; about ordered-categorical data&lt;/u&gt;&lt;/i&gt;&lt;br /&gt;&lt;i&gt;&lt;u&gt;-Also #2, a method combining splom and hexbin packages &lt;a href=&quot;http://procomun.wordpress.com/2011/03/18/splomr/&quot;&gt;here&lt;/a&gt;, for larger datasets&lt;/u&gt;&lt;/i&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;In data analysis it is often nice to look at all pairwise combinations of continuous variables in scatterplots. Up until recently, I&amp;nbsp;have used the function splom in the package lattice, but ggplot2 has superior aesthetics, I think anyway.&lt;br /&gt;&lt;br /&gt;Here a few ways to accomplish the task:&lt;br /&gt;&lt;br /&gt;# load packages&lt;br /&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/require&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;require&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/lattice&quot;&gt;lattice&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/require&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;require&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/ggplot2&quot;&gt;ggplot2&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&amp;nbsp;&lt;br /&gt;&lt;/pre&gt;&lt;div&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/require&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;require&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/car&quot;&gt;car&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br /&gt;&lt;/div&gt;&lt;br /&gt;1) Using base graphics, function &amp;quot;pairs&amp;quot;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/pairs&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;pairs&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; pch = &lt;span style=&quot;color: #cc66cc;&quot;&gt;21&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://lh3.googleusercontent.com/-QrjiX4jAPxo/TXJ-Qj0mpfI/AAAAAAAAEac/DQkKhzJgl7c/s1600/pairs.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;https://lh3.googleusercontent.com/-QrjiX4jAPxo/TXJ-Qj0mpfI/AAAAAAAAEac/DQkKhzJgl7c/s400/pairs.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;2) Using lattice package, function &amp;quot;splom&amp;quot;&lt;br /&gt;&lt;br /&gt;-&lt;u&gt;Additional code to improve splom plots &lt;a href=&quot;http://www.mail-archive.com/r-help@stat.math.ethz.ch/msg94527.html&quot;&gt;here&lt;/a&gt; (and see Oscar&amp;#39;s code below in comments)&lt;/u&gt;&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;a href=&quot;http://inside-r.org/r-doc/lattice/splom&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;splom&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;~&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://lh6.googleusercontent.com/-boKmTPP2s60/TXKAc4YcbCI/AAAAAAAAEak/ImCWlnGkpmc/s1600/splom.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;https://lh6.googleusercontent.com/-boKmTPP2s60/TXKAc4YcbCI/AAAAAAAAEak/ImCWlnGkpmc/s400/splom.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;3) Using package ggplot2, function &amp;quot;plotmatrix&amp;quot;&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;plotmatrix&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://lh4.googleusercontent.com/-3aqCYfmVpNw/TXJ-RG6Zs8I/AAAAAAAAEag/ADZRrR8QB8g/s1600/plotmatrix.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;https://lh4.googleusercontent.com/-3aqCYfmVpNw/TXJ-RG6Zs8I/AAAAAAAAEag/ADZRrR8QB8g/s400/plotmatrix.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;4) a function called ggcorplot by Mike Lawrence at Dalhousie University&lt;br /&gt;&lt;br /&gt;-get ggcorplot function at &lt;a href=&quot;http://groups.google.com/group/ggplot2/attach/6bf632a9718dddd6/ggcorplot.R?part=2&quot;&gt;this link&lt;/a&gt;&lt;br /&gt;-&lt;u&gt;ggcorplot is also built in to Deducer (&lt;a href=&quot;http://www.deducer.org/pmwiki/pmwiki.php?n=Main.DeducerManual&quot;&gt;get here&lt;/a&gt;); see Ian&amp;#39;s code below in the comments&lt;/u&gt;&lt;br /&gt;-&lt;u&gt;Lastly, an improved version of ggcorplot is built in to the ez package (&lt;a href=&quot;http://cran.r-project.org/web/packages/ez/index.html&quot;&gt;get here&lt;/a&gt;)&lt;/u&gt;&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;ggcorplot&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;br /&gt;  &lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt; = &lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  var&lt;em&gt;text&lt;/em&gt;size = &lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  cor&lt;em&gt;text&lt;/em&gt;limits = &lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;10&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://lh6.googleusercontent.com/-jw2x1p68lp0/TXJ-Qs3JgwI/AAAAAAAAEaY/42UfLSleVHc/s1600/ggcorplot.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;https://lh6.googleusercontent.com/-jw2x1p68lp0/TXJ-Qs3JgwI/AAAAAAAAEaY/42UfLSleVHc/s400/ggcorplot.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;5) panel.cor function using pairs, similar to ggcorplot, but using base graphics. Not sure who wrote this function, but &lt;a href=&quot;http://addictedtor.free.fr/graphiques/graphcode.php?graph=137&quot;&gt;here&lt;/a&gt; is where I found it.&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;panel.cor &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/function&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; y&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; digits=&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; prefix=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; cex.cor&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;{&lt;/span&gt;&lt;br /&gt;    usr &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/graphics/par&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;par&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;usr&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;;&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/on.exit&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;on.exit&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/par&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;par&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;usr&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;    &lt;a href=&quot;http://inside-r.org/r-doc/graphics/par&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;par&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;usr = &lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;    r &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/abs&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;abs&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/stats/cor&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;cor&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; y&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;    txt &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/format&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;format&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;r&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.123456789&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; digits=digits&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &lt;br /&gt;    txt &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/paste&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;paste&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;prefix&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; txt&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; sep=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;    &lt;span style=&quot;color: black; font-weight: bold;&quot;&gt;if&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/missing&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;missing&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;cex.cor&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; cex &amp;lt;- &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.8&lt;/span&gt;/strwidth&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;txt&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;&amp;nbsp;&lt;br /&gt;    test &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/stats/cor.test&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;cor.test&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;    &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# borrowed from printCoefmat&lt;/span&gt;&lt;br /&gt;    Signif &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/stats/symnum&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;symnum&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;test$p.value&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/boot/corr&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;corr&lt;/span&gt;&lt;/a&gt; = &lt;span style=&quot;color: black; font-weight: bold;&quot;&gt;FALSE&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; na = &lt;span style=&quot;color: black; font-weight: bold;&quot;&gt;FALSE&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;br /&gt;                  cutpoints = &lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.001&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.01&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.05&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt;                  &lt;a href=&quot;http://inside-r.org/r-doc/graphics/symbols&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;symbols&lt;/span&gt;&lt;/a&gt; = &lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;&lt;em&gt;**&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;&lt;/em&gt;&lt;em&gt;&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;&lt;/em&gt;&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;.&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot; &amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;&amp;nbsp;&lt;br /&gt;    &lt;a href=&quot;http://inside-r.org/r-doc/graphics/text&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;text&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; txt&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; cex = cex * r&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;    &lt;a href=&quot;http://inside-r.org/r-doc/graphics/text&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;text&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;.8&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;.8&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; Signif&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; cex=cex&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/col&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;col&lt;/span&gt;&lt;/a&gt;=&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;}&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/pairs&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;pairs&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; lower.panel=&lt;a href=&quot;http://inside-r.org/r-doc/graphics/panel.smooth&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;panel.smooth&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; upper.panel=panel.cor&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://lh3.googleusercontent.com/-df9_9d84Qdg/TXJ9s9OZQgI/AAAAAAAAEaU/zHwWtTQZFSw/s1600/panel.cor.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;https://lh3.googleusercontent.com/-df9_9d84Qdg/TXJ9s9OZQgI/AAAAAAAAEaU/zHwWtTQZFSw/s400/panel.cor.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;A comparison of run times...&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&amp;gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/system.time&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system.time&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/pairs&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;pairs&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;   user  &lt;a href=&quot;http://inside-r.org/r-doc/base/system&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system&lt;/span&gt;&lt;/a&gt; elapsed &lt;br /&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.138&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.008&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.156&lt;/span&gt; &lt;br /&gt;&amp;gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/system.time&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system.time&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/lattice/splom&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;splom&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;~&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;   user  &lt;a href=&quot;http://inside-r.org/r-doc/base/system&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system&lt;/span&gt;&lt;/a&gt; elapsed &lt;br /&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.003&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.000&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.003&lt;/span&gt; &lt;br /&gt;&amp;gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/system.time&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system.time&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;plotmatrix&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;   user  &lt;a href=&quot;http://inside-r.org/r-doc/base/system&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system&lt;/span&gt;&lt;/a&gt; elapsed &lt;br /&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.052&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.000&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.052&lt;/span&gt; &lt;br /&gt;&amp;gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/system.time&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system.time&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ggcorplot&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;br /&gt;+ &lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt; = &lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  var&lt;em&gt;text&lt;/em&gt;size = &lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt;  cor&lt;em&gt;text&lt;/em&gt;limits = &lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;10&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;   user  &lt;a href=&quot;http://inside-r.org/r-doc/base/system&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system&lt;/span&gt;&lt;/a&gt; elapsed &lt;br /&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.130&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.001&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.131&lt;/span&gt; &lt;br /&gt;&amp;gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/system.time&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system.time&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/pairs&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;pairs&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; lower.panel=&lt;a href=&quot;http://inside-r.org/r-doc/graphics/panel.smooth&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;panel.smooth&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; upper.panel=panel.cor&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;   user  &lt;a href=&quot;http://inside-r.org/r-doc/base/system&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system&lt;/span&gt;&lt;/a&gt; elapsed &lt;br /&gt;  &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.170&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.011&lt;/span&gt;   &lt;span style=&quot;color: #cc66cc;&quot;&gt;0.200&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;...shows that splom is the fastest method, with the method using the panel.cor function pulling up the rear.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;6) given by a reader in the comments (get her/his code &lt;a href=&quot;http://handlesman.blogspot.com/2011/03/matrix-plot-with-confidence-intervals.html&quot;&gt;here&lt;/a&gt;). This one is nice as it gives 95% CI&amp;#39;s for the correlation coefficients, AND histograms of each variable.&lt;br /&gt;&lt;br /&gt;&lt;a href=&quot;https://lh5.googleusercontent.com/-zC6MFpoo5w8/TXO0aJt1UtI/AAAAAAAAEao/lMOOaniqYPU/s1600/pairs_anehandlesman.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;https://lh5.googleusercontent.com/-zC6MFpoo5w8/TXO0aJt1UtI/AAAAAAAAEao/lMOOaniqYPU/s400/pairs_anehandlesman.png&quot; style=&quot;cursor: move;&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;7)&amp;nbsp;a reader in the comments suggested the scatterplotMatrix (spm can be used) function in the car package. This one has the advantage of plotting distributions of each variable, and providing fits to each data with confidence intervals.&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;spm&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/datasets/iris&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;iris&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://lh4.googleusercontent.com/-gV9rB3jhZUU/TXTY57Z0bwI/AAAAAAAAEas/GuEWgTGpVzk/s1600/car.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;320&quot; src=&quot;https://lh4.googleusercontent.com/-gV9rB3jhZUU/TXTY57Z0bwI/AAAAAAAAEas/GuEWgTGpVzk/s400/car.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;https://lh5.googleusercontent.com/-zC6MFpoo5w8/TXO0aJt1UtI/AAAAAAAAEao/lMOOaniqYPU/s1600/pairs_anehandlesman.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&lt;a href=&quot;https://lh5.googleusercontent.com/-zC6MFpoo5w8/TXO0aJt1UtI/AAAAAAAAEao/lMOOaniqYPU/s1600/pairs_anehandlesman.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&lt;a href=&quot;https://lh5.googleusercontent.com/-zC6MFpoo5w8/TXO0aJt1UtI/AAAAAAAAEao/lMOOaniqYPU/s1600/pairs_anehandlesman.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&lt;a href=&quot;https://lh5.googleusercontent.com/-zC6MFpoo5w8/TXO0aJt1UtI/AAAAAAAAEao/lMOOaniqYPU/s1600/pairs_anehandlesman.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&lt;a href=&quot;https://lh5.googleusercontent.com/-zC6MFpoo5w8/TXO0aJt1UtI/AAAAAAAAEao/lMOOaniqYPU/s1600/pairs_anehandlesman.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&lt;a href=&quot;https://lh5.googleusercontent.com/-zC6MFpoo5w8/TXO0aJt1UtI/AAAAAAAAEao/lMOOaniqYPU/s1600/pairs_anehandlesman.png&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Check out Phyloseminar.org</title>
   <link href="http://recology.info//2011/03/check-out-phyloseminar-org/"/>
   <updated>2011-03-04T06:22:00-08:00</updated>
   <id>http://recology.info//2011/03/check-out-phyloseminar-org</id>
   <content type="html">&lt;div&gt;They have online seminars that you can join in on live, and watch later as recorded videos. Check it out at: &lt;a href=&quot;http://phyloseminar.org/index.html&quot;&gt;phyloseminar.org home&lt;/a&gt;&lt;/div&gt;
</content>
 </entry>
 
 <entry>
   <title>RStudio</title>
   <link href="http://recology.info//2011/02/rstudio/"/>
   <updated>2011-02-28T18:21:00-08:00</updated>
   <id>http://recology.info//2011/02/rstudio</id>
   <content type="html">&lt;p&gt;&lt;b&gt;&lt;u&gt;New thoughts&lt;/u&gt;&lt;/b&gt;: After actually using it more, it is quite nice, but I have a couple of major issues.&lt;br /&gt;1. The text editor is quite slow to scroll through.&lt;br /&gt;2. ggplot2 graphics look bad, worse than if just running R alone.&lt;br /&gt;&lt;br /&gt;&lt;a href=&quot;http://www.rstudio.org/&quot;&gt;RStudio&lt;/a&gt;&lt;br /&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Everyone seems to be excited about this...&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;div&gt;Is it any good? Seems great for folks just learning R, but perhaps less ideal for advanced R users?&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>R overtakes SAS in popularity</title>
   <link href="http://recology.info//2011/02/r-overtakes-sas-in-popularity/"/>
   <updated>2011-02-25T06:58:00-08:00</updated>
   <id>http://recology.info//2011/02/r-overtakes-sas-in-popularity</id>
   <content type="html">&lt;p&gt;&lt;a href=&quot;http://www.tiobe.com/index.php/content/paperinfo/tpci/index.html&quot;&gt;TIOBE Software: Tiobe Index&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Phenotypic selection analysis in R</title>
   <link href="http://recology.info//2011/02/phenotypic-selection-analysis-in-r/"/>
   <updated>2011-02-24T07:43:00-08:00</updated>
   <id>http://recology.info//2011/02/phenotypic-selection-analysis-in-r</id>
   <content type="html">&lt;p&gt;I have up to recently always done my phenotypic selection analyses in SAS. I finally got some code I think works to do everything SAS would do. Feedback much appreciated!&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;########################Selection analyses#############################&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/install.packages&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;install.packages&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;car&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;reshape&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;ggplot2&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/require&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;require&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/car&quot;&gt;car&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/require&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;require&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/stats/reshape&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;reshape&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/require&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;require&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/ggplot2&quot;&gt;ggplot2&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Create data set&lt;/span&gt;&lt;br /&gt;dat &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/data.frame&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;plant = &lt;a href=&quot;http://inside-r.org/r-doc/base/seq&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;seq&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;100&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; trait1 = &lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.15&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.21&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.25&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.6&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.8&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.9&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;10&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;12&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;13&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;14&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;15&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;16&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; each = &lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; trait2 = &lt;a href=&quot;http://inside-r.org/r-doc/stats/runif&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;runif&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;100&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; fitness = &lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;10&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;50&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; each = &lt;span style=&quot;color: #cc66cc;&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Make relative fitness column&lt;/span&gt;&lt;br /&gt;dat_ &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/cbind&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;cbind&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; dat$fitness/mean&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat$fitness&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/names&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;names&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat&lt;em&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &amp;lt;- &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;relfitness&amp;quot;&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Standardize traits&lt;/span&gt;&lt;br /&gt;dat&lt;/em&gt; &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/cbind&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;cbind&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat&lt;em&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;-&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; rescaler&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat&lt;/em&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;sd&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;####Selection differentials and correlations among traits, cor.prob uses function in functions.R file&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;############################################################################&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;####### Function for calculating correlation matrix, corrs below diagonal,&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;####### and P-values above diagonal&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;############################################################################&lt;/span&gt;&lt;br /&gt;cor.prob &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/function&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;X&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; dfr = &lt;a href=&quot;http://inside-r.org/r-doc/base/nrow&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;nrow&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;X&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; - &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;{&lt;/span&gt;&lt;br /&gt;         R &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/stats/cor&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;cor&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;X&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;         above &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/row&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;row&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;R&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &amp;lt; &lt;a href=&quot;http://inside-r.org/r-doc/base/col&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;col&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;R&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;         r2 &amp;lt;- R&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;above&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;^&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;br /&gt;         Fstat &amp;lt;- r2 * dfr / &lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; - r2&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;         R&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;above&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &amp;lt;- &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt; - &lt;a href=&quot;http://inside-r.org/r-doc/stats/pf&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;pf&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;Fstat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; dfr&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;         R&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;}&lt;/span&gt; &lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Get selection differentials and correlations among traits in one data frame&lt;/span&gt;&lt;br /&gt;dat&lt;em&gt;seldiffs &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/stats/cov&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;cov&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat&lt;/em&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# calculates sel&amp;#39;n differentials using cov&lt;/span&gt;&lt;br /&gt;dat&lt;em&gt;selcorrs &amp;lt;- cor.prob&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat&lt;/em&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# use P-values above diagonal for significance of sel&amp;#39;n differentials in dat&lt;em&gt;seldiffs&lt;/span&gt;&lt;br /&gt;dat&lt;/em&gt;seldiffs&lt;em&gt;selcorrs &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/data.frame&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat&lt;/em&gt;seldiffs&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; dat&lt;em&gt;selcorrs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# combine the two&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;##########################################################################&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;####Selection gradients&lt;/span&gt;&lt;br /&gt;dat&lt;/em&gt;selngrad &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/stats/lm&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;lm&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;relfitness ~ trait1 * trait2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt; = dat&lt;em&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/summary&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;summary&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat&lt;/em&gt;selngrad&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# where &amp;quot;Estimate&amp;quot; is our sel&amp;#39;n gradient&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;####Check assumptions&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/stats/shapiro.test&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;shapiro.test&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat&lt;em&gt;selngrad$residuals&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# normality, bummer, non-normal&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/hist&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;hist&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat&lt;/em&gt;selngrad$residuals&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# plot residuals&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/VIF&quot;&gt;vif&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat&lt;em&gt;selngrad&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# check variance inflation factors (need package car), everything looks fine&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/plot&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;plot&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat&lt;/em&gt;selngrad&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# cycle through diagnostic plots&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;############################################################################&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Plot data&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;dat&lt;em&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trait1&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; relfitness&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom&lt;/em&gt;point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom_smooth&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;method = &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;lm&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; labs&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;Trait 1&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;Relative fitness&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;myplot.jpeg&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Plot of relative fitness vs. trait 1 standardized&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://2.bp.blogspot.com/-OVQl92LOmZY/TWZ8RW9lHlI/AAAAAAAAEaQ/MGB39Lyghig/s1600/myplot.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;400&quot; src=&quot;http://2.bp.blogspot.com/-OVQl92LOmZY/TWZ8RW9lHlI/AAAAAAAAEaQ/MGB39Lyghig/s400/myplot.jpeg&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Phylogenetic analysis with the phangorn package: an example</title>
   <link href="http://recology.info//2011/02/phylogenetic-analysis-with-the-phangorn-package-an-example/"/>
   <updated>2011-02-21T10:31:00-08:00</updated>
   <id>http://recology.info//2011/02/phylogenetic-analysis-with-the-phangorn-package-an-example</id>
   <content type="html">&lt;p&gt;The phangorn package is a relatively new package in R for the analysis and comparison of phylogenies.&amp;nbsp;See &lt;a href=&quot;http://bioinformatics.oxfordjournals.org/content/27/4/592.short&quot;&gt;here&lt;/a&gt; for the Bioinformatics paper and &lt;a href=&quot;http://cran.r-project.org/web/packages/phangorn/index.html&quot;&gt;here&lt;/a&gt; for the package.&amp;nbsp;Here is an example of using phangorn from getting sequences to making phylogenies and visualizing them:&lt;br /&gt;&lt;br /&gt;&lt;u&gt;Getting sequences from Genbank&lt;/u&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;u&gt;Multiple alignment&lt;/u&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;u&gt;Maximum likelihood tree reconstruction&lt;/u&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;u&gt;Visualizing trees&lt;/u&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;u&gt;Visualizing trees and traits&lt;/u&gt;&lt;br /&gt;Make fake traits:&lt;br /&gt;&lt;br /&gt;Visualize them on trees:&lt;br /&gt;&lt;u&gt;&lt;br /&gt;&lt;/u&gt;&lt;br /&gt;&lt;u&gt;&lt;br /&gt;&lt;/u&gt;&lt;br /&gt;&lt;u&gt;&lt;br /&gt;&lt;/u&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Farmer's markets data</title>
   <link href="http://recology.info//2011/02/farmer-s-markets-data/"/>
   <updated>2011-02-16T20:41:00-08:00</updated>
   <id>http://recology.info//2011/02/farmer-s-markets-data</id>
   <content type="html">&lt;p&gt;I combined USDA data on farmer&amp;#39;s markets in the US with population census data to get an idea of the disparity in farmers markets by state, and then also expressed per capita.&lt;br /&gt;&lt;br /&gt;Download USDA data &lt;a href=&quot;http://www.ams.usda.gov/AMSv1.0/getfile?dDocName=STELPRDC5087258&amp;amp;acct=frmrdirmkt&quot;&gt;here&lt;/a&gt;. The formatted file I used below is &lt;a href=&quot;http://schamber.files.wordpress.com/2011/02/farmmarkets.xls&quot;&gt;here&lt;/a&gt; (in excel format, although I read into R as csv file). The census data is read from url as below.&lt;br /&gt;&lt;br /&gt;California has a ton of absolute number of farmer&amp;#39;s markets, but Vermont takes the cake by far with number of markets per capita. Iowa comes in a distant second behind Vermont in markets per capita.&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;The code:&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;######## Farmer&amp;#39;s Markets #############&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/setwd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;setwd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;/Mac/R&lt;em&gt;stuff/Blog&lt;/em&gt;etc/USDAFarmersMarkets&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Set to your working directory, this is where you want to call files from and write files to&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/install.packages&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;install.packages&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;ggplot2&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;RCurl&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;  &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# install all packags required below&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/require&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;require&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/ggplot2&quot;&gt;ggplot2&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# plyr is libraried along with ggplot2, as ggplot2 uses plyr (as well as package reshape) functions&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# read market data&lt;/span&gt;&lt;br /&gt;markets &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/utils/read.csv&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;read.csv&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;farmmarkets.csv&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;markets$state &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/as.factor&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;as.factor&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;Wyoming &amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;Wyoming&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; markets$LocAddState&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# there was a typo for Wyoming&lt;/span&gt;&lt;br /&gt;markets &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/stats/na.omit&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;na.omit&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;markets&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/str&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;str&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;markets&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# read population census data&lt;/span&gt;&lt;br /&gt;popcen &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/utils/read.csv&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;read.csv&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;http://www.census.gov/popest/national/files/NST&lt;em&gt;EST2009&lt;/em&gt;ALLDATA.csv&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;popcen &amp;lt;- popcen&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;6&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;17&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/str&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;str&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;popcen&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# summarize&lt;/span&gt;&lt;br /&gt;markets_ &amp;lt;- ddply&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;markets&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; .&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;state&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; summarise&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; markets&lt;em&gt;n = &lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;LocAddState&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;markets&lt;/em&gt;pop_ &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/merge&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;merge&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;markets&lt;em&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; popcen&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;-&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; by.x = &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;state&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; by.y = &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;NAME&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# merge two data sets&lt;/span&gt;&lt;br /&gt;markets&lt;/em&gt;pop&lt;em&gt;$marketspercap &amp;lt;- markets&lt;/em&gt;pop&lt;em&gt;$markets&lt;/em&gt;n/markets&lt;em&gt;pop&lt;/em&gt;$POPESTIMATE2009 &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# create column of markets per capita&lt;/span&gt;&lt;br /&gt;markets&lt;em&gt;pop&lt;/em&gt;$markets&lt;em&gt;n&lt;/em&gt;st &amp;lt;- markets&lt;em&gt;pop&lt;/em&gt;$markets&lt;em&gt;n/max&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;markets&lt;/em&gt;pop&lt;em&gt;$markets&lt;/em&gt;n&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;markets&lt;em&gt;pop&lt;/em&gt;$marketspercap&lt;em&gt;st &amp;lt;- markets&lt;/em&gt;pop&lt;em&gt;$marketspercap/max&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;markets&lt;/em&gt;pop&lt;em&gt;$marketspercap&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# plot&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;melt&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;markets&lt;/em&gt;pop&lt;em&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;-&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x = state&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; y = value&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; fill = variable&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom&lt;/em&gt;bar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;position = &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;dodge&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; coord&lt;em&gt;flip&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;fmarkets&lt;/em&gt;barplot.jpeg&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;Note: the x-axis here is standardized value of number of markets (markets&lt;em&gt;n&lt;/em&gt;st) and number of markets per capita (marketspercap&lt;em&gt;st).&lt;br /&gt;&amp;lt;a href=&amp;quot;http://4.bp.blogspot.com/-ceVMLE6yfbk/TVyE31U6LTI/AAAAAAAAEaM/PM2LCHnLPMM/s1600/fmarkets&lt;/em&gt;barplot.jpeg&amp;quot; imageanchor=&amp;quot;1&amp;quot; style=&amp;quot;clear: left; margin-bottom: 1em; margin-right: 1em;&amp;quot;&amp;gt;&lt;img border=&quot;0&quot; height=&quot;452&quot; src=&quot;http://4.bp.blogspot.com/-ceVMLE6yfbk/TVyE31U6LTI/AAAAAAAAEaM/PM2LCHnLPMM/s640/fmarkets_barplot.jpeg&quot; style=&quot;cursor: move;&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow-x: auto; overflow-y: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# maps&lt;/span&gt;&lt;br /&gt;try&lt;em&gt;require&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;maps&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;states &amp;lt;- map&lt;/em&gt;data&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;state&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;markets&lt;em&gt;pop&lt;/em&gt;$statelow &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/tolower&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;tolower&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;markets&lt;em&gt;pop&lt;/em&gt;$state&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;survey&lt;em&gt;sum&lt;/em&gt;map &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/merge&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;merge&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;states&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; markets&lt;em&gt;pop&lt;/em&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; by.x = &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;region&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; by.y = &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;statelow&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;survey&lt;em&gt;sum&lt;/em&gt;map &amp;lt;- survey&lt;em&gt;sum&lt;/em&gt;map&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/order&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;order&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;survey&lt;em&gt;sum&lt;/em&gt;map$order&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/str&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;str&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;survey&lt;em&gt;sum&lt;/em&gt;map&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;qplot&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;long&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; lat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt; = survey&lt;em&gt;sum&lt;/em&gt;map&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; group = group&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; fill = markets&lt;em&gt;n&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; geom = &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;polygon&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; main = &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;Total farmer&amp;#39;s markets&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + &lt;br /&gt; scale&lt;/em&gt;fill&lt;em&gt;gradient&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;low=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;green&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; high=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;black&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;fmarkets&lt;/em&gt;map&lt;em&gt;green.jpeg&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;a href=&amp;quot;http://2.bp.blogspot.com/-I-Hqg4GtJs0/TVyE3I7BmYI/AAAAAAAAEaI/xNqBq4BqemI/s1600/fmarkets&lt;/em&gt;map&lt;em&gt;green.jpeg&amp;quot; imageanchor=&amp;quot;1&amp;quot; style=&amp;quot;clear: left; margin-bottom: 1em; margin-right: 1em;&amp;quot;&amp;gt;&amp;lt;img border=&amp;quot;0&amp;quot; height=&amp;quot;452&amp;quot; src=&amp;quot;http://2.bp.blogspot.com/-I-Hqg4GtJs0/TVyE3I7BmYI/AAAAAAAAEaI/xNqBq4BqemI/s640/fmarkets&lt;/em&gt;map&lt;em&gt;green.jpeg&amp;quot; style=&amp;quot;cursor: move;&amp;quot; width=&amp;quot;640&amp;quot; /&amp;gt;&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow-x: auto; overflow-y: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&gt;qplot&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;long&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; lat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt; = survey&lt;/em&gt;sum&lt;em&gt;map&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; group = group&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; fill = marketspercap&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; geom = &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;polygon&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; main = &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;Farmer&amp;#39;s markets per person&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; scale&lt;/em&gt;fill&lt;em&gt;gradient&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;low=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;green&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; high=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;black&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;fmarkerspercap&lt;/em&gt;map&lt;em&gt;green.jpeg&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div style=&quot;margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;/div&gt;&lt;div&gt;&lt;br /&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&amp;lt;a href=&amp;quot;http://4.bp.blogspot.com/-g8zapywmu7M/TVyE2qNzFnI/AAAAAAAAEaE/yrjk5txjFgo/s1600/fmarkerspercap&lt;/em&gt;map&lt;em&gt;green.jpeg&amp;quot; imageanchor=&amp;quot;1&amp;quot; style=&amp;quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&amp;quot;&amp;gt;&amp;lt;img border=&amp;quot;0&amp;quot; height=&amp;quot;453&amp;quot; src=&amp;quot;http://4.bp.blogspot.com/-g8zapywmu7M/TVyE2qNzFnI/AAAAAAAAEaE/yrjk5txjFgo/s640/fmarkerspercap&lt;/em&gt;map&lt;em&gt;green.jpeg&amp;quot; width=&amp;quot;640&amp;quot; /&amp;gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&amp;lt;a href=&amp;quot;http://2.bp.blogspot.com/-I-Hqg4GtJs0/TVyE3I7BmYI/AAAAAAAAEaI/xNqBq4BqemI/s1600/fmarkets&lt;/em&gt;map&lt;em&gt;green.jpeg&amp;quot; imageanchor=&amp;quot;1&amp;quot; style=&amp;quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&amp;quot;&amp;gt;&lt;br /&gt;&lt;/a&gt;&lt;/div&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&amp;lt;a href=&amp;quot;http://4.bp.blogspot.com/-ceVMLE6yfbk/TVyE31U6LTI/AAAAAAAAEaM/PM2LCHnLPMM/s1600/fmarkets&lt;/em&gt;barplot.jpeg&amp;quot; imageanchor=&amp;quot;1&amp;quot; style=&amp;quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&amp;quot;&amp;gt;&lt;br /&gt;&lt;/a&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Troubling news for the teaching of evolution</title>
   <link href="http://recology.info//2011/02/troubling-news-for-teaching-of/"/>
   <updated>2011-02-09T06:20:00-08:00</updated>
   <id>http://recology.info//2011/02/troubling-news-for-teaching-of</id>
   <content type="html">&lt;p&gt;[UPDATE: i remade the maps in green, hope that helps...]&lt;br /&gt;&lt;br /&gt;A recent survey reported in &lt;a href=&quot;http://www.sciencemag.org.silk.library.umass.edu/content/331/6016/404.full&quot;&gt;Science&lt;/a&gt;&amp;nbsp;(&amp;quot;Defeating Creationism in the Courtroom, but not in the Classroom&amp;quot;) found that biology teachers in high school do not often accept the basis of their discipline, as do teachers in other disciplines, and thus may not teach evolution appropriately.&amp;nbsp;Read more here:&amp;nbsp;&lt;a href=&quot;http://www.nytimes.com/2011/02/08/science/08creationism.html?emc=eta1&quot;&gt;New York Times&lt;/a&gt;.&lt;br /&gt;&lt;br /&gt;I took a little time to play with the data provided online along with the Science article. The data is available on the Science website along with the article, and the dataset I read into R is unchanged from the original. The states abbreviations file is &lt;a href=&quot;http://schamber.files.wordpress.com/2011/02/states_abbreviations.xls&quot;&gt;here&lt;/a&gt;&amp;nbsp;(as a .xls). Here goes:&lt;br /&gt;&lt;br /&gt;I only played with two survey questions: q1b (no. of hours ecology is taught per year), and q1d (no. of hours evolution is taught per year). I looked at ecology and evolution as this blog is about ecology and evolution. It seems that some states that teach a lot of ecology teach&amp;nbsp;a lot of evolution, but I found no correlation between the two without extreme outliers. I&amp;nbsp;couldn’t help but notice my home state, TX, is near the bottom of the list on both counts - go TX! The teaching of evolution on the map produced below is less predictable than I would have though just based on my assumptions about political will in each state.&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Analyses of Conditionality Data set of all variables, except for latitude, etc.&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/setwd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;setwd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;/Mac/R&lt;em&gt;stuff/Blog&lt;/em&gt;etc/EvolutionTeaching/&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Set working directory&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/ggplot2&quot;&gt;ggplot2&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# read in data, and prepare new columns&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/MASS/survey&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;survey&lt;/span&gt;&lt;/a&gt; &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/utils/read.csv&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;read.csv&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;berkmandata.csv&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/str&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;str&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/MASS/survey&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;survey&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;) # (I do realize that survey is a data object in the MASS package)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Assign actual hours to survey answers &lt;/span&gt;&lt;br /&gt;ecol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/MASS/survey&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;survey&lt;/span&gt;&lt;/a&gt;$q1b&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ecol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;1.5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ecol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ecol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;8&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ecol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;13&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ecol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;6&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;18&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ecol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;7&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;evol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/MASS/survey&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;survey&lt;/span&gt;&lt;/a&gt;$q1d&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;evol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;1.5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;evol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;evol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;8&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;evol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;5&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;13&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;evol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;6&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;18&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;evol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/gsub&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;gsub&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;7&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #cc66cc;&quot;&gt;20&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/MASS/survey&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;survey&lt;/span&gt;&lt;/a&gt;$ecol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/as.numeric&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;as.numeric&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/MASS/survey&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;survey&lt;/span&gt;&lt;/a&gt;$evol &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/as.numeric&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;as.numeric&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# ddply it&lt;/span&gt;&lt;br /&gt;survey&lt;em&gt;sum &amp;lt;- ddply&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/MASS/survey&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;survey&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; .&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;st&lt;/em&gt;posta&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; summarise&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; mean&lt;em&gt;ecol&lt;/em&gt;hrs = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ecol&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; na.rm=T&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; mean&lt;em&gt;evol&lt;/em&gt;hrs = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;evol&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; na.rm=T&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; se&lt;em&gt;ecol&lt;/em&gt;hrs = &lt;a href=&quot;http://inside-r.org/r-doc/stats/sd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;sd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ecol&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; na.rm=T&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;/sqrt&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; se&lt;em&gt;evol&lt;/em&gt;hrs = &lt;a href=&quot;http://inside-r.org/r-doc/stats/sd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;sd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;evol&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; na.rm=T&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;/sqrt&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; num&lt;em&gt;teachers = &lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;st&lt;/em&gt;posta&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# plotting&lt;/span&gt;&lt;br /&gt;limits&lt;em&gt;ecol &amp;lt;- aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ymax = mean&lt;/em&gt;ecol&lt;em&gt;hrs + se&lt;/em&gt;ecol&lt;em&gt;hrs&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ymin = mean&lt;/em&gt;ecol&lt;em&gt;hrs - se&lt;/em&gt;ecol&lt;em&gt;hrs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;limits&lt;/em&gt;evol &amp;lt;- aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ymax = mean&lt;em&gt;evol&lt;/em&gt;hrs + se&lt;em&gt;evol&lt;/em&gt;hrs&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ymin = mean&lt;em&gt;evol&lt;/em&gt;hrs - se&lt;em&gt;evol&lt;/em&gt;hrs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;survey&lt;em&gt;sum&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x = &lt;a href=&quot;http://inside-r.org/r-doc/stats/reorder&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;reorder&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;st&lt;/em&gt;posta&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; mean&lt;em&gt;ecol&lt;/em&gt;hrs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; y = mean&lt;em&gt;ecol&lt;/em&gt;hrs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom&lt;em&gt;point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom&lt;/em&gt;errorbar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;limits&lt;em&gt;ecol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom&lt;/em&gt;text&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;label = num&lt;em&gt;teachers&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; vjust = &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; hjust = -&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; size = &lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; coord&lt;/em&gt;flip&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; labs&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x = &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;State&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; y = &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;Mean hours of ecology taught &lt;span style=&quot;color: #000099; font-weight: bold;&quot;&gt;\n&lt;/span&gt; per year (+/- 1 se)&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #009900;&quot;&gt;####SMALL NUMBERS BY BARS ARE NUMBER OF TEACHERS THAT RESPONDED TO THE SURVEY&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;a href=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TVKfu6zmnJI/AAAAAAAAEZw/b49TxhUjMmk/s1600/survey_ecol.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;640&quot; src=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TVKfu6zmnJI/AAAAAAAAEZw/b49TxhUjMmk/s640/survey_ecol.jpeg&quot; width=&quot;392&quot; /&gt;&lt;/a&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times; white-space: normal;&quot;&gt;&lt;/span&gt;&lt;/pre&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TVKfu6zmnJI/AAAAAAAAEZw/b49TxhUjMmk/s1600/survey_ecol.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;br /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&amp;nbsp;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/packages/cran/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;survey&lt;em&gt;sum&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x = &lt;a href=&quot;http://inside-r.org/r-doc/stats/reorder&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;reorder&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;st&lt;/em&gt;posta&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; mean&lt;em&gt;evol&lt;/em&gt;hrs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; y = mean&lt;em&gt;evol&lt;/em&gt;hrs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom&lt;em&gt;point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom&lt;/em&gt;errorbar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;limits&lt;em&gt;evol&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; geom&lt;/em&gt;text&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;label = num&lt;em&gt;teachers&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; vjust = &lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; hjust = -&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; size = &lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; coord&lt;/em&gt;flip&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; +&lt;br /&gt; labs&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x = &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;State&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; y = &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;Mean hours of evolution taught &lt;span style=&quot;color: #000099; font-weight: bold;&quot;&gt;\n&lt;/span&gt; per year (+/- 1 se)&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: #009900;&quot;&gt;####SMALL NUMBERS BY BARS ARE NUMBER OF TEACHERS THAT RESPONDED TO THE SURVEY&lt;/span&gt;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times; white-space: normal;&quot;&gt;&lt;a href=&quot;http://4.bp.blogspot.com/_fANWq796z-w/TVKfuQSN7sI/AAAAAAAAEZs/o1EIVgS7lkA/s1600/survey_evol.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;640&quot; src=&quot;http://4.bp.blogspot.com/_fANWq796z-w/TVKfuQSN7sI/AAAAAAAAEZs/o1EIVgS7lkA/s640/survey_evol.jpeg&quot; width=&quot;392&quot; /&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# map&lt;/span&gt;&lt;br /&gt;try&lt;em&gt;require&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;maps&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;states &amp;lt;- map&lt;/em&gt;data&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;state&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;statenames &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/utils/read.csv&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;read.csv&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;/Mac/R&lt;em&gt;stuff/Code/states&lt;/em&gt;abbreviations.csv&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;survey&lt;em&gt;sum&lt;/em&gt; &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/merge&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;merge&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;survey&lt;em&gt;sum&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; statenames&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; by.x = &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;st&lt;/em&gt;posta&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; by.y = &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;state&lt;em&gt;abbrev&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;survey&lt;/em&gt;sum&lt;em&gt;map &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/merge&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;merge&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;states&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; survey&lt;/em&gt;sum&lt;em&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; by.x = &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;region&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; by.y = &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;state&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;survey&lt;/em&gt;sum&lt;em&gt;map &amp;lt;- survey&lt;/em&gt;sum&lt;em&gt;map&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/order&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;order&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;survey&lt;/em&gt;sum&lt;em&gt;map$order&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times; white-space: normal;&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&gt;qplot&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;long&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; lat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt; = survey&lt;/em&gt;sum&lt;em&gt;map&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; group = group&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; fill = mean&lt;/em&gt;ecol&lt;em&gt;hrs&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; geom = &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;polygon&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + scale&lt;/em&gt;fill&lt;em&gt;gradient&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;low=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;black&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; high=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;green&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot;&gt;&lt;span style=&quot;color: #009900;&quot;&gt;&lt;/span&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times; white-space: normal;&quot;&gt;&amp;lt;a href=&amp;quot;http://3.bp.blogspot.com/-cNO2YWHX0Hk/TVQP5B7VxmI/AAAAAAAAEZ8/GBYKNR5vUBs/s1600/survey&lt;/em&gt;ecol&lt;em&gt;map&lt;/em&gt;green.jpeg&amp;quot; imageanchor=&amp;quot;1&amp;quot; style=&amp;quot;clear: left; margin-bottom: 1em; margin-right: 1em;&amp;quot;&amp;gt;&lt;img border=&quot;0&quot; height=&quot;458&quot; src=&quot;http://3.bp.blogspot.com/-cNO2YWHX0Hk/TVQP5B7VxmI/AAAAAAAAEZ8/GBYKNR5vUBs/s640/survey_ecol_map_green.jpeg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/span&gt;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/pre&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;pre class=&quot;r geshifilter-R&quot;&gt;&amp;nbsp;&lt;br /&gt;&lt;br /&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times; white-space: normal;&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&gt;qplot&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;long&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; lat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt; = survey&lt;em&gt;sum&lt;/em&gt;map&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; group = group&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; fill = mean&lt;em&gt;evol&lt;/em&gt;hrs&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; geom = &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;polygon&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + scale&lt;em&gt;fill&lt;/em&gt;gradient&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;low=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;black&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; high=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;green&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot;&gt;&lt;span style=&quot;color: #009900; font-family: monospace;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: black; font-family: Times; white-space: normal;&quot;&gt;&lt;a href=&quot;http://2.bp.blogspot.com/-eLaIU-xsE78/TVQP5ol2gBI/AAAAAAAAEaA/vmGvlFhLmfE/s1600/survey_evol_map_green.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;458&quot; src=&quot;http://2.bp.blogspot.com/-eLaIU-xsE78/TVQP5ol2gBI/AAAAAAAAEaA/vmGvlFhLmfE/s640/survey_evol_map_green.jpeg&quot; style=&quot;cursor: move;&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;white-space: normal;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;font-family: Times;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;white-space: normal;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Plants are less sex deprived when next to closely related neighbors</title>
   <link href="http://recology.info//2011/02/plants-are-less-sex-deprived-when-next-to-closely-related-neighbors/"/>
   <updated>2011-02-01T20:59:00-08:00</updated>
   <id>http://recology.info//2011/02/plants-are-less-sex-deprived-when-next-to-closely-related-neighbors</id>
   <content type="html">&lt;p&gt;A new early online paper in &lt;a href=&quot;http://www.amjbot.org/cgi/content/abstract/ajb.1000329v1&quot;&gt;American Journal of Botany&lt;/a&gt; by &lt;a href=&quot;http://mysite.science.uottawa.ca/rsargent/&quot;&gt;Risa Sargent&lt;/a&gt; and colleagues suggests that plants are less sex deprived (pollen limited) in vernal pools that have more closely related plant species. Vernal pools are (at least in my experience) small (to quite large) depressions that fill up with water with winter rains, and dry out completely in the summer. Vernal pool adapted plants flower in rings down the pool as the water dries up. Aquatic invertebrates and some herps can last through the summer by burrowing in the soil.&lt;/p&gt;

&lt;p&gt;The study did hand pollination experiments with a focal species, &lt;em&gt;Lasthenia fremontii&lt;/em&gt;. They examined the relationship between these pollen limitation experiments and the relatedness of &lt;em&gt;L. fremontii&lt;/em&gt; to the rest of the plant community in each pool.&lt;/p&gt;

&lt;p&gt;Plant species richness was not related to pollen limitation. Thus, at least in their study with vernal pools in California, relatedness to your plant neighbors has a greater impact than plant richness.&lt;/p&gt;

&lt;p&gt;The great thing about vernal pools is that they are truly terrestrial islands of habitat, surrounded by inhospitable habitat for pool species. Many vernal pools are created artificially for habitat conservation easements (e.g., &lt;a href=&quot;http://www.vollmarconsulting.com/projects/caltrans-madera-pools/index.html&quot;&gt;here&lt;/a&gt;. Perhaps someone can experimentally manipulate phylogenetic diversity in artificially created pools to really get at the causal links.&lt;/p&gt;

&lt;p&gt;p.s. Ok, this post is not terribly R related, except for that this paper used R for some of their statistics.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Good riddance to Excel pivot tables</title>
   <link href="http://recology.info//2011/01/good-riddance-to-excel-pivot-tables/"/>
   <updated>2011-01-30T20:36:00-08:00</updated>
   <id>http://recology.info//2011/01/good-riddance-to-excel-pivot-tables</id>
   <content type="html">&lt;p&gt;Excel pivot tables have been how I have reorganized data...up until now. These are just a couple of examples why R is superior to Excel for reorganizing data:&lt;/p&gt;

&lt;p&gt;UPDATE: I fixed the code to use &amp;#39;dcast&amp;#39; instead of &amp;#39;cast&amp;#39;. And library(ggplot2) instead of library(plyr) [plyr is called along with ggplot2]. Thanks Bob!&lt;/p&gt;

&lt;p&gt;Also, see another post on this topic &lt;a href=&quot;http://news.mrdwab.com/2010/08/08/using-the-reshape-packagein-r/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/1578361.js?file=goodriddance.R&quot;&gt;&lt;/script&gt;

&lt;p&gt;&lt;img src=&quot;/pivottable1.png&quot; alt=&quot;Figure&quot;&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>R and Google Visualization API: Fish harvests</title>
   <link href="http://recology.info//2011/01/r-and-google-visualization-api-fish/"/>
   <updated>2011-01-17T19:04:00-08:00</updated>
   <id>http://recology.info//2011/01/r-and-google-visualization-api-fish</id>
   <content type="html">&lt;p&gt;I recently gathered fish harvest data from the U.S. National Oceanic and Atmospheric Administarion (NOAA), which I downloaded from &lt;a href=&quot;http://infochimps.com/&quot;&gt;Infochimps&lt;/a&gt;. The data is fish harvest by weight and value, by species for 21 years, from 1985 to 2005.&lt;br /&gt;&lt;br /&gt;Here is a link to a google document of the data I used below. I had to do some minor pocessing in Excel first; thus the link to this data.&lt;br /&gt;https://spreadsheets.google.com/ccc?key=0Aq6aW8n11tS&lt;em&gt;dFRySXQzYkppLXFaU2F5aC04d19ZS0E&amp;amp;hl=en&lt;br /&gt;&lt;br /&gt;Get the original data from Infochimps here:&lt;br /&gt;http://infochimps.com/datasets/domestic-fish-and-shellfish-catch-value-and-price-by-species-198&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: #666666;&quot;&gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: #666666;&quot;&gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span class=&quot;Apple-style-span&quot; style=&quot;color: #666666;&quot;&gt;&lt;i&gt;&lt;br /&gt;&lt;/i&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;&lt;br /&gt;&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;################# Fish harvest data ########################################&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/setwd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;setwd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;/Mac/R&lt;/em&gt;stuff/Blog&lt;em&gt;etc/Infochimps/Fishharvest&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Set path&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://www.blogger.com/packages/ggplot2&quot;&gt;ggplot2&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;googleVis&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://www.blogger.com/packages/Hmisc&quot;&gt;Hmisc&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;fish &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/utils/read.csv&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;read.csv&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;fishharvest.csv&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# read data&lt;/span&gt;&lt;br /&gt;fish2 &amp;lt;- melt&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fish&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;id=&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;measure=&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;24&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# melt table&lt;/span&gt;&lt;br /&gt;year &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1985&lt;/span&gt;:&lt;span style=&quot;color: #cc66cc;&quot;&gt;2005&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; each = &lt;span style=&quot;color: #cc66cc;&quot;&gt;117&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;fish2 &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/data.frame&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fish2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;year&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# replace year with actual values&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Google visusalization API&lt;/span&gt;&lt;br /&gt;fishdata &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/data.frame&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/subset&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;subset&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fish2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;fish2$var == &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;-&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;value&lt;em&gt;1000dollars=&lt;a href=&quot;http://inside-r.org/r-doc/base/subset&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;subset&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fish2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;fish2$var == &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;value&lt;/em&gt;1000dollars&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;-&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/names&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;names&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fishdata&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt; &amp;lt;- &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;&lt;/span&gt;&lt;br /&gt;fishharvest &amp;lt;- gvisMotionChart&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fishdata&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; idvar=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;species&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; timevar=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;year&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/plot&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;plot&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fishharvest&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;script src=&quot;http://www.google.com/jsapi&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;&lt;br /&gt;&lt;script type=&quot;text/javascript&quot;&gt;google.load(&amp;quot;visualization&amp;quot;, &amp;quot;1&amp;quot;, { packages:[&amp;quot;motionchart&amp;quot;] });google.setOnLoadCallback(drawChart);function drawChart() {var data = new google.visualization.DataTable();var datajson = [ [ &amp;quot;Anchovies&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 14566,  2704 ],[ &amp;quot;Bluefish&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 13743,  2363 ],[ &amp;quot;Butterfish&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 10338,  3537 ],[ &amp;quot;Cod, Atlantic&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 82823, 35140 ],[ &amp;quot;Cod, Pacific&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.2028e+05, 18556 ],[ &amp;quot;Croaker&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 11088,  3658 ],[ &amp;quot;Flounders&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.9572e+05,1.2912e+05 ],[ &amp;quot;Haddock&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 14416, 13545 ],[ &amp;quot;Halibut&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 61032, 38376 ],[ &amp;quot;Herring, sea; Atlantic &amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 57133,  2968 ],[ &amp;quot;Herring, sea; Pacific&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.4207e+05, 47025 ],[ &amp;quot;Jack mackerel&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 20852,  1770 ],[ &amp;quot;Mackerel, Chub&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 75453,  6324 ],[ &amp;quot;Menhaden&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,2.7394e+06,1.0068e+05 ],[ &amp;quot;Mullet&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 21205,  5720 ],[ &amp;quot;Ocean perch, Atlantic&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  9666,  3179 ],[ &amp;quot;Ocean perch, Pacific&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  9034,  1757 ],[ &amp;quot;Pollock, Atlantic&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 43477,  6978 ],[ &amp;quot;Pollock, Alaska&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 92833,  5409 ],[ &amp;quot;Rockfish&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 82109, 23107 ],[ &amp;quot;Sablefish&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 63380, 28692 ],[ &amp;quot;Salmon&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,7.2695e+05,4.398e+05 ],[ &amp;quot;Scup or porgy&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 15996,  9338 ],[ &amp;quot;Sea trout, gray&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 16400,  7330 ],[ &amp;quot;Shark, Dogfish&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 11563,   842 ],[ &amp;quot;Snapper, red&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  5181, 10661 ],[ &amp;quot;Swordfish&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 12258, 33191 ],[ &amp;quot;Tuna&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 83054, 52515 ],[ &amp;quot;Whiting (Atlantic, silver)&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 44545,  8274 ],[ &amp;quot;Whiting (Pacific, hake)&amp;quot;,1985,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 16316,   792 ],[ &amp;quot;Clams&amp;quot;,1985,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.5055e+05,1.2835e+05 ],[ &amp;quot;Crabs&amp;quot;,1985,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,3.3763e+05,2.0304e+05 ],[ &amp;quot;Lobsters: American&amp;quot;,1985,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 46152,1.149e+05 ],[ &amp;quot;Oysters&amp;quot;,1985,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 44173, 70053 ],[ &amp;quot;Scallops, Calico&amp;quot;,1985,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 12513,  1281 ],[ &amp;quot;Scallops, sea&amp;quot;,1985,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 15829, 74562 ],[ &amp;quot;Shrimp&amp;quot;,1985,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,3.3369e+05,4.7285e+05 ],[ &amp;quot;Squid, Atlantic&amp;quot;,1985,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  7157,  7256 ],[ &amp;quot;Squid, Pacific&amp;quot;,1985,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 22276,  4047 ],[ &amp;quot;Anchovies&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 13436,  2523 ],[ &amp;quot;Bluefish&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 13968,  2413 ],[ &amp;quot;Butterfish&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  9880,  6576 ],[ &amp;quot;Cod, Atlantic&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 61134, 36142 ],[ &amp;quot;Cod, Pacific&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.0444e+05, 11337 ],[ &amp;quot;Croaker&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 12382,  3883 ],[ &amp;quot;Flounders&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.6905e+05,1.2459e+05 ],[ &amp;quot;Haddock&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 10968, 10911 ],[ &amp;quot;Halibut&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 77691, 82925 ],[ &amp;quot;Herring, sea; Atlantic &amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 79381,  4314 ],[ &amp;quot;Herring, sea; Pacific&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.3076e+05, 44598 ],[ &amp;quot;Jack mackerel&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 23672,  1775 ],[ &amp;quot;Mackerel, Chub&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 85444,  6408 ],[ &amp;quot;Menhaden&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,2.3914e+06, 93762 ],[ &amp;quot;Mullet&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 21646,  6043 ],[ &amp;quot;Ocean perch, Atlantic&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  6576,  3160 ],[ &amp;quot;Ocean perch, Pacific&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 15585,  3116 ],[ &amp;quot;Pollock, Atlantic&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 54469, 14044 ],[ &amp;quot;Pollock, Alaska&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.3042e+05,  7167 ],[ &amp;quot;Rockfish&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 92029, 28265 ],[ &amp;quot;Sablefish&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 84868, 45879 ],[ &amp;quot;Salmon&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,6.5852e+05,4.9394e+05 ],[ &amp;quot;Scup or porgy&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 16181,  9476 ],[ &amp;quot;Sea trout, gray&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 20602,  7086 ],[ &amp;quot;Shark, Dogfish&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 11114,   964 ],[ &amp;quot;Snapper, red&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  4489,  9820 ],[ &amp;quot;Swordfish&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  9671, 30508 ],[ &amp;quot;Tuna&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 87811, 54575 ],[ &amp;quot;Whiting (Atlantic, silver)&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 39924,  8312 ],[ &amp;quot;Whiting (Pacific, hake)&amp;quot;,1986,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 25615,  1182 ],[ &amp;quot;Clams&amp;quot;,1986,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.4539e+05,1.3491e+05 ],[ &amp;quot;Crabs&amp;quot;,1986,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,3.5566e+05,2.7014e+05 ],[ &amp;quot;Lobsters: American&amp;quot;,1986,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 46053,1.2056e+05 ],[ &amp;quot;Oysters&amp;quot;,1986,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 40544, 78068 ],[ &amp;quot;Scallops, Calico&amp;quot;,1986,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  1616,  3087 ],[ &amp;quot;Scallops, sea&amp;quot;,1986,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 19992, 97415 ],[ &amp;quot;Shrimp&amp;quot;,1986,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,4.0018e+05,6.6274e+05 ],[ &amp;quot;Squid, Atlantic&amp;quot;,1986,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 33145, 10279 ],[ &amp;quot;Squid, Pacific&amp;quot;,1986,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 42262,  4368 ],[ &amp;quot;Anchovies&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 12857,  2706 ],[ &amp;quot;Bluefish&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 15226,  3254 ],[ &amp;quot;Butterfish&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 10315,  6496 ],[ &amp;quot;Cod, Atlantic&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 59100, 44179 ],[ &amp;quot;Cod, Pacific&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.7061e+05, 31443 ],[ &amp;quot;Croaker&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 11044,  4396 ],[ &amp;quot;Flounders&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.9971e+05,1.4508e+05 ],[ &amp;quot;Haddock&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  6673,  8522 ],[ &amp;quot;Halibut&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 76107, 88254 ],[ &amp;quot;Herring, sea; Atlantic &amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 84536,  4368 ],[ &amp;quot;Herring, sea; Pacific&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.226e+05, 47916 ],[ &amp;quot;Jack mackerel&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 26671,  1831 ],[ &amp;quot;Mackerel, Chub&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 93755,  6433 ],[ &amp;quot;Menhaden&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,2.7123e+06,1.0442e+05 ],[ &amp;quot;Mullet&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 30125,  8224 ],[ &amp;quot;Ocean perch, Atlantic&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  4202,  2709 ],[ &amp;quot;Ocean perch, Pacific&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 19982,  4478 ],[ &amp;quot;Pollock, Atlantic&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 45645, 17916 ],[ &amp;quot;Pollock, Alaska&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,5.5205e+05, 45849 ],[ &amp;quot;Rockfish&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.1788e+05, 38153 ],[ &amp;quot;Sablefish&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.027e+05, 58107 ],[ &amp;quot;Salmon&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,5.6202e+05,5.9638e+05 ],[ &amp;quot;Scup or porgy&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 14295,  9810 ],[ &amp;quot;Sea trout, gray&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 17927,  7499 ],[ &amp;quot;Shark, Dogfish&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 14167,  1573 ],[ &amp;quot;Snapper, red&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  3732,  8661 ],[ &amp;quot;Swordfish&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  9761, 34974 ],[ &amp;quot;Tuna&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.0006e+05, 95803 ],[ &amp;quot;Whiting (Atlantic, silver)&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 34673, 11584 ],[ &amp;quot;Whiting (Pacific, hake)&amp;quot;,1987,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 38783,  1900 ],[ &amp;quot;Clams&amp;quot;,1987,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.3436e+05,1.3286e+05 ],[ &amp;quot;Crabs&amp;quot;,1987,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,3.8637e+05,3.2188e+05 ],[ &amp;quot;Lobsters: American&amp;quot;,1987,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 45558,1.3355e+05 ],[ &amp;quot;Oysters&amp;quot;,1987,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 39807, 92423 ],[ &amp;quot;Scallops, Calico&amp;quot;,1987,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  8155,  8889 ],[ &amp;quot;Scallops, sea&amp;quot;,1987,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 32038,1.3226e+05 ],[ &amp;quot;Shrimp&amp;quot;,1987,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,3.6314e+05,5.7808e+05 ],[ &amp;quot;Squid, Atlantic&amp;quot;,1987,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 38883, 12493 ],[ &amp;quot;Squid, Pacific&amp;quot;,1987,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 43166,  4300 ],[ &amp;quot;Anchovies&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 12425,  2615 ],[ &amp;quot;Bluefish&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 16853,  3012 ],[ &amp;quot;Butterfish&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  5441,  3407 ],[ &amp;quot;Cod, Atlantic&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 76073, 42941 ],[ &amp;quot;Cod, Pacific&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,2.6720e+05, 38429 ],[ &amp;quot;Croaker&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 10604,  4596 ],[ &amp;quot;Flounders&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,2.2862e+05,1.4014e+05 ],[ &amp;quot;Haddock&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  6429,  7030 ],[ &amp;quot;Halibut&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 81608, 72718 ],[ &amp;quot;Herring, sea; Atlantic &amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 90397,  5229 ],[ &amp;quot;Herring, sea; Pacific&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.3143e+05, 57431 ],[ &amp;quot;Jack mackerel&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 22546,  1685 ],[ &amp;quot;Mackerel, Chub&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.0034e+05,  7498 ],[ &amp;quot;Menhaden&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,2.0861e+06,1.057e+05 ],[ &amp;quot;Mullet&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 32642, 11218 ],[ &amp;quot;Ocean perch, Atlantic&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  2350,  1467 ],[ &amp;quot;Ocean perch, Pacific&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 11919,  2546 ],[ &amp;quot;Pollock, Atlantic&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 33052, 11071 ],[ &amp;quot;Pollock, Alaska&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.2573e+06, 95252 ],[ &amp;quot;Rockfish&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.2403e+05, 38663 ],[ &amp;quot;Sablefish&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.0751e+05, 91779 ],[ &amp;quot;Salmon&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,6.0615e+05,9.1067e+05 ],[ &amp;quot;Scup or porgy&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 14358,  9572 ],[ &amp;quot;Sea trout, gray&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 20533,  7948 ],[ &amp;quot;Shark, Dogfish&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 10070,   975 ],[ &amp;quot;Snapper, red&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  4154,  9496 ],[ &amp;quot;Swordfish&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 12818, 42703 ],[ &amp;quot;Tuna&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.1135e+05,1.2099e+05 ],[ &amp;quot;Whiting (Atlantic, silver)&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 35569,  8621 ],[ &amp;quot;Whiting (Pacific, hake)&amp;quot;,1988,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 15740,  1160 ],[ &amp;quot;Clams&amp;quot;,1988,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.3174e+05,1.3478e+05 ],[ &amp;quot;Crabs&amp;quot;,1988,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,4.5563e+05,3.8356e+05 ],[ &amp;quot;Lobsters: American&amp;quot;,1988,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 48643,1.4524e+05 ],[ &amp;quot;Oysters&amp;quot;,1988,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 31892, 78498 ],[ &amp;quot;Scallops, Calico&amp;quot;,1988,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 11868, 12462 ],[ &amp;quot;Scallops, sea&amp;quot;,1988,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 30557,1.2824e+05 ],[ &amp;quot;Shrimp&amp;quot;,1988,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,3.3087e+05,5.0603e+05 ],[ &amp;quot;Squid, Atlantic&amp;quot;,1988,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 46739, 16220 ],[ &amp;quot;Squid, Pacific&amp;quot;,1988,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 80426,  7689 ],[ &amp;quot;Anchovies&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 13389,  2696 ],[ &amp;quot;Bluefish&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 10429,  2245 ],[ &amp;quot;Butterfish&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  7051,  4108 ],[ &amp;quot;Cod, Atlantic&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 78423, 47772 ],[ &amp;quot;Cod, Pacific&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,3.7214e+05, 55375 ],[ &amp;quot;Croaker&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  8287,  4114 ],[ &amp;quot;Flounders&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,2.0249e+05,1.1983e+05 ],[ &amp;quot;Haddock&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  3808,  4538 ],[ &amp;quot;Halibut&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 75168, 85145 ],[ &amp;quot;Herring, sea; Atlantic &amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 89657,  5041 ],[ &amp;quot;Herring, sea; Pacific&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.1935e+05, 24391 ],[ &amp;quot;Jack mackerel&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 28422,  1927 ],[ &amp;quot;Mackerel, Chub&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 88667,  6023 ],[ &amp;quot;Menhaden&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.9887e+06, 84462 ],[ &amp;quot;Mullet&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 31594, 15023 ],[ &amp;quot;Ocean perch, Atlantic&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  1392,   919 ],[ &amp;quot;Ocean perch, Pacific&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 22332,  4646 ],[ &amp;quot;Pollock, Atlantic&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 23249,  9922 ],[ &amp;quot;Pollock, Alaska&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,2.362e+06,1.8692e+05 ],[ &amp;quot;Rockfish&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.3362e+05, 42338 ],[ &amp;quot;Sablefish&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 97590, 73272 ],[ &amp;quot;Salmon&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,7.8587e+05,5.9123e+05 ],[ &amp;quot;Scup or porgy&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  9582,  7720 ],[ &amp;quot;Sea trout, gray&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 14187,  7160 ],[ &amp;quot;Shark, Dogfish&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 12804,  1602 ],[ &amp;quot;Snapper, red&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  3959, 10329 ],[ &amp;quot;Swordfish&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 11768, 38321 ],[ &amp;quot;Tuna&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 89413,1.0354e+05 ],[ &amp;quot;Whiting (Atlantic, silver)&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 39353,  9403 ],[ &amp;quot;Whiting (Pacific, hake)&amp;quot;,1989,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 16564,  1094 ],[ &amp;quot;Clams&amp;quot;,1989,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.3817e+05,1.3494e+05 ],[ &amp;quot;Crabs&amp;quot;,1989,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,4.5838e+05,4.144e+05 ],[ &amp;quot;Lobsters: American&amp;quot;,1989,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 52926,1.4912e+05 ],[ &amp;quot;Oysters&amp;quot;,1989,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 29926, 83585 ],[ &amp;quot;Scallops, Calico&amp;quot;,1989,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  6580,  5928 ],[ &amp;quot;Scallops, sea&amp;quot;,1989,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 33757,1.3259e+05 ],[ &amp;quot;Shrimp&amp;quot;,1989,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,3.5151e+05,4.6757e+05 ],[ &amp;quot;Squid, Atlantic&amp;quot;,1989,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 66829, 25592 ],[ &amp;quot;Squid, Pacific&amp;quot;,1989,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 60509,  5509 ],[ &amp;quot;Anchovies&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 13189,  2723 ],[ &amp;quot;Bluefish&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 13802,  3239 ],[ &amp;quot;Butterfish&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  6532,  3334 ],[ &amp;quot;Cod, Atlantic&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 95881, 61329 ],[ &amp;quot;Cod, Pacific&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,5.264e+05, 91384 ],[ &amp;quot;Croaker&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  6720,  3390 ],[ &amp;quot;Flounders&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,2.5452e+05,1.1292e+05 ],[ &amp;quot;Haddock&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  5440,  5967 ],[ &amp;quot;Halibut&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 70454, 96700 ],[ &amp;quot;Herring, sea; Atlantic &amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.131e+05,  5746 ],[ &amp;quot;Herring, sea; Pacific&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.0812e+05, 32178 ],[ &amp;quot;Jack mackerel&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  8959,   535 ],[ &amp;quot;Mackerel, Chub&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 83721,  5081 ],[ &amp;quot;Menhaden&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.9622e+06, 93896 ],[ &amp;quot;Mullet&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 28554, 12738 ],[ &amp;quot;Ocean perch, Atlantic&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  1322,   703 ],[ &amp;quot;Ocean perch, Pacific&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 60972,  8494 ],[ &amp;quot;Pollock, Atlantic&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 21042, 10516 ],[ &amp;quot;Pollock, Alaska&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,3.108e+06,2.6834e+05 ],[ &amp;quot;Rockfish&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.3154e+05, 38504 ],[ &amp;quot;Sablefish&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 89802, 58865 ],[ &amp;quot;Salmon&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,7.3315e+05,6.1237e+05 ],[ &amp;quot;Scup or porgy&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 11452,  8677 ],[ &amp;quot;Sea trout, gray&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  9880,  5777 ],[ &amp;quot;Shark, Dogfish&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 35793,  3801 ],[ &amp;quot;Snapper, red&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  3101,  8411 ],[ &amp;quot;Swordfish&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 13797, 40851 ],[ &amp;quot;Tuna&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 62393,1.0504e+05 ],[ &amp;quot;Whiting (Atlantic, silver)&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 44500, 11281 ],[ &amp;quot;Whiting (Pacific, hake)&amp;quot;,1990,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 21232,  1229 ],[ &amp;quot;Clams&amp;quot;,1990,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.392e+05,1.3019e+05 ],[ &amp;quot;Crabs&amp;quot;,1990,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,4.9942e+05,4.8384e+05 ],[ &amp;quot;Lobsters: American&amp;quot;,1990,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 61017,1.5468e+05 ],[ &amp;quot;Oysters&amp;quot;,1990,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 29193, 93718 ],[ &amp;quot;Scallops, Calico&amp;quot;,1990,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,null,null ],[ &amp;quot;Scallops, sea&amp;quot;,1990,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 39917,1.537e+05 ],[ &amp;quot;Shrimp&amp;quot;,1990,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,3.4649e+05,4.9143e+05 ],[ &amp;quot;Squid, Atlantic&amp;quot;,1990,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 59809, 21178 ],[ &amp;quot;Squid, Pacific&amp;quot;,1990,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 36082,  2636 ],[ &amp;quot;Anchovies&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 19245,  6813 ],[ &amp;quot;Bluefish&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 13232,  2731 ],[ &amp;quot;Butterfish&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  6181,  3171 ],[ &amp;quot;Cod, Atlantic&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 92636, 74093 ],[ &amp;quot;Cod, Pacific&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,5.5372e+05,1.2293e+05 ],[ &amp;quot;Croaker&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  4761,  2146 ],[ &amp;quot;Flounders&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,4.0496e+05,1.4479e+05 ],[ &amp;quot;Haddock&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  4053,  4581 ],[ &amp;quot;Halibut&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 66339, 99532 ],[ &amp;quot;Herring, sea; Atlantic &amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.0707e+05,  6339 ],[ &amp;quot;Herring, sea; Pacific&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.2314e+05, 30832 ],[ &amp;quot;Jack mackerel&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  3618, 24433 ],[ &amp;quot;Mackerel, Chub&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 63336,  4872 ],[ &amp;quot;Menhaden&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.9771e+06, 77694 ],[ &amp;quot;Mullet&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 12717, 10569 ],[ &amp;quot;Ocean perch, Atlantic&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  1176,   543 ],[ &amp;quot;Ocean perch, Pacific&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 29994,  6445 ],[ &amp;quot;Pollock, Atlantic&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 17344,  9901 ],[ &amp;quot;Pollock, Alaska&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,2.8553e+06,2.4155e+05 ],[ &amp;quot;Rockfish&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 97466,1.0993e+05 ],[ &amp;quot;Sablefish&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 83610, 78166 ],[ &amp;quot;Salmon&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,7.8328e+05,3.5972e+05 ],[ &amp;quot;Scup or porgy&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 16145,  9127 ],[ &amp;quot;Sea trout, gray&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  8668,  4854 ],[ &amp;quot;Shark, Dogfish&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 34376,  3444 ],[ &amp;quot;Snapper, red&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  2358,  5681 ],[ &amp;quot;Swordfish&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 17963, 50155 ],[ &amp;quot;Tuna&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 35695, 75053 ],[ &amp;quot;Whiting (Atlantic, silver)&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 36533, 11219 ],[ &amp;quot;Whiting (Pacific, hake)&amp;quot;,1991,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 55964,  3692 ],[ &amp;quot;Clams&amp;quot;,1991,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.3424e+05,1.2527e+05 ],[ &amp;quot;Crabs&amp;quot;,1991,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,6.4999e+05,4.1484e+05 ],[ &amp;quot;Lobsters: American&amp;quot;,1991,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 63337,1.6503e+05 ],[ &amp;quot;Oysters&amp;quot;,1991,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 31859, 97996 ],[ &amp;quot;Scallops, Calico&amp;quot;,1991,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,null,   858 ],[ &amp;quot;Scallops, sea&amp;quot;,1991,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 39302,1.5893e+05 ],[ &amp;quot;Shrimp&amp;quot;,1991,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,3.2009e+05,5.1285e+05 ],[ &amp;quot;Squid, Atlantic&amp;quot;,1991,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 70929, 30346 ],[ &amp;quot;Squid, Pacific&amp;quot;,1991,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 68640,  5288 ],[ &amp;quot;Anchovies&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 13679,  5228 ],[ &amp;quot;Bluefish&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 11595,  2694 ],[ &amp;quot;Butterfish&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  7608,  3701 ],[ &amp;quot;Cod, Atlantic&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 61283, 52013 ],[ &amp;quot;Cod, Pacific&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,5.5053e+05,1.3248e+05 ],[ &amp;quot;Croaker&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  5077,  1893 ],[ &amp;quot;Flounders&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,6.4583e+05,1.4351e+05 ],[ &amp;quot;Haddock&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  5111,  5582 ],[ &amp;quot;Halibut&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 68579, 53773 ],[ &amp;quot;Herring, sea; Atlantic &amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.2299e+05,  6821 ],[ &amp;quot;Herring, sea; Pacific&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.5905e+05, 35907 ],[ &amp;quot;Jack mackerel&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  2624,   245 ],[ &amp;quot;Mackerel, Chub&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 41879,  4118 ],[ &amp;quot;Menhaden&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.6443e+06, 82973 ],[ &amp;quot;Mullet&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 22479,  9730 ],[ &amp;quot;Ocean perch, Atlantic&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  1867,   790 ],[ &amp;quot;Ocean perch, Pacific&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 45484, 13561 ],[ &amp;quot;Pollock, Atlantic&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 15843, 10543 ],[ &amp;quot;Pollock, Alaska&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,2.9521e+06,3.2474e+05 ],[ &amp;quot;Rockfish&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.2507e+05, 47280 ],[ &amp;quot;Sablefish&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 75451, 79634 ],[ &amp;quot;Salmon&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,7.1583e+05,5.8285e+05 ],[ &amp;quot;Scup or porgy&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 14014,  8669 ],[ &amp;quot;Sea trout, gray&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  7467,  4479 ],[ &amp;quot;Shark, Dogfish&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 42327,  4675 ],[ &amp;quot;Snapper, red&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  3471,  7354 ],[ &amp;quot;Swordfish&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 19713, 60320 ],[ &amp;quot;Tuna&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 56803, 90822 ],[ &amp;quot;Whiting (Atlantic, silver)&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 35893, 10990 ],[ &amp;quot;Whiting (Pacific, hake)&amp;quot;,1992,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.2375e+05,  5866 ],[ &amp;quot;Clams&amp;quot;,1992,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.4245e+05,1.2733e+05 ],[ &amp;quot;Crabs&amp;quot;,1992,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,6.2432e+05,4.7132e+05 ],[ &amp;quot;Lobsters: American&amp;quot;,1992,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 55841,1.6095e+05 ],[ &amp;quot;Oysters&amp;quot;,1992,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 36156,1.1454e+05 ],[ &amp;quot;Scallops, Calico&amp;quot;,1992,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,null,null ],[ &amp;quot;Scallops, sea&amp;quot;,1992,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 33528,1.6223e+05 ],[ &amp;quot;Shrimp&amp;quot;,1992,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,3.3776e+05,4.7995e+05 ],[ &amp;quot;Squid, Atlantic&amp;quot;,1992,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 81944, 33925 ],[ &amp;quot;Squid, Pacific&amp;quot;,1992,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 30436,  2698 ],[ &amp;quot;Anchovies&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  9786,  4518 ],[ &amp;quot;Bluefish&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 10575,  2970 ],[ &amp;quot;Butterfish&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 10470,  7039 ],[ &amp;quot;Cod, Atlantic&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 50503, 44956 ],[ &amp;quot;Cod, Pacific&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,4.828e+05,1.1617e+05 ],[ &amp;quot;Croaker&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  9377,  3758 ],[ &amp;quot;Flounders&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,5.9918e+05,1.356e+05 ],[ &amp;quot;Haddock&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  1938,  2672 ],[ &amp;quot;Halibut&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 63053, 62391 ],[ &amp;quot;Herring, sea; Atlantic &amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.0964e+05,  6511 ],[ &amp;quot;Herring, sea; Pacific&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.0657e+05, 18711 ],[ &amp;quot;Jack mackerel&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  3925,   232 ],[ &amp;quot;Mackerel, Chub&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 24051,  1359 ],[ &amp;quot;Menhaden&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.9833e+06,1.0326e+05 ],[ &amp;quot;Mullet&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 31568, 12870 ],[ &amp;quot;Ocean perch, Atlantic&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  1764,   805 ],[ &amp;quot;Ocean perch, Pacific&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 45522, 13477 ],[ &amp;quot;Pollock, Atlantic&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 12500,  8370 ],[ &amp;quot;Pollock, Alaska&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,3.258e+06,3.5838e+05 ],[ &amp;quot;Rockfish&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.2066e+05, 45696 ],[ &amp;quot;Sablefish&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 77467, 83861 ],[ &amp;quot;Salmon&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,8.8813e+05,4.2353e+05 ],[ &amp;quot;Scup or porgy&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 10301,  6439 ],[ &amp;quot;Sea trout, gray&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  7032,  4216 ],[ &amp;quot;Shark, Dogfish&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 50164,  6257 ],[ &amp;quot;Snapper, red&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  3520,  7608 ],[ &amp;quot;Swordfish&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 21951, 55544 ],[ &amp;quot;Tuna&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 55392, 91430 ],[ &amp;quot;Whiting (Atlantic, silver)&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 35735, 12872 ],[ &amp;quot;Whiting (Pacific, hake)&amp;quot;,1993,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,3.1018e+05,  9326 ],[ &amp;quot;Clams&amp;quot;,1993,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.4775e+05,1.3803e+05 ],[ &amp;quot;Crabs&amp;quot;,1993,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,6.0444e+05,5.1049e+05 ],[ &amp;quot;Lobsters: American&amp;quot;,1993,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 56513,1.5175e+05 ],[ &amp;quot;Oysters&amp;quot;,1993,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 33575, 86698 ],[ &amp;quot;Scallops, Calico&amp;quot;,1993,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,null,null ],[ &amp;quot;Scallops, sea&amp;quot;,1993,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 18116,1.056e+05 ],[ &amp;quot;Shrimp&amp;quot;,1993,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,2.9289e+05,4.129e+05 ],[ &amp;quot;Squid, Atlantic&amp;quot;,1993,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 90809, 38323 ],[ &amp;quot;Squid, Pacific&amp;quot;,1993,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 71550,  8079 ],[ &amp;quot;Anchovies&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  8334,  1890 ],[ &amp;quot;Bluefish&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  9825,  2937 ],[ &amp;quot;Butterfish&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 10215,  4857 ],[ &amp;quot;Cod, Atlantic&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 38653, 36160 ],[ &amp;quot;Cod, Pacific&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,4.6029e+05, 95836 ],[ &amp;quot;Croaker&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 11460,  4321 ],[ &amp;quot;Flounders&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,4.2686e+05,1.2658e+05 ],[ &amp;quot;Haddock&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,   724,  1033 ],[ &amp;quot;Halibut&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 57900, 84898 ],[ &amp;quot;Herring, sea; Atlantic &amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.01e+05,  5816 ],[ &amp;quot;Herring, sea; Pacific&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.1284e+05, 25587 ],[ &amp;quot;Jack mackerel&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  6387,   366 ],[ &amp;quot;Mackerel, Chub&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 22148,  1283 ],[ &amp;quot;Menhaden&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,2.3235e+06,1.2836e+05 ],[ &amp;quot;Mullet&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 30544, 14943 ],[ &amp;quot;Ocean perch, Atlantic&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,   968,   602 ],[ &amp;quot;Ocean perch, Pacific&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 30865,  4355 ],[ &amp;quot;Pollock, Atlantic&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  8238,  6730 ],[ &amp;quot;Pollock, Alaska&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,3.1245e+06,3.7593e+05 ],[ &amp;quot;Rockfish&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 91705, 44062 ],[ &amp;quot;Sablefish&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 71339, 84827 ],[ &amp;quot;Salmon&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,9.0109e+05,4.5641e+05 ],[ &amp;quot;Scup or porgy&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 10297,  7028 ],[ &amp;quot;Sea trout, gray&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  6101,  3998 ],[ &amp;quot;Shark, Dogfish&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 46829,  6393 ],[ &amp;quot;Snapper, red&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  3771,  8718 ],[ &amp;quot;Swordfish&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 15260, 44728 ],[ &amp;quot;Tuna&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 71795,1.0866e+05 ],[ &amp;quot;Whiting (Atlantic, silver)&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 35619, 13828 ],[ &amp;quot;Whiting (Pacific, hake)&amp;quot;,1994,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,5.572e+05, 16747 ],[ &amp;quot;Clams&amp;quot;,1994,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.3143e+05,1.2236e+05 ],[ &amp;quot;Crabs&amp;quot;,1994,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,4.4694e+05,5.3299e+05 ],[ &amp;quot;Lobsters: American&amp;quot;,1994,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 66416,1.9618e+05 ],[ &amp;quot;Oysters&amp;quot;,1994,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 38086, 93737 ],[ &amp;quot;Scallops, Calico&amp;quot;,1994,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  7162,  6944 ],[ &amp;quot;Scallops, sea&amp;quot;,1994,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 18228, 91793 ],[ &amp;quot;Shrimp&amp;quot;,1994,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,2.8226e+06,5.6417e+05 ],[ &amp;quot;Squid, Atlantic&amp;quot;,1994,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,9.3339e+05, 43409 ],[ &amp;quot;Squid, Pacific&amp;quot;,1994,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.224e+05, 20335 ],[ &amp;quot;Anchovies&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  6788,  1193 ],[ &amp;quot;Bluefish&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  8379,  2855 ],[ &amp;quot;Butterfish&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  6430,  3186 ],[ &amp;quot;Cod, Atlantic&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 29631, 28184 ],[ &amp;quot;Cod, Pacific&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,5.914e+05,1.0968e+05 ],[ &amp;quot;Croaker&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 16027,  5855 ],[ &amp;quot;Flounders&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,4.2344e+05,1.5024e+05 ],[ &amp;quot;Haddock&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,   877,  1207 ],[ &amp;quot;Halibut&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 44796, 66781 ],[ &amp;quot;Herring, sea; Atlantic &amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.4718e+05,  8654 ],[ &amp;quot;Herring, sea; Pacific&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.1748e+05, 49245 ],[ &amp;quot;Jack mackerel&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  4132,   279 ],[ &amp;quot;Mackerel, Chub&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 18974,  1130 ],[ &amp;quot;Menhaden&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.847e+06, 99131 ],[ &amp;quot;Mullet&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 22249, 14725 ],[ &amp;quot;Ocean perch, Atlantic&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,   962,   608 ],[ &amp;quot;Ocean perch, Pacific&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 34420,  4660 ],[ &amp;quot;Pollock, Atlantic&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  7152,  6602 ],[ &amp;quot;Pollock, Alaska&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,2.8526e+06,2.5961e+05 ],[ &amp;quot;Rockfish&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 90119, 41125 ],[ &amp;quot;Sablefish&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 65904,1.2369e+05 ],[ &amp;quot;Salmon&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.0208e+06,4.8611e+05 ],[ &amp;quot;Scup or porgy&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  7221,  6646 ],[ &amp;quot;Sea trout, gray&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  6824,  4124 ],[ &amp;quot;Shark, Dogfish&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 52980,  9516 ],[ &amp;quot;Snapper, red&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  3645,  8356 ],[ &amp;quot;Swordfish&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 13043, 37270 ],[ &amp;quot;Tuna&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 63864,1.0264e+05 ],[ &amp;quot;Whiting (Atlantic, silver)&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 33548, 14632 ],[ &amp;quot;Whiting (Pacific, hake)&amp;quot;,1995,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,3.903e+05, 18002 ],[ &amp;quot;Clams&amp;quot;,1995,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.3422e+05,1.4041e+05 ],[ &amp;quot;Crabs&amp;quot;,1995,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,3.6364e+05,5.1199e+05 ],[ &amp;quot;Lobsters: American&amp;quot;,1995,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 66406,2.1484e+05 ],[ &amp;quot;Oysters&amp;quot;,1995,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 40380,1.0157e+05 ],[ &amp;quot;Scallops, Calico&amp;quot;,1995,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,   957,  1219 ],[ &amp;quot;Scallops, sea&amp;quot;,1995,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 18316, 92826 ],[ &amp;quot;Shrimp&amp;quot;,1995,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,3.0687e+05,5.7003e+05 ],[ &amp;quot;Squid, Atlantic&amp;quot;,1995,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 74248, 33269 ],[ &amp;quot;Squid, Pacific&amp;quot;,1995,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.5528e+05, 22660 ],[ &amp;quot;Anchovies&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  9933,   988 ],[ &amp;quot;Bluefish&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  9356,  3166 ],[ &amp;quot;Butterfish&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  9685,  5747 ],[ &amp;quot;Cod, Atlantic&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 31422, 26634 ],[ &amp;quot;Cod, Pacific&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,6.0531e+05,1.1198e+05 ],[ &amp;quot;Croaker&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 20483,  7386 ],[ &amp;quot;Flounders&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,4.5953e+05,1.5405e+05 ],[ &amp;quot;Haddock&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  1257,  1494 ],[ &amp;quot;Halibut&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 49092, 83468 ],[ &amp;quot;Herring, sea; Atlantic &amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.9712e+05, 11194 ],[ &amp;quot;Herring, sea; Pacific&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.2043e+05, 69747 ],[ &amp;quot;Jack mackerel&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  4798,   296 ],[ &amp;quot;Mackerel, Chub&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 21994,  1336 ],[ &amp;quot;Menhaden&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.7555e+06, 94150 ],[ &amp;quot;Mullet&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 17026, 12518 ],[ &amp;quot;Ocean perch, Atlantic&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,   720,   477 ],[ &amp;quot;Ocean perch, Pacific&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 46305,  6171 ],[ &amp;quot;Pollock, Atlantic&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  6529,  4543 ],[ &amp;quot;Pollock, Alaska&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,2.6231e+06,2.3813e+05 ],[ &amp;quot;Rockfish&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 94760, 39049 ],[ &amp;quot;Sablefish&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 59949,1.0901e+05 ],[ &amp;quot;Salmon&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,8.7706e+05,3.6873e+05 ],[ &amp;quot;Scup or porgy&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  6895,  7330 ],[ &amp;quot;Sea trout, gray&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  7189,  4839 ],[ &amp;quot;Shark, Dogfish&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 65342, 11804 ],[ &amp;quot;Snapper, red&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  4422,  9528 ],[ &amp;quot;Swordfish&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 12879, 36494 ],[ &amp;quot;Tuna&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 85439,1.1026e+05 ],[ &amp;quot;Whiting (Atlantic, silver)&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 35400, 13494 ],[ &amp;quot;Whiting (Pacific, hake)&amp;quot;,1996,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,4.3054e+05, 17031 ],[ &amp;quot;Clams&amp;quot;,1996,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.2324e+05,1.2778e+05 ],[ &amp;quot;Crabs&amp;quot;,1996,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,3.918e+05,4.2670e+05 ],[ &amp;quot;Lobsters: American&amp;quot;,1996,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 71641,2.418e+05 ],[ &amp;quot;Oysters&amp;quot;,1996,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 38007,1.1484e+05 ],[ &amp;quot;Scallops, Calico&amp;quot;,1996,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,null,null ],[ &amp;quot;Scallops, sea&amp;quot;,1996,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 18162,1.0182e+05 ],[ &amp;quot;Shrimp&amp;quot;,1996,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,3.1688e+05,5.092e+05 ],[ &amp;quot;Squid, Atlantic&amp;quot;,1996,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 65248, 28514 ],[ &amp;quot;Squid, Pacific&amp;quot;,1996,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.7478e+05, 31712 ],[ &amp;quot;Anchovies&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 12738,   827 ],[ &amp;quot;Bluefish&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  9307,  2849 ],[ &amp;quot;Butterfish&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  7544,  5112 ],[ &amp;quot;Cod, Atlantic&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 28619, 24464 ],[ &amp;quot;Cod, Pacific&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,6.6131e+05,1.4243e+05 ],[ &amp;quot;Croaker&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 27781,  9058 ],[ &amp;quot;Flounders&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,5.6635e+05,1.3077e+05 ],[ &amp;quot;Haddock&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  3316,  3595 ],[ &amp;quot;Halibut&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 69864,1.1736e+05 ],[ &amp;quot;Herring, sea; Atlantic &amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,2.1101e+05, 11543 ],[ &amp;quot;Herring, sea; Pacific&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.3686e+05, 29341 ],[ &amp;quot;Jack mackerel&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  2557,   281 ],[ &amp;quot;Mackerel, Chub&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 40558,  2762 ],[ &amp;quot;Menhaden&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,2.0278e+06,1.1205e+05 ],[ &amp;quot;Mullet&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 19637, 13419 ],[ &amp;quot;Ocean perch, Atlantic&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,   553,   346 ],[ &amp;quot;Ocean perch, Pacific&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 43166,  3186 ],[ &amp;quot;Pollock, Atlantic&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  9372,  5349 ],[ &amp;quot;Pollock, Alaska&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,2.5125e+06,2.4259e+05 ],[ &amp;quot;Rockfish&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.1699e+05, 47899 ],[ &amp;quot;Sablefish&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 52925,1.0878e+05 ],[ &amp;quot;Salmon&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,5.6766e+05,2.7037e+05 ],[ &amp;quot;Scup or porgy&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  5718,  7449 ],[ &amp;quot;Sea trout, gray&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  7314,  4136 ],[ &amp;quot;Shark, Dogfish&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 46345,  7307 ],[ &amp;quot;Snapper, red&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  5161, 10365 ],[ &amp;quot;Swordfish&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 13586, 33786 ],[ &amp;quot;Tuna&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 82855,1.0979e+05 ],[ &amp;quot;Whiting (Atlantic, silver)&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 34248, 15024 ],[ &amp;quot;Whiting (Pacific, hake)&amp;quot;,1997,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,4.996e+05, 27344 ],[ &amp;quot;Clams&amp;quot;,1997,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.1418e+05,1.2969e+05 ],[ &amp;quot;Crabs&amp;quot;,1997,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,4.2996e+05,4.2955e+05 ],[ &amp;quot;Lobsters: American&amp;quot;,1997,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 83921,2.6722e+05 ],[ &amp;quot;Oysters&amp;quot;,1997,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 37115, 92243 ],[ &amp;quot;Scallops, Calico&amp;quot;,1997,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,null,  3601 ],[ &amp;quot;Scallops, sea&amp;quot;,1997,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 13789, 90291 ],[ &amp;quot;Shrimp&amp;quot;,1997,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,2.9026e+05,5.4406e+05 ],[ &amp;quot;Squid, Atlantic&amp;quot;,1997,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 66177, 33343 ],[ &amp;quot;Squid, Pacific&amp;quot;,1997,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.5761e+05, 22108 ],[ &amp;quot;Anchovies&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  3429,   242 ],[ &amp;quot;Bluefish&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  8299,  2765 ],[ &amp;quot;Butterfish&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  5684,  2848 ],[ &amp;quot;Cod, Atlantic&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 24514, 25474 ],[ &amp;quot;Cod, Pacific&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,5.5599e+05, 87717 ],[ &amp;quot;Croaker&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 25542,  9719 ],[ &amp;quot;Flounders&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,3.9118e+05, 96804 ],[ &amp;quot;Haddock&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  6252,  7880 ],[ &amp;quot;Halibut&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 73260,1.0397e+05 ],[ &amp;quot;Herring, sea; Atlantic &amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.7972e+05, 10856 ],[ &amp;quot;Herring, sea; Pacific&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 92296, 10722 ],[ &amp;quot;Jack mackerel&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  3445,   308 ],[ &amp;quot;Mackerel, Chub&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 45025,  2547 ],[ &amp;quot;Menhaden&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.7057e+06,1.0384e+05 ],[ &amp;quot;Mullet&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 17921,  9420 ],[ &amp;quot;Ocean perch, Atlantic&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,   706,   419 ],[ &amp;quot;Ocean perch, Pacific&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 40663,  4072 ],[ &amp;quot;Pollock, Atlantic&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 12307,  8101 ],[ &amp;quot;Pollock, Alaska&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,2.7165e+06,1.9015e+05 ],[ &amp;quot;Rockfish&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 70058, 33041 ],[ &amp;quot;Sablefish&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 43500, 91823 ],[ &amp;quot;Salmon&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,6.4443e+05,2.5746e+05 ],[ &amp;quot;Scup or porgy&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  4913,  6882 ],[ &amp;quot;Sea trout, gray&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  8423,  4060 ],[ &amp;quot;Shark, Dogfish&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 49111,  8139 ],[ &amp;quot;Snapper, red&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  4257,  9899 ],[ &amp;quot;Swordfish&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 15093, 28888 ],[ &amp;quot;Tuna&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 84999, 94462 ],[ &amp;quot;Whiting (Atlantic, silver)&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 32990, 13369 ],[ &amp;quot;Whiting (Pacific, hake)&amp;quot;,1998,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,5.0155e+05, 19931 ],[ &amp;quot;Clams&amp;quot;,1998,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.0796e+05,1.3524e+05 ],[ &amp;quot;Crabs&amp;quot;,1998,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,5.5272e+05,4.7338e+05 ],[ &amp;quot;Lobsters: American&amp;quot;,1998,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 79642,2.5364e+05 ],[ &amp;quot;Oysters&amp;quot;,1998,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 33538, 88627 ],[ &amp;quot;Scallops, Calico&amp;quot;,1998,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,null,null ],[ &amp;quot;Scallops, sea&amp;quot;,1998,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 13061, 79606 ],[ &amp;quot;Shrimp&amp;quot;,1998,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,2.7776e+05,5.1562e+05 ],[ &amp;quot;Squid, Atlantic&amp;quot;,1998,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 93245, 41881 ],[ &amp;quot;Squid, Pacific&amp;quot;,1998,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  6208,  1591 ],[ &amp;quot;Anchovies&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 11736,  1358 ],[ &amp;quot;Bluefish&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  7405,  2673 ],[ &amp;quot;Butterfish&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  6090,  3068 ],[ &amp;quot;Cod, Atlantic&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 21445, 23943 ],[ &amp;quot;Cod, Pacific&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,5.2399e+05, 83227 ],[ &amp;quot;Croaker&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 27016,  7798 ],[ &amp;quot;Flounders&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,3.3122e+05, 89946 ],[ &amp;quot;Haddock&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  6937,  9120 ],[ &amp;quot;Halibut&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 80330,1.247e+05 ],[ &amp;quot;Herring, sea; Atlantic &amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.7548e+05, 11082 ],[ &amp;quot;Herring, sea; Pacific&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 91059, 14989 ],[ &amp;quot;Jack mackerel&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  2461,   199 ],[ &amp;quot;Mackerel, Chub&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 19217,  1082 ],[ &amp;quot;Menhaden&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.9891e+06,1.1308e+05 ],[ &amp;quot;Mullet&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 15336,  8486 ],[ &amp;quot;Ocean perch, Atlantic&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,   778,   420 ],[ &amp;quot;Ocean perch, Pacific&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 45402,  3640 ],[ &amp;quot;Pollock, Atlantic&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 10129,  8440 ],[ &amp;quot;Pollock, Alaska&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,2.3259e+06,1.6281e+05 ],[ &amp;quot;Rockfish&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 63223, 30436 ],[ &amp;quot;Sablefish&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 48255, 97148 ],[ &amp;quot;Salmon&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,8.149e+05,3.5978e+05 ],[ &amp;quot;Scup or porgy&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  3879,  4783 ],[ &amp;quot;Sea trout, gray&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  6935,  4188 ],[ &amp;quot;Shark, Dogfish&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 36712,  5951 ],[ &amp;quot;Snapper, red&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  4722, 10492 ],[ &amp;quot;Swordfish&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 16022, 33436 ],[ &amp;quot;Tuna&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 58120, 86254 ],[ &amp;quot;Whiting (Atlantic, silver)&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 30997, 14282 ],[ &amp;quot;Whiting (Pacific, hake)&amp;quot;,1999,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,4.7815e+05, 18593 ],[ &amp;quot;Clams&amp;quot;,1999,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.1223e+05,1.3502e+05 ],[ &amp;quot;Crabs&amp;quot;,1999,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,4.5831e+05,5.2124e+05 ],[ &amp;quot;Lobsters: American&amp;quot;,1999,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 87469,3.2296e+05 ],[ &amp;quot;Oysters&amp;quot;,1999,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 26983, 72658 ],[ &amp;quot;Scallops, Calico&amp;quot;,1999,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  4105,  3880 ],[ &amp;quot;Scallops, sea&amp;quot;,1999,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 23038,1.2529e+05 ],[ &amp;quot;Shrimp&amp;quot;,1999,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,3.0417e+05,5.605e+05 ],[ &amp;quot;Squid, Atlantic&amp;quot;,1999,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 58310, 36218 ],[ &amp;quot;Squid, Pacific&amp;quot;,1999,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.9989e+05, 34954 ],[ &amp;quot;Anchovies&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 25324,  1129 ],[ &amp;quot;Bluefish&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  8072,  2796 ],[ &amp;quot;Butterfish&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  4677,  1922 ],[ &amp;quot;Cod, Atlantic&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 25060, 26384 ],[ &amp;quot;Cod, Pacific&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,5.3050e+05,1.4233e+05 ],[ &amp;quot;Croaker&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 26991, 10249 ],[ &amp;quot;Flounders&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,4.1272e+05,1.0991e+05 ],[ &amp;quot;Haddock&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  8823, 11575 ],[ &amp;quot;Halibut&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 75190,1.4383e+05 ],[ &amp;quot;Herring, sea; Atlantic &amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.6027e+05,  9972 ],[ &amp;quot;Herring, sea; Pacific&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 74835, 12043 ],[ &amp;quot;Jack mackerel&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  2902,   247 ],[ &amp;quot;Mackerel, Chub&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 47065,  2826 ],[ &amp;quot;Menhaden&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.7605e+06,1.124e+05 ],[ &amp;quot;Mullet&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 20554, 13652 ],[ &amp;quot;Ocean perch, Atlantic&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,   702,   375 ],[ &amp;quot;Ocean perch, Pacific&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 39521,  2597 ],[ &amp;quot;Pollock, Atlantic&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  8913,  7028 ],[ &amp;quot;Pollock, Alaska&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,2.6068e+06,1.6052e+05 ],[ &amp;quot;Rockfish&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 50044, 23385 ],[ &amp;quot;Sablefish&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 49680,1.0116e+05 ],[ &amp;quot;Salmon&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,6.2864e+05,2.7021e+05 ],[ &amp;quot;Scup or porgy&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  3018,  3670 ],[ &amp;quot;Sea trout, gray&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  5375,  3589 ],[ &amp;quot;Shark, Dogfish&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 23680,  4853 ],[ &amp;quot;Snapper, red&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  5084, 12003 ],[ &amp;quot;Swordfish&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 17805, 37981 ],[ &amp;quot;Tuna&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 50779, 95176 ],[ &amp;quot;Whiting (Atlantic, silver)&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 26855, 11370 ],[ &amp;quot;Whiting (Pacific, hake)&amp;quot;,2000,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,4.5272e+05, 18809 ],[ &amp;quot;Clams&amp;quot;,2000,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.1848e+05,1.5397e+05 ],[ &amp;quot;Crabs&amp;quot;,2000,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,2.9901e+05,4.0501e+05 ],[ &amp;quot;Lobsters: American&amp;quot;,2000,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 83180,3.013e+05 ],[ &amp;quot;Oysters&amp;quot;,2000,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 41146, 90667 ],[ &amp;quot;Scallops, Calico&amp;quot;,2000,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,null,null ],[ &amp;quot;Scallops, sea&amp;quot;,2000,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 32747,1.6461e+05 ],[ &amp;quot;Shrimp&amp;quot;,2000,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,3.3249e+05,6.9045e+05 ],[ &amp;quot;Squid, Atlantic&amp;quot;,2000,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 57520, 27956 ],[ &amp;quot;Squid, Pacific&amp;quot;,2000,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,2.5951e+05, 27077 ],[ &amp;quot;Anchovies&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 42460,  1422 ],[ &amp;quot;Bluefish&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  8804,  3088 ],[ &amp;quot;Butterfish&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 10939,  3582 ],[ &amp;quot;Cod, Atlantic&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 33211, 32086 ],[ &amp;quot;Cod, Pacific&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,4.7171e+05,1.1807e+05 ],[ &amp;quot;Croaker&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 29000,  8315 ],[ &amp;quot;Flounders&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,3.5236e+05,1.0524e+05 ],[ &amp;quot;Haddock&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 12845, 14513 ],[ &amp;quot;Halibut&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 77978,1.1517e+05 ],[ &amp;quot;Herring, sea; Atlantic &amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,2.0919e+05, 12717 ],[ &amp;quot;Herring, sea; Pacific&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 91297, 13213 ],[ &amp;quot;Jack mackerel&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  8464,   614 ],[ &amp;quot;Mackerel, Chub&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 15981,  1172 ],[ &amp;quot;Menhaden&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.7414e+06,1.0269e+05 ],[ &amp;quot;Mullet&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 18535, 11332 ],[ &amp;quot;Ocean perch, Atlantic&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,   794,   358 ],[ &amp;quot;Ocean perch, Pacific&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 38997,  1692 ],[ &amp;quot;Pollock, Atlantic&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  9058,  6200 ],[ &amp;quot;Pollock, Alaska&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,3.1794e+06,2.3072e+05 ],[ &amp;quot;Rockfish&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 43909, 21158 ],[ &amp;quot;Sablefish&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 44037, 80361 ],[ &amp;quot;Salmon&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,7.2283e+05,2.0893e+05 ],[ &amp;quot;Scup or porgy&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  4538,  3857 ],[ &amp;quot;Sea trout, gray&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  5010,  3150 ],[ &amp;quot;Shark, Dogfish&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  7703,  1778 ],[ &amp;quot;Snapper, red&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  5048, 11902 ],[ &amp;quot;Swordfish&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  9409, 19831 ],[ &amp;quot;Tuna&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 51854, 93497 ],[ &amp;quot;Whiting (Atlantic, silver)&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 28479, 13232 ],[ &amp;quot;Whiting (Pacific, hake)&amp;quot;,2001,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,3.793e+05, 16147 ],[ &amp;quot;Clams&amp;quot;,2001,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.2276e+05,1.6199e+05 ],[ &amp;quot;Crabs&amp;quot;,2001,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,2.7225e+05,3.8167e+05 ],[ &amp;quot;Lobsters: American&amp;quot;,2001,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 73637,2.5433e+05 ],[ &amp;quot;Oysters&amp;quot;,2001,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 32673, 80946 ],[ &amp;quot;Scallops, Calico&amp;quot;,2001,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,null,null ],[ &amp;quot;Scallops, sea&amp;quot;,2001,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 46958,1.7535e+05 ],[ &amp;quot;Shrimp&amp;quot;,2001,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,3.2448e+05,5.6855e+05 ],[ &amp;quot;Squid, Atlantic&amp;quot;,2001,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 40167, 22621 ],[ &amp;quot;Squid, Pacific&amp;quot;,2001,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.9153e+05, 17834 ],[ &amp;quot;Anchovies&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 10762,   623 ],[ &amp;quot;Bluefish&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  6973,  2394 ],[ &amp;quot;Butterfish&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  3363,  1431 ],[ &amp;quot;Cod, Atlantic&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 29841, 30715 ],[ &amp;quot;Cod, Pacific&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,5.1283e+05, 96206 ],[ &amp;quot;Croaker&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 26146,  8029 ],[ &amp;quot;Flounders&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,3.727e+05,1.0237e+05 ],[ &amp;quot;Haddock&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 16652, 19080 ],[ &amp;quot;Halibut&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 82044,1.356e+05 ],[ &amp;quot;Herring, sea; Atlantic &amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.3587e+05,  9106 ],[ &amp;quot;Herring, sea; Pacific&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 78408, 11534 ],[ &amp;quot;Jack mackerel&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  2262,   207 ],[ &amp;quot;Mackerel, Chub&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  7706,   496 ],[ &amp;quot;Menhaden&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.7506e+06,1.051e+05 ],[ &amp;quot;Mullet&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 15609,  9971 ],[ &amp;quot;Ocean perch, Atlantic&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,   811,   487 ],[ &amp;quot;Ocean perch, Pacific&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 45390,  4613 ],[ &amp;quot;Pollock, Atlantic&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  7894,  6200 ],[ &amp;quot;Pollock, Alaska&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,3.3411e+06,2.037e+05 ],[ &amp;quot;Rockfish&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 36039, 17811 ],[ &amp;quot;Sablefish&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 40908, 78281 ],[ &amp;quot;Salmon&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,5.6718e+05,1.5501e+05 ],[ &amp;quot;Scup or porgy&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  7749,  5263 ],[ &amp;quot;Sea trout, gray&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  4765,  3064 ],[ &amp;quot;Shark, Dogfish&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  8513,  1913 ],[ &amp;quot;Snapper, red&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  4522, 10196 ],[ &amp;quot;Swordfish&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  8642, 17106 ],[ &amp;quot;Tuna&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 49358, 84116 ],[ &amp;quot;Whiting (Atlantic, silver)&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 17622,  7454 ],[ &amp;quot;Whiting (Pacific, hake)&amp;quot;,2002,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,2.8571e+05, 13584 ],[ &amp;quot;Clams&amp;quot;,2002,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.3008e+05,1.6722e+05 ],[ &amp;quot;Crabs&amp;quot;,2002,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,3.076e+05,3.977e+05 ],[ &amp;quot;Lobsters: American&amp;quot;,2002,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 82252,2.9333e+05 ],[ &amp;quot;Oysters&amp;quot;,2002,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 34397, 89071 ],[ &amp;quot;Scallops, Calico&amp;quot;,2002,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,null,null ],[ &amp;quot;Scallops, sea&amp;quot;,2002,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 53056,2.0371e+05 ],[ &amp;quot;Shrimp&amp;quot;,2002,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,3.1673e+05,4.6088e+05 ],[ &amp;quot;Squid, Atlantic&amp;quot;,2002,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 44856, 25284 ],[ &amp;quot;Squid, Pacific&amp;quot;,2002,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.6068e+05, 18262 ],[ &amp;quot;Anchovies&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  4253,   342 ],[ &amp;quot;Bluefish&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  7509,  2477 ],[ &amp;quot;Butterfish&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  2840,  1097 ],[ &amp;quot;Cod, Atlantic&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 23628, 27559 ],[ &amp;quot;Cod, Pacific&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,5.6754e+05,1.5962e+05 ],[ &amp;quot;Croaker&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 28777,  9218 ],[ &amp;quot;Flounders&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,3.646e+05, 94454 ],[ &amp;quot;Haddock&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 14960, 16962 ],[ &amp;quot;Halibut&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 79515,1.7219e+05 ],[ &amp;quot;Herring, sea; Atlantic &amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,2.1252e+05, 15554 ],[ &amp;quot;Herring, sea; Pacific&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 74332, 10456 ],[ &amp;quot;Jack mackerel&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,   510,    73 ],[ &amp;quot;Mackerel, Chub&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  9658,   676 ],[ &amp;quot;Menhaden&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.5993e+06, 96080 ],[ &amp;quot;Mullet&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 16054, 12496 ],[ &amp;quot;Ocean perch, Atlantic&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,   801,   412 ],[ &amp;quot;Ocean perch, Pacific&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 47249,  1528 ],[ &amp;quot;Pollock, Atlantic&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 10569,  5399 ],[ &amp;quot;Pollock, Alaska&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,3.3618e+06,2.0318e+05 ],[ &amp;quot;Rockfish&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 35544, 15724 ],[ &amp;quot;Sablefish&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 47901,1.0019e+05 ],[ &amp;quot;Salmon&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,6.7412e+05,2.0089e+05 ],[ &amp;quot;Scup or porgy&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 10408,  6409 ],[ &amp;quot;Sea trout, gray&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  2001,  1494 ],[ &amp;quot;Shark, Dogfish&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  5529,  1173 ],[ &amp;quot;Snapper, red&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  2834,  6838 ],[ &amp;quot;Swordfish&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  9356, 18059 ],[ &amp;quot;Tuna&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 61886, 86882 ],[ &amp;quot;Whiting (Atlantic, silver)&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 19066,  9330 ],[ &amp;quot;Whiting (Pacific, hake)&amp;quot;,2003,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,3.0936e+05, 17153 ],[ &amp;quot;Clams&amp;quot;,2003,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.2781e+05,1.6249e+05 ],[ &amp;quot;Crabs&amp;quot;,2003,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,3.3207e+05,4.8084e+05 ],[ &amp;quot;Lobsters: American&amp;quot;,2003,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 73657,2.9215e+05 ],[ &amp;quot;Oysters&amp;quot;,2003,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 37103,1.036e+05 ],[ &amp;quot;Scallops, Calico&amp;quot;,2003,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,null,null ],[ &amp;quot;Scallops, sea&amp;quot;,2003,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 56023,2.2917e+05 ],[ &amp;quot;Shrimp&amp;quot;,2003,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,3.1527e+05,4.2070e+05 ],[ &amp;quot;Squid, Atlantic&amp;quot;,2003,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 40732, 24251 ],[ &amp;quot;Squid, Pacific&amp;quot;,2003,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.0071e+05, 25433 ],[ &amp;quot;Anchovies&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 15474,   819 ],[ &amp;quot;Bluefish&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  8202,  2303 ],[ &amp;quot;Butterfish&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  2447,  1071 ],[ &amp;quot;Cod, Atlantic&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 16069, 21691 ],[ &amp;quot;Cod, Pacific&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,5.9065e+05,1.4898e+05 ],[ &amp;quot;Croaker&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 25650,  8709 ],[ &amp;quot;Flounders&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,3.5978e+05,1.2396e+05 ],[ &amp;quot;Haddock&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 18171, 18529 ],[ &amp;quot;Halibut&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 80056,1.7640e+05 ],[ &amp;quot;Herring, sea; Atlantic &amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.8928e+05, 15084 ],[ &amp;quot;Herring, sea; Pacific&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 75330, 15246 ],[ &amp;quot;Jack mackerel&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  2672,   275 ],[ &amp;quot;Mackerel, Chub&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  8125,   573 ],[ &amp;quot;Menhaden&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.4976e+06, 72447 ],[ &amp;quot;Mullet&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 16445, 10371 ],[ &amp;quot;Ocean perch, Atlantic&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,   877,   458 ],[ &amp;quot;Ocean perch, Pacific&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 45421,  4886 ],[ &amp;quot;Pollock, Atlantic&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 11177,  5610 ],[ &amp;quot;Pollock, Alaska&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,3.3534e+06,2.7163e+05 ],[ &amp;quot;Rockfish&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 31081, 13358 ],[ &amp;quot;Sablefish&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 52862,1.3547e+05 ],[ &amp;quot;Salmon&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,7.3873e+05,3.0264e+05 ],[ &amp;quot;Scup or porgy&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  9717,  6456 ],[ &amp;quot;Sea trout, gray&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  1579,  1275 ],[ &amp;quot;Shark, Dogfish&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  5179,  1412 ],[ &amp;quot;Snapper, red&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  4847, 12161 ],[ &amp;quot;Swordfish&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  6389, 14639 ],[ &amp;quot;Tuna&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 56541, 91138 ],[ &amp;quot;Whiting (Atlantic, silver)&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 18965,  9918 ],[ &amp;quot;Whiting (Pacific, hake)&amp;quot;,2004,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,4.7453e+05, 21823 ],[ &amp;quot;Clams&amp;quot;,2004,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.1941e+05,1.6641e+05 ],[ &amp;quot;Crabs&amp;quot;,2004,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,3.1564e+05,4.4982e+05 ],[ &amp;quot;Lobsters: American&amp;quot;,2004,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 88386,3.6601e+05 ],[ &amp;quot;Oysters&amp;quot;,2004,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 38654,1.1212e+05 ],[ &amp;quot;Scallops, Calico&amp;quot;,2004,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,null,null ],[ &amp;quot;Scallops, sea&amp;quot;,2004,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 64580,3.2138e+05 ],[ &amp;quot;Shrimp&amp;quot;,2004,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,3.093e+05,4.2762e+05 ],[ &amp;quot;Squid, Atlantic&amp;quot;,2004,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 90185, 42614 ],[ &amp;quot;Squid, Pacific&amp;quot;,2004,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 89580, 19831 ],[ &amp;quot;Anchovies&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 25021,  1122 ],[ &amp;quot;Bluefish&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  7184,  2491 ],[ &amp;quot;Butterfish&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  1039,   825 ],[ &amp;quot;Cod, Atlantic&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 13910, 20816 ],[ &amp;quot;Cod, Pacific&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,5.4875e+05,1.5074e+05 ],[ &amp;quot;Croaker&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 24210,  9055 ],[ &amp;quot;Flounders&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,4.1941e+05,1.351e+05 ],[ &amp;quot;Haddock&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 16627, 19023 ],[ &amp;quot;Halibut&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 76955,1.7716e+05 ],[ &amp;quot;Herring, sea; Atlantic &amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,2.1556e+05, 20467 ],[ &amp;quot;Herring, sea; Pacific&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 87295, 13801 ],[ &amp;quot;Jack mackerel&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,   656,    76 ],[ &amp;quot;Mackerel, Chub&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  7852,   576 ],[ &amp;quot;Menhaden&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,1.2437e+06, 62455 ],[ &amp;quot;Mullet&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 10697,  7318 ],[ &amp;quot;Ocean perch, Atlantic&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  1243,   715 ],[ &amp;quot;Ocean perch, Pacific&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 42935,  5755 ],[ &amp;quot;Pollock, Atlantic&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 14350,  7878 ],[ &amp;quot;Pollock, Alaska&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,3.4105e+06,3.0693e+05 ],[ &amp;quot;Rockfish&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 30008, 12220 ],[ &amp;quot;Sablefish&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 51083,1.3623e+05 ],[ &amp;quot;Salmon&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,8.9944e+05,3.3067e+05 ],[ &amp;quot;Scup or porgy&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 10071,  7735 ],[ &amp;quot;Sea trout, gray&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  1294,  1062 ],[ &amp;quot;Shark, Dogfish&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  4993,  1244 ],[ &amp;quot;Snapper, red&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,  4188, 11579 ],[ &amp;quot;Swordfish&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,  6980, 17189 ],[ &amp;quot;Tuna&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 44394, 85707 ],[ &amp;quot;Whiting (Atlantic, silver)&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 16561,  8284 ],[ &amp;quot;Whiting (Pacific, hake)&amp;quot;,2005,&amp;quot;fish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,5.6693e+05, 29047 ],[ &amp;quot;Clams&amp;quot;,2005,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.0562e+05,1.7354e+05 ],[ &amp;quot;Crabs&amp;quot;,2005,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;,2.9775e+05,4.1304e+05 ],[ &amp;quot;Lobsters: American&amp;quot;,2005,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;, 87550,4.1419e+05 ],[ &amp;quot;Oysters&amp;quot;,2005,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 33957,1.1061e+05 ],[ &amp;quot;Scallops, Calico&amp;quot;,2005,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,null,null ],[ &amp;quot;Scallops, sea&amp;quot;,2005,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 56704,4.3352e+05 ],[ &amp;quot;Shrimp&amp;quot;,2005,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,2.6112e+05,4.0651e+05 ],[ &amp;quot;Squid, Atlantic&amp;quot;,2005,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;em&gt;1000lbs&amp;quot;, 63422, 37392 ],[ &amp;quot;Squid, Pacific&amp;quot;,2005,&amp;quot;shellfish&amp;quot;,&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;,1.2571e+05, 31670 ] ];data.addColumn(&amp;#39;string&amp;#39;,&amp;#39;species&amp;#39;);data.addColumn(&amp;#39;number&amp;#39;,&amp;#39;year&amp;#39;);data.addColumn(&amp;#39;string&amp;#39;,&amp;#39;type&amp;#39;);data.addColumn(&amp;#39;string&amp;#39;,&amp;#39;var&amp;#39;);data.addColumn(&amp;#39;number&amp;#39;,&amp;#39;quantity&lt;em&gt;1000lbs&amp;#39;);data.addColumn(&amp;#39;number&amp;#39;,&amp;#39;value&lt;/em&gt;1000dollars&amp;#39;);data.addRows(datajson);var chart = new google.visualization.MotionChart(   document.getElementById(&amp;#39;MotionChart&lt;em&gt;2011-01-17-08-09-24&amp;#39;));var options ={};options[&amp;quot;width&amp;quot;] =    600;options[&amp;quot;height&amp;quot;] =    500;chart.draw(data,options);}&lt;/script&gt;&lt;br /&gt;&amp;lt;div id=&amp;quot;MotionChart&lt;/em&gt;2011-01-17-08-09-24&amp;quot; style=&amp;quot;height: 500px; width: 600px;&amp;quot;&amp;gt;&lt;/div&gt;Data: fishdata, Chart ID: MotionChart&lt;em&gt;2011-01-17-08-09-24&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;R version 2.12.1 (2010-12-16),&lt;br /&gt;&lt;a href=&quot;http://code.google.com/apis/visualization/terms.html&quot;&gt;&lt;br /&gt;Google Terms of Use&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;fishdatagg2 &amp;lt;- ddply&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fish2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;.&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;species&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/stats/var&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;var&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;summarise&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt; = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;value&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; se = &lt;a href=&quot;http://inside-r.org/r-doc/stats/sd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;sd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;value&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;/sqrt&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;value&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;fishdatagg2 &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/subset&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;subset&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fishdatagg2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;fishdatagg2$var %in% &lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;quantity&lt;/em&gt;1000lbs&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;value&lt;em&gt;1000dollars&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;limit3 &amp;lt;- aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ymax = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt; + se&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ymin = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt; - se&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;bysppfgrid &amp;lt;- &lt;a href=&quot;http://www.blogger.com/packages/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fishdatagg2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x=&lt;a href=&quot;http://inside-r.org/r-doc/stats/reorder&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;reorder&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;species&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/rank&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rank&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y=&lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;colour=species&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom&lt;/em&gt;point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom&lt;em&gt;errorbar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;limit3&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + facet&lt;/em&gt;grid&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;. ~ &lt;a href=&quot;http://inside-r.org/r-doc/stats/var&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;var&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; scales=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;free&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + opts&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;legend.position=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;none&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + coord&lt;em&gt;flip&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + scale&lt;/em&gt;y&lt;em&gt;continuous&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trans=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;log&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;bysppfgrid.jpeg&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&amp;lt;a href=&amp;quot;http://2.bp.blogspot.com/&lt;/em&gt;fANWq796z-w/TTRvw6n41xI/AAAAAAAAEYk/aaoDVQ&lt;em&gt;C8kk/s1600/bysppfgrid.jpeg&amp;quot; imageanchor=&amp;quot;1&amp;quot; style=&amp;quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&amp;quot;&amp;gt;&amp;lt;img border=&amp;quot;0&amp;quot; height=&amp;quot;640&amp;quot; src=&amp;quot;http://2.bp.blogspot.com/&lt;/em&gt;fANWq796z-w/TTRvw6n41xI/AAAAAAAAEYk/aaoDVQ_C8kk/s640/bysppfgrid.jpeg&amp;quot; width=&amp;quot;500&amp;quot; /&amp;gt;&lt;/a&gt;&lt;/div&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>R and Google Visualization API: Wikispeedia</title>
   <link href="http://recology.info//2011/01/r-and-google-visualization-api-wikispeedia/"/>
   <updated>2011-01-17T17:48:00-08:00</updated>
   <id>http://recology.info//2011/01/r-and-google-visualization-api-wikispeedia</id>
   <content type="html">&lt;p&gt;Wikispeedia is a website trying to gather all speed limit signs on Earth.  I recently created a Google Visualization for some of their data, specifically on speed limit signs that change speed throughout the day.  Check it out &lt;a href=&quot;http://groups.google.com/group/wikispeedia/browse_thread/thread/c9c712125a597b16&quot;&gt;here&lt;/a&gt;.  Here is how to see and comment on what they are doing: &lt;a href=&quot;http://www.wikispeedia.org/&quot;&gt;website&lt;/a&gt;, and &lt;a href=&quot;http://groups.google.com/group/wikispeedia?lnk=&quot;&gt;Google groups&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Bipartite networks and R</title>
   <link href="http://recology.info//2011/01/bipartite-networks-and-r/"/>
   <updated>2011-01-14T07:05:00-08:00</updated>
   <id>http://recology.info//2011/01/bipartite-networks-and-r</id>
   <content type="html">&lt;p&gt;Earlier, I posted about &lt;a href=&quot;http://r-ecology.blogspot.com/2011/01/ecological-networks-from-abundance.html&quot;&gt;generating networks from abundance distributions that you specify&lt;/a&gt;. If this post was interesting, check out Jeff Kilpatrick&amp;#39;s website, where he provides code he produced in R and Octave to compare real bipartite networks to ones generated based on ecological variables measured in the field (in our case it was abundance, body size, and nectar production). We used that code for a paper we published]&lt;a href=&quot;http://www.springerlink.com/content/1055615l6m74mp30/&quot;&gt;paper&lt;/a&gt;. Code was modified from code produced by &lt;a href=&quot;http://www.cricyt.edu.ar/interactio/dvazquez/html/index_e.html&quot;&gt;Diego P. Vazquez&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Just for fun: Recovery.gov data snooping</title>
   <link href="http://recology.info//2011/01/just-for-fun-recoverygov-data-snooping/"/>
   <updated>2011-01-11T08:52:00-08:00</updated>
   <id>http://recology.info//2011/01/just-for-fun-recoverygov-data-snooping</id>
   <content type="html">&lt;p&gt;&lt;script async=&quot;true&quot; src=&quot;http://pixel.propublica.org/pixel.js&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;a href=&quot;http://projects.propublica.org/docdollars/&quot; style=&quot;margin-left: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; src=&quot;http://4.bp.blogspot.com/_fANWq796z-w/TS_ACipsARI/AAAAAAAAEYA/s0V0Qr5GY0g/s1600/data-by-propublica.jpg&quot; style=&quot;cursor: move;&quot; /&gt;&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;Okay, so this isn&amp;#39;t ecology related at all, but I like exploring data sets. So here goes...&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;Propublica has some awesome data sets available at their website: http://www.propublica.org/tools/&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;I played around with their data set on Recovery.gov (see hyperlink below in code). Here&amp;#39;s some figures:&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;Mean award amount, ranked by mean amount, and also categorized by number of grants received (&amp;quot;nfund&amp;quot;) by state (by size and color of point).&amp;nbsp; Yes, there are 56 &amp;quot;states&amp;quot;, which includes things like Northern Marian Islands (MP). Notice that California got the largest number of awards, but the mean award size was relatively small. &lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TSuMsqigYNI/AAAAAAAAEXo/XIv_2rHJ_J8/s1600/awardbystate.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;640&quot; src=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TSuMsqigYNI/AAAAAAAAEXo/XIv_2rHJ_J8/s640/awardbystate.jpeg&quot; width=&quot;572&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;Here is a figure by government organization that awarded each award, by mean award size (y-axis), number of awards (x-axis), and number of jobs created (numjobs=text size). Notice that the FCC (Federal Communications Commission) created nearly the most jobs despite not giving very large awards (although they did give a lot of awards). &lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://3.bp.blogspot.com/_fANWq796z-w/TSyI0xFggbI/AAAAAAAAEX0/36J9f_n89tY/s1600/awardbyagency.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;640&quot; src=&quot;http://3.bp.blogspot.com/_fANWq796z-w/TSyI0xFggbI/AAAAAAAAEX0/36J9f_n89tY/s640/awardbyagency.jpeg&quot; width=&quot;609&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;Here is a figure of mean awards by state on a map of the US:&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://4.bp.blogspot.com/_fANWq796z-w/TSuf8AnHDHI/AAAAAAAAEXs/pGxY_7ej7e8/s1600/bystatemapmeans.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;537&quot; src=&quot;http://4.bp.blogspot.com/_fANWq796z-w/TSuf8AnHDHI/AAAAAAAAEXs/pGxY_7ej7e8/s640/bystatemapmeans.jpeg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;And by number of awards by state:&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;a href=&quot;http://3.bp.blogspot.com/_fANWq796z-w/TSuf9SKo2KI/AAAAAAAAEXw/QxDiC-DbvFc/s1600/bystatemapnumber.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;537&quot; src=&quot;http://3.bp.blogspot.com/_fANWq796z-w/TSuf9SKo2KI/AAAAAAAAEXw/QxDiC-DbvFc/s640/bystatemapnumber.jpeg&quot; width=&quot;640&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: left;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Here is the code:&lt;br /&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;################################################################################&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#################### Propublica Recovery.gov data           ####################&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;################################################################################&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/install.packages&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;install.packages&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;ggplot2&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;maps&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;stringr&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://www.blogger.com/packages/ggplot2&quot;&gt;ggplot2&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://www.blogger.com/packages/maps&quot;&gt;maps&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://www.blogger.com/packages/stringr&quot;&gt;stringr&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/setwd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;setwd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;/Mac/R&lt;em&gt;stuff/Blog&lt;/em&gt;etc&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Set working directory&lt;/span&gt;&lt;br /&gt;theme&lt;em&gt;set&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;theme&lt;/em&gt;bw&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Read propublica data from file (download from here: http://propublica.s3.amazonaws.com/assets/recoverygov/propublica-recoverygov-primary-2.xls&lt;/span&gt;&lt;br /&gt;propubdat &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/utils/read.csv&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;read.csv&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;propublica-recoverygov-primary-2.csv&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/str&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;str&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;propubdat&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Summarize data&lt;/span&gt;&lt;br /&gt;fundbystate &amp;lt;- ddply&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;propubdat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;.&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;prime&lt;em&gt;state&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;summarise&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; meanfund = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;award&lt;/em&gt;amount&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; sefund = &lt;a href=&quot;http://inside-r.org/r-doc/stats/sd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;sd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;award&lt;em&gt;amount&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;/sqrt&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;award&lt;/em&gt;amount&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; nfund = &lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;award&lt;em&gt;amount&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; numjobs = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;number&lt;/em&gt;of&lt;em&gt;jobs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;fundbyagency &amp;lt;- ddply&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;propubdat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;.&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;funding&lt;/em&gt;agency&lt;em&gt;name&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;summarise&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; meanfund = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;award&lt;/em&gt;amount&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; sefund = &lt;a href=&quot;http://inside-r.org/r-doc/stats/sd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;sd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;award&lt;em&gt;amount&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;/sqrt&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;award&lt;/em&gt;amount&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; nfund = &lt;a href=&quot;http://inside-r.org/r-doc/base/length&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;length&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;award&lt;em&gt;amount&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;br /&gt; numjobs = &lt;a href=&quot;http://inside-r.org/r-doc/base/mean&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;mean&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;number&lt;/em&gt;of&lt;em&gt;jobs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;fun1 &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/function&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;function&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;a&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #009900;&quot;&gt;{&lt;/span&gt;str&lt;/em&gt;c&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/paste&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;paste&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/stats/na.omit&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;na.omit&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;str&lt;em&gt;extract&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/unlist&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;unlist&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;str&lt;/em&gt;split&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/unlist&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;unlist&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/as.character&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;as.character&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;a&lt;span style=&quot;color: #009900;&quot;&gt;[&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;]&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot; &amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;[A-Z]{1}&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;a href=&quot;http://inside-r.org/r-doc/nlme/collapse&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;collapse&lt;/span&gt;&lt;/a&gt;=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;}&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Fxn to make funding agency name abbreviations within ddply below&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;fundbyagency2 &amp;lt;- ddply&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fundbyagency&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;.&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;funding&lt;em&gt;agency&lt;/em&gt;name&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/transform&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;transform&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# add to table funding agency name abbreviations&lt;/span&gt;&lt;br /&gt; agency&lt;em&gt;abbrev = fun1&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;funding&lt;/em&gt;agency&lt;em&gt;name&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Plot data, means and se&amp;#39;s by state&lt;/span&gt;&lt;br /&gt;limits &amp;lt;- aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ymax = meanfund + sefund&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ymin = meanfund - sefund&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;dodge &amp;lt;- position&lt;/em&gt;dodge&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.6&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;awardbystate &amp;lt;- &lt;a href=&quot;http://www.blogger.com/packages/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fundbystate&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x=&lt;a href=&quot;http://inside-r.org/r-doc/stats/reorder&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;reorder&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;prime&lt;em&gt;state&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;meanfund&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y=meanfund&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;colour=nfund&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom&lt;/em&gt;point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;size=nfund&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + coord&lt;em&gt;flip&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;  + geom&lt;/em&gt;errorbar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;limits&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + opts&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;panel.grid.major = theme&lt;em&gt;blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;panel.grid.minor=theme&lt;/em&gt;blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;legend.position=&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.7&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + labs&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;State&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;Mean grant amount awarded +/- 1 s.e.&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;awardbystate.jpeg&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# Plot data, means and se&amp;#39;s by funding agency&lt;/span&gt;&lt;br /&gt;limits2 &amp;lt;- aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ymax = meanfund + sefund&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ymin = meanfund - sefund&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;dodge &amp;lt;- position&lt;em&gt;dodge&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.6&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;awardbyagency &amp;lt;- &lt;a href=&quot;http://www.blogger.com/packages/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;fundbyagency2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;y=&lt;a href=&quot;http://inside-r.org/r-doc/base/log&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;log&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;meanfund&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;x=&lt;a href=&quot;http://inside-r.org/r-doc/base/log&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;log&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;nfund&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;label=agency&lt;/em&gt;abbrev&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom&lt;em&gt;text&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;size=numjobs&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;awardbyagency.jpeg&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# On US map&lt;/span&gt;&lt;br /&gt;fundbystate2 &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/utils/read.csv&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;read.csv&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;fundbystate.csv&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;states &amp;lt;- map&lt;/em&gt;data&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;state&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# get state geographic data from the maps package&lt;/span&gt;&lt;br /&gt;recovmap &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/merge&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;merge&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;states&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;fundbystate2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/by&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;by&lt;/span&gt;&lt;/a&gt;=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;region&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;# merage datasets&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;qplot&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;long&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;lat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt;=recovmap&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;group=group&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;fill=meanfund&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;geom=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;polygon&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;bystatemapmeans.jpeg&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;qplot&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;long&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;lat&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/data&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data&lt;/span&gt;&lt;/a&gt;=recovmap&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;group=group&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;fill=nfund&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;geom=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;polygon&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;ggsave&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;bystatemapnumber.jpeg&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;br /&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;And the text file fundbystate2 &lt;a href=&quot;http://web.me.com/scott_c1/Scott_Chamberlain/Other_files/fundbystate.csv&quot;&gt;here&lt;/a&gt;. I had the make this file separately so I could get in the spelled out state names as they were not provided in the propublica dataset.&lt;br /&gt;&lt;br /&gt;Source and disclaimer:&lt;br /&gt;Data provided by &lt;a href=&quot;http://www.propublica.org/&quot;&gt;Propublica&lt;/a&gt;. Data may contain errors and/or omissions.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>R and Google Visualization API</title>
   <link href="http://recology.info//2011/01/r-and-google-visualization-api/"/>
   <updated>2011-01-08T17:33:00-08:00</updated>
   <id>http://recology.info//2011/01/r-and-google-visualization-api</id>
   <content type="html">&lt;p&gt;R interfaces with the powerful Google Visualization API with the package googleVis (see &lt;a href=&quot;http://code.google.com/p/google-motion-charts-with-r/&quot;&gt;here&lt;/a&gt;). It&amp;#39;s relatively easy to convert your graphics in R to interactive graphics to post on a web browser. And the graphics are quite nice, as seen below in a simple graph of some of my data collected from this summer on seed predation to &lt;i&gt;Helianthus annuus&lt;/i&gt; seeds in Texas:&lt;br /&gt;&lt;br /&gt;&lt;script src=&quot;http://www.google.com/jsapi&quot; type=&quot;text/javascript&quot;&gt;&lt;/script&gt;&lt;br /&gt;&lt;script type=&quot;text/javascript&quot;&gt;google.load(&amp;quot;visualization&amp;quot;, &amp;quot;1&amp;quot;, { packages:[&amp;quot;motionchart&amp;quot;] });google.setOnLoadCallback(drawChart);function drawChart() {var data = new google.visualization.DataTable();var datajson = [ [ &amp;quot;Site 1&amp;quot;,new Date(2008,0,8),&amp;quot;beall&amp;quot;,&amp;quot;far&amp;quot;,2.7558, 119.7 ],[ &amp;quot;Site 1&amp;quot;,new Date(2009,0,8),&amp;quot;beall&amp;quot;,&amp;quot;near&amp;quot;,0.53571,128.83 ],[ &amp;quot;Site 1&amp;quot;,new Date(2010,0,8),&amp;quot;mine field&amp;quot;,&amp;quot;near&amp;quot;,0.36207,103.23 ],[ &amp;quot;Site 2&amp;quot;,new Date(2008,0,8),&amp;quot;beall&amp;quot;,&amp;quot;near&amp;quot;,0.051212,82.188 ],[ &amp;quot;Site 2&amp;quot;,new Date(2009,0,8),&amp;quot;mine field&amp;quot;,&amp;quot;far&amp;quot;,     0,45.664 ],[ &amp;quot;Site 2&amp;quot;,new Date(2010,0,8),&amp;quot;mine field&amp;quot;,&amp;quot;near&amp;quot;,     0,50.319 ],[ &amp;quot;Site 3&amp;quot;,new Date(2007,0,8),&amp;quot;beall&amp;quot;,&amp;quot;far&amp;quot;,0.30909,94.639 ],[ &amp;quot;Site 3&amp;quot;,new Date(2008,0,8),&amp;quot;beall&amp;quot;,&amp;quot;near&amp;quot;,0.02439,137.54 ],[ &amp;quot;Site 3&amp;quot;,new Date(2009,0,8),&amp;quot;mine field&amp;quot;,&amp;quot;far&amp;quot;,0.85294,97.058 ],[ &amp;quot;Site 3&amp;quot;,new Date(2010,0,8),&amp;quot;mine field&amp;quot;,&amp;quot;near&amp;quot;,0.050633,127.31 ],[ &amp;quot;Site 4&amp;quot;,new Date(2007,0,8),&amp;quot;beall&amp;quot;,&amp;quot;far&amp;quot;,0.34539,109.48 ],[ &amp;quot;Site 4&amp;quot;,new Date(2008,0,8),&amp;quot;beall&amp;quot;,&amp;quot;near&amp;quot;,0.27667,127.04 ],[ &amp;quot;Site 4&amp;quot;,new Date(2009,0,8),&amp;quot;mine field&amp;quot;,&amp;quot;far&amp;quot;,0.69652,138.99 ],[ &amp;quot;Site 4&amp;quot;,new Date(2010,0,8),&amp;quot;mine field&amp;quot;,&amp;quot;near&amp;quot;,0.16392,153.22 ],[ &amp;quot;Site 5&amp;quot;,new Date(2007,0,8),&amp;quot;mine field&amp;quot;,&amp;quot;far&amp;quot;,0.060811,124.68 ],[ &amp;quot;Site 5&amp;quot;,new Date(2008,0,8),&amp;quot;mine field&amp;quot;,&amp;quot;near&amp;quot;,0.12821, 103.6 ] ];data.addColumn(&amp;#39;string&amp;#39;,&amp;#39;site2&amp;#39;);data.addColumn(&amp;#39;date&amp;#39;,&amp;#39;years&amp;#39;);data.addColumn(&amp;#39;string&amp;#39;,&amp;#39;seed&lt;em&gt;source&amp;#39;);data.addColumn(&amp;#39;string&amp;#39;,&amp;#39;near&lt;/em&gt;far&amp;#39;);data.addColumn(&amp;#39;number&amp;#39;,&amp;#39;meanholes&amp;#39;);data.addColumn(&amp;#39;number&amp;#39;,&amp;#39;meanseeds&amp;#39;);data.addRows(datajson);var chart = new google.visualization.MotionChart(   document.getElementById(&amp;#39;MotionChart&lt;em&gt;2011-01-08-19-31-57&amp;#39;));var options ={};options[&amp;quot;width&amp;quot;] =    600;options[&amp;quot;height&amp;quot;] =    500;chart.draw(data,options);}&lt;/script&gt;&lt;br /&gt;&amp;lt;div id=&amp;quot;MotionChart&lt;/em&gt;2011-01-08-19-31-57&amp;quot; style=&amp;quot;height: 500px; width: 600px;&amp;quot;&amp;gt;&lt;/div&gt;Data: data2, Chart ID: MotionChart_2011-01-08-19-31-57&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;R version 2.12.1 (2010-12-16),&lt;br /&gt;&lt;a href=&quot;http://code.google.com/apis/visualization/terms.html&quot;&gt;&lt;br /&gt;Google Terms of Use&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&amp;lt;%@include file=&amp;quot;../src/simpleFooter.rsp&amp;quot;%&amp;gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Ecological networks from abundance distributions</title>
   <link href="http://recology.info//2011/01/ecological-networks-from-abundance/"/>
   <updated>2011-01-06T06:58:00-08:00</updated>
   <id>http://recology.info//2011/01/ecological-networks-from-abundance</id>
   <content type="html">&lt;p&gt;Another grad student and I tried recently to make a contribution to our understanding of the relationship between ecological network structure (e.g., nestedness) and community structure (e.g., evenness)...&lt;/p&gt;

&lt;p&gt;...Alas, I had no luck making new insights. However, I am providing the code used for this failed attempt in hopes that someone may find it useful. This is very basic code. It was roughly based off of the paper by Bluthgen et al. 2008 Ecology (&lt;a href=&quot;http://www.esajournals.org/doi/abs/10.1890/07-2121.1?journalCode=ecol&quot;&gt;here&lt;/a&gt;). In my code the number of interactions is set to 600, and there are 30 plant species, and 10 animal species. This assumes they share the same abundance distributions and sigma values. &lt;/p&gt;

&lt;p&gt;UPDATE: I changed the below code a bit to just output the metrics links per species, interaction evenness and H2. &lt;/p&gt;

&lt;p&gt;UPDATE on 27-Aug-12: Now using a github gist, which should actually work:&lt;/p&gt;

&lt;script src=&quot;https://gist.github.com/3493789.js?file=matricesfromabddist.r&quot;&gt;&lt;/script&gt;
</content>
 </entry>
 
 <entry>
   <title>R-bloggers</title>
   <link href="http://recology.info//2011/01/r-bloggers/"/>
   <updated>2011-01-05T06:11:00-08:00</updated>
   <id>http://recology.info//2011/01/r-bloggers</id>
   <content type="html">&lt;p&gt;Just a quick FYI note in case you haven&amp;#39;t seen this site.&lt;/p&gt;

&lt;p&gt;R-bloggers is an awesome site, bringing together more than 140 blogs (including mine) about R in a single location. See Tal Galili&amp;#39;s motivation for creating the site, and his notes on the site &lt;a href=&quot;http://www.r-bloggers.com/r-bloggers-in-2010-top-14-r-posts-site-statistics-and-invitation-for-sponsors/&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>New approach to analysis of phylogenetic community structure</title>
   <link href="http://recology.info//2011/01/new-approach-to-analysis-of-phylogenetic-community-structure/"/>
   <updated>2011-01-05T05:54:00-08:00</updated>
   <id>http://recology.info//2011/01/new-approach-to-analysis-of-phylogenetic-community-structure</id>
   <content type="html">&lt;p&gt;Anthony Ives, of University of Wisconsin-Madison, and Matthew Helmus of the Xishuangbanna Tropical Botanical Garden, present a new statistical method for analyzing phylogenetic community structure in an early view paper in Ecological Monographs. See the abstract &lt;a href=&quot;http://www.esajournals.org/doi/abs/10.1890/10-1264.1&quot;&gt;here&lt;/a&gt;. &lt;/p&gt;

&lt;p&gt;Up to now, most phylogenetic community structure papers have calculated metrics and used randomization tests to determine if observed metrics are different from random. The approach of Ives and Helmus fits models to observed data, instead of calculating single metrics.&lt;/p&gt;

&lt;p&gt;Furthermore, their approach gets around the limitation in studies of phylogenetic community structure of conducting many separate statistical tests, thereby inflating your chances of finding a significant effect purely by chance.&lt;/p&gt;

&lt;p&gt;Their approach uses generalized linear mixed models (GLMMs). They provide Matlab code for running these models, but R code will be available in the Picante package in the future.&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Ngram ecological terms</title>
   <link href="http://recology.info//2010/12/ngram-ecological-terms/"/>
   <updated>2010-12-29T18:43:00-08:00</updated>
   <id>http://recology.info//2010/12/ngram-ecological-terms</id>
   <content type="html">&lt;p&gt;The recent availability of google ngram data is a great source of data on language use. Here are some terms from ecology from 1890 to 2000 (from here: http://ngrams.googlelabs.com/). Note that the word &amp;quot;ecology&amp;quot; doesn&amp;#39;t appear at all until about 1890. &lt;/p&gt;

&lt;p&gt;Notice the close alignment of &amp;quot;ecology&amp;quot; and &amp;quot;ecosystem&amp;quot;, while &amp;quot;predation&amp;quot; and &amp;quot;facilitation&amp;quot; put in somewhat equal showings. &amp;quot;Parasitism&amp;quot; is almost constant through time, while &amp;quot;mutualism&amp;quot; falls way below predation and facilitation and parasitism.&amp;nbsp; &lt;br /&gt;&lt;br /&gt;&lt;br /&gt;&lt;table cellpadding=&quot;0&quot; cellspacing=&quot;0&quot; class=&quot;tr-caption-container&quot; style=&quot;float: left; margin-right: 1em; text-align: left;&quot;&gt;&lt;tbody&gt;&lt;tr&gt;&lt;td style=&quot;text-align: center;&quot;&gt;&lt;a href=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TRv09kGgUxI/AAAAAAAAEXA/BXoTvjPhq3Y/s1600/chart.png&quot; style=&quot;clear: left; margin-bottom: 1em; margin-left: auto; margin-right: auto;&quot;&gt;&lt;img border=&quot;0&quot; height=&quot;145&quot; src=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TRv09kGgUxI/AAAAAAAAEXA/BXoTvjPhq3Y/s400/chart.png&quot; width=&quot;400&quot; /&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=&quot;tr-caption&quot; style=&quot;text-align: center;&quot;&gt;Google Ngram plot of six ecological terms + environmentalism for giggles&lt;br /&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/tbody&gt;&lt;/table&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>Phylogenetic meta-analysis in R using Phylometa</title>
   <link href="http://recology.info//2010/12/phylogenetic-meta-analysis-in-r-using-phylometa/"/>
   <updated>2010-12-28T05:15:00-08:00</updated>
   <id>http://recology.info//2010/12/phylogenetic-meta-analysis-in-r-using-phylometa</id>
   <content type="html">&lt;p&gt;Here is some code to run Phylometa from R. Phylometa is a program that conducts phylogenetic meta-analyses. The great advantage of the approach below is that you can easily run Phylometa from R, and manipulate the output from Phylometa in R. &lt;br /&gt;&lt;br /&gt;Phylometa was created by Marc Lajeunesse at University of South Florida, and is described in his 2009 AmNat &lt;a href=&quot;http://lajeunesse.myweb.usf.edu/publications.html&quot;&gt;paper&lt;/a&gt;. Phylometa can be downloaded free &lt;a href=&quot;http://lajeunesse.myweb.usf.edu/publications.html&quot;&gt;here&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Save phylometa&lt;em&gt;fxn.R&amp;nbsp;(get &lt;a href=&quot;https://gist.github.com/939970&quot;&gt;here&lt;/a&gt;) to your working directory.&amp;nbsp; Then use the  block of code below to call the functions within phylometa&lt;/em&gt;fxn.R.&lt;/p&gt;

&lt;p&gt;The program Phylometa needs to be in the working directory you are calling from.&lt;br /&gt;&lt;br /&gt;Let me know what doesn&amp;#39;t work, and what improvements can be made; I&amp;#39;m sure there are many! &lt;br /&gt;&lt;br /&gt;---This code below is also available &lt;a href=&quot;https://gist.github.com/939971&quot;&gt;here&lt;/a&gt; on Github.&lt;/p&gt;

&lt;p&gt;&lt;br /&gt;&lt;div style=&quot;overflow: auto;&quot;&gt;&lt;div class=&quot;geshifilter&quot;&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;########Directions&lt;/span&gt;&amp;nbsp;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Place phylometa software to your working directory&lt;/span&gt;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Put your phylogeny, in format required by phylometa, in your working directory&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Put your meta-analysis dataset, in format required by phylometa, in your working directory&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Set working directory&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Use below functions&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Beware: only use a moderator variable with up to 6 groups &lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;########Install packages&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/utils/install.packages&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;install.packages&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;plyr&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;ggplot2&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://www.blogger.com/packages/plyr&quot;&gt;plyr&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/library&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;library&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://www.blogger.com/packages/ggplot2&quot;&gt;ggplot2&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;########Set the working directory [NOTE:CHANGE TO YOUR WORKING DIRECTORY]&lt;/span&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/setwd&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;setwd&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;/Users/Scott/Documents/phylometa&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Call and run functions (used below) in the working directory [NOTE:CHANGE TO YOUR WORKING DIRECTORY]&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/source&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;source&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;/Users/Scott/Documents/phylometa&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&amp;nbsp;&lt;/pre&gt;&lt;pre class=&quot;r geshifilter-R&quot; style=&quot;font-family: monospace;&quot;&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;###########################Functions to to a phylogenetic meta-analysis&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Define number of groups in moderator variable&lt;/span&gt;&lt;br /&gt;groups &amp;lt;- &lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;####Run phylometa. Change file names as needed&lt;/span&gt;&lt;br /&gt;phylometa.run &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/system&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;system&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/paste&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;paste&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;#39;&amp;quot;phyloMeta&lt;em&gt;v1-2&lt;/em&gt;beta.exe&amp;quot; phylogeny.txt metadata&lt;em&gt;2g.txt&amp;#39;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;intern=T&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;####Process phylometa output &lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#E.g.&lt;/span&gt;&lt;br /&gt;myoutput &amp;lt;- phylometa.process&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;phylometa.run&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;groups&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;####Get output from phylometa.run&lt;/span&gt;&lt;br /&gt;phylometa.output&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;myoutput&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Prints all five tables&lt;/span&gt;&lt;br /&gt;phylometa.output.table&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;myoutput&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Prints the table you specify, from 1 to 5, in this example, table 2 is output&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;###################################################&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#########Plot effect sizes. These are various ways to look at the data. Go through them to see what they do. Output pdf&amp;#39;s are in your working directory&lt;/span&gt;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Make table for plotting&lt;/span&gt;&lt;br /&gt;analysis &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;fixed&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;groups+&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;random&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;groups+&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;trad&lt;/em&gt;effsizes &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/data.frame&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;analysis&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;phylometa.output.table&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;myoutput&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Tradiational effect size table&lt;/span&gt;&lt;br /&gt;phylog&lt;em&gt;effsizes &amp;lt;- &lt;a href=&quot;http://inside-r.org/r-doc/base/data.frame&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;analysis&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;phylometa.output.table&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;myoutput&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Phylogenetic effect size table&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#The arrange method&lt;/span&gt;&lt;br /&gt;limits &amp;lt;- aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ymax = effsize + &lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;CI&lt;/em&gt;high-effsize&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ymin = effsize - &lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;effsize-CI&lt;em&gt;low&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;dodge &amp;lt;- position&lt;/em&gt;dodge&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;plot01 &amp;lt;- &lt;a href=&quot;http://www.blogger.com/packages/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;trad&lt;em&gt;effsizes&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;y=effsize&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;x=analysis&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;colour=Group&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom&lt;/em&gt;point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;size=&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + theme&lt;em&gt;bw&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + opts&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;panel.grid.major = theme&lt;/em&gt;blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;panel.grid.minor=theme&lt;em&gt;blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/title&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;title&lt;/span&gt;&lt;/a&gt;=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;Traditional meta-analysis&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + labs&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;Group&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;Effect size&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom&lt;/em&gt;errorbar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;limits&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom&lt;em&gt;hline&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;yintercept=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;linetype=&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;plot02 &amp;lt;- &lt;a href=&quot;http://www.blogger.com/packages/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;phylog&lt;/em&gt;effsizes&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;y=effsize&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;x=analysis&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;colour=Group&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom&lt;em&gt;point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;size=&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + theme&lt;/em&gt;bw&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + opts&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;panel.grid.major = theme&lt;em&gt;blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;panel.grid.minor=theme&lt;/em&gt;blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/graphics/title&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;title&lt;/span&gt;&lt;/a&gt;=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;Phylogenetic meta-analysis&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + labs&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;Group&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;Effect size&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom&lt;em&gt;errorbar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;limits&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom&lt;/em&gt;hline&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;yintercept=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;linetype=&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/grDevices/pdf&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;pdf&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;plots&lt;em&gt;effsizes&lt;/em&gt;arrange.pdf&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;width = &lt;span style=&quot;color: #cc66cc;&quot;&gt;8&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; height = &lt;span style=&quot;color: #cc66cc;&quot;&gt;11&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;arrange&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;plot01&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;plot02&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/ncol&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;ncol&lt;/span&gt;&lt;/a&gt;=&lt;span style=&quot;color: #cc66cc;&quot;&gt;1&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/grDevices/dev.off&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;dev.off&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#used in the two plotting methods below&lt;/span&gt;&lt;br /&gt;bothanalyses&amp;lt;-&lt;a href=&quot;http://inside-r.org/r-doc/base/data.frame&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;data.frame&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;tradphy=&lt;a href=&quot;http://inside-r.org/r-doc/base/c&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;c&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;Traditional&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;groups&lt;em&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;+&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;Phylogenetic&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;groups&lt;/em&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;+&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;fixrand=&lt;a href=&quot;http://inside-r.org/r-doc/base/rep&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;rep&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;analysis&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;rbind.fill&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;phylometa.output.table&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;myoutput&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;phylometa.output.table&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;myoutput&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;&lt;span style=&quot;color: #cc66cc;&quot;&gt;4&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#Table of both trad and phylo&lt;/span&gt;&lt;br /&gt;limits2 &amp;lt;- aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;ymax = effsize + &lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;CI&lt;em&gt;high-effsize&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; ymin = effsize - &lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;effsize-CI&lt;/em&gt;low&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;dodge &amp;lt;- position&lt;em&gt;dodge&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.3&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#The grid/wrap method, version 1&lt;/span&gt;&lt;br /&gt;plot03 &amp;lt;- &lt;a href=&quot;http://www.blogger.com/packages/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;bothanalyses&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;y=effsize&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;x=tradphy&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;colour=Group&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom&lt;/em&gt;point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;size=&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + theme&lt;em&gt;bw&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + opts&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;panel.grid.major = theme&lt;/em&gt;blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;panel.grid.minor=theme&lt;em&gt;blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + labs&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;Group&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;Effect size&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom&lt;/em&gt;errorbar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;limits2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom&lt;em&gt;hline&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;yintercept=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;linetype=&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + facet&lt;/em&gt;grid&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;.~fixrand&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/grDevices/pdf&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;pdf&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;plots&lt;em&gt;effsizes&lt;/em&gt;wrap1.pdf&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;plot03&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/grDevices/dev.off&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;dev.off&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; &lt;br /&gt;&amp;nbsp;&lt;br /&gt;&lt;span style=&quot;color: #666666; font-style: italic;&quot;&gt;#The grid/wrap method, version 2 (excuse the sloppy x-axis labels)&lt;/span&gt;&lt;br /&gt;plot04 &amp;lt;- &lt;a href=&quot;http://www.blogger.com/packages/ggplot&quot;&gt;ggplot&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;bothanalyses&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;aes&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;y=effsize&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;x=Group&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;colour=tradphy&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom&lt;em&gt;point&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;size=&lt;span style=&quot;color: #cc66cc;&quot;&gt;3&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + theme&lt;/em&gt;bw&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + opts&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;panel.grid.major = theme&lt;em&gt;blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;panel.grid.minor=theme&lt;/em&gt;blank&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + labs&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;x=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;Group&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;y=&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;Effect size&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom&lt;em&gt;errorbar&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;limits2&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; width=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0.2&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt; position=dodge&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + geom&lt;/em&gt;hline&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;yintercept=&lt;span style=&quot;color: #cc66cc;&quot;&gt;0&lt;/span&gt;&lt;span style=&quot;color: #339933;&quot;&gt;,&lt;/span&gt;linetype=&lt;span style=&quot;color: #cc66cc;&quot;&gt;2&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt; + facet&lt;em&gt;grid&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;.~fixrand&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/grDevices/pdf&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;pdf&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: blue;&quot;&gt;&amp;quot;plots&lt;/em&gt;effsizes&lt;em&gt;wrap2.pdf&amp;quot;&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;br /&gt;plot04&lt;br /&gt;&lt;a href=&quot;http://inside-r.org/r-doc/grDevices/dev.off&quot;&gt;&lt;span style=&quot;color: #003399; font-weight: bold;&quot;&gt;dev.off&lt;/span&gt;&lt;/a&gt;&lt;span style=&quot;color: #009900;&quot;&gt;(&lt;/span&gt;&lt;span style=&quot;color: #009900;&quot;&gt;)&lt;/span&gt;&lt;/pre&gt;&lt;/div&gt;&lt;/div&gt;&lt;a href=&quot;http://www.inside-r.org/pretty-r&quot; title=&quot;Created by Pretty R at inside-R.org&quot;&gt;Created by Pretty R at inside-R.org&lt;/a&gt;&lt;br /&gt;&lt;br /&gt;&lt;br /&gt;Below is an example output figure from the code. This example is from an analysis using 5 groups (i.e., 5 levels in the explanatory variable). &lt;br /&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&amp;lt;a href=&amp;quot;http://1.bp.blogspot.com/&lt;/em&gt;fANWq796z-w/TRjJtgRlZOI/AAAAAAAAEW4/203ZMnCQUjM/s1600/Untitled.001.001.jpg&amp;quot; imageanchor=&amp;quot;1&amp;quot; style=&amp;quot;clear: left; float: left; margin-bottom: 1em; margin-right: 1em;&amp;quot;&amp;gt;&lt;img border=&quot;0&quot; src=&quot;http://1.bp.blogspot.com/_fANWq796z-w/TRjJtgRlZOI/AAAAAAAAEW4/203ZMnCQUjM/s1600/Untitled.001.001.jpg&quot; /&gt;&lt;/a&gt;&lt;/div&gt;&lt;div class=&quot;separator&quot; style=&quot;clear: both; text-align: center;&quot;&gt;&lt;/div&gt;&lt;br /&gt;&lt;br /&gt;&lt;span id=&quot;goog_1471819853&quot;&gt;&lt;/span&gt;&lt;span id=&quot;goog_1471819854&quot;&gt;&lt;/span&gt;&lt;/p&gt;
</content>
 </entry>
 
 <entry>
   <title>A new blog about using R for ecology and evolution</title>
   <link href="http://recology.info//2010/12/a-new-blog-about-using-r-for-ecology-and-evolution/"/>
   <updated>2010-12-27T09:42:00-08:00</updated>
   <id>http://recology.info//2010/12/a-new-blog-about-using-r-for-ecology-and-evolution</id>
   <content type="html">&lt;p&gt;I am starting this blog not because I am a seasoned code writer, but because I am learning how to use R specifically for ecology and evolution, and figured many others might have the same questions I have. If I find cool solutions I will post them here for all to view, criticize, improve, etc.&lt;/p&gt;
</content>
 </entry>
 

</feed>
