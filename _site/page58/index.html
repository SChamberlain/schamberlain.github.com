<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en-us">

  <head>
  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  <link href="http://gmpg.org/xfn/11" rel="profile">

  <title>
    
    Recology, R/etc.
  </title>

  <!-- CSS -->
  <link rel="stylesheet" href="/public/css/hyde.css">
  <link rel="stylesheet" href="/public/css/syntax.css">
  <link rel="stylesheet" href="http://fonts.googleapis.com/css?family=Open+Sans:300,400italic,400,600,700|Abril+Fatface">

  <link rel="stylesheet" href="/public/css/bootstrap/css/bootstrap.css">

  <!-- Icons -->
  <link rel="apple-touch-icon-precomposed" sizes="144x144" href="/public/favicon.ico">
  <link rel="shortcut icon" href="/public/favicon.ico">
  <link href="//netdna.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.css" rel="stylesheet">

  <!-- RSS -->
  <link rel="alternate" type="application/rss+xml" title="RSS" href="/atom.xml">
</head>


  <body class="theme-base-0f layout-reverse">

    <header class="masthead">
      <div class="masthead-inner">
        <h1>Recology</h1>
        <!-- <h1> <a href="http://recology.info/">Recology</a></h1> -->
        <p class="lead">R/etc.</p>

        <div class="colophon">
          <ul class="colophon-links">
            <li>
              <a href="/"><i class="fa fa-home fa-lg"></i></a>&nbsp;
              <a href="/about"><i class="fa fa-info-circle fa-lg"></i></a>&nbsp;
              <a href="/archives"><i class="fa fa-archive fa-lg"></i></a>&nbsp;
              <a href="/rresources"><i class="fa fa-book fa-lg"></i></a>&nbsp;
              <a href="http://rforcats.net/" rel><i class="fa fa-graduation-cap fa-lg"></i></a>&nbsp;
              <a href="/feed.xml"><i class="fa fa-rss fa-lg"></i></a>&nbsp;
              <a href="https://twitter.com/sckottie"><i class="fa fa-twitter fa-lg"></i></a>&nbsp;
              <a href="/fork"><i class="fa fa-spinner fa-lg"></i></a>
            </li>
          </ul>
          <!-- <small><a href="https://github.com/mdo/hyde">Hyde</a> from <a href="https://twitter.com/mdo" target="_blank">@mdo</a>.</small> -->
        </div>
      </div>
    </header>

    <div class="content container">
      <div class="posts">
  <a style="float:right;" href="/archives" data-toggle="tooltip" data-placement="bottom" title="Archives"><i class="fa fa-archive fa-lg"></i></a>
  <a style="float:right;" href="/tags"><i class="fa fa-tags fa-lg"></i></a>&nbsp;
  
  <div class="post">
    <h1>
      <a href="/2011/02/troubling-news-for-teaching-of/">
        Troubling news for the teaching of evolution
      </a>
    </h1>

    <span class="post-date">09 Feb 2011</span>

    <p>[UPDATE: i remade the maps in green, hope that helps...]<br /><br />A recent survey reported in <a href="http://www.sciencemag.org.silk.library.umass.edu/content/331/6016/404.full">Science</a>&nbsp;(&quot;Defeating Creationism in the Courtroom, but not in the Classroom&quot;) found that biology teachers in high school do not often accept the basis of their discipline, as do teachers in other disciplines, and thus may not teach evolution appropriately.&nbsp;Read more here:&nbsp;<a href="http://www.nytimes.com/2011/02/08/science/08creationism.html?emc=eta1">New York Times</a>.<br /><br />I took a little time to play with the data provided online along with the Science article. The data is available on the Science website along with the article, and the dataset I read into R is unchanged from the original. The states abbreviations file is <a href="http://schamber.files.wordpress.com/2011/02/states_abbreviations.xls">here</a>&nbsp;(as a .xls). Here goes:<br /><br />I only played with two survey questions: q1b (no. of hours ecology is taught per year), and q1d (no. of hours evolution is taught per year). I looked at ecology and evolution as this blog is about ecology and evolution. It seems that some states that teach a lot of ecology teach&nbsp;a lot of evolution, but I found no correlation between the two without extreme outliers. I&nbsp;couldnâ€™t help but notice my home state, TX, is near the bottom of the list on both counts - go TX! The teaching of evolution on the map produced below is less predictable than I would have though just based on my assumptions about political will in each state.<br /><br /><div style="overflow: auto;"><div class="geshifilter"><div class="separator" style="clear: both; text-align: center;"><br /></div><pre class="r geshifilter-R" style="font-family: monospace;"><span style="color: #666666; font-style: italic;"># Analyses of Conditionality Data set of all variables, except for latitude, etc.</span><br /><a href="http://inside-r.org/r-doc/base/setwd"><span style="color: #003399; font-weight: bold;">setwd</span></a><span style="color: #009900;">(</span><span style="color: blue;">&quot;/Mac/R<em>stuff/Blog</em>etc/EvolutionTeaching/&quot;</span><span style="color: #009900;">)</span> <span style="color: #666666; font-style: italic;"># Set working directory</span><br /><a href="http://inside-r.org/r-doc/base/library"><span style="color: #003399; font-weight: bold;">library</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/packages/cran/ggplot2">ggplot2</a><span style="color: #009900;">)</span><br />&nbsp;<br /><span style="color: #666666; font-style: italic;"># read in data, and prepare new columns</span><br /><a href="http://inside-r.org/r-doc/MASS/survey"><span style="color: #003399; font-weight: bold;">survey</span></a> &lt;- <a href="http://inside-r.org/r-doc/utils/read.csv"><span style="color: #003399; font-weight: bold;">read.csv</span></a><span style="color: #009900;">(</span><span style="color: blue;">&quot;berkmandata.csv&quot;</span><span style="color: #009900;">)</span><br /><a href="http://inside-r.org/r-doc/utils/str"><span style="color: #003399; font-weight: bold;">str</span></a><span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/MASS/survey"><span style="color: #003399; font-weight: bold;">survey</span></a><span style="color: #009900;">) # (I do realize that survey is a data object in the MASS package)</span><br />&nbsp;<br /><span style="color: #666666; font-style: italic;"># Assign actual hours to survey answers </span><br />ecol &lt;- <a href="http://inside-r.org/r-doc/base/gsub"><span style="color: #003399; font-weight: bold;">gsub</span></a><span style="color: #009900;">(</span><span style="color: #cc66cc;">1</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">0</span><span style="color: #339933;">,</span> <a href="http://inside-r.org/r-doc/MASS/survey"><span style="color: #003399; font-weight: bold;">survey</span></a>$q1b<span style="color: #009900;">)</span><br />ecol &lt;- <a href="http://inside-r.org/r-doc/base/gsub"><span style="color: #003399; font-weight: bold;">gsub</span></a><span style="color: #009900;">(</span><span style="color: #cc66cc;">2</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">1.5</span><span style="color: #339933;">,</span> ecol<span style="color: #009900;">)</span><br />ecol &lt;- <a href="http://inside-r.org/r-doc/base/gsub"><span style="color: #003399; font-weight: bold;">gsub</span></a><span style="color: #009900;">(</span><span style="color: #cc66cc;">3</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">4</span><span style="color: #339933;">,</span> ecol<span style="color: #009900;">)</span><br />ecol &lt;- <a href="http://inside-r.org/r-doc/base/gsub"><span style="color: #003399; font-weight: bold;">gsub</span></a><span style="color: #009900;">(</span><span style="color: #cc66cc;">4</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">8</span><span style="color: #339933;">,</span> ecol<span style="color: #009900;">)</span><br />ecol &lt;- <a href="http://inside-r.org/r-doc/base/gsub"><span style="color: #003399; font-weight: bold;">gsub</span></a><span style="color: #009900;">(</span><span style="color: #cc66cc;">5</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">13</span><span style="color: #339933;">,</span> ecol<span style="color: #009900;">)</span><br />ecol &lt;- <a href="http://inside-r.org/r-doc/base/gsub"><span style="color: #003399; font-weight: bold;">gsub</span></a><span style="color: #009900;">(</span><span style="color: #cc66cc;">6</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">18</span><span style="color: #339933;">,</span> ecol<span style="color: #009900;">)</span><br />ecol &lt;- <a href="http://inside-r.org/r-doc/base/gsub"><span style="color: #003399; font-weight: bold;">gsub</span></a><span style="color: #009900;">(</span><span style="color: #cc66cc;">7</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">20</span><span style="color: #339933;">,</span> ecol<span style="color: #009900;">)</span><br />&nbsp;<br />evol &lt;- <a href="http://inside-r.org/r-doc/base/gsub"><span style="color: #003399; font-weight: bold;">gsub</span></a><span style="color: #009900;">(</span><span style="color: #cc66cc;">1</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">0</span><span style="color: #339933;">,</span> <a href="http://inside-r.org/r-doc/MASS/survey"><span style="color: #003399; font-weight: bold;">survey</span></a>$q1d<span style="color: #009900;">)</span><br />evol &lt;- <a href="http://inside-r.org/r-doc/base/gsub"><span style="color: #003399; font-weight: bold;">gsub</span></a><span style="color: #009900;">(</span><span style="color: #cc66cc;">2</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">1.5</span><span style="color: #339933;">,</span> evol<span style="color: #009900;">)</span><br />evol &lt;- <a href="http://inside-r.org/r-doc/base/gsub"><span style="color: #003399; font-weight: bold;">gsub</span></a><span style="color: #009900;">(</span><span style="color: #cc66cc;">3</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">4</span><span style="color: #339933;">,</span> evol<span style="color: #009900;">)</span><br />evol &lt;- <a href="http://inside-r.org/r-doc/base/gsub"><span style="color: #003399; font-weight: bold;">gsub</span></a><span style="color: #009900;">(</span><span style="color: #cc66cc;">4</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">8</span><span style="color: #339933;">,</span> evol<span style="color: #009900;">)</span><br />evol &lt;- <a href="http://inside-r.org/r-doc/base/gsub"><span style="color: #003399; font-weight: bold;">gsub</span></a><span style="color: #009900;">(</span><span style="color: #cc66cc;">5</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">13</span><span style="color: #339933;">,</span> evol<span style="color: #009900;">)</span><br />evol &lt;- <a href="http://inside-r.org/r-doc/base/gsub"><span style="color: #003399; font-weight: bold;">gsub</span></a><span style="color: #009900;">(</span><span style="color: #cc66cc;">6</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">18</span><span style="color: #339933;">,</span> evol<span style="color: #009900;">)</span><br />evol &lt;- <a href="http://inside-r.org/r-doc/base/gsub"><span style="color: #003399; font-weight: bold;">gsub</span></a><span style="color: #009900;">(</span><span style="color: #cc66cc;">7</span><span style="color: #339933;">,</span> <span style="color: #cc66cc;">20</span><span style="color: #339933;">,</span> evol<span style="color: #009900;">)</span><br />&nbsp;<br /><a href="http://inside-r.org/r-doc/MASS/survey"><span style="color: #003399; font-weight: bold;">survey</span></a>$ecol &lt;- <a href="http://inside-r.org/r-doc/base/as.numeric"><span style="color: #003399; font-weight: bold;">as.numeric</span></a><span style="color: #009900;">(</span>ecol<span style="color: #009900;">)</span><br /><a href="http://inside-r.org/r-doc/MASS/survey"><span style="color: #003399; font-weight: bold;">survey</span></a>$evol &lt;- <a href="http://inside-r.org/r-doc/base/as.numeric"><span style="color: #003399; font-weight: bold;">as.numeric</span></a><span style="color: #009900;">(</span>evol<span style="color: #009900;">)</span><br />&nbsp;<br /><span style="color: #666666; font-style: italic;"># ddply it</span><br />survey<em>sum &lt;- ddply<span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/MASS/survey"><span style="color: #003399; font-weight: bold;">survey</span></a><span style="color: #339933;">,</span> .<span style="color: #009900;">(</span>st</em>posta<span style="color: #009900;">)</span><span style="color: #339933;">,</span> summarise<span style="color: #339933;">,</span><br /> mean<em>ecol</em>hrs = <a href="http://inside-r.org/r-doc/base/mean"><span style="color: #003399; font-weight: bold;">mean</span></a><span style="color: #009900;">(</span>ecol<span style="color: #339933;">,</span> na.rm=T<span style="color: #009900;">)</span><span style="color: #339933;">,</span><br /> mean<em>evol</em>hrs = <a href="http://inside-r.org/r-doc/base/mean"><span style="color: #003399; font-weight: bold;">mean</span></a><span style="color: #009900;">(</span>evol<span style="color: #339933;">,</span> na.rm=T<span style="color: #009900;">)</span><span style="color: #339933;">,</span><br /> se<em>ecol</em>hrs = <a href="http://inside-r.org/r-doc/stats/sd"><span style="color: #003399; font-weight: bold;">sd</span></a><span style="color: #009900;">(</span>ecol<span style="color: #339933;">,</span> na.rm=T<span style="color: #009900;">)</span>/sqrt<span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/base/length"><span style="color: #003399; font-weight: bold;">length</span></a><span style="color: #009900;">(</span>ecol<span style="color: #009900;">)</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span><br /> se<em>evol</em>hrs = <a href="http://inside-r.org/r-doc/stats/sd"><span style="color: #003399; font-weight: bold;">sd</span></a><span style="color: #009900;">(</span>evol<span style="color: #339933;">,</span> na.rm=T<span style="color: #009900;">)</span>/sqrt<span style="color: #009900;">(</span><a href="http://inside-r.org/r-doc/base/length"><span style="color: #003399; font-weight: bold;">length</span></a><span style="color: #009900;">(</span>evol<span style="color: #009900;">)</span><span style="color: #009900;">)</span><span style="color: #339933;">,</span><br /> num<em>teachers = <a href="http://inside-r.org/r-doc/base/length"><span style="color: #003399; font-weight: bold;">length</span></a><span style="color: #009900;">(</span>st</em>posta<span style="color: #009900;">)</span><br /><span style="color: #009900;">)</span><br />&nbsp;<br /><span style="color: #666666; font-style: italic;"># plotting</span><br />limits<em>ecol &lt;- aes<span style="color: #009900;">(</span>ymax = mean</em>ecol<em>hrs + se</em>ecol<em>hrs<span style="color: #339933;">,</span> ymin = mean</em>ecol<em>hrs - se</em>ecol<em>hrs<span style="color: #009900;">)</span><br />limits</em>evol &lt;- aes<span style="color: #009900;">(</span>ymax = mean<em>evol</em>hrs + se<em>evol</em>hrs<span style="color: #339933;">,</span> ymin = mean<em>evol</em>hrs - se<em>evol</em>hrs<span style="color: #009900;">)</span><br />&nbsp;<br /><a href="http://inside-r.org/packages/cran/ggplot">ggplot</a><span style="color: #009900;">(</span>survey<em>sum<span style="color: #339933;">,</span> aes<span style="color: #009900;">(</span>x = <a href="http://inside-r.org/r-doc/stats/reorder"><span style="color: #003399; font-weight: bold;">reorder</span></a><span style="color: #009900;">(</span>st</em>posta<span style="color: #339933;">,</span> mean<em>ecol</em>hrs<span style="color: #009900;">)</span><span style="color: #339933;">,</span> y = mean<em>ecol</em>hrs<span style="color: #009900;">)</span><span style="color: #009900;">)</span> +<br /> geom<em>point<span style="color: #009900;">(</span><span style="color: #009900;">)</span> +<br /> geom</em>errorbar<span style="color: #009900;">(</span>limits<em>ecol<span style="color: #009900;">)</span> +<br /> geom</em>text<span style="color: #009900;">(</span>aes<span style="color: #009900;">(</span>label = num<em>teachers<span style="color: #009900;">)</span><span style="color: #339933;">,</span> vjust = <span style="color: #cc66cc;">1</span><span style="color: #339933;">,</span> hjust = -<span style="color: #cc66cc;">3</span><span style="color: #339933;">,</span> size = <span style="color: #cc66cc;">3</span><span style="color: #009900;">)</span> +<br /> coord</em>flip<span style="color: #009900;">(</span><span style="color: #009900;">)</span> +<br /> labs<span style="color: #009900;">(</span>x = <span style="color: blue;">&quot;State&quot;</span><span style="color: #339933;">,</span> y = <span style="color: blue;">&quot;Mean hours of ecology taught <span style="color: #000099; font-weight: bold;">\n</span> per year (+/- 1 se)&quot;</span><span style="color: #009900;">)</span><br /></pre><pre class="r geshifilter-R" style="font-family: monospace;"><span style="color: #009900;">####SMALL NUMBERS BY BARS ARE NUMBER OF TEACHERS THAT RESPONDED TO THE SURVEY</span></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R" style="font-family: monospace;"><a href="http://1.bp.blogspot.com/_fANWq796z-w/TVKfu6zmnJI/AAAAAAAAEZw/b49TxhUjMmk/s1600/survey_ecol.jpeg" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="640" src="http://1.bp.blogspot.com/_fANWq796z-w/TVKfu6zmnJI/AAAAAAAAEZw/b49TxhUjMmk/s640/survey_ecol.jpeg" width="392" /></a><span class="Apple-style-span" style="font-family: Times; white-space: normal;"></span></pre><div class="separator" style="clear: both; text-align: center;"><a href="http://1.bp.blogspot.com/_fANWq796z-w/TVKfu6zmnJI/AAAAAAAAEZw/b49TxhUjMmk/s1600/survey_ecol.jpeg" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><br /></a></div><div class="separator" style="clear: both; text-align: center;"><br /></div><pre class="r geshifilter-R" style="font-family: monospace;">&nbsp;<br /><a href="http://inside-r.org/packages/cran/ggplot">ggplot</a><span style="color: #009900;">(</span>survey<em>sum<span style="color: #339933;">,</span> aes<span style="color: #009900;">(</span>x = <a href="http://inside-r.org/r-doc/stats/reorder"><span style="color: #003399; font-weight: bold;">reorder</span></a><span style="color: #009900;">(</span>st</em>posta<span style="color: #339933;">,</span> mean<em>evol</em>hrs<span style="color: #009900;">)</span><span style="color: #339933;">,</span> y = mean<em>evol</em>hrs<span style="color: #009900;">)</span><span style="color: #009900;">)</span> +<br /> geom<em>point<span style="color: #009900;">(</span><span style="color: #009900;">)</span> +<br /> geom</em>errorbar<span style="color: #009900;">(</span>limits<em>evol<span style="color: #009900;">)</span> +<br /> geom</em>text<span style="color: #009900;">(</span>aes<span style="color: #009900;">(</span>label = num<em>teachers<span style="color: #009900;">)</span><span style="color: #339933;">,</span> vjust = <span style="color: #cc66cc;">1</span><span style="color: #339933;">,</span> hjust = -<span style="color: #cc66cc;">3</span><span style="color: #339933;">,</span> size = <span style="color: #cc66cc;">3</span><span style="color: #009900;">)</span> +<br /> coord</em>flip<span style="color: #009900;">(</span><span style="color: #009900;">)</span> +<br /> labs<span style="color: #009900;">(</span>x = <span style="color: blue;">&quot;State&quot;</span><span style="color: #339933;">,</span> y = <span style="color: blue;">&quot;Mean hours of evolution taught <span style="color: #000099; font-weight: bold;">\n</span> per year (+/- 1 se)&quot;</span><span style="color: #009900;">)</span><br />&nbsp;<span class="Apple-style-span" style="color: #009900;">####SMALL NUMBERS BY BARS ARE NUMBER OF TEACHERS THAT RESPONDED TO THE SURVEY</span><br /><br /><span class="Apple-style-span" style="font-family: Times; white-space: normal;"><a href="http://4.bp.blogspot.com/_fANWq796z-w/TVKfuQSN7sI/AAAAAAAAEZs/o1EIVgS7lkA/s1600/survey_evol.jpeg" imageanchor="1" style="margin-left: 1em; margin-right: 1em;"><img border="0" height="640" src="http://4.bp.blogspot.com/_fANWq796z-w/TVKfuQSN7sI/AAAAAAAAEZs/o1EIVgS7lkA/s640/survey_evol.jpeg" width="392" /></a></span><br />&nbsp;<br /><span style="color: #666666; font-style: italic;"># map</span><br />try<em>require<span style="color: #009900;">(</span><span style="color: blue;">&quot;maps&quot;</span><span style="color: #009900;">)</span><br />states &lt;- map</em>data<span style="color: #009900;">(</span><span style="color: blue;">&quot;state&quot;</span><span style="color: #009900;">)</span><br />statenames &lt;- <a href="http://inside-r.org/r-doc/utils/read.csv"><span style="color: #003399; font-weight: bold;">read.csv</span></a><span style="color: #009900;">(</span><span style="color: blue;">&quot;/Mac/R<em>stuff/Code/states</em>abbreviations.csv&quot;</span><span style="color: #009900;">)</span><br />survey<em>sum</em> &lt;- <a href="http://inside-r.org/r-doc/base/merge"><span style="color: #003399; font-weight: bold;">merge</span></a><span style="color: #009900;">(</span>survey<em>sum<span style="color: #339933;">,</span> statenames<span style="color: #339933;">,</span> by.x = <span style="color: blue;">&quot;st</em>posta&quot;</span><span style="color: #339933;">,</span> by.y = <span style="color: blue;">&quot;state<em>abbrev&quot;</span><span style="color: #009900;">)</span><br />survey</em>sum<em>map &lt;- <a href="http://inside-r.org/r-doc/base/merge"><span style="color: #003399; font-weight: bold;">merge</span></a><span style="color: #009900;">(</span>states<span style="color: #339933;">,</span> survey</em>sum<em><span style="color: #339933;">,</span> by.x = <span style="color: blue;">&quot;region&quot;</span><span style="color: #339933;">,</span> by.y = <span style="color: blue;">&quot;state&quot;</span><span style="color: #009900;">)</span><br />survey</em>sum<em>map &lt;- survey</em>sum<em>map<span style="color: #009900;">[</span><a href="http://inside-r.org/r-doc/base/order"><span style="color: #003399; font-weight: bold;">order</span></a><span style="color: #009900;">(</span>survey</em>sum<em>map$order<span style="color: #009900;">)</span><span style="color: #339933;">,</span> <span style="color: #009900;">]</span><br />&nbsp;<br /><span class="Apple-style-span" style="font-family: Times; white-space: normal;"><pre class="r geshifilter-R" style="font-family: monospace; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">qplot<span style="color: #009900;">(</span>long<span style="color: #339933;">,</span> lat<span style="color: #339933;">,</span> <a href="http://inside-r.org/r-doc/utils/data"><span style="color: #003399; font-weight: bold;">data</span></a> = survey</em>sum<em>map<span style="color: #339933;">,</span> group = group<span style="color: #339933;">,</span> fill = mean</em>ecol<em>hrs<span style="color: #339933;">,</span> geom = <span style="color: blue;">&quot;polygon&quot;</span><span style="color: #009900;">)</span> + scale</em>fill<em>gradient<span style="color: #009900;">(</span>low=<span style="color: blue;">&quot;black&quot;</span><span style="color: #339933;">,</span> high=<span style="color: blue;">&quot;green&quot;</span><span style="color: #009900;">)</span></pre></span></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R"><span style="color: #009900;"></span><span class="Apple-style-span" style="font-family: Times; white-space: normal;">&lt;a href=&quot;http://3.bp.blogspot.com/-cNO2YWHX0Hk/TVQP5B7VxmI/AAAAAAAAEZ8/GBYKNR5vUBs/s1600/survey</em>ecol<em>map</em>green.jpeg&quot; imageanchor=&quot;1&quot; style=&quot;clear: left; margin-bottom: 1em; margin-right: 1em;&quot;&gt;<img border="0" height="458" src="http://3.bp.blogspot.com/-cNO2YWHX0Hk/TVQP5B7VxmI/AAAAAAAAEZ8/GBYKNR5vUBs/s640/survey_ecol_map_green.jpeg" width="640" /></a></span><br /><span class="Apple-style-span"><br /></span></pre><div class="separator" style="clear: both; text-align: center;"><br /></div><pre class="r geshifilter-R">&nbsp;<br /><br /><span class="Apple-style-span" style="font-family: Times; white-space: normal;"><pre class="r geshifilter-R" style="font-family: monospace; margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;">qplot<span style="color: #009900;">(</span>long<span style="color: #339933;">,</span> lat<span style="color: #339933;">,</span> <a href="http://inside-r.org/r-doc/utils/data"><span style="color: #003399; font-weight: bold;">data</span></a> = survey<em>sum</em>map<span style="color: #339933;">,</span> group = group<span style="color: #339933;">,</span> fill = mean<em>evol</em>hrs<span style="color: #339933;">,</span> geom = <span style="color: blue;">&quot;polygon&quot;</span><span style="color: #009900;">)</span> + scale<em>fill</em>gradient<span style="color: #009900;">(</span>low=<span style="color: blue;">&quot;black&quot;</span><span style="color: #339933;">,</span> high=<span style="color: blue;">&quot;green&quot;</span><span style="color: #009900;">)</span></pre></span></pre><pre class="r geshifilter-R"><span style="color: #009900; font-family: monospace;"><span class="Apple-style-span" style="color: black; font-family: Times; white-space: normal;"><a href="http://2.bp.blogspot.com/-eLaIU-xsE78/TVQP5ol2gBI/AAAAAAAAEaA/vmGvlFhLmfE/s1600/survey_evol_map_green.jpeg" imageanchor="1" style="clear: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="458" src="http://2.bp.blogspot.com/-eLaIU-xsE78/TVQP5ol2gBI/AAAAAAAAEaA/vmGvlFhLmfE/s640/survey_evol_map_green.jpeg" style="cursor: move;" width="640" /></a></span></span></pre><pre class="r geshifilter-R"><pre class="r geshifilter-R" style="margin-bottom: 0px; margin-left: 0px; margin-right: 0px; margin-top: 0px;"><span class="Apple-style-span" style="font-family: Times;"><span class="Apple-style-span" style="white-space: normal;"><br /></span></span></pre></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre><pre class="r geshifilter-R"><span class="Apple-style-span" style="font-family: Times;"><span class="Apple-style-span" style="white-space: normal;"><br /></span></span></pre><pre class="r geshifilter-R" style="font-family: monospace;"></pre></div></div><a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org">Created by Pretty R at inside-R.org</a></p>

  </div>
  
  <div class="post">
    <h1>
      <a href="/2011/02/plants-are-less-sex-deprived-when-next-to-closely-related-neighbors/">
        Plants are less sex deprived when next to closely related neighbors
      </a>
    </h1>

    <span class="post-date">01 Feb 2011</span>

    <p>A new early online paper in <a href="http://www.amjbot.org/cgi/content/abstract/ajb.1000329v1">American Journal of Botany</a> by <a href="http://mysite.science.uottawa.ca/rsargent/">Risa Sargent</a> and colleagues suggests that plants are less sex deprived (pollen limited) in vernal pools that have more closely related plant species. Vernal pools are (at least in my experience) small (to quite large) depressions that fill up with water with winter rains, and dry out completely in the summer. Vernal pool adapted plants flower in rings down the pool as the water dries up. Aquatic invertebrates and some herps can last through the summer by burrowing in the soil.</p>

<p>The study did hand pollination experiments with a focal species, <em>Lasthenia fremontii</em>. They examined the relationship between these pollen limitation experiments and the relatedness of <em>L. fremontii</em> to the rest of the plant community in each pool.</p>

<p>Plant species richness was not related to pollen limitation. Thus, at least in their study with vernal pools in California, relatedness to your plant neighbors has a greater impact than plant richness.</p>

<p>The great thing about vernal pools is that they are truly terrestrial islands of habitat, surrounded by inhospitable habitat for pool species. Many vernal pools are created artificially for habitat conservation easements (e.g., <a href="http://www.vollmarconsulting.com/projects/caltrans-madera-pools/index.html">here</a>. Perhaps someone can experimentally manipulate phylogenetic diversity in artificially created pools to really get at the causal links.</p>

<p>p.s. Ok, this post is not terribly R related, except for that this paper used R for some of their statistics.</p>

  </div>
  
  <div class="post">
    <h1>
      <a href="/2011/01/good-riddance-to-excel-pivot-tables/">
        Good riddance to Excel pivot tables
      </a>
    </h1>

    <span class="post-date">30 Jan 2011</span>

    <p>Excel pivot tables have been how I have reorganized data...up until now. These are just a couple of examples why R is superior to Excel for reorganizing data:</p>

<p>UPDATE: I fixed the code to use &#39;dcast&#39; instead of &#39;cast&#39;. And library(ggplot2) instead of library(plyr) [plyr is called along with ggplot2]. Thanks Bob!</p>

<p>Also, see another post on this topic <a href="http://news.mrdwab.com/2010/08/08/using-the-reshape-packagein-r/">here</a>.</p>

<script src="https://gist.github.com/1578361.js?file=goodriddance.R"></script>

<p><img src="/pivottable1.png" alt="Figure"></p>

  </div>
  
</div>

<!-- Pagination links -->
<div class="pagination">
  
    <a href="/page59" class="older">Older</a>
  
  
    
      <a href="/page57" class="newer">Newer</a>
    
  
</div>

    </div>

    <!-- for bootstrap tooltips -->
    <script type="text/javascript">
      $("[data-toggle=\"tooltip\"]").tooltip();
    </script>

  </body>

  <footer>
  <!-- Disqus code -->
  <script type="text/javascript">
      /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
      var disqus_shortname = 'recology'; // required: replace example with your forum shortname

      /* * * DON'T EDIT BELOW THIS LINE * * */
      (function () {
          var s = document.createElement('script'); s.async = true;
          s.type = 'text/javascript';
          s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
          (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
      }());
  </script>

  <!-- google analytics -->
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-63197374-1', 'auto');
    ga('send', 'pageview');
  </script>
</footer>

</html>
