<!DOCTYPE html>

<html>
  <head>

    <meta http-equiv="Content-type" content="text/html;charset=UTF-8">

    <title>Recology: An exploration of using R for ecology, evolution, and open science.</title>

    <script type="text/javascript" src="http://use.typekit.com/jjw2jrj.js"></script>
    <script type="text/javascript">try{Typekit.load();}catch(e){}</script>

    <link type="text/css" rel="stylesheet" href="/stylesheets/reset.css">
    <link type="text/css" rel="stylesheet" href="/stylesheets/screen.css">
    <link type="text/css" rel="stylesheet" href="/stylesheets/code.css">
    <link rel="alternate" type="application/atom+xml"
      title="Recology feed" href="http://feeds.feedburner.com/schamberlain" />

    <link rel="apple-touch-icon" href="/images/uo-logo.png" />
    <link rel="apple-touch-icon-precomposed" href="/images/uo-logo.png" />
    <link rel="apple-touch-icon-precomposed" sizes="72x72" media="screen and (resolution: 132dpi)" href="/images/uo-logo.png" />
    <link rel="apple-touch-icon-precomposed" sizes="114x114" media="screen and (resolution: 326dpi)" href="/images/uo-logo.png" />

    <meta name="viewport" content="width=device-width, minimum-scale=1.0, maximum-scale=1.0" />



  </head>
  <body class="default">

    <section id="main">

      <section id="masthead" class="group">
        <header class="group">
          <p><a href="/">Recology</a></p>
          <h1>An exploration of using R for ecology, evolution, and open science.</h1>
          <img src="/images/uo-logo.png">
        </header>
      </section>

      <section id="focus" class="group">

        <section id="content" class="group">
          <section id="posts">
  <ol>
    
    <li>
      <article class="instapaper_body">
  <header>
    <h2 class="instapaper_title"><a href="/2011/06/10/openstates-from-r-via-api-watch-your-elected-representatives/">OpenStates from R via API: watch your elected representatives</a></h2>
  </header>
  
    I am writing some functions to acquire data from the <a href="http://openstates.sunlightlabs.com/">OpenStates project,</a>&nbsp;via <a href="http://openstates.sunlightlabs.com/api/">their API</a>. They have <a href="http://groups.google.com/group/fifty-state-project">a great support community</a> at Google Groups as well.<br /><br />On its face this post is not obviously about ecology or evolution, but well, our elected representatives do, so to speak, hold our environment in a noose, ready to let the Earth hang any day.<br /><br />Code <a href="https://SChamberlain@github.com/SChamberlain/ropstates.git">I am developing is over at Github</a>.<br /><br />Here is an example of its use in R, in this case using the Bill Search option (billsearch.R on my Github site), and in this case you do not provide your API key in the function call, but instead put it in your .Rprofile file, which is called when you open R. We are searching here for the term 'agriculture' in Texas ('tx'), in the 'upper' chamber.<br /><br /><div style="overflow: auto;"><div class="geshifilter"><pre class="r geshifilter-R" style="font-family: monospace;">&gt; temp &lt;- billsearch<span style="color: #009900;">(</span><span style="color: blue;">'agriculture'</span><span style="color: #339933;">,</span> <a href="http://inside-r.org/r-doc/datasets/state"><span style="color: #003399; font-weight: bold;">state</span></a> = <span style="color: blue;">'tx'</span><span style="color: #339933;">,</span> chamber = <span style="color: blue;">'upper'</span><span style="color: #009900;">)</span><br />&nbsp;<br />&gt; <a href="http://inside-r.org/r-doc/base/length"><span style="color: #003399; font-weight: bold;">length</span></a><span style="color: #009900;">(</span>temp<span style="color: #009900;">)</span><br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: #cc66cc;">21</span><br />&nbsp;<br />&gt; temp<span style="color: #009900;">[</span><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span><span style="color: #009900;">]</span><br />$title<br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: blue;">"Congratulating John C. Padalino of El Paso for being appointed to the United States Department of Agriculture."</span><br />&nbsp;<br />$created_at<br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: blue;">"2010-08-11 07:59:46"</span><br />&nbsp;<br />$updated_at<br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: blue;">"2010-09-02 03:34:39"</span><br />&nbsp;<br />$chamber<br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: blue;">"upper"</span><br />&nbsp;<br />$state<br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: blue;">"tx"</span><br />&nbsp;<br />$session<br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: blue;">"81"</span><br />&nbsp;<br />$type<br />$type<span style="color: #009900;">[</span><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span><span style="color: #009900;">]</span><br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: blue;">"resolution"</span><br />&nbsp;<br />&nbsp;<br />$subjects<br />$subjects<span style="color: #009900;">[</span><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span><span style="color: #009900;">]</span><br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: blue;">"Resolutions"</span><br />&nbsp;<br />$subjects<span style="color: #009900;">[</span><span style="color: #009900;">[</span><span style="color: #cc66cc;">2</span><span style="color: #009900;">]</span><span style="color: #009900;">]</span><br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: blue;">"Other"</span><br />&nbsp;<br />&nbsp;<br />$bill_id<br /><span style="color: #009900;">[</span><span style="color: #cc66cc;">1</span><span style="color: #009900;">]</span> <span style="color: blue;">"SR 1042"</span></pre></div></div><a href="http://www.inside-r.org/pretty-r" title="Created by Pretty R at inside-R.org">Created by Pretty R at inside-R.org</a><br /><br /><br />Apparently, the first bill (SR 2042, see $bill_id at the bottom of the list output) that came up was to congratulate John Paladino for being appointed to the USDA.<br /><br />The other function I have ready is getting basic metadata on a state, called statemetasearch.<br /><br />I plan to develop more functions for all the possible API calls to the OpenStates project.

  
  <footer class="group">
    <p>
      
      
      
        
      
      <time pubdate datetime="2011-06-10T12:00:00-07:00">Friday, June 10 2011</time>
      
      <a class="icon" href="http://www.instapaper.com/hello2?u=http%3A%2F%2Fschamberlain.github.com%2F%2F2011%2F06%2F10%2Fopenstates-from-r-via-api-watch-your-elected-representatives%2F&amp;title=OpenStates%20from%20R%20via%20API%3A%20watch%20your%20elected%20representatives" rel="alternate" title="Save to Instapaper">Read Later</a>
      
    </p>
  </footer>
</article>


    </li>
    
    <li>
      <article class="instapaper_body">
  <header>
    <h2 class="instapaper_title"><a href="/2011/06/09/just-turned-on-mobile-template-for-this-blog-let-me-know-if-it-works/">Just turned on 'mobile template' for this blog, let me know if it works</a></h2>
  </header>
  
    <div class="separator" style="clear: both; text-align: center;"><a href="http://f.cl.ly/items/0V2S0T1k3X3G2p0W2p1e/Screen%20shot%202011-06-09%20at%2012.49.15%20PM.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="161" src="http://f.cl.ly/items/0V2S0T1k3X3G2p0W2p1e/Screen%20shot%202011-06-09%20at%2012.49.15%20PM.png" width="400" /></a></div>

  
  <footer class="group">
    <p>
      
      
      
        
      
      <time pubdate datetime="2011-06-09T12:00:00-07:00">Thursday, June  9 2011</time>
      
      <a class="icon" href="http://www.instapaper.com/hello2?u=http%3A%2F%2Fschamberlain.github.com%2F%2F2011%2F06%2F09%2Fjust-turned-on-mobile-template-for-this-blog-let-me-know-if-it-works%2F&amp;title=Just%20turned%20on%20'mobile%20template'%20for%20this%20blog%2C%20let%20me%20know%20if%20it%20works" rel="alternate" title="Save to Instapaper">Read Later</a>
      
    </p>
  </footer>
</article>


    </li>
    
    <li>
      <article class="instapaper_body">
  <header>
    <h2 class="instapaper_title"><a href="/2011/06/09/-10-000-visits-to-recology-/">> 10,000 visits to Recology!!!!</a></h2>
  </header>
  
    Thanks so much everyone for stopping by!<br /><br /><div class="separator" style="clear: both; text-align: center;"><a href="http://f.cl.ly/items/3m2g3b3r2o1b1k1b3x27/Screen%20shot%202011-06-09%20at%2012.07.33%20PM.png" imageanchor="1" style="clear: left; float: left; margin-bottom: 1em; margin-right: 1em;"><img border="0" height="337" src="http://f.cl.ly/items/3m2g3b3r2o1b1k1b3x27/Screen%20shot%202011-06-09%20at%2012.07.33%20PM.png" width="400" /></a></div>

  
  <footer class="group">
    <p>
      
      
      
        
      
      <time pubdate datetime="2011-06-09T12:00:00-07:00">Thursday, June  9 2011</time>
      
      <a class="icon" href="http://www.instapaper.com/hello2?u=http%3A%2F%2Fschamberlain.github.com%2F%2F2011%2F06%2F09%2F-10-000-visits-to-recology-%2F&amp;title=%3E%2010%2C000%20visits%20to%20Recology!!!!" rel="alternate" title="Save to Instapaper">Read Later</a>
      
    </p>
  </footer>
</article>


    </li>
    
  </ol>

  
  <nav id="pagination">
    <ol>
      
        
      
      
      <li>
        <a href="/pagelayoutdefaulturl/page15/index.htmlcontent<section id="posts">
  <ol>
    {% for post in paginator.posts %}
    <li>
      {% include post.html %}
    </li>
    {% endfor %}
  </ol>

  {% if paginator.total_pages > 1 %}
  <nav id="pagination">
    <ol>
      {% if paginator.previous_page > 1 %}
        {% capture page_url %}page{{ page }}{% endcapture%}
      {% endif %}
      {% if paginator.previous_page %}
      <li>
        <a href="/{{ page_url }}" title="Go to previous page">
          &laquo;
        </a>
      </li>
      {% endif %}
      <li>
      {% for page in (1..paginator.total_pages) %}
      <li>
        {% if page > 1 %}
          {% capture page_url %}page{{ page }}{% endcapture%}
        {% endif %}
        {% if page == paginator.page %}
          {{ page }}
        {% else %}
          <a href="/{{ page_url }}">{{ page }}</a>
        {% endif %}
      </li>
      {% endfor %}
      {% if paginator.next_page %}
      <li>
        <a href="/page{{ paginator.next_page }}" title="Go to next page">
          &raquo;
        </a>
      </li>
      {% endif %}
    </ol>
  </nav>
  {% endif %}
</section>
" title="Go to previous page">
          &laquo;
        </a>
      </li>
      
      <li>
      
      <li>
        
        
          <a href="/pagelayoutdefaulturl/page15/index.htmlcontent<section id="posts">
  <ol>
    {% for post in paginator.posts %}
    <li>
      {% include post.html %}
    </li>
    {% endfor %}
  </ol>

  {% if paginator.total_pages > 1 %}
  <nav id="pagination">
    <ol>
      {% if paginator.previous_page > 1 %}
        {% capture page_url %}page{{ page }}{% endcapture%}
      {% endif %}
      {% if paginator.previous_page %}
      <li>
        <a href="/{{ page_url }}" title="Go to previous page">
          &laquo;
        </a>
      </li>
      {% endif %}
      <li>
      {% for page in (1..paginator.total_pages) %}
      <li>
        {% if page > 1 %}
          {% capture page_url %}page{{ page }}{% endcapture%}
        {% endif %}
        {% if page == paginator.page %}
          {{ page }}
        {% else %}
          <a href="/{{ page_url }}">{{ page }}</a>
        {% endif %}
      </li>
      {% endfor %}
      {% if paginator.next_page %}
      <li>
        <a href="/page{{ paginator.next_page }}" title="Go to next page">
          &raquo;
        </a>
      </li>
      {% endif %}
    </ol>
  </nav>
  {% endif %}
</section>
">1</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page2">2</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page3">3</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page4">4</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page5">5</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page6">6</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page7">7</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page8">8</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page9">9</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page10">10</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page11">11</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page12">12</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page13">13</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page14">14</a>
        
      </li>
      
      <li>
        
          
        
        
          15
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page16">16</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page17">17</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page18">18</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page19">19</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page20">20</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page21">21</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page22">22</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page23">23</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page24">24</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page25">25</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page26">26</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page27">27</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page28">28</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page29">29</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page30">30</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page31">31</a>
        
      </li>
      
      <li>
        
          
        
        
          <a href="/page32">32</a>
        
      </li>
      
      
      <li>
        <a href="/page16" title="Go to next page">
          &raquo;
        </a>
      </li>
      
    </ol>
  </nav>
  
</section>

        </section>

        <section id="sidebar">

          <section id="meta-col1" class="meta group">
            <aside id="about">
              <header>
                <h3>About</h3>
              </header>
              <p>
                Recology is a blog that explores using R for ecology, evolution, and open science. <a href="/about">See more.</a>
              </p>
            </aside>

            <aside>
              <header>
                <h3>Stay up to date</h3>
              </header>
              <nav>
                <ul>
                  <li class="icon rss"><a href="http://feeds.feedburner.com/schamberlain">RSS</a></li>
                  <li class="icon twitter"><a href="http://twitter.com/recology_">Twitter</a></li>
                  <li class="icon"><a href="/subscribe">More</a></li>
                </ul>
              </nav>
            </aside>

          </section>

          <section id="meta-col2" class="meta group">

            <aside id="bio">
              <header>
                <h3>The Author</h3>
              </header>
              <p>
              My name is Scott Chamberlain. I am a graduate student in ecology and evolution at <a href="http://www.rice.edu/">Rice University</a>, in the <a href="http://eeb.rice.edu/">EEB department</a>. 
              </p>
            </aside>

            <aside>
              <nav id="extra">
                <ul>
                  <li><a href="/about">About</a></li>
	              <li><a href="/research">Research</a></li>
    	          <li><a href="/publications">Publications</a></li>
    	          <li><a href="/blogs">Blogs</a></li>
    	          <li><a href="/code">Code</a></li>
    	          <li><a href="/cv">CV</a></li>
    	          <li><a href="/donors">Donors</a></li>
    	          <li><a href="/pictures">Pictures</a></li>
        	      <li><a href="/contact">Contact</a></li>
            	  <li><a href="/subscribe">Subscribe</a></li>
              	  <li><a href="/colophon">Colophon</a></li>
                </ul>
              </nav>
            </aside>

          </section>

        </section>

      </section>

      <section id="footer" class="group">
        <footer class="group">
          <nav id="site">
            <ul>
              <li><a href="/">Home</a></li>
              <li><a href="/about">About</a></li>
              <li><a href="/research">Research</a></li>
              <li><a href="/publications">Publications</a></li>
              <li><a href="/blogs">Blogs</a></li>
    	      <li><a href="/code">Code</a></li>
    	      <li><a href="/cv">CV</a></li>
    	      <li><a href="/donors">Donors</a></li>
    	      <li><a href="/pictures">Pictures</a></li>
              <li><a href="/contact">Contact</a></li>
              <li><a href="/subscribe">Subscribe</a></li>
              <li><a href="/colophon">Colophon</a></li>
            </ul>
          </nav>
          <p class="copyright">
            &copy;2011 &ndash; Scott Chamberlain
          </p>
        </footer>
      </section>

    </section>

<!--Google analytics tracking code-->
    <script type="text/javascript">
      var _gaq = _gaq || [];
      _gaq.push(['_setAccount', 'UA-XXXX-X']);
      _gaq.push(['_trackPageview']);

      (function() {
        var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
        ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
        var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
      })();
    </script>
<!--Gaug.es tracking code-->
    
<!--Gaug.es tracking code-->
	<script type="text/javascript">
  	var _gauges = _gauges || [];
  	(function() {
    	var t   = document.createElement('script');
    	t.type  = 'text/javascript';
    	t.async = true;
    	t.id    = 'gauges-tracker';
    	t.setAttribute('data-site-id', '4efd83a6f5a1f5158a000004');
    	t.src = '//secure.gaug.es/track.js';
    	var s = document.getElementsByTagName('script')[0];
    	s.parentNode.insertBefore(t, s);
  	})();
	</script>
<!--Gaug.es tracking code-->

  </body>
</html>
