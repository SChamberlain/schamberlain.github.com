<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Richard Huang - Richard Huang's Website</title>
    <meta name="author" content="Richard Huang" />
    <meta name="google-site-verification" content="KDVRO6hdZ0Vww31dac2Yomyd7xjmMMFEZw2Fzq5acuY" />
    <link rel="stylesheet" type="text/css" href="/stylesheets/screen.css">
    <link href="http://feeds.feedburner.com/richard-huang" rel="alternate" title="RSS" type="application/rss+xml" />
    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.1/jquery.min.js"></script>
    <script type="text/javascript" src="/javascripts/jquery.github_v2.js"></script>
  </head>

  <body>
    <div id="header" class="section">
      <div class="wrapper">
        <strong id="blog-title">
          <a href="/" rel="home">Richard Huang's Website</a>
        </strong>
        <p id="blog-description"></p>
        <div id="navigation">
          <ul class="nav clearfix">
            <li class="first-child"><a href="/blog.html">Blog</a></li>
            <li><a href="/projects.html">Projects</a></li>
            <li><a href="/about.html">About</a></li>
          </ul>
        </div>
      </div>
    </div>
    <div id="main" class="section">
      <div class="wrapper">
        <div id="content">
          <!-- AddThis Button BEGIN -->
<div class="addthis_toolbox addthis_default_style ">
  <a class="addthis_button_facebook_like" fb:like:layout="button_count"></a>
  <a class="addthis_button_tweet"></a>
  <a class="addthis_button_google_plusone" g:plusone:size="medium"></a>
  <a class="addthis_counter addthis_pill_style"></a>
</div>
<script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=flyerhzm"></script>
<!-- AddThis Button END -->

  <div class="full">
    <h1 class="entry-title">
      <a href="/2011/12/13/rake-arguments/" title="rake arguments" rel="bookmark">rake arguments</a>
    </h1>
    <div class="entry-content full-content">
      <p>Long ago I began to write some rake tasks, it's simple but doesn't have
an instruction about how to add arguments to a rake task. What I did
before is to use ruby environment variables.</p>

<div class="highlight"><pre><code class="ruby"><span class="n">task</span> <span class="ss">:try_argument</span> <span class="k">do</span>
  <span class="no">ENV</span><span class="o">[</span><span class="s1">&#39;GLOBAL_ARGUMENT1&#39;</span><span class="o">]</span> <span class="ow">or</span> <span class="no">ENV</span><span class="o">[</span><span class="s1">&#39;GLOBAL_ARGUMENT2&#39;</span><span class="o">]</span>
<span class="k">end</span>

<span class="no">GLOBAL_ARGUMENT1</span><span class="o">=</span><span class="n">xxx</span> <span class="no">GLOBAL_ARGUMENT2</span><span class="o">=</span><span class="n">yyy</span> <span class="n">rake</span> <span class="n">try_argument</span>
</code></pre>
</div>


<p>As you seen, I have to set the global environment variable to pass the
arguement to a rake task.</p>

<p>But there is another way to pass the arguments to rake task via []</p>

<div class="highlight"><pre><code class="ruby"><span class="n">task</span> <span class="ss">:try_argument</span><span class="p">,</span> <span class="o">[</span><span class="ss">:key1</span><span class="p">,</span> <span class="ss">:key2</span><span class="o">]</span> <span class="k">do</span> <span class="o">|</span><span class="n">t</span><span class="p">,</span> <span class="n">args</span><span class="o">|</span>
  <span class="n">args</span><span class="o">.</span><span class="n">with_defaults</span><span class="p">(</span><span class="ss">:key1</span> <span class="o">=&gt;</span> <span class="n">value1</span><span class="p">,</span> <span class="ss">:key2</span> <span class="o">=&gt;</span> <span class="n">value2</span><span class="p">)</span>
  <span class="n">args</span><span class="o">[</span><span class="ss">:key1</span><span class="o">]</span> <span class="ow">or</span> <span class="n">args</span><span class="o">[</span><span class="ss">:key2</span><span class="o">]</span>
<span class="k">end</span>

<span class="n">rake</span> <span class="n">try_argument</span><span class="o">[</span><span class="n">xxx</span><span class="p">,</span> <span class="n">yyy</span><span class="o">]</span>
</code></pre>
</div>


<p>It looks like the difference between hash arguments and normal arguments.</p>

<p>Both of them have disadvantage:</p>

<p>ENV arguments also changes the system env variables
normal arguments do not make sense when calling, difficult to remember
the meanings of arguments.</p>

<p>Both work fine, it depends on you to use which one.</p>

      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/rake" title="rake" rel="category tag">rake</a>
      
    </p>
    <p class="comments-link">
      <a href='/2011/12/13/rake-arguments/#disqus_thread'>Comments</a>
    </p>
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="Tue Dec 13 00:00:00 -0800 2011">13 Dec 2011</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>

  <div class="full">
    <h1 class="entry-title">
      <a href="/2011/12/12/passenger-with-redis/" title="passenger with redis" rel="bookmark">passenger with redis</a>
    </h1>
    <div class="entry-content full-content">
      <p>Today I encountered an issue that passenger forks too many workers
than what we set (6) on qa servers. I used strace, the passenger worker
is blocked by failed to writing to a socket, like</p>

<div class="highlight"><pre><code class="bash"><span class="k">select</span><span class="o">(</span>15, <span class="o">[]</span>, <span class="o">[</span>13<span class="o">]</span>, <span class="o">[]</span>, <span class="o">[</span>58, 915000<span class="o">])</span>
</code></pre>
</div>


<p>fd 13 is a socket.</p>

<p>I also tried netstat and found the status for some redis socket
connections are CLOSE_WAIT.</p>

<p>So I judged this is the problem the ruby redis clients are not closed
correctly. This reminds me that passenger fork() nature, I checked our
source codes, unfortunately, we didn't do anything special for passenger
fork.</p>

<p>This is the <a href="https://github.com/ezmobius/redis-rb/wiki/redis-rb-on-Phusion-Passenger">link</a> tells you how to close the redis connection after
passenger forks a worker. After deploy the new codes to qa servers,
passenger never forks more workers than we expected. But the workers
still hang up according strace result, that means some workers keep
inactive status, they won't be able to handle any requests. Wooops...</p>

<p>I looked through the redis-rb source codes, we used redis 2.0.5, it
didn't handle TIMEOUT error and always retry writing to redis.
Fortunately, the latest redis version is 2.2.2 and it already fixed this
issue, retry 3 times, if still failed, the release the connection.</p>

<p>Now it works fine, no unexpected additional passenger workers and no
unexpected inactive workers.</p>

      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/passenger" title="passenger" rel="category tag">passenger</a>
      
      <a href="/categories/redis" title="redis" rel="category tag">redis</a>
      
    </p>
    <p class="comments-link">
      <a href='/2011/12/12/passenger-with-redis/#disqus_thread'>Comments</a>
    </p>
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="Mon Dec 12 00:00:00 -0800 2011">12 Dec 2011</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>

  <div class="full">
    <h1 class="entry-title">
      <a href="/2011/11/14/avoid-committing-git-conflicts/" title="avoid committing git conflicts" rel="bookmark">avoid committing git conflicts</a>
    </h1>
    <div class="entry-content full-content">
      <p>I made a mistake when merging branch last week, I forgot to remove a
conflict syntax "&lt;&lt;&lt;&lt;&lt;&lt; HEAD" and push it to remote repository. It
breaks other one's development. So stupid to make such mistake.</p>

<p>To avoid making such mistake anymore, I write a git hook
.git/hooks/pre-commit to check conflict syntax "&lt;&lt;&lt;&lt;&lt;&lt;" and ">>>>>>"</p>

<div class="highlight"><pre><code class="ruby"><span class="c1">#!/usr/bin/env ruby</span>

<span class="sb">`git diff-index --name-status HEAD`</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span>
<span class="o">|</span><span class="n">status_with_filename</span><span class="o">|</span>
  <span class="n">status</span><span class="p">,</span> <span class="n">filename</span> <span class="o">=</span> <span class="n">status_with_filename</span><span class="o">.</span><span class="n">split</span><span class="p">(</span><span class="sr">/\s+/</span><span class="p">)</span>
  <span class="k">next</span> <span class="k">if</span> <span class="n">status</span> <span class="o">==</span> <span class="s1">&#39;D&#39;</span>
  <span class="no">File</span><span class="o">.</span><span class="n">open</span><span class="p">(</span><span class="n">filename</span><span class="p">)</span> <span class="k">do</span> <span class="o">|</span><span class="n">file</span><span class="o">|</span>
    <span class="k">while</span> <span class="n">line</span> <span class="o">=</span> <span class="n">file</span><span class="o">.</span><span class="n">gets</span>
      <span class="k">if</span> <span class="n">line</span><span class="o">.</span><span class="n">include?</span><span class="p">(</span><span class="s2">&quot;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&quot;</span><span class="p">)</span> <span class="o">||</span> <span class="n">line</span><span class="o">.</span><span class="n">include?</span><span class="p">(</span><span class="s2">&quot;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&quot;</span><span class="p">)</span>
        <span class="nb">puts</span> <span class="s2">&quot;ERROR: </span><span class="si">#{</span><span class="n">filename</span><span class="si">}</span><span class="s2"> is conflict&quot;</span>
        <span class="nb">exit</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span>
      <span class="k">end</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
</div>


<p>It will prevent you from committing conflicts.</p>

      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/git" title="git" rel="category tag">git</a>
      
    </p>
    <p class="comments-link">
      <a href='/2011/11/14/avoid-committing-git-conflicts/#disqus_thread'>Comments</a>
    </p>
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="Mon Nov 14 00:00:00 -0800 2011">14 Nov 2011</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>

  <div class="full">
    <h1 class="entry-title">
      <a href="/2011/11/06/after_commit/" title="after_commit" rel="bookmark">after_commit</a>
    </h1>
    <div class="entry-content full-content">
      <p>We are using RabbitMQ as our message queue system, ruby client is
workling. This week we encountered a strange issue, we create a
notification, and define an after_create callback to ask workling to
find that notification and then push the notification to twitter or
facebook, it works fine except that sometimes it will raise an error
said "can't find the notification with the specified ID"</p>

<div class="highlight"><pre><code class="ruby"><span class="k">class</span> <span class="nc">Notification</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">after_create</span> <span class="ss">:asyns_send_notification</span>
  <span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">.</span>
  <span class="k">def</span> <span class="nf">async_send_notification</span>
    <span class="no">NotificationWorker</span><span class="o">.</span><span class="n">async_send_notification</span><span class="p">({</span><span class="ss">:notification_id</span> <span class="o">=&gt;</span> <span class="nb">id</span><span class="p">})</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="nc">NotificationWorker</span> <span class="o">&lt;</span> <span class="no">Workling</span><span class="o">::</span><span class="no">Base</span>
  <span class="k">def</span> <span class="nf">send_notification</span><span class="p">(</span><span class="n">params</span><span class="p">)</span>
    <span class="n">notification</span> <span class="o">=</span> <span class="no">Notification</span><span class="o">.</span><span class="n">find</span><span class="p">(</span><span class="n">params</span><span class="o">[</span><span class="ss">:notification_id</span><span class="o">]</span><span class="p">)</span>
    <span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">.</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
</div>


<p>It's wierd the notification_id is passed to NotificationWorker, that
means the notification is already created, the notification is supposed
to be existed.</p>

<p>After talking with MySQL DBA, we find the problem is the find sql is
executed before insert transaction is committed.</p>

<p>Let me describe it step by step.</p>

<ol>
<li>Notification sends "Transaction Begin" command</li>
<li>Notification sends "INSERT" command</li>
<li>Notification gets "next sequence value" as new object id</li>
<li>Notification sends "new object id" to NotificationWorker</li>
<li>NotificationWorker sends "SELECT" command to find notification object</li>
<li>Notification sends "Transaction Commit" command</li>
</ol>


<p>As you seen, at step 5, the new notification is not existed in the mysql
database yet, so the error "Not found" will be raised.</p>

<p>To solve this issue, we can use after_commit callback.</p>

<p>In rails 2.x, we should install after_commit gem, in rails 3.x,
after_commit callback is supported by default.</p>

<div class="highlight"><pre><code class="ruby"><span class="k">class</span> <span class="nc">Notification</span> <span class="o">&lt;</span> <span class="no">ActiveRecord</span><span class="o">::</span><span class="no">Base</span>
  <span class="n">after_commit_on_create</span> <span class="ss">:asyns_send_notification</span>
  <span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">.</span><span class="o">.</span><span class="n">.</span>
  <span class="k">def</span> <span class="nf">async_send_notification</span>
    <span class="no">NotificationWorker</span><span class="o">.</span><span class="n">async_send_notification</span><span class="p">({</span><span class="ss">:notification_id</span> <span class="o">=&gt;</span> <span class="nb">id</span><span class="p">})</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
</div>


<p>So Notification asks NotificationWorker to run only after the
transaction is committed.</p>

      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/Rails" title="Rails" rel="category tag">Rails</a>
      
    </p>
    <p class="comments-link">
      <a href='/2011/11/06/after_commit/#disqus_thread'>Comments</a>
    </p>
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="Sun Nov 06 00:00:00 -0700 2011">06 Nov 2011</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>

  <div class="full">
    <h1 class="entry-title">
      <a href="/2011/10/31/reset_counter-in-rails/" title="reset_counter in rails" rel="bookmark">reset_counter in rails</a>
    </h1>
    <div class="entry-content full-content">
      <p>I thought reset_counter method is to reset a counter_cache column to be
0, but it is not. After trying several times, I finally realize that
reset_counter is to update the value of counter_cache column to the
exact count of associations. The usecase of reset_counter is when you
add the counter_cache in migration and update the counter_cache value,
like</p>

<div class="highlight"><pre><code class="ruby"><span class="k">def</span> <span class="nc">self</span><span class="o">.</span><span class="nf">up</span>
  <span class="n">add_column</span> <span class="ss">:posts</span><span class="p">,</span> <span class="ss">:comments_count</span>
  <span class="no">Post</span><span class="o">.</span><span class="n">all</span><span class="o">.</span><span class="n">each</span> <span class="k">do</span> <span class="o">|</span><span class="n">post</span><span class="o">|</span>
    <span class="no">Post</span><span class="o">.</span><span class="n">reset_counter</span><span class="p">(</span><span class="n">post</span><span class="o">.</span><span class="n">id</span><span class="p">,</span> <span class="ss">:comments</span><span class="p">)</span>
  <span class="k">end</span>
<span class="k">end</span>
</code></pre>
</div>


<p>it will add comments_count column to posts table, and calculate the
comments count for each post, and set it to posts' comments_count
column.</p>

<p>I didn't find a method to reset the counter_cache column to be 0, why?
Because counter_cache is used to cache the association count, it will be
incremented and decremeneted automatically, you should never reset it 0.
If you find you need to reset counter_cache to 0, that means it's a
wrong usage of counter_cache.</p>

      <div class="clear"></div>
    </div>
    <p class="alt-font tight">
      Posted in&nbsp;
      
      <a href="/categories/Rails" title="Rails" rel="category tag">Rails</a>
      
    </p>
    <p class="comments-link">
      <a href='/2011/10/31/reset_counter-in-rails/#disqus_thread'>Comments</a>
    </p>
    <p class="by-line">
      <span class="date full-date">
        <abbr class="published" title="Mon Oct 31 00:00:00 -0700 2011">31 Oct 2011</abbr>
      </span>
    </p>
    <div class="clear"></div>
  </div>
  <div class="rule"><hr/></div>


<div class="pagination">
  <span class="previous">
    
  </span>
  <span class="next">
    
    <a href="/page2/" title="Next Page">Next &raquo;</a>
    
  </span>
</div>
<script type="text/javascript" src="http://s7.addthis.com/js/250/addthis_widget.js#pubid=flyerhzm"></script>

        </div>
        <div id="sidebar">
          <div id="carrington-subscribe" class="widget">
            <h2 class="widget-title">Subscribe</h2>
            <a class="feed alignright" title="RSS 2.0 feed for posts" rel="alternate" href="http://feeds.feedburner.com/richard-huang">
              <img src="/images/rss-button.gif" alt="latest posts" title="latest posts">
            </a>
          </div>
          <div id="carrington-about" class="widget">
            <div class="about">
              <h2 class="widget-title">About</h2>
              <p>My name is Richard Huang, a Rubyist and open source advocate.</p>
              <a class="more" href="/about.html">more →</a>
            </div>
          </div>
          <div id="carrington-speaker" class="widget">
            <img src="/images/160x160speaker.png">
          </div>
          <div id="primary-sidebar">
            <div class="widget">
              <h2 class="widget-title">Categories</h2>
              <ul>
                
                <li><a href="/categories/jekyll">jekyll (1)</a></li>
                
                <li><a href="/categories/mongodb">mongodb (2)</a></li>
                
                <li><a href="/categories/GAE">GAE (1)</a></li>
                
                <li><a href="/categories/Linux">Linux (4)</a></li>
                
                <li><a href="/categories/html">html (2)</a></li>
                
                <li><a href="/categories/Java Web">Java Web (3)</a></li>
                
                <li><a href="/categories/Resque">Resque (1)</a></li>
                
                <li><a href="/categories/Rack">Rack (1)</a></li>
                
                <li><a href="/categories/RubyGems">RubyGems (7)</a></li>
                
                <li><a href="/categories/rake">rake (1)</a></li>
                
                <li><a href="/categories/php">php (2)</a></li>
                
                <li><a href="/categories/disqus">disqus (1)</a></li>
                
                <li><a href="/categories/Less">Less (1)</a></li>
                
                <li><a href="/categories/ActiveRecord">ActiveRecord (5)</a></li>
                
                <li><a href="/categories/Rails">Rails (35)</a></li>
                
                <li><a href="/categories/css">css (9)</a></li>
                
                <li><a href="/categories/sql">sql (1)</a></li>
                
                <li><a href="/categories/maven">maven (1)</a></li>
                
                <li><a href="/categories/Vim">Vim (1)</a></li>
                
                <li><a href="/categories/Ruby">Ruby (33)</a></li>
                
                <li><a href="/categories/Presentation">Presentation (7)</a></li>
                
                <li><a href="/categories/contact-list">contact-list (6)</a></li>
                
                <li><a href="/categories/Java">Java (9)</a></li>
                
                <li><a href="/categories/Github">Github (1)</a></li>
                
                <li><a href="/categories/flex">flex (4)</a></li>
                
                <li><a href="/categories/Rails Plugins">Rails Plugins (12)</a></li>
                
                <li><a href="/categories/passenger">passenger (1)</a></li>
                
                <li><a href="/categories/Sinatra">Sinatra (1)</a></li>
                
                <li><a href="/categories/Nginx">Nginx (2)</a></li>
                
                <li><a href="/categories/Facebook">Facebook (2)</a></li>
                
                <li><a href="/categories/Android">Android (2)</a></li>
                
                <li><a href="/categories/Rspec">Rspec (3)</a></li>
                
                <li><a href="/categories/javascript">javascript (4)</a></li>
                
                <li><a href="/categories/Life">Life (19)</a></li>
                
                <li><a href="/categories/git">git (1)</a></li>
                
                <li><a href="/categories/Seo">Seo (1)</a></li>
                
                <li><a href="/categories/Git">Git (4)</a></li>
                
                <li><a href="/categories/Ldap">Ldap (1)</a></li>
                
                <li><a href="/categories/mongoid">mongoid (7)</a></li>
                
                <li><a href="/categories/webrick">webrick (3)</a></li>
                
                <li><a href="/categories/msn">msn (1)</a></li>
                
                <li><a href="/categories/Capistrano">Capistrano (3)</a></li>
                
                <li><a href="/categories/redis">redis (1)</a></li>
                
                <li><a href="/categories/uml">uml (1)</a></li>
                
                <li><a href="/categories/Hostmonster">Hostmonster (5)</a></li>
                
                <li><a href="/categories/jquery">jquery (1)</a></li>
                
                <li><a href="/categories/Twitter">Twitter (2)</a></li>
                
                <li><a href="/categories/HTTP">HTTP (4)</a></li>
                
              </ul>
            </div>
          </div>
          <div id="secondary-sidebar">
            <div class="widget">
              <h2 class="widget-title">Recent Posts</h2>
              <ul>
                
                <li>
                  <a href="/2011/12/13/rake-arguments/" title="rake arguments" rel="bookmark">rake arguments</a>
                </li>
                
                <li>
                  <a href="/2011/12/12/passenger-with-redis/" title="passenger with redis" rel="bookmark">passenger with redis</a>
                </li>
                
                <li>
                  <a href="/2011/11/14/avoid-committing-git-conflicts/" title="avoid committing git conflicts" rel="bookmark">avoid committing git conflicts</a>
                </li>
                
                <li>
                  <a href="/2011/11/06/after_commit/" title="after_commit" rel="bookmark">after_commit</a>
                </li>
                
                <li>
                  <a href="/2011/10/31/reset_counter-in-rails/" title="reset_counter in rails" rel="bookmark">reset_counter in rails</a>
                </li>
                
                <li>
                  <a href="/2011/10/21/rspec-filter/" title="use rspec filter to speed up tests" rel="bookmark">use rspec filter to speed up tests</a>
                </li>
                
                <li>
                  <a href="/2011/07/17/rubykaigi-presentation/" title="rubykaigi presentation" rel="bookmark">rubykaigi presentation</a>
                </li>
                
                <li>
                  <a href="/2011/03/27/beijing-ruby-event/" title="beijing ruby线下活动" rel="bookmark">beijing ruby线下活动</a>
                </li>
                
                <li>
                  <a href="/2011/03/22/upgrade-mongoid-multiple-database/" title="Upgrade Mongoid - Multiple databases" rel="bookmark">Upgrade Mongoid - Multiple databases</a>
                </li>
                
                <li>
                  <a href="/2011/03/21/upgrade-mongoid-update_attribute/" title="Upgrade Mongoid - update_attribute" rel="bookmark">Upgrade Mongoid - update_attribute</a>
                </li>
                
              </ul>
              <div class="clear"></div>
            </div>
            <div class="widget">
              <h2 class="widget-title">Archives</h2>
              <ul>
                
                <li>
                  <a href="/2011/12">December 2011</a> (2 posts)
                </li>
                
                <li>
                  <a href="/2011/11">November 2011</a> (2 posts)
                </li>
                
                <li>
                  <a href="/2011/10">October 2011</a> (2 posts)
                </li>
                
                <li>
                  <a href="/2011/07">July 2011</a> (1 posts)
                </li>
                
                <li>
                  <a href="/2011/03">March 2011</a> (5 posts)
                </li>
                
                <li>
                  <a href="/2011/01">January 2011</a> (6 posts)
                </li>
                
                <li>
                  <a href="/2010/12">December 2010</a> (1 posts)
                </li>
                
                <li>
                  <a href="/2010/08">August 2010</a> (1 posts)
                </li>
                
                <li>
                  <a href="/2010/07">July 2010</a> (1 posts)
                </li>
                
                <li>
                  <a href="/2010/06">June 2010</a> (4 posts)
                </li>
                
                <li>
                  <a href="/2010/05">May 2010</a> (4 posts)
                </li>
                
                <li>
                  <a href="/2010/04">April 2010</a> (4 posts)
                </li>
                
                <li>
                  <a href="/2010/03">March 2010</a> (6 posts)
                </li>
                
                <li>
                  <a href="/2010/02">February 2010</a> (4 posts)
                </li>
                
                <li>
                  <a href="/2010/01">January 2010</a> (5 posts)
                </li>
                
                <li>
                  <a href="/2009/12">December 2009</a> (7 posts)
                </li>
                
                <li>
                  <a href="/2009/11">November 2009</a> (5 posts)
                </li>
                
                <li>
                  <a href="/2009/10">October 2009</a> (4 posts)
                </li>
                
                <li>
                  <a href="/2009/09">September 2009</a> (11 posts)
                </li>
                
                <li>
                  <a href="/2009/08">August 2009</a> (13 posts)
                </li>
                
                <li>
                  <a href="/2009/07">July 2009</a> (8 posts)
                </li>
                
                <li>
                  <a href="/2009/06">June 2009</a> (9 posts)
                </li>
                
                <li>
                  <a href="/2009/05">May 2009</a> (7 posts)
                </li>
                
                <li>
                  <a href="/2009/04">April 2009</a> (7 posts)
                </li>
                
                <li>
                  <a href="/2009/01">January 2009</a> (2 posts)
                </li>
                
                <li>
                  <a href="/2008/12">December 2008</a> (3 posts)
                </li>
                
                <li>
                  <a href="/2008/11">November 2008</a> (4 posts)
                </li>
                
                <li>
                  <a href="/2008/08">August 2008</a> (5 posts)
                </li>
                
                <li>
                  <a href="/2008/07">July 2008</a> (1 posts)
                </li>
                
                <li>
                  <a href="/2008/06">June 2008</a> (1 posts)
                </li>
                
                <li>
                  <a href="/2008/04">April 2008</a> (1 posts)
                </li>
                
                <li>
                  <a href="/2008/03">March 2008</a> (6 posts)
                </li>
                
                <li>
                  <a href="/2008/02">February 2008</a> (2 posts)
                </li>
                
              </ul>
              <div class="clear"></div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div id="footer" class="section">
      <div class="wrapper">
        <a id="generator-link">
          Proudly powered by
          <a href="https://github.com/mojombo/jekyll" rel="generator">Jekyll</a>
          and
          <a href="http://carringtontheme.com" title="Carrington theme for WordPress">Carrington</a>
      </div>
      <div id="developer-link">
      </div>
    </div>
    <a href="http://github.com/flyerhzm"><img style="position: absolute; top: 0; right: 0; border: 0;" src="https://assets2.github.com/img/e6bef7a091f5f3138b8cd40bc3e114258dd68ddf?repo=&url=http%3A%2F%2Fs3.amazonaws.com%2Fgithub%2Fribbons%2Fforkme_right_red_aa0000.png&path=" alt="Fork me on GitHub"></a>
    <script type="text/javascript">
      var disqus_shortname = 'richard-huang';

      (function () {
        var s = document.createElement('script'); s.async = true;
        s.type = 'text/javascript';
        s.src = 'http://' + disqus_shortname + '.disqus.com/count.js';
        (document.getElementsByTagName('HEAD')[0] || document.getElementsByTagName('BODY')[0]).appendChild(s);
      }());
    </script>
    <script type="text/javascript">
      var gaJsHost = (("https:" == document.location.protocol) ? "https://ssl." : "http://www.");
      document.write(unescape("%3Cscript src='" + gaJsHost + "google-analytics.com/ga.js' type='text/javascript'%3E%3C/script%3E"));
    </script>
    <script type="text/javascript">
      try {
        var pageTracker = _gat._getTracker("UA-8561975-1");
        pageTracker._trackPageview();
      } catch(err) {}
    </script>
  </body>
</html>
